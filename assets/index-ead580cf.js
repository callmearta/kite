var Yr=Object.defineProperty;var en=(et,_e,rt)=>_e in et?Yr(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[_e]=rt;var Hr=(et,_e,rt)=>(en(et,typeof _e!="symbol"?_e+"":_e,rt),rt);(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))nt(it);new MutationObserver(it=>{for(const st of it)if(st.type==="childList")for(const ot of st.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&nt(ot)}).observe(document,{childList:!0,subtree:!0});function rt(it){const st={};return it.integrity&&(st.integrity=it.integrity),it.referrerPolicy&&(st.referrerPolicy=it.referrerPolicy),it.crossOrigin==="use-credentials"?st.credentials="include":it.crossOrigin==="anonymous"?st.credentials="omit":st.credentials="same-origin",st}function nt(it){if(it.ep)return;it.ep=!0;const st=rt(it);fetch(it.href,st)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){if(et.__esModule)return et;var _e=et.default;if(typeof _e=="function"){var rt=function nt(){if(this instanceof nt){var it=[null];it.push.apply(it,arguments);var st=Function.bind.apply(_e,it);return new st}return _e.apply(this,arguments)};rt.prototype=_e.prototype}else rt={};return Object.defineProperty(rt,"__esModule",{value:!0}),Object.keys(et).forEach(function(nt){var it=Object.getOwnPropertyDescriptor(et,nt);Object.defineProperty(rt,nt,it.get?it:{enumerable:!0,get:function(){return et[nt]}})}),rt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$2(et){return et===null||typeof et!="object"?null:(et=z$1&&et[z$1]||et["@@iterator"],typeof et=="function"?et:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$1(et,_e,rt){this.props=et,this.context=_e,this.refs=D$2,this.updater=rt||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(et,_e){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,_e,"setState")};E$1.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$2(et,_e,rt){this.props=et,this.context=_e,this.refs=D$2,this.updater=rt||B$1}var H$1=G$2.prototype=new F$1;H$1.constructor=G$2;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(et,_e,rt){var nt,it={},st=null,ot=null;if(_e!=null)for(nt in _e.ref!==void 0&&(ot=_e.ref),_e.key!==void 0&&(st=""+_e.key),_e)J$1.call(_e,nt)&&!L$1.hasOwnProperty(nt)&&(it[nt]=_e[nt]);var at=arguments.length-2;if(at===1)it.children=rt;else if(1<at){for(var lt=Array(at),ut=0;ut<at;ut++)lt[ut]=arguments[ut+2];it.children=lt}if(et&&et.defaultProps)for(nt in at=et.defaultProps,at)it[nt]===void 0&&(it[nt]=at[nt]);return{$$typeof:l$2,type:et,key:st,ref:ot,props:it,_owner:K$1.current}}function N$1(et,_e){return{$$typeof:l$2,type:et.type,key:_e,ref:et.ref,props:et.props,_owner:et._owner}}function O$2(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$2}function escape$1(et){var _e={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(rt){return _e[rt]})}var P$2=/\/+/g;function Q$2(et,_e){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):_e.toString(36)}function R$1(et,_e,rt,nt,it){var st=typeof et;(st==="undefined"||st==="boolean")&&(et=null);var ot=!1;if(et===null)ot=!0;else switch(st){case"string":case"number":ot=!0;break;case"object":switch(et.$$typeof){case l$2:case n$3:ot=!0}}if(ot)return ot=et,it=it(ot),et=nt===""?"."+Q$2(ot,0):nt,I$2(it)?(rt="",et!=null&&(rt=et.replace(P$2,"$&/")+"/"),R$1(it,_e,rt,"",function(ut){return ut})):it!=null&&(O$2(it)&&(it=N$1(it,rt+(!it.key||ot&&ot.key===it.key?"":(""+it.key).replace(P$2,"$&/")+"/")+et)),_e.push(it)),1;if(ot=0,nt=nt===""?".":nt+":",I$2(et))for(var at=0;at<et.length;at++){st=et[at];var lt=nt+Q$2(st,at);ot+=R$1(st,_e,rt,lt,it)}else if(lt=A$2(et),typeof lt=="function")for(et=lt.call(et),at=0;!(st=et.next()).done;)st=st.value,lt=nt+Q$2(st,at++),ot+=R$1(st,_e,rt,lt,it);else if(st==="object")throw _e=String(et),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$2(et,_e,rt){if(et==null)return et;var nt=[],it=0;return R$1(et,nt,"","",function(st){return _e.call(rt,st,it++)}),nt}function T$2(et){if(et._status===-1){var _e=et._result;_e=_e(),_e.then(function(rt){(et._status===0||et._status===-1)&&(et._status=1,et._result=rt)},function(rt){(et._status===0||et._status===-1)&&(et._status=2,et._result=rt)}),et._status===-1&&(et._status=0,et._result=_e)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function(et,_e,rt){S$2(et,function(){_e.apply(this,arguments)},rt)},count:function(et){var _e=0;return S$2(et,function(){_e++}),_e},toArray:function(et){return S$2(et,function(_e){return _e})||[]},only:function(et){if(!O$2(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(et,_e,rt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var nt=C$1({},et.props),it=et.key,st=et.ref,ot=et._owner;if(_e!=null){if(_e.ref!==void 0&&(st=_e.ref,ot=K$1.current),_e.key!==void 0&&(it=""+_e.key),et.type&&et.type.defaultProps)var at=et.type.defaultProps;for(lt in _e)J$1.call(_e,lt)&&!L$1.hasOwnProperty(lt)&&(nt[lt]=_e[lt]===void 0&&at!==void 0?at[lt]:_e[lt])}var lt=arguments.length-2;if(lt===1)nt.children=rt;else if(1<lt){at=Array(lt);for(var ut=0;ut<lt;ut++)at[ut]=arguments[ut+2];nt.children=at}return{$$typeof:l$2,type:et.type,key:it,ref:st,props:nt,_owner:ot}};react_production_min.createContext=function(et){return et={$$typeof:u$2,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$1,_context:et},et.Consumer=et};react_production_min.createElement=M$2;react_production_min.createFactory=function(et){var _e=M$2.bind(null,et);return _e.type=et,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$2,render:et}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(et){return{$$typeof:y,_payload:{_status:-1,_result:et},_init:T$2}};react_production_min.memo=function(et,_e){return{$$typeof:x,type:et,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(et){var _e=V$2.transition;V$2.transition={};try{et()}finally{V$2.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,_e){return U$2.current.useCallback(et,_e)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,_e){return U$2.current.useEffect(et,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,_e,rt){return U$2.current.useImperativeHandle(et,_e,rt)};react_production_min.useInsertionEffect=function(et,_e){return U$2.current.useInsertionEffect(et,_e)};react_production_min.useLayoutEffect=function(et,_e){return U$2.current.useLayoutEffect(et,_e)};react_production_min.useMemo=function(et,_e){return U$2.current.useMemo(et,_e)};react_production_min.useReducer=function(et,_e,rt){return U$2.current.useReducer(et,_e,rt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,_e,rt){return U$2.current.useSyncExternalStore(et,_e,rt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(et,_e,rt){var nt,it={},st=null,ot=null;rt!==void 0&&(st=""+rt),_e.key!==void 0&&(st=""+_e.key),_e.ref!==void 0&&(ot=_e.ref);for(nt in _e)m$2.call(_e,nt)&&!p$2.hasOwnProperty(nt)&&(it[nt]=_e[nt]);if(et&&et.defaultProps)for(nt in _e=et.defaultProps,_e)it[nt]===void 0&&(it[nt]=_e[nt]);return{$$typeof:k,type:et,key:st,ref:ot,props:it,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment$1=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(wt,It){var Bt=wt.length;wt.push(It);e:for(;0<Bt;){var Ct=Bt-1>>>1,Ut=wt[Ct];if(0<it(Ut,It))wt[Ct]=It,wt[Bt]=Ut,Bt=Ct;else break e}}function rt(wt){return wt.length===0?null:wt[0]}function nt(wt){if(wt.length===0)return null;var It=wt[0],Bt=wt.pop();if(Bt!==It){wt[0]=Bt;e:for(var Ct=0,Ut=wt.length,jt=Ut>>>1;Ct<jt;){var Kt=2*(Ct+1)-1,Vt=wt[Kt],qt=Kt+1,Wt=wt[qt];if(0>it(Vt,Bt))qt<Ut&&0>it(Wt,Vt)?(wt[Ct]=Wt,wt[qt]=Bt,Ct=qt):(wt[Ct]=Vt,wt[Kt]=Bt,Ct=Kt);else if(qt<Ut&&0>it(Wt,Bt))wt[Ct]=Wt,wt[qt]=Bt,Ct=qt;else break e}}return It}function it(wt,It){var Bt=wt.sortIndex-It.sortIndex;return Bt!==0?Bt:wt.id-It.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;et.unstable_now=function(){return st.now()}}else{var ot=Date,at=ot.now();et.unstable_now=function(){return ot.now()-at}}var lt=[],ut=[],ct=1,dt=null,ft=3,pt=!1,ht=!1,mt=!1,bt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(wt){for(var It=rt(ut);It!==null;){if(It.callback===null)nt(ut);else if(It.startTime<=wt)nt(ut),It.sortIndex=It.expirationTime,_e(lt,It);else break;It=rt(ut)}}function vt(wt){if(mt=!1,yt(wt),!ht)if(rt(lt)!==null)ht=!0,Dt(Pt);else{var It=rt(ut);It!==null&&At(vt,It.startTime-wt)}}function Pt(wt,It){ht=!1,mt&&(mt=!1,gt(Et),Et=-1),pt=!0;var Bt=ft;try{for(yt(It),dt=rt(lt);dt!==null&&(!(dt.expirationTime>It)||wt&&!$t());){var Ct=dt.callback;if(typeof Ct=="function"){dt.callback=null,ft=dt.priorityLevel;var Ut=Ct(dt.expirationTime<=It);It=et.unstable_now(),typeof Ut=="function"?dt.callback=Ut:dt===rt(lt)&&nt(lt),yt(It)}else nt(lt);dt=rt(lt)}if(dt!==null)var jt=!0;else{var Kt=rt(ut);Kt!==null&&At(vt,Kt.startTime-It),jt=!1}return jt}finally{dt=null,ft=Bt,pt=!1}}var St=!1,Ot=null,Et=-1,Lt=5,Nt=-1;function $t(){return!(et.unstable_now()-Nt<Lt)}function Mt(){if(Ot!==null){var wt=et.unstable_now();Nt=wt;var It=!0;try{It=Ot(!0,wt)}finally{It?Tt():(St=!1,Ot=null)}}else St=!1}var Tt;if(typeof xt=="function")Tt=function(){xt(Mt)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,kt=Rt.port2;Rt.port1.onmessage=Mt,Tt=function(){kt.postMessage(null)}}else Tt=function(){bt(Mt,0)};function Dt(wt){Ot=wt,St||(St=!0,Tt())}function At(wt,It){Et=bt(function(){wt(et.unstable_now())},It)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(wt){wt.callback=null},et.unstable_continueExecution=function(){ht||pt||(ht=!0,Dt(Pt))},et.unstable_forceFrameRate=function(wt){0>wt||125<wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lt=0<wt?Math.floor(1e3/wt):5},et.unstable_getCurrentPriorityLevel=function(){return ft},et.unstable_getFirstCallbackNode=function(){return rt(lt)},et.unstable_next=function(wt){switch(ft){case 1:case 2:case 3:var It=3;break;default:It=ft}var Bt=ft;ft=It;try{return wt()}finally{ft=Bt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(wt,It){switch(wt){case 1:case 2:case 3:case 4:case 5:break;default:wt=3}var Bt=ft;ft=wt;try{return It()}finally{ft=Bt}},et.unstable_scheduleCallback=function(wt,It,Bt){var Ct=et.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?Ct+Bt:Ct):Bt=Ct,wt){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=Bt+Ut,wt={id:ct++,callback:It,priorityLevel:wt,startTime:Bt,expirationTime:Ut,sortIndex:-1},Bt>Ct?(wt.sortIndex=Bt,_e(ut,wt),rt(lt)===null&&wt===rt(ut)&&(mt?(gt(Et),Et=-1):mt=!0,At(vt,Bt-Ct))):(wt.sortIndex=Ut,_e(lt,wt),ht||pt||(ht=!0,Dt(Pt))),wt},et.unstable_shouldYield=$t,et.unstable_wrapCallback=function(wt){var It=ft;return function(){var Bt=ft;ft=It;try{return wt.apply(this,arguments)}finally{ft=Bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(et){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+et,rt=1;rt<arguments.length;rt++)_e+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified React error #"+et+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,_e){ha(et,_e),ha(et+"Capture",_e)}function ha(et,_e){for(ea[et]=_e,et=0;et<_e.length;et++)da.add(_e[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,_e,rt,nt){if(rt!==null&&rt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return nt?!1:rt!==null?!rt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,_e,rt,nt){if(_e===null||typeof _e>"u"||pa(et,_e,rt,nt))return!0;if(nt)return!1;if(rt!==null)switch(rt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$1(et,_e,rt,nt,it,st,ot){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=nt,this.attributeNamespace=it,this.mustUseProperty=rt,this.propertyName=et,this.type=_e,this.sanitizeURL=st,this.removeEmptyString=ot}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z[et]=new v$1(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var _e=et[0];z[_e]=new v$1(_e,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z[et]=new v$1(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z[et]=new v$1(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z[et]=new v$1(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z[et]=new v$1(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z[et]=new v$1(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z[et]=new v$1(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z[et]=new v$1(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z[_e]=new v$1(_e,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z[_e]=new v$1(_e,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var _e=et.replace(ra,sa);z[_e]=new v$1(_e,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z[et]=new v$1(et,1,!1,et.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z[et]=new v$1(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta$1(et,_e,rt,nt){var it=z.hasOwnProperty(_e)?z[_e]:null;(it!==null?it.type!==0:nt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,rt,it,nt)&&(rt=null),nt||it===null?oa(_e)&&(rt===null?et.removeAttribute(_e):et.setAttribute(_e,""+rt)):it.mustUseProperty?et[it.propertyName]=rt===null?it.type===3?!1:"":rt:(_e=it.attributeName,nt=it.attributeNamespace,rt===null?et.removeAttribute(_e):(it=it.type,rt=it===3||it===4&&rt===!0?"":""+rt,nt?et.setAttributeNS(nt,_e,rt):et.setAttribute(_e,rt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$1=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(rt){var _e=rt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+et}var Na=!1;function Oa(et,_e){if(!et||Na)return"";Na=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ut){var nt=ut}Reflect.construct(et,[],_e)}else{try{_e.call()}catch(ut){nt=ut}et.call(_e.prototype)}else{try{throw Error()}catch(ut){nt=ut}et()}}catch(ut){if(ut&&nt&&typeof ut.stack=="string"){for(var it=ut.stack.split(`
`),st=nt.stack.split(`
`),ot=it.length-1,at=st.length-1;1<=ot&&0<=at&&it[ot]!==st[at];)at--;for(;1<=ot&&0<=at;ot--,at--)if(it[ot]!==st[at]){if(ot!==1||at!==1)do if(ot--,at--,0>at||it[ot]!==st[at]){var lt=`
`+it[ot].replace(" at new "," at ");return et.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",et.displayName)),lt}while(1<=ot&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=rt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var _e=et.render;return et=et.displayName,et||(et=_e.displayName||_e.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return _e=et.displayName||null,_e!==null?_e:Qa(et.type)||"Memo";case Ha:_e=et._payload,et=et._init;try{return Qa(et(_e))}catch{}}return null}function Ra(et){var _e=et.type;switch(et.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=_e.render,et=et.displayName||et.name||"",_e.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var _e=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(et){var _e=Ta(et)?"checked":"value",rt=Object.getOwnPropertyDescriptor(et.constructor.prototype,_e),nt=""+et[_e];if(!et.hasOwnProperty(_e)&&typeof rt<"u"&&typeof rt.get=="function"&&typeof rt.set=="function"){var it=rt.get,st=rt.set;return Object.defineProperty(et,_e,{configurable:!0,get:function(){return it.call(this)},set:function(ot){nt=""+ot,st.call(this,ot)}}),Object.defineProperty(et,_e,{enumerable:rt.enumerable}),{getValue:function(){return nt},setValue:function(ot){nt=""+ot},stopTracking:function(){et._valueTracker=null,delete et[_e]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var _e=et._valueTracker;if(!_e)return!0;var rt=_e.getValue(),nt="";return et&&(nt=Ta(et)?et.checked?"true":"false":et.value),et=nt,et!==rt?(_e.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,_e){var rt=_e.checked;return A$1({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rt??et._wrapperState.initialChecked})}function Za(et,_e){var rt=_e.defaultValue==null?"":_e.defaultValue,nt=_e.checked!=null?_e.checked:_e.defaultChecked;rt=Sa(_e.value!=null?_e.value:rt),et._wrapperState={initialChecked:nt,initialValue:rt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(et,_e){_e=_e.checked,_e!=null&&ta$1(et,"checked",_e,!1)}function bb(et,_e){ab(et,_e);var rt=Sa(_e.value),nt=_e.type;if(rt!=null)nt==="number"?(rt===0&&et.value===""||et.value!=rt)&&(et.value=""+rt):et.value!==""+rt&&(et.value=""+rt);else if(nt==="submit"||nt==="reset"){et.removeAttribute("value");return}_e.hasOwnProperty("value")?cb(et,_e.type,rt):_e.hasOwnProperty("defaultValue")&&cb(et,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(et.defaultChecked=!!_e.defaultChecked)}function db(et,_e,rt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var nt=_e.type;if(!(nt!=="submit"&&nt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+et._wrapperState.initialValue,rt||_e===et.value||(et.value=_e),et.defaultValue=_e}rt=et.name,rt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,rt!==""&&(et.name=rt)}function cb(et,_e,rt){(_e!=="number"||Xa(et.ownerDocument)!==et)&&(rt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+rt&&(et.defaultValue=""+rt))}var eb=Array.isArray;function fb(et,_e,rt,nt){if(et=et.options,_e){_e={};for(var it=0;it<rt.length;it++)_e["$"+rt[it]]=!0;for(rt=0;rt<et.length;rt++)it=_e.hasOwnProperty("$"+et[rt].value),et[rt].selected!==it&&(et[rt].selected=it),it&&nt&&(et[rt].defaultSelected=!0)}else{for(rt=""+Sa(rt),_e=null,it=0;it<et.length;it++){if(et[it].value===rt){et[it].selected=!0,nt&&(et[it].defaultSelected=!0);return}_e!==null||et[it].disabled||(_e=et[it])}_e!==null&&(_e.selected=!0)}}function gb(et,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},_e,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,_e){var rt=_e.value;if(rt==null){if(rt=_e.children,_e=_e.defaultValue,rt!=null){if(_e!=null)throw Error(p$1(92));if(eb(rt)){if(1<rt.length)throw Error(p$1(93));rt=rt[0]}_e=rt}_e==null&&(_e=""),rt=_e}et._wrapperState={initialValue:Sa(rt)}}function ib(et,_e){var rt=Sa(_e.value),nt=Sa(_e.defaultValue);rt!=null&&(rt=""+rt,rt!==et.value&&(et.value=rt),_e.defaultValue==null&&et.defaultValue!==rt&&(et.defaultValue=rt)),nt!=null&&(et.defaultValue=""+nt)}function jb(et){var _e=et.textContent;_e===et._wrapperState.initialValue&&_e!==""&&_e!==null&&(et.value=_e)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,_e){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(_e):et==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,rt,nt,it){MSApp.execUnsafeLocalFunction(function(){return et(_e,rt,nt,it)})}:et}(function(et,_e){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;_e.firstChild;)et.appendChild(_e.firstChild)}});function ob(et,_e){if(_e){var rt=et.firstChild;if(rt&&rt===et.lastChild&&rt.nodeType===3){rt.nodeValue=_e;return}}et.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(_e){_e=_e+et.charAt(0).toUpperCase()+et.substring(1),pb[_e]=pb[et]})});function rb(et,_e,rt){return _e==null||typeof _e=="boolean"||_e===""?"":rt||typeof _e!="number"||_e===0||pb.hasOwnProperty(et)&&pb[et]?(""+_e).trim():_e+"px"}function sb(et,_e){et=et.style;for(var rt in _e)if(_e.hasOwnProperty(rt)){var nt=rt.indexOf("--")===0,it=rb(rt,_e[rt],nt);rt==="float"&&(rt="cssFloat"),nt?et.setProperty(rt,it):et[rt]=it}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,_e){if(_e){if(tb[et]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$1(137,et));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$1(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$1(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$1(62))}}function vb(et,_e){if(et.indexOf("-")===-1)return typeof _e.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$1(280));var _e=et.stateNode;_e&&(_e=Db(_e),yb(et.stateNode,et.type,_e))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,_e=Ab;if(Ab=zb=null,Bb(et),_e)for(et=0;et<_e.length;et++)Bb(_e[et])}}function Gb(et,_e){return et(_e)}function Hb(){}var Ib=!1;function Jb(et,_e,rt){if(Ib)return et(_e,rt);Ib=!0;try{return Gb(et,_e,rt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,_e){var rt=et.stateNode;if(rt===null)return null;var nt=Db(rt);if(nt===null)return null;rt=nt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(et=et.type,nt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!nt;break e;default:et=!1}if(et)return null;if(rt&&typeof rt!="function")throw Error(p$1(231,_e,typeof rt));return rt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,_e,rt,nt,it,st,ot,at,lt){var ut=Array.prototype.slice.call(arguments,3);try{_e.apply(rt,ut)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,_e,rt,nt,it,st,ot,at,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,_e,rt,nt,it,st,ot,at,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=ut)}}function Vb(et){var _e=et,rt=et;if(et.alternate)for(;_e.return;)_e=_e.return;else{et=_e;do _e=et,_e.flags&4098&&(rt=_e.return),et=_e.return;while(et)}return _e.tag===3?rt:null}function Wb(et){if(et.tag===13){var _e=et.memoizedState;if(_e===null&&(et=et.alternate,et!==null&&(_e=et.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$1(188))}function Yb(et){var _e=et.alternate;if(!_e){if(_e=Vb(et),_e===null)throw Error(p$1(188));return _e!==et?null:et}for(var rt=et,nt=_e;;){var it=rt.return;if(it===null)break;var st=it.alternate;if(st===null){if(nt=it.return,nt!==null){rt=nt;continue}break}if(it.child===st.child){for(st=it.child;st;){if(st===rt)return Xb(it),et;if(st===nt)return Xb(it),_e;st=st.sibling}throw Error(p$1(188))}if(rt.return!==nt.return)rt=it,nt=st;else{for(var ot=!1,at=it.child;at;){if(at===rt){ot=!0,rt=it,nt=st;break}if(at===nt){ot=!0,nt=it,rt=st;break}at=at.sibling}if(!ot){for(at=st.child;at;){if(at===rt){ot=!0,rt=st,nt=it;break}if(at===nt){ot=!0,nt=st,rt=it;break}at=at.sibling}if(!ot)throw Error(p$1(189))}}if(rt.alternate!==nt)throw Error(p$1(190))}if(rt.tag!==3)throw Error(p$1(188));return rt.stateNode.current===rt?et:_e}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var _e=$b(et);if(_e!==null)return _e;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,_e){var rt=et.pendingLanes;if(rt===0)return 0;var nt=0,it=et.suspendedLanes,st=et.pingedLanes,ot=rt&268435455;if(ot!==0){var at=ot&~it;at!==0?nt=tc(at):(st&=ot,st!==0&&(nt=tc(st)))}else ot=rt&~it,ot!==0?nt=tc(ot):st!==0&&(nt=tc(st));if(nt===0)return 0;if(_e!==0&&_e!==nt&&!(_e&it)&&(it=nt&-nt,st=_e&-_e,it>=st||it===16&&(st&4194240)!==0))return _e;if(nt&4&&(nt|=rt&16),_e=et.entangledLanes,_e!==0)for(et=et.entanglements,_e&=nt;0<_e;)rt=31-oc(_e),it=1<<rt,nt|=et[rt],_e&=~it;return nt}function vc(et,_e){switch(et){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,_e){for(var rt=et.suspendedLanes,nt=et.pingedLanes,it=et.expirationTimes,st=et.pendingLanes;0<st;){var ot=31-oc(st),at=1<<ot,lt=it[ot];lt===-1?(!(at&rt)||at&nt)&&(it[ot]=vc(at,_e)):lt<=_e&&(et.expiredLanes|=at),st&=~at}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var _e=[],rt=0;31>rt;rt++)_e.push(et);return _e}function Ac(et,_e,rt){et.pendingLanes|=_e,_e!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,_e=31-oc(_e),et[_e]=rt}function Bc(et,_e){var rt=et.pendingLanes&~_e;et.pendingLanes=_e,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=_e,et.mutableReadLanes&=_e,et.entangledLanes&=_e,_e=et.entanglements;var nt=et.eventTimes;for(et=et.expirationTimes;0<rt;){var it=31-oc(rt),st=1<<it;_e[it]=0,nt[it]=-1,et[it]=-1,rt&=~st}}function Cc(et,_e){var rt=et.entangledLanes|=_e;for(et=et.entanglements;rt;){var nt=31-oc(rt),it=1<<nt;it&_e|et[nt]&_e&&(et[nt]|=_e),rt&=~it}}var C=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,_e){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(et,_e,rt,nt,it,st){return et===null||et.nativeEvent!==st?(et={blockedOn:_e,domEventName:rt,eventSystemFlags:nt,nativeEvent:st,targetContainers:[it]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),et):(et.eventSystemFlags|=nt,_e=et.targetContainers,it!==null&&_e.indexOf(it)===-1&&_e.push(it),et)}function Uc(et,_e,rt,nt,it){switch(_e){case"focusin":return Lc=Tc(Lc,et,_e,rt,nt,it),!0;case"dragenter":return Mc=Tc(Mc,et,_e,rt,nt,it),!0;case"mouseover":return Nc=Tc(Nc,et,_e,rt,nt,it),!0;case"pointerover":var st=it.pointerId;return Oc.set(st,Tc(Oc.get(st)||null,et,_e,rt,nt,it)),!0;case"gotpointercapture":return st=it.pointerId,Pc.set(st,Tc(Pc.get(st)||null,et,_e,rt,nt,it)),!0}return!1}function Vc(et){var _e=Wc(et.target);if(_e!==null){var rt=Vb(_e);if(rt!==null){if(_e=rt.tag,_e===13){if(_e=Wb(rt),_e!==null){et.blockedOn=_e,Ic(et.priority,function(){Gc(rt)});return}}else if(_e===3&&rt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=rt.tag===3?rt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var _e=et.targetContainers;0<_e.length;){var rt=Yc(et.domEventName,et.eventSystemFlags,_e[0],et.nativeEvent);if(rt===null){rt=et.nativeEvent;var nt=new rt.constructor(rt.type,rt);wb=nt,rt.target.dispatchEvent(nt),wb=null}else return _e=Cb(rt),_e!==null&&Fc(_e),et.blockedOn=rt,!1;_e.shift()}return!0}function Zc(et,_e,rt){Xc(et)&&rt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,_e){et.blockedOn===_e&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function _e(it){return ad(it,et)}if(0<Kc.length){ad(Kc[0],et);for(var rt=1;rt<Kc.length;rt++){var nt=Kc[rt];nt.blockedOn===et&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(_e),Pc.forEach(_e),rt=0;rt<Qc.length;rt++)nt=Qc[rt],nt.blockedOn===et&&(nt.blockedOn=null);for(;0<Qc.length&&(rt=Qc[0],rt.blockedOn===null);)Vc(rt),rt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,_e,rt,nt){var it=C,st=cd.transition;cd.transition=null;try{C=1,fd(et,_e,rt,nt)}finally{C=it,cd.transition=st}}function gd(et,_e,rt,nt){var it=C,st=cd.transition;cd.transition=null;try{C=4,fd(et,_e,rt,nt)}finally{C=it,cd.transition=st}}function fd(et,_e,rt,nt){if(dd){var it=Yc(et,_e,rt,nt);if(it===null)hd(et,_e,nt,id,rt),Sc(et,nt);else if(Uc(it,et,_e,rt,nt))nt.stopPropagation();else if(Sc(et,nt),_e&4&&-1<Rc.indexOf(et)){for(;it!==null;){var st=Cb(it);if(st!==null&&Ec(st),st=Yc(et,_e,rt,nt),st===null&&hd(et,_e,nt,id,rt),st===it)break;it=st}it!==null&&nt.stopPropagation()}else hd(et,_e,nt,null,rt)}}var id=null;function Yc(et,_e,rt,nt){if(id=null,et=xb(nt),et=Wc(et),et!==null)if(_e=Vb(et),_e===null)et=null;else if(rt=_e.tag,rt===13){if(et=Wb(_e),et!==null)return et;et=null}else if(rt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;et=null}else _e!==et&&(et=null);return id=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,_e=ld,rt=_e.length,nt,it="value"in kd?kd.value:kd.textContent,st=it.length;for(et=0;et<rt&&_e[et]===it[et];et++);var ot=rt-et;for(nt=1;nt<=ot&&_e[rt-nt]===it[st-nt];nt++);return md=it.slice(et,1<nt?1-nt:void 0)}function od(et){var _e=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&_e===13&&(et=13)):et=_e,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function _e(rt,nt,it,st,ot){this._reactName=rt,this._targetInst=it,this.type=nt,this.nativeEvent=st,this.target=ot,this.currentTarget=null;for(var at in et)et.hasOwnProperty(at)&&(rt=et[at],this[at]=rt?rt(st):st[at]);return this.isDefaultPrevented=(st.defaultPrevented!=null?st.defaultPrevented:st.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rt=this.nativeEvent;rt&&(rt.preventDefault?rt.preventDefault():typeof rt.returnValue!="unknown"&&(rt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rt=this.nativeEvent;rt&&(rt.stopPropagation?rt.stopPropagation():typeof rt.cancelBubble!="unknown"&&(rt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(et):(et=Od[et])?!!_e[et]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(et){if(et.key){var _e=Md[et.key]||et.key;if(_e!=="Unidentified")return _e}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(et,_e){switch(et){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie$2=!1;function je(et,_e){switch(et){case"compositionend":return he$1(_e);case"keypress":return _e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return et=_e.data,et===ee$1&&fe$1?null:et;default:return null}}function ke(et,_e){if(ie$2)return et==="compositionend"||!ae&&ge$1(et,_e)?(et=nd(),md=ld=kd=null,ie$2=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de$1&&_e.locale!=="ko"?null:_e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e==="input"?!!le$1[et.type]:_e==="textarea"}function ne$1(et,_e,rt,nt){Eb(nt),_e=oe$1(_e,"onChange"),0<_e.length&&(rt=new td("onChange","change",null,rt,nt),et.push({event:rt,listeners:_e}))}var pe$1=null,qe=null;function re$1(et){se$1(et,0)}function te(et){var _e=ue$1(et);if(Wa(_e))return et}function ve$1(et,_e){if(et==="change")return _e}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var _e=[];ne$1(_e,qe,et,xb(et)),Jb(re$1,_e)}}function Ce(et,_e,rt){et==="focusin"?(Ae$1(),pe$1=_e,qe=rt,pe$1.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae$1()}function De(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee$1(et,_e){if(et==="click")return te(_e)}function Fe(et,_e){if(et==="input"||et==="change")return te(_e)}function Ge(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(et,_e){if(He(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;var rt=Object.keys(et),nt=Object.keys(_e);if(rt.length!==nt.length)return!1;for(nt=0;nt<rt.length;nt++){var it=rt[nt];if(!ja.call(_e,it)||!He(et[it],_e[it]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,_e){var rt=Je(et);et=0;for(var nt;rt;){if(rt.nodeType===3){if(nt=et+rt.textContent.length,et<=_e&&nt>=_e)return{node:rt,offset:_e-et};et=nt}e:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break e}rt=rt.parentNode}rt=void 0}rt=Je(rt)}}function Le(et,_e){return et&&_e?et===_e?!0:et&&et.nodeType===3?!1:_e&&_e.nodeType===3?Le(et,_e.parentNode):"contains"in et?et.contains(_e):et.compareDocumentPosition?!!(et.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var et=window,_e=Xa();_e instanceof et.HTMLIFrameElement;){try{var rt=typeof _e.contentWindow.location.href=="string"}catch{rt=!1}if(rt)et=_e.contentWindow;else break;_e=Xa(et.document)}return _e}function Ne(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e&&(_e==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||_e==="textarea"||et.contentEditable==="true")}function Oe(et){var _e=Me(),rt=et.focusedElem,nt=et.selectionRange;if(_e!==rt&&rt&&rt.ownerDocument&&Le(rt.ownerDocument.documentElement,rt)){if(nt!==null&&Ne(rt)){if(_e=nt.start,et=nt.end,et===void 0&&(et=_e),"selectionStart"in rt)rt.selectionStart=_e,rt.selectionEnd=Math.min(et,rt.value.length);else if(et=(_e=rt.ownerDocument||document)&&_e.defaultView||window,et.getSelection){et=et.getSelection();var it=rt.textContent.length,st=Math.min(nt.start,it);nt=nt.end===void 0?st:Math.min(nt.end,it),!et.extend&&st>nt&&(it=nt,nt=st,st=it),it=Ke(rt,st);var ot=Ke(rt,nt);it&&ot&&(et.rangeCount!==1||et.anchorNode!==it.node||et.anchorOffset!==it.offset||et.focusNode!==ot.node||et.focusOffset!==ot.offset)&&(_e=_e.createRange(),_e.setStart(it.node,it.offset),et.removeAllRanges(),st>nt?(et.addRange(_e),et.extend(ot.node,ot.offset)):(_e.setEnd(ot.node,ot.offset),et.addRange(_e)))}}for(_e=[],et=rt;et=et.parentNode;)et.nodeType===1&&_e.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<_e.length;rt++)et=_e[rt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(et,_e,rt){var nt=rt.window===rt?rt.document:rt.nodeType===9?rt:rt.ownerDocument;Te$1||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie$1(Se$1,nt)||(Se$1=nt,nt=oe$1(Re$1,"onSelect"),0<nt.length&&(_e=new td("onSelect","select",null,_e,rt),et.push({event:_e,listeners:nt}),_e.target=Qe)))}function Ve(et,_e){var rt={};return rt[et.toLowerCase()]=_e.toLowerCase(),rt["Webkit"+et]="webkit"+_e,rt["Moz"+et]="moz"+_e,rt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var _e=We[et],rt;for(rt in _e)if(_e.hasOwnProperty(rt)&&rt in Ye)return Xe[et]=_e[rt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,_e){df.set(et,_e),fa(_e,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,_e,rt){var nt=et.type||"unknown-event";et.currentTarget=rt,Ub(nt,_e,void 0,et),et.currentTarget=null}function se$1(et,_e){_e=(_e&4)!==0;for(var rt=0;rt<et.length;rt++){var nt=et[rt],it=nt.event;nt=nt.listeners;e:{var st=void 0;if(_e)for(var ot=nt.length-1;0<=ot;ot--){var at=nt[ot],lt=at.instance,ut=at.currentTarget;if(at=at.listener,lt!==st&&it.isPropagationStopped())break e;nf(it,at,ut),st=lt}else for(ot=0;ot<nt.length;ot++){if(at=nt[ot],lt=at.instance,ut=at.currentTarget,at=at.listener,lt!==st&&it.isPropagationStopped())break e;nf(it,at,ut),st=lt}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$1(et,_e){var rt=_e[of];rt===void 0&&(rt=_e[of]=new Set);var nt=et+"__bubble";rt.has(nt)||(pf(_e,et,2,!1),rt.add(nt))}function qf(et,_e,rt){var nt=0;_e&&(nt|=4),pf(rt,et,nt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(rt){rt!=="selectionchange"&&(mf.has(rt)||qf(rt,!1,et),qf(rt,!0,et))});var _e=et.nodeType===9?et:et.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(et,_e,rt,nt){switch(jd(_e)){case 1:var it=ed;break;case 4:it=gd;break;default:it=fd}rt=it.bind(null,_e,rt,et),it=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(it=!0),nt?it!==void 0?et.addEventListener(_e,rt,{capture:!0,passive:it}):et.addEventListener(_e,rt,!0):it!==void 0?et.addEventListener(_e,rt,{passive:it}):et.addEventListener(_e,rt,!1)}function hd(et,_e,rt,nt,it){var st=nt;if(!(_e&1)&&!(_e&2)&&nt!==null)e:for(;;){if(nt===null)return;var ot=nt.tag;if(ot===3||ot===4){var at=nt.stateNode.containerInfo;if(at===it||at.nodeType===8&&at.parentNode===it)break;if(ot===4)for(ot=nt.return;ot!==null;){var lt=ot.tag;if((lt===3||lt===4)&&(lt=ot.stateNode.containerInfo,lt===it||lt.nodeType===8&&lt.parentNode===it))return;ot=ot.return}for(;at!==null;){if(ot=Wc(at),ot===null)return;if(lt=ot.tag,lt===5||lt===6){nt=st=ot;continue e}at=at.parentNode}}nt=nt.return}Jb(function(){var ut=st,ct=xb(rt),dt=[];e:{var ft=df.get(et);if(ft!==void 0){var pt=td,ht=et;switch(et){case"keypress":if(od(rt)===0)break e;case"keydown":case"keyup":pt=Rd;break;case"focusin":ht="focus",pt=Fd;break;case"focusout":ht="blur",pt=Fd;break;case"beforeblur":case"afterblur":pt=Fd;break;case"click":if(rt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Vd;break;case $e:case af:case bf:pt=Hd;break;case cf:pt=Xd;break;case"scroll":pt=vd;break;case"wheel":pt=Zd;break;case"copy":case"cut":case"paste":pt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Td}var mt=(_e&4)!==0,bt=!mt&&et==="scroll",gt=mt?ft!==null?ft+"Capture":null:ft;mt=[];for(var xt=ut,yt;xt!==null;){yt=xt;var vt=yt.stateNode;if(yt.tag===5&&vt!==null&&(yt=vt,gt!==null&&(vt=Kb(xt,gt),vt!=null&&mt.push(tf(xt,vt,yt)))),bt)break;xt=xt.return}0<mt.length&&(ft=new pt(ft,ht,null,rt,ct),dt.push({event:ft,listeners:mt}))}}if(!(_e&7)){e:{if(ft=et==="mouseover"||et==="pointerover",pt=et==="mouseout"||et==="pointerout",ft&&rt!==wb&&(ht=rt.relatedTarget||rt.fromElement)&&(Wc(ht)||ht[uf]))break e;if((pt||ft)&&(ft=ct.window===ct?ct:(ft=ct.ownerDocument)?ft.defaultView||ft.parentWindow:window,pt?(ht=rt.relatedTarget||rt.toElement,pt=ut,ht=ht?Wc(ht):null,ht!==null&&(bt=Vb(ht),ht!==bt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(pt=null,ht=ut),pt!==ht)){if(mt=Bd,vt="onMouseLeave",gt="onMouseEnter",xt="mouse",(et==="pointerout"||et==="pointerover")&&(mt=Td,vt="onPointerLeave",gt="onPointerEnter",xt="pointer"),bt=pt==null?ft:ue$1(pt),yt=ht==null?ft:ue$1(ht),ft=new mt(vt,xt+"leave",pt,rt,ct),ft.target=bt,ft.relatedTarget=yt,vt=null,Wc(ct)===ut&&(mt=new mt(gt,xt+"enter",ht,rt,ct),mt.target=yt,mt.relatedTarget=bt,vt=mt),bt=vt,pt&&ht)t:{for(mt=pt,gt=ht,xt=0,yt=mt;yt;yt=vf(yt))xt++;for(yt=0,vt=gt;vt;vt=vf(vt))yt++;for(;0<xt-yt;)mt=vf(mt),xt--;for(;0<yt-xt;)gt=vf(gt),yt--;for(;xt--;){if(mt===gt||gt!==null&&mt===gt.alternate)break t;mt=vf(mt),gt=vf(gt)}mt=null}else mt=null;pt!==null&&wf(dt,ft,pt,mt,!1),ht!==null&&bt!==null&&wf(dt,bt,ht,mt,!0)}}e:{if(ft=ut?ue$1(ut):window,pt=ft.nodeName&&ft.nodeName.toLowerCase(),pt==="select"||pt==="input"&&ft.type==="file")var Pt=ve$1;else if(me(ft))if(we)Pt=Fe;else{Pt=De;var St=Ce}else(pt=ft.nodeName)&&pt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Pt=Ee$1);if(Pt&&(Pt=Pt(et,ut))){ne$1(dt,Pt,rt,ct);break e}St&&St(et,ft,ut),et==="focusout"&&(St=ft._wrapperState)&&St.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(St=ut?ue$1(ut):window,et){case"focusin":(me(St)||St.contentEditable==="true")&&(Qe=St,Re$1=ut,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(dt,rt,ct);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,rt,ct)}var Ot;if(ae)e:{switch(et){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ie$2?ge$1(et,rt)&&(Et="onCompositionEnd"):et==="keydown"&&rt.keyCode===229&&(Et="onCompositionStart");Et&&(de$1&&rt.locale!=="ko"&&(ie$2||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ie$2&&(Ot=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),St=oe$1(ut,Et),0<St.length&&(Et=new Ld(Et,et,null,rt,ct),dt.push({event:Et,listeners:St}),Ot?Et.data=Ot:(Ot=he$1(rt),Ot!==null&&(Et.data=Ot)))),(Ot=ce?je(et,rt):ke(et,rt))&&(ut=oe$1(ut,"onBeforeInput"),0<ut.length&&(ct=new Ld("onBeforeInput","beforeinput",null,rt,ct),dt.push({event:ct,listeners:ut}),ct.data=Ot))}se$1(dt,_e)})}function tf(et,_e,rt){return{instance:et,listener:_e,currentTarget:rt}}function oe$1(et,_e){for(var rt=_e+"Capture",nt=[];et!==null;){var it=et,st=it.stateNode;it.tag===5&&st!==null&&(it=st,st=Kb(et,rt),st!=null&&nt.unshift(tf(et,st,it)),st=Kb(et,_e),st!=null&&nt.push(tf(et,st,it))),et=et.return}return nt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,_e,rt,nt,it){for(var st=_e._reactName,ot=[];rt!==null&&rt!==nt;){var at=rt,lt=at.alternate,ut=at.stateNode;if(lt!==null&&lt===nt)break;at.tag===5&&ut!==null&&(at=ut,it?(lt=Kb(rt,st),lt!=null&&ot.unshift(tf(rt,lt,at))):it||(lt=Kb(rt,st),lt!=null&&ot.push(tf(rt,lt,at)))),rt=rt.return}ot.length!==0&&et.push({event:_e,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,_e,rt){if(_e=zf(_e),zf(et)!==_e&&rt)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,_e){return et==="textarea"||et==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,_e){var rt=_e,nt=0;do{var it=rt.nextSibling;if(et.removeChild(rt),it&&it.nodeType===8)if(rt=it.data,rt==="/$"){if(nt===0){et.removeChild(it),bd(_e);return}nt--}else rt!=="$"&&rt!=="$?"&&rt!=="$!"||nt++;rt=it}while(rt);bd(_e)}function Lf(et){for(;et!=null;et=et.nextSibling){var _e=et.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=et.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var _e=0;et;){if(et.nodeType===8){var rt=et.data;if(rt==="$"||rt==="$!"||rt==="$?"){if(_e===0)return et;_e--}else rt==="/$"&&_e++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var _e=et[Of];if(_e)return _e;for(var rt=et.parentNode;rt;){if(_e=rt[uf]||rt[Of]){if(rt=_e.alternate,_e.child!==null||rt!==null&&rt.child!==null)for(et=Mf(et);et!==null;){if(rt=et[Of])return rt;et=Mf(et)}return _e}et=rt,rt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue$1(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$1(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,_e){Tf++,Sf[Tf]=et.current,et.current=_e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,_e){var rt=et.type.contextTypes;if(!rt)return Vf;var nt=et.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===_e)return nt.__reactInternalMemoizedMaskedChildContext;var it={},st;for(st in rt)it[st]=_e[st];return nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=_e,et.__reactInternalMemoizedMaskedChildContext=it),it}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E(Wf),E(H)}function ag(et,_e,rt){if(H.current!==Vf)throw Error(p$1(168));G$1(H,_e),G$1(Wf,rt)}function bg(et,_e,rt){var nt=et.stateNode;if(_e=_e.childContextTypes,typeof nt.getChildContext!="function")return rt;nt=nt.getChildContext();for(var it in nt)if(!(it in _e))throw Error(p$1(108,Ra(et)||"Unknown",it));return A$1({},rt,nt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G$1(H,et),G$1(Wf,Wf.current),!0}function dg(et,_e,rt){var nt=et.stateNode;if(!nt)throw Error(p$1(169));rt?(et=bg(et,_e,Xf),nt.__reactInternalMemoizedMergedChildContext=et,E(Wf),E(H),G$1(H,et)):E(Wf),G$1(Wf,rt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,_e=C;try{var rt=eg;for(C=1;et<rt.length;et++){var nt=rt[et];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(it){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),it}finally{C=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,_e){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=_e}function ug(et,_e,rt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var nt=rg;et=sg;var it=32-oc(nt)-1;nt&=~(1<<it),rt+=1;var st=32-oc(_e)+it;if(30<st){var ot=it-it%5;st=(nt&(1<<ot)-1).toString(32),nt>>=ot,it-=ot,rg=1<<32-oc(_e)+it|rt<<it|nt,sg=st+et}else rg=1<<st|rt<<it|nt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(et,_e){var rt=Bg(5,null,null,0);rt.elementType="DELETED",rt.stateNode=_e,rt.return=et,_e=et.deletions,_e===null?(et.deletions=[rt],et.flags|=16):_e.push(rt)}function Cg(et,_e){switch(et.tag){case 5:var rt=et.type;return _e=_e.nodeType!==1||rt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=et.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(rt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:_e,treeContext:rt,retryLane:1073741824},rt=Bg(18,null,null,0),rt.stateNode=_e,rt.return=et,et.child=rt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$1){var _e=yg;if(_e){var rt=_e;if(!Cg(et,_e)){if(Dg(et))throw Error(p$1(418));_e=Lf(rt.nextSibling);var nt=xg;_e&&Cg(et,_e)?Ag(nt,rt):(et.flags=et.flags&-4097|2,I$1=!1,xg=et)}}else{if(Dg(et))throw Error(p$1(418));et.flags=et.flags&-4097|2,I$1=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$1)return Fg(et),I$1=!0,!1;var _e;if((_e=et.tag!==3)&&!(_e=et.tag!==5)&&(_e=et.type,_e=_e!=="head"&&_e!=="body"&&!Ef(et.type,et.memoizedProps)),_e&&(_e=yg)){if(Dg(et))throw Hg(),Error(p$1(418));for(;_e;)Ag(et,_e),_e=Lf(_e.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));e:{for(et=et.nextSibling,_e=0;et;){if(et.nodeType===8){var rt=et.data;if(rt==="/$"){if(_e===0){yg=Lf(et.nextSibling);break e}_e--}else rt!=="$"&&rt!=="$!"&&rt!=="$?"||_e++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,_e){if(et&&et.defaultProps){_e=A$1({},_e),et=et.defaultProps;for(var rt in et)_e[rt]===void 0&&(_e[rt]=et[rt]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var _e=Mg.current;E(Mg),et._currentValue=_e}function Sg(et,_e,rt){for(;et!==null;){var nt=et.alternate;if((et.childLanes&_e)!==_e?(et.childLanes|=_e,nt!==null&&(nt.childLanes|=_e)):nt!==null&&(nt.childLanes&_e)!==_e&&(nt.childLanes|=_e),et===rt)break;et=et.return}}function Tg(et,_e){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&_e&&(Ug=!0),et.firstContext=null)}function Vg(et){var _e=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return _e}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,_e,rt,nt){var it=_e.interleaved;return it===null?(rt.next=rt,Xg(_e)):(rt.next=it.next,it.next=rt),_e.interleaved=rt,Zg(et,nt)}function Zg(et,_e){et.lanes|=_e;var rt=et.alternate;for(rt!==null&&(rt.lanes|=_e),rt=et,et=et.return;et!==null;)et.childLanes|=_e,rt=et.alternate,rt!==null&&(rt.childLanes|=_e),rt=et,et=et.return;return rt.tag===3?rt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,_e){et=et.updateQueue,_e.updateQueue===et&&(_e.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,_e){return{eventTime:et,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(et,_e,rt){var nt=et.updateQueue;if(nt===null)return null;if(nt=nt.shared,K&2){var it=nt.pending;return it===null?_e.next=_e:(_e.next=it.next,it.next=_e),nt.pending=_e,Zg(et,rt)}return it=nt.interleaved,it===null?(_e.next=_e,Xg(nt)):(_e.next=it.next,it.next=_e),nt.interleaved=_e,Zg(et,rt)}function eh(et,_e,rt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(rt&4194240)!==0)){var nt=_e.lanes;nt&=et.pendingLanes,rt|=nt,_e.lanes=rt,Cc(et,rt)}}function fh(et,_e){var rt=et.updateQueue,nt=et.alternate;if(nt!==null&&(nt=nt.updateQueue,rt===nt)){var it=null,st=null;if(rt=rt.firstBaseUpdate,rt!==null){do{var ot={eventTime:rt.eventTime,lane:rt.lane,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};st===null?it=st=ot:st=st.next=ot,rt=rt.next}while(rt!==null);st===null?it=st=_e:st=st.next=_e}else it=st=_e;rt={baseState:nt.baseState,firstBaseUpdate:it,lastBaseUpdate:st,shared:nt.shared,effects:nt.effects},et.updateQueue=rt;return}et=rt.lastBaseUpdate,et===null?rt.firstBaseUpdate=_e:et.next=_e,rt.lastBaseUpdate=_e}function gh(et,_e,rt,nt){var it=et.updateQueue;$g=!1;var st=it.firstBaseUpdate,ot=it.lastBaseUpdate,at=it.shared.pending;if(at!==null){it.shared.pending=null;var lt=at,ut=lt.next;lt.next=null,ot===null?st=ut:ot.next=ut,ot=lt;var ct=et.alternate;ct!==null&&(ct=ct.updateQueue,at=ct.lastBaseUpdate,at!==ot&&(at===null?ct.firstBaseUpdate=ut:at.next=ut,ct.lastBaseUpdate=lt))}if(st!==null){var dt=it.baseState;ot=0,ct=ut=lt=null,at=st;do{var ft=at.lane,pt=at.eventTime;if((nt&ft)===ft){ct!==null&&(ct=ct.next={eventTime:pt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var ht=et,mt=at;switch(ft=_e,pt=rt,mt.tag){case 1:if(ht=mt.payload,typeof ht=="function"){dt=ht.call(pt,dt,ft);break e}dt=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=mt.payload,ft=typeof ht=="function"?ht.call(pt,dt,ft):ht,ft==null)break e;dt=A$1({},dt,ft);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(et.flags|=64,ft=it.effects,ft===null?it.effects=[at]:ft.push(at))}else pt={eventTime:pt,lane:ft,tag:at.tag,payload:at.payload,callback:at.callback,next:null},ct===null?(ut=ct=pt,lt=dt):ct=ct.next=pt,ot|=ft;if(at=at.next,at===null){if(at=it.shared.pending,at===null)break;ft=at,at=ft.next,ft.next=null,it.lastBaseUpdate=ft,it.shared.pending=null}}while(1);if(ct===null&&(lt=dt),it.baseState=lt,it.firstBaseUpdate=ut,it.lastBaseUpdate=ct,_e=it.shared.interleaved,_e!==null){it=_e;do ot|=it.lane,it=it.next;while(it!==_e)}else st===null&&(it.shared.lanes=0);hh|=ot,et.lanes=ot,et.memoizedState=dt}}function ih(et,_e,rt){if(et=_e.effects,_e.effects=null,et!==null)for(_e=0;_e<et.length;_e++){var nt=et[_e],it=nt.callback;if(it!==null){if(nt.callback=null,nt=rt,typeof it!="function")throw Error(p$1(191,it));it.call(nt)}}}var jh=new aa.Component().refs;function kh(et,_e,rt,nt){_e=et.memoizedState,rt=rt(nt,_e),rt=rt==null?_e:A$1({},_e,rt),et.memoizedState=rt,et.lanes===0&&(et.updateQueue.baseState=rt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,_e,rt){et=et._reactInternals;var nt=L(),it=lh(et),st=ch(nt,it);st.payload=_e,rt!=null&&(st.callback=rt),_e=dh(et,st,it),_e!==null&&(mh(_e,et,it,nt),eh(_e,et,it))},enqueueReplaceState:function(et,_e,rt){et=et._reactInternals;var nt=L(),it=lh(et),st=ch(nt,it);st.tag=1,st.payload=_e,rt!=null&&(st.callback=rt),_e=dh(et,st,it),_e!==null&&(mh(_e,et,it,nt),eh(_e,et,it))},enqueueForceUpdate:function(et,_e){et=et._reactInternals;var rt=L(),nt=lh(et),it=ch(rt,nt);it.tag=2,_e!=null&&(it.callback=_e),_e=dh(et,it,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))}};function oh(et,_e,rt,nt,it,st,ot){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(nt,st,ot):_e.prototype&&_e.prototype.isPureReactComponent?!Ie$1(rt,nt)||!Ie$1(it,st):!0}function ph(et,_e,rt){var nt=!1,it=Vf,st=_e.contextType;return typeof st=="object"&&st!==null?st=Vg(st):(it=Zf(_e)?Xf:H.current,nt=_e.contextTypes,st=(nt=nt!=null)?Yf(et,it):Vf),_e=new _e(rt,st),et.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,et.stateNode=_e,_e._reactInternals=et,nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=it,et.__reactInternalMemoizedMaskedChildContext=st),_e}function qh(et,_e,rt,nt){et=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(rt,nt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(rt,nt),_e.state!==et&&nh.enqueueReplaceState(_e,_e.state,null)}function rh(et,_e,rt,nt){var it=et.stateNode;it.props=rt,it.state=et.memoizedState,it.refs=jh,ah(et);var st=_e.contextType;typeof st=="object"&&st!==null?it.context=Vg(st):(st=Zf(_e)?Xf:H.current,it.context=Yf(et,st)),it.state=et.memoizedState,st=_e.getDerivedStateFromProps,typeof st=="function"&&(kh(et,_e,st,rt),it.state=et.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof it.getSnapshotBeforeUpdate=="function"||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(_e=it.state,typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount(),_e!==it.state&&nh.enqueueReplaceState(it,it.state,null),gh(et,rt,it,nt),it.state=et.memoizedState),typeof it.componentDidMount=="function"&&(et.flags|=4194308)}function sh(et,_e,rt){if(et=rt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(rt._owner){if(rt=rt._owner,rt){if(rt.tag!==1)throw Error(p$1(309));var nt=rt.stateNode}if(!nt)throw Error(p$1(147,et));var it=nt,st=""+et;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===st?_e.ref:(_e=function(ot){var at=it.refs;at===jh&&(at=it.refs={}),ot===null?delete at[st]:at[st]=ot},_e._stringRef=st,_e)}if(typeof et!="string")throw Error(p$1(284));if(!rt._owner)throw Error(p$1(290,et))}return et}function th(et,_e){throw et=Object.prototype.toString.call(_e),Error(p$1(31,et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et))}function uh(et){var _e=et._init;return _e(et._payload)}function vh(et){function _e(gt,xt){if(et){var yt=gt.deletions;yt===null?(gt.deletions=[xt],gt.flags|=16):yt.push(xt)}}function rt(gt,xt){if(!et)return null;for(;xt!==null;)_e(gt,xt),xt=xt.sibling;return null}function nt(gt,xt){for(gt=new Map;xt!==null;)xt.key!==null?gt.set(xt.key,xt):gt.set(xt.index,xt),xt=xt.sibling;return gt}function it(gt,xt){return gt=wh(gt,xt),gt.index=0,gt.sibling=null,gt}function st(gt,xt,yt){return gt.index=yt,et?(yt=gt.alternate,yt!==null?(yt=yt.index,yt<xt?(gt.flags|=2,xt):yt):(gt.flags|=2,xt)):(gt.flags|=1048576,xt)}function ot(gt){return et&&gt.alternate===null&&(gt.flags|=2),gt}function at(gt,xt,yt,vt){return xt===null||xt.tag!==6?(xt=xh(yt,gt.mode,vt),xt.return=gt,xt):(xt=it(xt,yt),xt.return=gt,xt)}function lt(gt,xt,yt,vt){var Pt=yt.type;return Pt===ya?ct(gt,xt,yt.props.children,vt,yt.key):xt!==null&&(xt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&uh(Pt)===xt.type)?(vt=it(xt,yt.props),vt.ref=sh(gt,xt,yt),vt.return=gt,vt):(vt=yh(yt.type,yt.key,yt.props,null,gt.mode,vt),vt.ref=sh(gt,xt,yt),vt.return=gt,vt)}function ut(gt,xt,yt,vt){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==yt.containerInfo||xt.stateNode.implementation!==yt.implementation?(xt=zh(yt,gt.mode,vt),xt.return=gt,xt):(xt=it(xt,yt.children||[]),xt.return=gt,xt)}function ct(gt,xt,yt,vt,Pt){return xt===null||xt.tag!==7?(xt=Ah(yt,gt.mode,vt,Pt),xt.return=gt,xt):(xt=it(xt,yt),xt.return=gt,xt)}function dt(gt,xt,yt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return xt=xh(""+xt,gt.mode,yt),xt.return=gt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return yt=yh(xt.type,xt.key,xt.props,null,gt.mode,yt),yt.ref=sh(gt,null,xt),yt.return=gt,yt;case wa:return xt=zh(xt,gt.mode,yt),xt.return=gt,xt;case Ha:var vt=xt._init;return dt(gt,vt(xt._payload),yt)}if(eb(xt)||Ka(xt))return xt=Ah(xt,gt.mode,yt,null),xt.return=gt,xt;th(gt,xt)}return null}function ft(gt,xt,yt,vt){var Pt=xt!==null?xt.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return Pt!==null?null:at(gt,xt,""+yt,vt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return yt.key===Pt?lt(gt,xt,yt,vt):null;case wa:return yt.key===Pt?ut(gt,xt,yt,vt):null;case Ha:return Pt=yt._init,ft(gt,xt,Pt(yt._payload),vt)}if(eb(yt)||Ka(yt))return Pt!==null?null:ct(gt,xt,yt,vt,null);th(gt,yt)}return null}function pt(gt,xt,yt,vt,Pt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return gt=gt.get(yt)||null,at(xt,gt,""+vt,Pt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return gt=gt.get(vt.key===null?yt:vt.key)||null,lt(xt,gt,vt,Pt);case wa:return gt=gt.get(vt.key===null?yt:vt.key)||null,ut(xt,gt,vt,Pt);case Ha:var St=vt._init;return pt(gt,xt,yt,St(vt._payload),Pt)}if(eb(vt)||Ka(vt))return gt=gt.get(yt)||null,ct(xt,gt,vt,Pt,null);th(xt,vt)}return null}function ht(gt,xt,yt,vt){for(var Pt=null,St=null,Ot=xt,Et=xt=0,Lt=null;Ot!==null&&Et<yt.length;Et++){Ot.index>Et?(Lt=Ot,Ot=null):Lt=Ot.sibling;var Nt=ft(gt,Ot,yt[Et],vt);if(Nt===null){Ot===null&&(Ot=Lt);break}et&&Ot&&Nt.alternate===null&&_e(gt,Ot),xt=st(Nt,xt,Et),St===null?Pt=Nt:St.sibling=Nt,St=Nt,Ot=Lt}if(Et===yt.length)return rt(gt,Ot),I$1&&tg(gt,Et),Pt;if(Ot===null){for(;Et<yt.length;Et++)Ot=dt(gt,yt[Et],vt),Ot!==null&&(xt=st(Ot,xt,Et),St===null?Pt=Ot:St.sibling=Ot,St=Ot);return I$1&&tg(gt,Et),Pt}for(Ot=nt(gt,Ot);Et<yt.length;Et++)Lt=pt(Ot,gt,Et,yt[Et],vt),Lt!==null&&(et&&Lt.alternate!==null&&Ot.delete(Lt.key===null?Et:Lt.key),xt=st(Lt,xt,Et),St===null?Pt=Lt:St.sibling=Lt,St=Lt);return et&&Ot.forEach(function($t){return _e(gt,$t)}),I$1&&tg(gt,Et),Pt}function mt(gt,xt,yt,vt){var Pt=Ka(yt);if(typeof Pt!="function")throw Error(p$1(150));if(yt=Pt.call(yt),yt==null)throw Error(p$1(151));for(var St=Pt=null,Ot=xt,Et=xt=0,Lt=null,Nt=yt.next();Ot!==null&&!Nt.done;Et++,Nt=yt.next()){Ot.index>Et?(Lt=Ot,Ot=null):Lt=Ot.sibling;var $t=ft(gt,Ot,Nt.value,vt);if($t===null){Ot===null&&(Ot=Lt);break}et&&Ot&&$t.alternate===null&&_e(gt,Ot),xt=st($t,xt,Et),St===null?Pt=$t:St.sibling=$t,St=$t,Ot=Lt}if(Nt.done)return rt(gt,Ot),I$1&&tg(gt,Et),Pt;if(Ot===null){for(;!Nt.done;Et++,Nt=yt.next())Nt=dt(gt,Nt.value,vt),Nt!==null&&(xt=st(Nt,xt,Et),St===null?Pt=Nt:St.sibling=Nt,St=Nt);return I$1&&tg(gt,Et),Pt}for(Ot=nt(gt,Ot);!Nt.done;Et++,Nt=yt.next())Nt=pt(Ot,gt,Et,Nt.value,vt),Nt!==null&&(et&&Nt.alternate!==null&&Ot.delete(Nt.key===null?Et:Nt.key),xt=st(Nt,xt,Et),St===null?Pt=Nt:St.sibling=Nt,St=Nt);return et&&Ot.forEach(function(Mt){return _e(gt,Mt)}),I$1&&tg(gt,Et),Pt}function bt(gt,xt,yt,vt){if(typeof yt=="object"&&yt!==null&&yt.type===ya&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:e:{for(var Pt=yt.key,St=xt;St!==null;){if(St.key===Pt){if(Pt=yt.type,Pt===ya){if(St.tag===7){rt(gt,St.sibling),xt=it(St,yt.props.children),xt.return=gt,gt=xt;break e}}else if(St.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&uh(Pt)===St.type){rt(gt,St.sibling),xt=it(St,yt.props),xt.ref=sh(gt,St,yt),xt.return=gt,gt=xt;break e}rt(gt,St);break}else _e(gt,St);St=St.sibling}yt.type===ya?(xt=Ah(yt.props.children,gt.mode,vt,yt.key),xt.return=gt,gt=xt):(vt=yh(yt.type,yt.key,yt.props,null,gt.mode,vt),vt.ref=sh(gt,xt,yt),vt.return=gt,gt=vt)}return ot(gt);case wa:e:{for(St=yt.key;xt!==null;){if(xt.key===St)if(xt.tag===4&&xt.stateNode.containerInfo===yt.containerInfo&&xt.stateNode.implementation===yt.implementation){rt(gt,xt.sibling),xt=it(xt,yt.children||[]),xt.return=gt,gt=xt;break e}else{rt(gt,xt);break}else _e(gt,xt);xt=xt.sibling}xt=zh(yt,gt.mode,vt),xt.return=gt,gt=xt}return ot(gt);case Ha:return St=yt._init,bt(gt,xt,St(yt._payload),vt)}if(eb(yt))return ht(gt,xt,yt,vt);if(Ka(yt))return mt(gt,xt,yt,vt);th(gt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?(yt=""+yt,xt!==null&&xt.tag===6?(rt(gt,xt.sibling),xt=it(xt,yt),xt.return=gt,gt=xt):(rt(gt,xt),xt=xh(yt,gt.mode,vt),xt.return=gt,gt=xt),ot(gt)):rt(gt,xt)}return bt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$1(174));return et}function Ih(et,_e){switch(G$1(Gh,_e),G$1(Fh,et),G$1(Eh,Dh),et=_e.nodeType,et){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:et=et===8?_e.parentNode:_e,_e=et.namespaceURI||null,et=et.tagName,_e=lb(_e,et)}E(Eh),G$1(Eh,_e)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(et){Hh(Gh.current);var _e=Hh(Eh.current),rt=lb(_e,et.type);_e!==rt&&(G$1(Fh,et),G$1(Eh,rt))}function Lh(et){Fh.current===et&&(E(Eh),E(Fh))}var M$1=Uf(0);function Mh(et){for(var _e=et;_e!==null;){if(_e.tag===13){var rt=_e.memoizedState;if(rt!==null&&(rt=rt.dehydrated,rt===null||rt.data==="$?"||rt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$1(321))}function Wh(et,_e){if(_e===null)return!1;for(var rt=0;rt<_e.length&&rt<et.length;rt++)if(!He(et[rt],_e[rt]))return!1;return!0}function Xh(et,_e,rt,nt,it,st){if(Rh=st,N=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=rt(nt,it),Th){st=0;do{if(Th=!1,Uh=0,25<=st)throw Error(p$1(301));st+=1,P$1=O$1=null,_e.updateQueue=null,Ph.current=$h,et=rt(nt,it)}while(Th)}if(Ph.current=ai,_e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N=null,Sh=!1,_e)throw Error(p$1(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N.memoizedState=P$1=et:P$1=P$1.next=et,P$1}function di(){if(O$1===null){var et=N.alternate;et=et!==null?et.memoizedState:null}else et=O$1.next;var _e=P$1===null?N.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$1=et;else{if(et===null)throw Error(p$1(310));O$1=et,et={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N.memoizedState=P$1=et:P$1=P$1.next=et}return P$1}function ei(et,_e){return typeof _e=="function"?_e(et):_e}function fi(et){var _e=di(),rt=_e.queue;if(rt===null)throw Error(p$1(311));rt.lastRenderedReducer=et;var nt=O$1,it=nt.baseQueue,st=rt.pending;if(st!==null){if(it!==null){var ot=it.next;it.next=st.next,st.next=ot}nt.baseQueue=it=st,rt.pending=null}if(it!==null){st=it.next,nt=nt.baseState;var at=ot=null,lt=null,ut=st;do{var ct=ut.lane;if((Rh&ct)===ct)lt!==null&&(lt=lt.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),nt=ut.hasEagerState?ut.eagerState:et(nt,ut.action);else{var dt={lane:ct,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};lt===null?(at=lt=dt,ot=nt):lt=lt.next=dt,N.lanes|=ct,hh|=ct}ut=ut.next}while(ut!==null&&ut!==st);lt===null?ot=nt:lt.next=at,He(nt,_e.memoizedState)||(Ug=!0),_e.memoizedState=nt,_e.baseState=ot,_e.baseQueue=lt,rt.lastRenderedState=nt}if(et=rt.interleaved,et!==null){it=et;do st=it.lane,N.lanes|=st,hh|=st,it=it.next;while(it!==et)}else it===null&&(rt.lanes=0);return[_e.memoizedState,rt.dispatch]}function gi(et){var _e=di(),rt=_e.queue;if(rt===null)throw Error(p$1(311));rt.lastRenderedReducer=et;var nt=rt.dispatch,it=rt.pending,st=_e.memoizedState;if(it!==null){rt.pending=null;var ot=it=it.next;do st=et(st,ot.action),ot=ot.next;while(ot!==it);He(st,_e.memoizedState)||(Ug=!0),_e.memoizedState=st,_e.baseQueue===null&&(_e.baseState=st),rt.lastRenderedState=st}return[st,nt]}function hi(){}function ii(et,_e){var rt=N,nt=di(),it=_e(),st=!He(nt.memoizedState,it);if(st&&(nt.memoizedState=it,Ug=!0),nt=nt.queue,ji(ki.bind(null,rt,nt,et),[et]),nt.getSnapshot!==_e||st||P$1!==null&&P$1.memoizedState.tag&1){if(rt.flags|=2048,li(9,mi.bind(null,rt,nt,it,_e),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni(rt,_e,it)}return it}function ni(et,_e,rt){et.flags|=16384,et={getSnapshot:_e,value:rt},_e=N.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N.updateQueue=_e,_e.stores=[et]):(rt=_e.stores,rt===null?_e.stores=[et]:rt.push(et))}function mi(et,_e,rt,nt){_e.value=rt,_e.getSnapshot=nt,oi(_e)&&pi(et)}function ki(et,_e,rt){return rt(function(){oi(_e)&&pi(et)})}function oi(et){var _e=et.getSnapshot;et=et.value;try{var rt=_e();return!He(et,rt)}catch{return!0}}function pi(et){var _e=Zg(et,1);_e!==null&&mh(_e,et,1,-1)}function qi(et){var _e=ci();return typeof et=="function"&&(et=et()),_e.memoizedState=_e.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},_e.queue=et,et=et.dispatch=ri.bind(null,N,et),[_e.memoizedState,et]}function li(et,_e,rt,nt){return et={tag:et,create:_e,destroy:rt,deps:nt,next:null},_e=N.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N.updateQueue=_e,_e.lastEffect=et.next=et):(rt=_e.lastEffect,rt===null?_e.lastEffect=et.next=et:(nt=rt.next,rt.next=et,et.next=nt,_e.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,_e,rt,nt){var it=ci();N.flags|=et,it.memoizedState=li(1|_e,rt,void 0,nt===void 0?null:nt)}function ui(et,_e,rt,nt){var it=di();nt=nt===void 0?null:nt;var st=void 0;if(O$1!==null){var ot=O$1.memoizedState;if(st=ot.destroy,nt!==null&&Wh(nt,ot.deps)){it.memoizedState=li(_e,rt,st,nt);return}}N.flags|=et,it.memoizedState=li(1|_e,rt,st,nt)}function vi(et,_e){return ti(8390656,8,et,_e)}function ji(et,_e){return ui(2048,8,et,_e)}function wi(et,_e){return ui(4,2,et,_e)}function xi(et,_e){return ui(4,4,et,_e)}function yi(et,_e){if(typeof _e=="function")return et=et(),_e(et),function(){_e(null)};if(_e!=null)return et=et(),_e.current=et,function(){_e.current=null}}function zi(et,_e,rt){return rt=rt!=null?rt.concat([et]):null,ui(4,4,yi.bind(null,_e,et),rt)}function Ai(){}function Bi(et,_e){var rt=di();_e=_e===void 0?null:_e;var nt=rt.memoizedState;return nt!==null&&_e!==null&&Wh(_e,nt[1])?nt[0]:(rt.memoizedState=[et,_e],et)}function Ci(et,_e){var rt=di();_e=_e===void 0?null:_e;var nt=rt.memoizedState;return nt!==null&&_e!==null&&Wh(_e,nt[1])?nt[0]:(et=et(),rt.memoizedState=[et,_e],et)}function Di(et,_e,rt){return Rh&21?(He(rt,_e)||(rt=yc(),N.lanes|=rt,hh|=rt,et.baseState=!0),_e):(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=rt)}function Ei(et,_e){var rt=C;C=rt!==0&&4>rt?rt:4,et(!0);var nt=Qh.transition;Qh.transition={};try{et(!1),_e()}finally{C=rt,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(et,_e,rt){var nt=lh(et);if(rt={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(_e,rt);else if(rt=Yg(et,_e,rt,nt),rt!==null){var it=L();mh(rt,et,nt,it),Ji(rt,_e,nt)}}function ri(et,_e,rt){var nt=lh(et),it={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(_e,it);else{var st=et.alternate;if(et.lanes===0&&(st===null||st.lanes===0)&&(st=_e.lastRenderedReducer,st!==null))try{var ot=_e.lastRenderedState,at=st(ot,rt);if(it.hasEagerState=!0,it.eagerState=at,He(at,ot)){var lt=_e.interleaved;lt===null?(it.next=it,Xg(_e)):(it.next=lt.next,lt.next=it),_e.interleaved=it;return}}catch{}finally{}rt=Yg(et,_e,it,nt),rt!==null&&(it=L(),mh(rt,et,nt,it),Ji(rt,_e,nt))}}function Hi(et){var _e=et.alternate;return et===N||_e!==null&&_e===N}function Ii(et,_e){Th=Sh=!0;var rt=et.pending;rt===null?_e.next=_e:(_e.next=rt.next,rt.next=_e),et.pending=_e}function Ji(et,_e,rt){if(rt&4194240){var nt=_e.lanes;nt&=et.pendingLanes,rt|=nt,_e.lanes=rt,Cc(et,rt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,_e){return ci().memoizedState=[et,_e===void 0?null:_e],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,_e,rt){return rt=rt!=null?rt.concat([et]):null,ti(4194308,4,yi.bind(null,_e,et),rt)},useLayoutEffect:function(et,_e){return ti(4194308,4,et,_e)},useInsertionEffect:function(et,_e){return ti(4,2,et,_e)},useMemo:function(et,_e){var rt=ci();return _e=_e===void 0?null:_e,et=et(),rt.memoizedState=[et,_e],et},useReducer:function(et,_e,rt){var nt=ci();return _e=rt!==void 0?rt(_e):_e,nt.memoizedState=nt.baseState=_e,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:_e},nt.queue=et,et=et.dispatch=Gi.bind(null,N,et),[nt.memoizedState,et]},useRef:function(et){var _e=ci();return et={current:et},_e.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),_e=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[_e,et]},useMutableSource:function(){},useSyncExternalStore:function(et,_e,rt){var nt=N,it=ci();if(I$1){if(rt===void 0)throw Error(p$1(407));rt=rt()}else{if(rt=_e(),R===null)throw Error(p$1(349));Rh&30||ni(nt,_e,rt)}it.memoizedState=rt;var st={value:rt,getSnapshot:_e};return it.queue=st,vi(ki.bind(null,nt,st,et),[et]),nt.flags|=2048,li(9,mi.bind(null,nt,st,rt,_e),void 0,null),rt},useId:function(){var et=ci(),_e=R.identifierPrefix;if(I$1){var rt=sg,nt=rg;rt=(nt&~(1<<32-oc(nt)-1)).toString(32)+rt,_e=":"+_e+"R"+rt,rt=Uh++,0<rt&&(_e+="H"+rt.toString(32)),_e+=":"}else rt=Vh++,_e=":"+_e+"r"+rt.toString(32)+":";return et.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return Di(_e,O$1.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return O$1===null?_e.memoizedState=et:Di(_e,O$1.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,_e){try{var rt="",nt=_e;do rt+=Pa(nt),nt=nt.return;while(nt);var it=rt}catch(st){it=`
Error generating stack: `+st.message+`
`+st.stack}return{value:et,source:_e,stack:it,digest:null}}function Li(et,_e,rt){return{value:et,source:null,stack:rt??null,digest:_e??null}}function Mi(et,_e){try{console.error(_e.value)}catch(rt){setTimeout(function(){throw rt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,_e,rt){rt=ch(-1,rt),rt.tag=3,rt.payload={element:null};var nt=_e.value;return rt.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(et,_e)},rt}function Ri(et,_e,rt){rt=ch(-1,rt),rt.tag=3;var nt=et.type.getDerivedStateFromError;if(typeof nt=="function"){var it=_e.value;rt.payload=function(){return nt(it)},rt.callback=function(){Mi(et,_e)}}var st=et.stateNode;return st!==null&&typeof st.componentDidCatch=="function"&&(rt.callback=function(){Mi(et,_e),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=_e.stack;this.componentDidCatch(_e.value,{componentStack:ot!==null?ot:""})}),rt}function Ti(et,_e,rt){var nt=et.pingCache;if(nt===null){nt=et.pingCache=new Ni;var it=new Set;nt.set(_e,it)}else it=nt.get(_e),it===void 0&&(it=new Set,nt.set(_e,it));it.has(rt)||(it.add(rt),et=Ui.bind(null,et,_e,rt),_e.then(et,et))}function Vi(et){do{var _e;if((_e=et.tag===13)&&(_e=et.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return et;et=et.return}while(et!==null);return null}function Wi(et,_e,rt,nt,it){return et.mode&1?(et.flags|=65536,et.lanes=it,et):(et===_e?et.flags|=65536:(et.flags|=128,rt.flags|=131072,rt.flags&=-52805,rt.tag===1&&(rt.alternate===null?rt.tag=17:(_e=ch(-1,1),_e.tag=2,dh(rt,_e,1))),rt.lanes|=1),et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,_e,rt,nt){_e.child=et===null?Ch(_e,null,rt,nt):Bh(_e,et.child,rt,nt)}function Zi(et,_e,rt,nt,it){rt=rt.render;var st=_e.ref;return Tg(_e,it),nt=Xh(et,_e,rt,nt,st,it),rt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~it,$i(et,_e,it)):(I$1&&rt&&vg(_e),_e.flags|=1,Yi(et,_e,nt,it),_e.child)}function aj(et,_e,rt,nt,it){if(et===null){var st=rt.type;return typeof st=="function"&&!bj(st)&&st.defaultProps===void 0&&rt.compare===null&&rt.defaultProps===void 0?(_e.tag=15,_e.type=st,cj(et,_e,st,nt,it)):(et=yh(rt.type,null,nt,_e,_e.mode,it),et.ref=_e.ref,et.return=_e,_e.child=et)}if(st=et.child,!(et.lanes&it)){var ot=st.memoizedProps;if(rt=rt.compare,rt=rt!==null?rt:Ie$1,rt(ot,nt)&&et.ref===_e.ref)return $i(et,_e,it)}return _e.flags|=1,et=wh(st,nt),et.ref=_e.ref,et.return=_e,_e.child=et}function cj(et,_e,rt,nt,it){if(et!==null){var st=et.memoizedProps;if(Ie$1(st,nt)&&et.ref===_e.ref)if(Ug=!1,_e.pendingProps=nt=st,(et.lanes&it)!==0)et.flags&131072&&(Ug=!0);else return _e.lanes=et.lanes,$i(et,_e,it)}return dj(et,_e,rt,nt,it)}function ej(et,_e,rt){var nt=_e.pendingProps,it=nt.children,st=et!==null?et.memoizedState:null;if(nt.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=rt;else{if(!(rt&1073741824))return et=st!==null?st.baseLanes|rt:rt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:et,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=et,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=st!==null?st.baseLanes:rt,G$1(fj,gj),gj|=nt}else st!==null?(nt=st.baseLanes|rt,_e.memoizedState=null):nt=rt,G$1(fj,gj),gj|=nt;return Yi(et,_e,it,rt),_e.child}function hj(et,_e){var rt=_e.ref;(et===null&&rt!==null||et!==null&&et.ref!==rt)&&(_e.flags|=512,_e.flags|=2097152)}function dj(et,_e,rt,nt,it){var st=Zf(rt)?Xf:H.current;return st=Yf(_e,st),Tg(_e,it),rt=Xh(et,_e,rt,nt,st,it),nt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~it,$i(et,_e,it)):(I$1&&nt&&vg(_e),_e.flags|=1,Yi(et,_e,rt,it),_e.child)}function ij(et,_e,rt,nt,it){if(Zf(rt)){var st=!0;cg(_e)}else st=!1;if(Tg(_e,it),_e.stateNode===null)jj(et,_e),ph(_e,rt,nt),rh(_e,rt,nt,it),nt=!0;else if(et===null){var ot=_e.stateNode,at=_e.memoizedProps;ot.props=at;var lt=ot.context,ut=rt.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(rt)?Xf:H.current,ut=Yf(_e,ut));var ct=rt.getDerivedStateFromProps,dt=typeof ct=="function"||typeof ot.getSnapshotBeforeUpdate=="function";dt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==nt||lt!==ut)&&qh(_e,ot,nt,ut),$g=!1;var ft=_e.memoizedState;ot.state=ft,gh(_e,nt,ot,it),lt=_e.memoizedState,at!==nt||ft!==lt||Wf.current||$g?(typeof ct=="function"&&(kh(_e,rt,ct,nt),lt=_e.memoizedState),(at=$g||oh(_e,rt,at,nt,ft,lt,ut))?(dt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=nt,_e.memoizedState=lt),ot.props=nt,ot.state=lt,ot.context=ut,nt=at):(typeof ot.componentDidMount=="function"&&(_e.flags|=4194308),nt=!1)}else{ot=_e.stateNode,bh(et,_e),at=_e.memoizedProps,ut=_e.type===_e.elementType?at:Lg(_e.type,at),ot.props=ut,dt=_e.pendingProps,ft=ot.context,lt=rt.contextType,typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(rt)?Xf:H.current,lt=Yf(_e,lt));var pt=rt.getDerivedStateFromProps;(ct=typeof pt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==dt||ft!==lt)&&qh(_e,ot,nt,lt),$g=!1,ft=_e.memoizedState,ot.state=ft,gh(_e,nt,ot,it);var ht=_e.memoizedState;at!==dt||ft!==ht||Wf.current||$g?(typeof pt=="function"&&(kh(_e,rt,pt,nt),ht=_e.memoizedState),(ut=$g||oh(_e,rt,ut,nt,ft,ht,lt)||!1)?(ct||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(nt,ht,lt),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(nt,ht,lt)),typeof ot.componentDidUpdate=="function"&&(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof ot.componentDidUpdate!="function"||at===et.memoizedProps&&ft===et.memoizedState||(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===et.memoizedProps&&ft===et.memoizedState||(_e.flags|=1024),_e.memoizedProps=nt,_e.memoizedState=ht),ot.props=nt,ot.state=ht,ot.context=lt,nt=ut):(typeof ot.componentDidUpdate!="function"||at===et.memoizedProps&&ft===et.memoizedState||(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===et.memoizedProps&&ft===et.memoizedState||(_e.flags|=1024),nt=!1)}return kj(et,_e,rt,nt,st,it)}function kj(et,_e,rt,nt,it,st){hj(et,_e);var ot=(_e.flags&128)!==0;if(!nt&&!ot)return it&&dg(_e,rt,!1),$i(et,_e,st);nt=_e.stateNode,Xi.current=_e;var at=ot&&typeof rt.getDerivedStateFromError!="function"?null:nt.render();return _e.flags|=1,et!==null&&ot?(_e.child=Bh(_e,et.child,null,st),_e.child=Bh(_e,null,at,st)):Yi(et,_e,at,st),_e.memoizedState=nt.state,it&&dg(_e,rt,!0),_e.child}function lj(et){var _e=et.stateNode;_e.pendingContext?ag(et,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(et,_e.context,!1),Ih(et,_e.containerInfo)}function mj(et,_e,rt,nt,it){return Ig(),Jg(it),_e.flags|=256,Yi(et,_e,rt,nt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,_e,rt){var nt=_e.pendingProps,it=M$1.current,st=!1,ot=(_e.flags&128)!==0,at;if((at=ot)||(at=et!==null&&et.memoizedState===null?!1:(it&2)!==0),at?(st=!0,_e.flags&=-129):(et===null||et.memoizedState!==null)&&(it|=1),G$1(M$1,it&1),et===null)return Eg(_e),et=_e.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(_e.mode&1?et.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(ot=nt.children,et=nt.fallback,st?(nt=_e.mode,st=_e.child,ot={mode:"hidden",children:ot},!(nt&1)&&st!==null?(st.childLanes=0,st.pendingProps=ot):st=qj(ot,nt,0,null),et=Ah(et,nt,rt,null),st.return=_e,et.return=_e,st.sibling=et,_e.child=st,_e.child.memoizedState=oj(rt),_e.memoizedState=nj,et):rj(_e,ot));if(it=et.memoizedState,it!==null&&(at=it.dehydrated,at!==null))return sj(et,_e,ot,nt,at,it,rt);if(st){st=nt.fallback,ot=_e.mode,it=et.child,at=it.sibling;var lt={mode:"hidden",children:nt.children};return!(ot&1)&&_e.child!==it?(nt=_e.child,nt.childLanes=0,nt.pendingProps=lt,_e.deletions=null):(nt=wh(it,lt),nt.subtreeFlags=it.subtreeFlags&14680064),at!==null?st=wh(at,st):(st=Ah(st,ot,rt,null),st.flags|=2),st.return=_e,nt.return=_e,nt.sibling=st,_e.child=nt,nt=st,st=_e.child,ot=et.child.memoizedState,ot=ot===null?oj(rt):{baseLanes:ot.baseLanes|rt,cachePool:null,transitions:ot.transitions},st.memoizedState=ot,st.childLanes=et.childLanes&~rt,_e.memoizedState=nj,nt}return st=et.child,et=st.sibling,nt=wh(st,{mode:"visible",children:nt.children}),!(_e.mode&1)&&(nt.lanes=rt),nt.return=_e,nt.sibling=null,et!==null&&(rt=_e.deletions,rt===null?(_e.deletions=[et],_e.flags|=16):rt.push(et)),_e.child=nt,_e.memoizedState=null,nt}function rj(et,_e){return _e=qj({mode:"visible",children:_e},et.mode,0,null),_e.return=et,et.child=_e}function tj(et,_e,rt,nt){return nt!==null&&Jg(nt),Bh(_e,et.child,null,rt),et=rj(_e,_e.pendingProps.children),et.flags|=2,_e.memoizedState=null,et}function sj(et,_e,rt,nt,it,st,ot){if(rt)return _e.flags&256?(_e.flags&=-257,nt=Li(Error(p$1(422))),tj(et,_e,ot,nt)):_e.memoizedState!==null?(_e.child=et.child,_e.flags|=128,null):(st=nt.fallback,it=_e.mode,nt=qj({mode:"visible",children:nt.children},it,0,null),st=Ah(st,it,ot,null),st.flags|=2,nt.return=_e,st.return=_e,nt.sibling=st,_e.child=nt,_e.mode&1&&Bh(_e,et.child,null,ot),_e.child.memoizedState=oj(ot),_e.memoizedState=nj,st);if(!(_e.mode&1))return tj(et,_e,ot,null);if(it.data==="$!"){if(nt=it.nextSibling&&it.nextSibling.dataset,nt)var at=nt.dgst;return nt=at,st=Error(p$1(419)),nt=Li(st,nt,void 0),tj(et,_e,ot,nt)}if(at=(ot&et.childLanes)!==0,Ug||at){if(nt=R,nt!==null){switch(ot&-ot){case 4:it=2;break;case 16:it=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:it=32;break;case 536870912:it=268435456;break;default:it=0}it=it&(nt.suspendedLanes|ot)?0:it,it!==0&&it!==st.retryLane&&(st.retryLane=it,Zg(et,it),mh(nt,et,it,-1))}return uj(),nt=Li(Error(p$1(421))),tj(et,_e,ot,nt)}return it.data==="$?"?(_e.flags|=128,_e.child=et.child,_e=vj.bind(null,et),it._reactRetry=_e,null):(et=st.treeContext,yg=Lf(it.nextSibling),xg=_e,I$1=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=_e),_e=rj(_e,nt.children),_e.flags|=4096,_e)}function wj(et,_e,rt){et.lanes|=_e;var nt=et.alternate;nt!==null&&(nt.lanes|=_e),Sg(et.return,_e,rt)}function xj(et,_e,rt,nt,it){var st=et.memoizedState;st===null?et.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:nt,tail:rt,tailMode:it}:(st.isBackwards=_e,st.rendering=null,st.renderingStartTime=0,st.last=nt,st.tail=rt,st.tailMode=it)}function yj(et,_e,rt){var nt=_e.pendingProps,it=nt.revealOrder,st=nt.tail;if(Yi(et,_e,nt.children,rt),nt=M$1.current,nt&2)nt=nt&1|2,_e.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=_e.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,rt,_e);else if(et.tag===19)wj(et,rt,_e);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break e;for(;et.sibling===null;){if(et.return===null||et.return===_e)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}nt&=1}if(G$1(M$1,nt),!(_e.mode&1))_e.memoizedState=null;else switch(it){case"forwards":for(rt=_e.child,it=null;rt!==null;)et=rt.alternate,et!==null&&Mh(et)===null&&(it=rt),rt=rt.sibling;rt=it,rt===null?(it=_e.child,_e.child=null):(it=rt.sibling,rt.sibling=null),xj(_e,!1,it,rt,st);break;case"backwards":for(rt=null,it=_e.child,_e.child=null;it!==null;){if(et=it.alternate,et!==null&&Mh(et)===null){_e.child=it;break}et=it.sibling,it.sibling=rt,rt=it,it=et}xj(_e,!0,rt,null,st);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(et,_e){!(_e.mode&1)&&et!==null&&(et.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(et,_e,rt){if(et!==null&&(_e.dependencies=et.dependencies),hh|=_e.lanes,!(rt&_e.childLanes))return null;if(et!==null&&_e.child!==et.child)throw Error(p$1(153));if(_e.child!==null){for(et=_e.child,rt=wh(et,et.pendingProps),_e.child=rt,rt.return=_e;et.sibling!==null;)et=et.sibling,rt=rt.sibling=wh(et,et.pendingProps),rt.return=_e;rt.sibling=null}return _e.child}function zj(et,_e,rt){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var nt=_e.type._context,it=_e.memoizedProps.value;G$1(Mg,nt._currentValue),nt._currentValue=it;break;case 13:if(nt=_e.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(M$1,M$1.current&1),_e.flags|=128,null):rt&_e.child.childLanes?pj(et,_e,rt):(G$1(M$1,M$1.current&1),et=$i(et,_e,rt),et!==null?et.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(nt=(rt&_e.childLanes)!==0,et.flags&128){if(nt)return yj(et,_e,rt);_e.flags|=128}if(it=_e.memoizedState,it!==null&&(it.rendering=null,it.tail=null,it.lastEffect=null),G$1(M$1,M$1.current),nt)break;return null;case 22:case 23:return _e.lanes=0,ej(et,_e,rt)}return $i(et,_e,rt)}var Aj,Bj,Cj,Dj;Aj=function(et,_e){for(var rt=_e.child;rt!==null;){if(rt.tag===5||rt.tag===6)et.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===_e)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===_e)return;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}};Bj=function(){};Cj=function(et,_e,rt,nt){var it=et.memoizedProps;if(it!==nt){et=_e.stateNode,Hh(Eh.current);var st=null;switch(rt){case"input":it=Ya(et,it),nt=Ya(et,nt),st=[];break;case"select":it=A$1({},it,{value:void 0}),nt=A$1({},nt,{value:void 0}),st=[];break;case"textarea":it=gb(et,it),nt=gb(et,nt),st=[];break;default:typeof it.onClick!="function"&&typeof nt.onClick=="function"&&(et.onclick=Bf)}ub(rt,nt);var ot;rt=null;for(ut in it)if(!nt.hasOwnProperty(ut)&&it.hasOwnProperty(ut)&&it[ut]!=null)if(ut==="style"){var at=it[ut];for(ot in at)at.hasOwnProperty(ot)&&(rt||(rt={}),rt[ot]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?st||(st=[]):(st=st||[]).push(ut,null));for(ut in nt){var lt=nt[ut];if(at=it!=null?it[ut]:void 0,nt.hasOwnProperty(ut)&&lt!==at&&(lt!=null||at!=null))if(ut==="style")if(at){for(ot in at)!at.hasOwnProperty(ot)||lt&&lt.hasOwnProperty(ot)||(rt||(rt={}),rt[ot]="");for(ot in lt)lt.hasOwnProperty(ot)&&at[ot]!==lt[ot]&&(rt||(rt={}),rt[ot]=lt[ot])}else rt||(st||(st=[]),st.push(ut,rt)),rt=lt;else ut==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,at=at?at.__html:void 0,lt!=null&&at!==lt&&(st=st||[]).push(ut,lt)):ut==="children"?typeof lt!="string"&&typeof lt!="number"||(st=st||[]).push(ut,""+lt):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(lt!=null&&ut==="onScroll"&&D$1("scroll",et),st||at===lt||(st=[])):(st=st||[]).push(ut,lt))}rt&&(st=st||[]).push("style",rt);var ut=st;(_e.updateQueue=ut)&&(_e.flags|=4)}};Dj=function(et,_e,rt,nt){rt!==nt&&(_e.flags|=4)};function Ej(et,_e){if(!I$1)switch(et.tailMode){case"hidden":_e=et.tail;for(var rt=null;_e!==null;)_e.alternate!==null&&(rt=_e),_e=_e.sibling;rt===null?et.tail=null:rt.sibling=null;break;case"collapsed":rt=et.tail;for(var nt=null;rt!==null;)rt.alternate!==null&&(nt=rt),rt=rt.sibling;nt===null?_e||et.tail===null?et.tail=null:et.tail.sibling=null:nt.sibling=null}}function S$1(et){var _e=et.alternate!==null&&et.alternate.child===et.child,rt=0,nt=0;if(_e)for(var it=et.child;it!==null;)rt|=it.lanes|it.childLanes,nt|=it.subtreeFlags&14680064,nt|=it.flags&14680064,it.return=et,it=it.sibling;else for(it=et.child;it!==null;)rt|=it.lanes|it.childLanes,nt|=it.subtreeFlags,nt|=it.flags,it.return=et,it=it.sibling;return et.subtreeFlags|=nt,et.childLanes=rt,_e}function Fj(et,_e,rt){var nt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_e),null;case 1:return Zf(_e.type)&&$f(),S$1(_e),null;case 3:return nt=_e.stateNode,Jh(),E(Wf),E(H),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(et===null||et.child===null)&&(Gg(_e)?_e.flags|=4:et===null||et.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,_e),S$1(_e),null;case 5:Lh(_e);var it=Hh(Gh.current);if(rt=_e.type,et!==null&&_e.stateNode!=null)Cj(et,_e,rt,nt,it),et.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!nt){if(_e.stateNode===null)throw Error(p$1(166));return S$1(_e),null}if(et=Hh(Eh.current),Gg(_e)){nt=_e.stateNode,rt=_e.type;var st=_e.memoizedProps;switch(nt[Of]=_e,nt[Pf]=st,et=(_e.mode&1)!==0,rt){case"dialog":D$1("cancel",nt),D$1("close",nt);break;case"iframe":case"object":case"embed":D$1("load",nt);break;case"video":case"audio":for(it=0;it<lf.length;it++)D$1(lf[it],nt);break;case"source":D$1("error",nt);break;case"img":case"image":case"link":D$1("error",nt),D$1("load",nt);break;case"details":D$1("toggle",nt);break;case"input":Za(nt,st),D$1("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!st.multiple},D$1("invalid",nt);break;case"textarea":hb(nt,st),D$1("invalid",nt)}ub(rt,st),it=null;for(var ot in st)if(st.hasOwnProperty(ot)){var at=st[ot];ot==="children"?typeof at=="string"?nt.textContent!==at&&(st.suppressHydrationWarning!==!0&&Af(nt.textContent,at,et),it=["children",at]):typeof at=="number"&&nt.textContent!==""+at&&(st.suppressHydrationWarning!==!0&&Af(nt.textContent,at,et),it=["children",""+at]):ea.hasOwnProperty(ot)&&at!=null&&ot==="onScroll"&&D$1("scroll",nt)}switch(rt){case"input":Va(nt),db(nt,st,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof st.onClick=="function"&&(nt.onclick=Bf)}nt=it,_e.updateQueue=nt,nt!==null&&(_e.flags|=4)}else{ot=it.nodeType===9?it:it.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(rt)),et==="http://www.w3.org/1999/xhtml"?rt==="script"?(et=ot.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof nt.is=="string"?et=ot.createElement(rt,{is:nt.is}):(et=ot.createElement(rt),rt==="select"&&(ot=et,nt.multiple?ot.multiple=!0:nt.size&&(ot.size=nt.size))):et=ot.createElementNS(et,rt),et[Of]=_e,et[Pf]=nt,Aj(et,_e,!1,!1),_e.stateNode=et;e:{switch(ot=vb(rt,nt),rt){case"dialog":D$1("cancel",et),D$1("close",et),it=nt;break;case"iframe":case"object":case"embed":D$1("load",et),it=nt;break;case"video":case"audio":for(it=0;it<lf.length;it++)D$1(lf[it],et);it=nt;break;case"source":D$1("error",et),it=nt;break;case"img":case"image":case"link":D$1("error",et),D$1("load",et),it=nt;break;case"details":D$1("toggle",et),it=nt;break;case"input":Za(et,nt),it=Ya(et,nt),D$1("invalid",et);break;case"option":it=nt;break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},it=A$1({},nt,{value:void 0}),D$1("invalid",et);break;case"textarea":hb(et,nt),it=gb(et,nt),D$1("invalid",et);break;default:it=nt}ub(rt,it),at=it;for(st in at)if(at.hasOwnProperty(st)){var lt=at[st];st==="style"?sb(et,lt):st==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(et,lt)):st==="children"?typeof lt=="string"?(rt!=="textarea"||lt!=="")&&ob(et,lt):typeof lt=="number"&&ob(et,""+lt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?lt!=null&&st==="onScroll"&&D$1("scroll",et):lt!=null&&ta$1(et,st,lt,ot))}switch(rt){case"input":Va(et),db(et,nt,!1);break;case"textarea":Va(et),jb(et);break;case"option":nt.value!=null&&et.setAttribute("value",""+Sa(nt.value));break;case"select":et.multiple=!!nt.multiple,st=nt.value,st!=null?fb(et,!!nt.multiple,st,!1):nt.defaultValue!=null&&fb(et,!!nt.multiple,nt.defaultValue,!0);break;default:typeof it.onClick=="function"&&(et.onclick=Bf)}switch(rt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$1(_e),null;case 6:if(et&&_e.stateNode!=null)Dj(et,_e,et.memoizedProps,nt);else{if(typeof nt!="string"&&_e.stateNode===null)throw Error(p$1(166));if(rt=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(nt=_e.stateNode,rt=_e.memoizedProps,nt[Of]=_e,(st=nt.nodeValue!==rt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(nt.nodeValue,rt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,rt,(et.mode&1)!==0)}st&&(_e.flags|=4)}else nt=(rt.nodeType===9?rt:rt.ownerDocument).createTextNode(nt),nt[Of]=_e,_e.stateNode=nt}return S$1(_e),null;case 13:if(E(M$1),nt=_e.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,st=!1;else if(st=Gg(_e),nt!==null&&nt.dehydrated!==null){if(et===null){if(!st)throw Error(p$1(318));if(st=_e.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(p$1(317));st[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S$1(_e),st=!1}else zg!==null&&(Gj(zg),zg=null),st=!0;if(!st)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=rt,_e):(nt=nt!==null,nt!==(et!==null&&et.memoizedState!==null)&&nt&&(_e.child.flags|=8192,_e.mode&1&&(et===null||M$1.current&1?T$1===0&&(T$1=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$1(_e),null);case 4:return Jh(),Bj(et,_e),et===null&&sf(_e.stateNode.containerInfo),S$1(_e),null;case 10:return Rg(_e.type._context),S$1(_e),null;case 17:return Zf(_e.type)&&$f(),S$1(_e),null;case 19:if(E(M$1),st=_e.memoizedState,st===null)return S$1(_e),null;if(nt=(_e.flags&128)!==0,ot=st.rendering,ot===null)if(nt)Ej(st,!1);else{if(T$1!==0||et!==null&&et.flags&128)for(et=_e.child;et!==null;){if(ot=Mh(et),ot!==null){for(_e.flags|=128,Ej(st,!1),nt=ot.updateQueue,nt!==null&&(_e.updateQueue=nt,_e.flags|=4),_e.subtreeFlags=0,nt=rt,rt=_e.child;rt!==null;)st=rt,et=nt,st.flags&=14680066,ot=st.alternate,ot===null?(st.childLanes=0,st.lanes=et,st.child=null,st.subtreeFlags=0,st.memoizedProps=null,st.memoizedState=null,st.updateQueue=null,st.dependencies=null,st.stateNode=null):(st.childLanes=ot.childLanes,st.lanes=ot.lanes,st.child=ot.child,st.subtreeFlags=0,st.deletions=null,st.memoizedProps=ot.memoizedProps,st.memoizedState=ot.memoizedState,st.updateQueue=ot.updateQueue,st.type=ot.type,et=ot.dependencies,st.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),rt=rt.sibling;return G$1(M$1,M$1.current&1|2),_e.child}et=et.sibling}st.tail!==null&&B()>Hj&&(_e.flags|=128,nt=!0,Ej(st,!1),_e.lanes=4194304)}else{if(!nt)if(et=Mh(ot),et!==null){if(_e.flags|=128,nt=!0,rt=et.updateQueue,rt!==null&&(_e.updateQueue=rt,_e.flags|=4),Ej(st,!0),st.tail===null&&st.tailMode==="hidden"&&!ot.alternate&&!I$1)return S$1(_e),null}else 2*B()-st.renderingStartTime>Hj&&rt!==1073741824&&(_e.flags|=128,nt=!0,Ej(st,!1),_e.lanes=4194304);st.isBackwards?(ot.sibling=_e.child,_e.child=ot):(rt=st.last,rt!==null?rt.sibling=ot:_e.child=ot,st.last=ot)}return st.tail!==null?(_e=st.tail,st.rendering=_e,st.tail=_e.sibling,st.renderingStartTime=B(),_e.sibling=null,rt=M$1.current,G$1(M$1,nt?rt&1|2:rt&1),_e):(S$1(_e),null);case 22:case 23:return Ij(),nt=_e.memoizedState!==null,et!==null&&et.memoizedState!==null!==nt&&(_e.flags|=8192),nt&&_e.mode&1?gj&1073741824&&(S$1(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$1(_e),null;case 24:return null;case 25:return null}throw Error(p$1(156,_e.tag))}function Jj(et,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 3:return Jh(),E(Wf),E(H),Oh(),et=_e.flags,et&65536&&!(et&128)?(_e.flags=et&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E(M$1),et=_e.memoizedState,et!==null&&et.dehydrated!==null){if(_e.alternate===null)throw Error(p$1(340));Ig()}return et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 19:return E(M$1),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(et,_e){var rt=et.ref;if(rt!==null)if(typeof rt=="function")try{rt(null)}catch(nt){W$1(et,_e,nt)}else rt.current=null}function Nj(et,_e,rt){try{rt()}catch(nt){W$1(et,_e,nt)}}var Oj=!1;function Pj(et,_e){if(Cf=dd,et=Me(),Ne(et)){if("selectionStart"in et)var rt={start:et.selectionStart,end:et.selectionEnd};else e:{rt=(rt=et.ownerDocument)&&rt.defaultView||window;var nt=rt.getSelection&&rt.getSelection();if(nt&&nt.rangeCount!==0){rt=nt.anchorNode;var it=nt.anchorOffset,st=nt.focusNode;nt=nt.focusOffset;try{rt.nodeType,st.nodeType}catch{rt=null;break e}var ot=0,at=-1,lt=-1,ut=0,ct=0,dt=et,ft=null;t:for(;;){for(var pt;dt!==rt||it!==0&&dt.nodeType!==3||(at=ot+it),dt!==st||nt!==0&&dt.nodeType!==3||(lt=ot+nt),dt.nodeType===3&&(ot+=dt.nodeValue.length),(pt=dt.firstChild)!==null;)ft=dt,dt=pt;for(;;){if(dt===et)break t;if(ft===rt&&++ut===it&&(at=ot),ft===st&&++ct===nt&&(lt=ot),(pt=dt.nextSibling)!==null)break;dt=ft,ft=dt.parentNode}dt=pt}rt=at===-1||lt===-1?null:{start:at,end:lt}}else rt=null}rt=rt||{start:0,end:0}}else rt=null;for(Df={focusedElem:et,selectionRange:rt},dd=!1,V$1=_e;V$1!==null;)if(_e=V$1,et=_e.child,(_e.subtreeFlags&1028)!==0&&et!==null)et.return=_e,V$1=et;else for(;V$1!==null;){_e=V$1;try{var ht=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var mt=ht.memoizedProps,bt=ht.memoizedState,gt=_e.stateNode,xt=gt.getSnapshotBeforeUpdate(_e.elementType===_e.type?mt:Lg(_e.type,mt),bt);gt.__reactInternalSnapshotBeforeUpdate=xt}break;case 3:var yt=_e.stateNode.containerInfo;yt.nodeType===1?yt.textContent="":yt.nodeType===9&&yt.documentElement&&yt.removeChild(yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(vt){W$1(_e,_e.return,vt)}if(et=_e.sibling,et!==null){et.return=_e.return,V$1=et;break}V$1=_e.return}return ht=Oj,Oj=!1,ht}function Qj(et,_e,rt){var nt=_e.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var it=nt=nt.next;do{if((it.tag&et)===et){var st=it.destroy;it.destroy=void 0,st!==void 0&&Nj(_e,rt,st)}it=it.next}while(it!==nt)}}function Rj(et,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var rt=_e=_e.next;do{if((rt.tag&et)===et){var nt=rt.create;rt.destroy=nt()}rt=rt.next}while(rt!==_e)}}function Sj(et){var _e=et.ref;if(_e!==null){var rt=et.stateNode;switch(et.tag){case 5:et=rt;break;default:et=rt}typeof _e=="function"?_e(et):_e.current=et}}function Tj(et){var _e=et.alternate;_e!==null&&(et.alternate=null,Tj(_e)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(_e=et.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,_e,rt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,_e?rt.nodeType===8?rt.parentNode.insertBefore(et,_e):rt.insertBefore(et,_e):(rt.nodeType===8?(_e=rt.parentNode,_e.insertBefore(et,rt)):(_e=rt,_e.appendChild(et)),rt=rt._reactRootContainer,rt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(nt!==4&&(et=et.child,et!==null))for(Wj(et,_e,rt),et=et.sibling;et!==null;)Wj(et,_e,rt),et=et.sibling}function Xj(et,_e,rt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,_e?rt.insertBefore(et,_e):rt.appendChild(et);else if(nt!==4&&(et=et.child,et!==null))for(Xj(et,_e,rt),et=et.sibling;et!==null;)Xj(et,_e,rt),et=et.sibling}var X$1=null,Yj=!1;function Zj(et,_e,rt){for(rt=rt.child;rt!==null;)ak(et,_e,rt),rt=rt.sibling}function ak(et,_e,rt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rt)}catch{}switch(rt.tag){case 5:U$1||Mj(rt,_e);case 6:var nt=X$1,it=Yj;X$1=null,Zj(et,_e,rt),X$1=nt,Yj=it,X$1!==null&&(Yj?(et=X$1,rt=rt.stateNode,et.nodeType===8?et.parentNode.removeChild(rt):et.removeChild(rt)):X$1.removeChild(rt.stateNode));break;case 18:X$1!==null&&(Yj?(et=X$1,rt=rt.stateNode,et.nodeType===8?Kf(et.parentNode,rt):et.nodeType===1&&Kf(et,rt),bd(et)):Kf(X$1,rt.stateNode));break;case 4:nt=X$1,it=Yj,X$1=rt.stateNode.containerInfo,Yj=!0,Zj(et,_e,rt),X$1=nt,Yj=it;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=rt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){it=nt=nt.next;do{var st=it,ot=st.destroy;st=st.tag,ot!==void 0&&(st&2||st&4)&&Nj(rt,_e,ot),it=it.next}while(it!==nt)}Zj(et,_e,rt);break;case 1:if(!U$1&&(Mj(rt,_e),nt=rt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=rt.memoizedProps,nt.state=rt.memoizedState,nt.componentWillUnmount()}catch(at){W$1(rt,_e,at)}Zj(et,_e,rt);break;case 21:Zj(et,_e,rt);break;case 22:rt.mode&1?(U$1=(nt=U$1)||rt.memoizedState!==null,Zj(et,_e,rt),U$1=nt):Zj(et,_e,rt);break;default:Zj(et,_e,rt)}}function bk(et){var _e=et.updateQueue;if(_e!==null){et.updateQueue=null;var rt=et.stateNode;rt===null&&(rt=et.stateNode=new Lj),_e.forEach(function(nt){var it=ck.bind(null,et,nt);rt.has(nt)||(rt.add(nt),nt.then(it,it))})}}function dk(et,_e){var rt=_e.deletions;if(rt!==null)for(var nt=0;nt<rt.length;nt++){var it=rt[nt];try{var st=et,ot=_e,at=ot;e:for(;at!==null;){switch(at.tag){case 5:X$1=at.stateNode,Yj=!1;break e;case 3:X$1=at.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X$1===null)throw Error(p$1(160));ak(st,ot,it),X$1=null,Yj=!1;var lt=it.alternate;lt!==null&&(lt.return=null),it.return=null}catch(ut){W$1(it,_e,ut)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,et),_e=_e.sibling}function ek(et,_e){var rt=et.alternate,nt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(_e,et),fk(et),nt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(mt){W$1(et,et.return,mt)}try{Qj(5,et,et.return)}catch(mt){W$1(et,et.return,mt)}}break;case 1:dk(_e,et),fk(et),nt&512&&rt!==null&&Mj(rt,rt.return);break;case 5:if(dk(_e,et),fk(et),nt&512&&rt!==null&&Mj(rt,rt.return),et.flags&32){var it=et.stateNode;try{ob(it,"")}catch(mt){W$1(et,et.return,mt)}}if(nt&4&&(it=et.stateNode,it!=null)){var st=et.memoizedProps,ot=rt!==null?rt.memoizedProps:st,at=et.type,lt=et.updateQueue;if(et.updateQueue=null,lt!==null)try{at==="input"&&st.type==="radio"&&st.name!=null&&ab(it,st),vb(at,ot);var ut=vb(at,st);for(ot=0;ot<lt.length;ot+=2){var ct=lt[ot],dt=lt[ot+1];ct==="style"?sb(it,dt):ct==="dangerouslySetInnerHTML"?nb(it,dt):ct==="children"?ob(it,dt):ta$1(it,ct,dt,ut)}switch(at){case"input":bb(it,st);break;case"textarea":ib(it,st);break;case"select":var ft=it._wrapperState.wasMultiple;it._wrapperState.wasMultiple=!!st.multiple;var pt=st.value;pt!=null?fb(it,!!st.multiple,pt,!1):ft!==!!st.multiple&&(st.defaultValue!=null?fb(it,!!st.multiple,st.defaultValue,!0):fb(it,!!st.multiple,st.multiple?[]:"",!1))}it[Pf]=st}catch(mt){W$1(et,et.return,mt)}}break;case 6:if(dk(_e,et),fk(et),nt&4){if(et.stateNode===null)throw Error(p$1(162));it=et.stateNode,st=et.memoizedProps;try{it.nodeValue=st}catch(mt){W$1(et,et.return,mt)}}break;case 3:if(dk(_e,et),fk(et),nt&4&&rt!==null&&rt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(mt){W$1(et,et.return,mt)}break;case 4:dk(_e,et),fk(et);break;case 13:dk(_e,et),fk(et),it=et.child,it.flags&8192&&(st=it.memoizedState!==null,it.stateNode.isHidden=st,!st||it.alternate!==null&&it.alternate.memoizedState!==null||(gk=B())),nt&4&&bk(et);break;case 22:if(ct=rt!==null&&rt.memoizedState!==null,et.mode&1?(U$1=(ut=U$1)||ct,dk(_e,et),U$1=ut):dk(_e,et),fk(et),nt&8192){if(ut=et.memoizedState!==null,(et.stateNode.isHidden=ut)&&!ct&&et.mode&1)for(V$1=et,ct=et.child;ct!==null;){for(dt=V$1=ct;V$1!==null;){switch(ft=V$1,pt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var ht=ft.stateNode;if(typeof ht.componentWillUnmount=="function"){nt=ft,rt=ft.return;try{_e=nt,ht.props=_e.memoizedProps,ht.state=_e.memoizedState,ht.componentWillUnmount()}catch(mt){W$1(nt,rt,mt)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(dt);continue}}pt!==null?(pt.return=ft,V$1=pt):hk(dt)}ct=ct.sibling}e:for(ct=null,dt=et;;){if(dt.tag===5){if(ct===null){ct=dt;try{it=dt.stateNode,ut?(st=it.style,typeof st.setProperty=="function"?st.setProperty("display","none","important"):st.display="none"):(at=dt.stateNode,lt=dt.memoizedProps.style,ot=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,at.style.display=rb("display",ot))}catch(mt){W$1(et,et.return,mt)}}}else if(dt.tag===6){if(ct===null)try{dt.stateNode.nodeValue=ut?"":dt.memoizedProps}catch(mt){W$1(et,et.return,mt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===et)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===et)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===et)break e;ct===dt&&(ct=null),dt=dt.return}ct===dt&&(ct=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk(_e,et),fk(et),nt&4&&bk(et);break;case 21:break;default:dk(_e,et),fk(et)}}function fk(et){var _e=et.flags;if(_e&2){try{e:{for(var rt=et.return;rt!==null;){if(Uj(rt)){var nt=rt;break e}rt=rt.return}throw Error(p$1(160))}switch(nt.tag){case 5:var it=nt.stateNode;nt.flags&32&&(ob(it,""),nt.flags&=-33);var st=Vj(et);Xj(et,st,it);break;case 3:case 4:var ot=nt.stateNode.containerInfo,at=Vj(et);Wj(et,at,ot);break;default:throw Error(p$1(161))}}catch(lt){W$1(et,et.return,lt)}et.flags&=-3}_e&4096&&(et.flags&=-4097)}function ik(et,_e,rt){V$1=et,jk(et)}function jk(et,_e,rt){for(var nt=(et.mode&1)!==0;V$1!==null;){var it=V$1,st=it.child;if(it.tag===22&&nt){var ot=it.memoizedState!==null||Kj;if(!ot){var at=it.alternate,lt=at!==null&&at.memoizedState!==null||U$1;at=Kj;var ut=U$1;if(Kj=ot,(U$1=lt)&&!ut)for(V$1=it;V$1!==null;)ot=V$1,lt=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(it):lt!==null?(lt.return=ot,V$1=lt):kk(it);for(;st!==null;)V$1=st,jk(st),st=st.sibling;V$1=it,Kj=at,U$1=ut}lk(et)}else it.subtreeFlags&8772&&st!==null?(st.return=it,V$1=st):lk(et)}}function lk(et){for(;V$1!==null;){var _e=V$1;if(_e.flags&8772){var rt=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var nt=_e.stateNode;if(_e.flags&4&&!U$1)if(rt===null)nt.componentDidMount();else{var it=_e.elementType===_e.type?rt.memoizedProps:Lg(_e.type,rt.memoizedProps);nt.componentDidUpdate(it,rt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var st=_e.updateQueue;st!==null&&ih(_e,st,nt);break;case 3:var ot=_e.updateQueue;if(ot!==null){if(rt=null,_e.child!==null)switch(_e.child.tag){case 5:rt=_e.child.stateNode;break;case 1:rt=_e.child.stateNode}ih(_e,ot,rt)}break;case 5:var at=_e.stateNode;if(rt===null&&_e.flags&4){rt=at;var lt=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&rt.focus();break;case"img":lt.src&&(rt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var ut=_e.alternate;if(ut!==null){var ct=ut.memoizedState;if(ct!==null){var dt=ct.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||_e.flags&512&&Sj(_e)}catch(ft){W$1(_e,_e.return,ft)}}if(_e===et){V$1=null;break}if(rt=_e.sibling,rt!==null){rt.return=_e.return,V$1=rt;break}V$1=_e.return}}function hk(et){for(;V$1!==null;){var _e=V$1;if(_e===et){V$1=null;break}var rt=_e.sibling;if(rt!==null){rt.return=_e.return,V$1=rt;break}V$1=_e.return}}function kk(et){for(;V$1!==null;){var _e=V$1;try{switch(_e.tag){case 0:case 11:case 15:var rt=_e.return;try{Rj(4,_e)}catch(lt){W$1(_e,rt,lt)}break;case 1:var nt=_e.stateNode;if(typeof nt.componentDidMount=="function"){var it=_e.return;try{nt.componentDidMount()}catch(lt){W$1(_e,it,lt)}}var st=_e.return;try{Sj(_e)}catch(lt){W$1(_e,st,lt)}break;case 5:var ot=_e.return;try{Sj(_e)}catch(lt){W$1(_e,ot,lt)}}}catch(lt){W$1(_e,_e.return,lt)}if(_e===et){V$1=null;break}var at=_e.sibling;if(at!==null){at.return=_e.return,V$1=at;break}V$1=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk$1=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(et){return et.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function mh(et,_e,rt,nt){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(et,rt,nt),(!(K&2)||et!==R)&&(et===R&&(!(K&2)&&(rk|=rt),T$1===4&&Dk(et,Z$1)),Ek(et,nt),rt===1&&K===0&&!(_e.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(et,_e){var rt=et.callbackNode;wc(et,_e);var nt=uc(et,et===R?Z$1:0);if(nt===0)rt!==null&&bc(rt),et.callbackNode=null,et.callbackPriority=0;else if(_e=nt&-nt,et.callbackPriority!==_e){if(rt!=null&&bc(rt),_e===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){!(K&6)&&jg()}),rt=null;else{switch(Dc(nt)){case 1:rt=fc;break;case 4:rt=gc;break;case 16:rt=hc;break;case 536870912:rt=jc;break;default:rt=hc}rt=Gk(rt,Hk.bind(null,et))}et.callbackPriority=_e,et.callbackNode=rt}}function Hk(et,_e){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var rt=et.callbackNode;if(Ik()&&et.callbackNode!==rt)return null;var nt=uc(et,et===R?Z$1:0);if(nt===0)return null;if(nt&30||nt&et.expiredLanes||_e)_e=Jk(et,nt);else{_e=nt;var it=K;K|=2;var st=Kk();(R!==et||Z$1!==_e)&&(vk=null,Hj=B()+500,Lk(et,_e));do try{Mk();break}catch(at){Nk(et,at)}while(1);Qg(),nk.current=st,K=it,Y$1!==null?_e=0:(R=null,Z$1=0,_e=T$1)}if(_e!==0){if(_e===2&&(it=xc(et),it!==0&&(nt=it,_e=Ok(et,it))),_e===1)throw rt=qk,Lk(et,0),Dk(et,nt),Ek(et,B()),rt;if(_e===6)Dk(et,nt);else{if(it=et.current.alternate,!(nt&30)&&!Pk(it)&&(_e=Jk(et,nt),_e===2&&(st=xc(et),st!==0&&(nt=st,_e=Ok(et,st))),_e===1))throw rt=qk,Lk(et,0),Dk(et,nt),Ek(et,B()),rt;switch(et.finishedWork=it,et.finishedLanes=nt,_e){case 0:case 1:throw Error(p$1(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,nt),(nt&130023424)===nt&&(_e=gk+500-B(),10<_e)){if(uc(et,0)!==0)break;if(it=et.suspendedLanes,(it&nt)!==nt){L(),et.pingedLanes|=et.suspendedLanes&it;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),_e);break}Qk(et,uk,vk);break;case 4:if(Dk(et,nt),(nt&4194240)===nt)break;for(_e=et.eventTimes,it=-1;0<nt;){var ot=31-oc(nt);st=1<<ot,ot=_e[ot],ot>it&&(it=ot),nt&=~st}if(nt=it,nt=B()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),nt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(et,B()),et.callbackNode===rt?Hk.bind(null,et):null}function Ok(et,_e){var rt=tk$1;return et.current.memoizedState.isDehydrated&&(Lk(et,_e).flags|=256),et=Jk(et,_e),et!==2&&(_e=uk,uk=rt,_e!==null&&Gj(_e)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var _e=et;;){if(_e.flags&16384){var rt=_e.updateQueue;if(rt!==null&&(rt=rt.stores,rt!==null))for(var nt=0;nt<rt.length;nt++){var it=rt[nt],st=it.getSnapshot;it=it.value;try{if(!He(st(),it))return!1}catch{return!1}}}if(rt=_e.child,_e.subtreeFlags&16384&&rt!==null)rt.return=_e,_e=rt;else{if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(et,_e){for(_e&=~sk,_e&=~rk,et.suspendedLanes|=_e,et.pingedLanes&=~_e,et=et.expirationTimes;0<_e;){var rt=31-oc(_e),nt=1<<rt;et[rt]=-1,_e&=~nt}}function Fk(et){if(K&6)throw Error(p$1(327));Ik();var _e=uc(et,0);if(!(_e&1))return Ek(et,B()),null;var rt=Jk(et,_e);if(et.tag!==0&&rt===2){var nt=xc(et);nt!==0&&(_e=nt,rt=Ok(et,nt))}if(rt===1)throw rt=qk,Lk(et,0),Dk(et,_e),Ek(et,B()),rt;if(rt===6)throw Error(p$1(345));return et.finishedWork=et.current.alternate,et.finishedLanes=_e,Qk(et,uk,vk),Ek(et,B()),null}function Rk(et,_e){var rt=K;K|=1;try{return et(_e)}finally{K=rt,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var _e=K;K|=1;var rt=pk.transition,nt=C;try{if(pk.transition=null,C=1,et)return et()}finally{C=nt,pk.transition=rt,K=_e,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(et,_e){et.finishedWork=null,et.finishedLanes=0;var rt=et.timeoutHandle;if(rt!==-1&&(et.timeoutHandle=-1,Gf(rt)),Y$1!==null)for(rt=Y$1.return;rt!==null;){var nt=rt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E(M$1);break;case 19:E(M$1);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}rt=rt.return}if(R=et,Y$1=et=wh(et.current,null),Z$1=gj=_e,T$1=0,qk=null,sk=rk=hh=0,uk=tk$1=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(rt=Wg[_e],nt=rt.interleaved,nt!==null){rt.interleaved=null;var it=nt.next,st=rt.pending;if(st!==null){var ot=st.next;st.next=it,nt.next=ot}rt.pending=nt}Wg=null}return et}function Nk(et,_e){do{var rt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N.memoizedState;nt!==null;){var it=nt.queue;it!==null&&(it.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$1=O$1=N=null,Th=!1,Uh=0,ok.current=null,rt===null||rt.return===null){T$1=1,qk=_e,Y$1=null;break}e:{var st=et,ot=rt.return,at=rt,lt=_e;if(_e=Z$1,at.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ut=lt,ct=at,dt=ct.tag;if(!(ct.mode&1)&&(dt===0||dt===11||dt===15)){var ft=ct.alternate;ft?(ct.updateQueue=ft.updateQueue,ct.memoizedState=ft.memoizedState,ct.lanes=ft.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var pt=Vi(ot);if(pt!==null){pt.flags&=-257,Wi(pt,ot,at,st,_e),pt.mode&1&&Ti(st,ut,_e),_e=pt,lt=ut;var ht=_e.updateQueue;if(ht===null){var mt=new Set;mt.add(lt),_e.updateQueue=mt}else ht.add(lt);break e}else{if(!(_e&1)){Ti(st,ut,_e),uj();break e}lt=Error(p$1(426))}}else if(I$1&&at.mode&1){var bt=Vi(ot);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),Wi(bt,ot,at,st,_e),Jg(Ki(lt,at));break e}}st=lt=Ki(lt,at),T$1!==4&&(T$1=2),tk$1===null?tk$1=[st]:tk$1.push(st),st=ot;do{switch(st.tag){case 3:st.flags|=65536,_e&=-_e,st.lanes|=_e;var gt=Oi(st,lt,_e);fh(st,gt);break e;case 1:at=lt;var xt=st.type,yt=st.stateNode;if(!(st.flags&128)&&(typeof xt.getDerivedStateFromError=="function"||yt!==null&&typeof yt.componentDidCatch=="function"&&(Si===null||!Si.has(yt)))){st.flags|=65536,_e&=-_e,st.lanes|=_e;var vt=Ri(st,at,_e);fh(st,vt);break e}}st=st.return}while(st!==null)}Tk(rt)}catch(Pt){_e=Pt,Y$1===rt&&rt!==null&&(Y$1=rt=rt.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z$1)}function Jk(et,_e){var rt=K;K|=2;var nt=Kk();(R!==et||Z$1!==_e)&&(vk=null,Lk(et,_e));do try{Uk();break}catch(it){Nk(et,it)}while(1);if(Qg(),K=rt,nk.current=nt,Y$1!==null)throw Error(p$1(261));return R=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(et){var _e=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,_e===null?Tk(et):Y$1=_e,ok.current=null}function Tk(et){var _e=et;do{var rt=_e.alternate;if(et=_e.return,_e.flags&32768){if(rt=Jj(rt,_e),rt!==null){rt.flags&=32767,Y$1=rt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$1=6,Y$1=null;return}}else if(rt=Fj(rt,_e,gj),rt!==null){Y$1=rt;return}if(_e=_e.sibling,_e!==null){Y$1=_e;return}Y$1=_e=et}while(_e!==null);T$1===0&&(T$1=5)}function Qk(et,_e,rt){var nt=C,it=pk.transition;try{pk.transition=null,C=1,Xk(et,_e,rt,nt)}finally{pk.transition=it,C=nt}return null}function Xk(et,_e,rt,nt){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));rt=et.finishedWork;var it=et.finishedLanes;if(rt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,rt===et.current)throw Error(p$1(177));et.callbackNode=null,et.callbackPriority=0;var st=rt.lanes|rt.childLanes;if(Bc(et,st),et===R&&(Y$1=R=null,Z$1=0),!(rt.subtreeFlags&2064)&&!(rt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),st=(rt.flags&15990)!==0,rt.subtreeFlags&15990||st){st=pk.transition,pk.transition=null;var ot=C;C=1;var at=K;K|=4,ok.current=null,Pj(et,rt),ek(rt,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=rt,ik(rt),dc(),K=at,C=ot,pk.transition=st}else et.current=rt;if(wk&&(wk=!1,xk=et,yk=it),st=et.pendingLanes,st===0&&(Si=null),mc(rt.stateNode),Ek(et,B()),_e!==null)for(nt=et.onRecoverableError,rt=0;rt<_e.length;rt++)it=_e[rt],nt(it.value,{componentStack:it.stack,digest:it.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return yk&1&&et.tag!==0&&Ik(),st=et.pendingLanes,st&1?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),_e=pk.transition,rt=C;try{if(pk.transition=null,C=16>et?16:et,xk===null)var nt=!1;else{if(et=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var it=K;for(K|=4,V$1=et.current;V$1!==null;){var st=V$1,ot=st.child;if(V$1.flags&16){var at=st.deletions;if(at!==null){for(var lt=0;lt<at.length;lt++){var ut=at[lt];for(V$1=ut;V$1!==null;){var ct=V$1;switch(ct.tag){case 0:case 11:case 15:Qj(8,ct,st)}var dt=ct.child;if(dt!==null)dt.return=ct,V$1=dt;else for(;V$1!==null;){ct=V$1;var ft=ct.sibling,pt=ct.return;if(Tj(ct),ct===ut){V$1=null;break}if(ft!==null){ft.return=pt,V$1=ft;break}V$1=pt}}}var ht=st.alternate;if(ht!==null){var mt=ht.child;if(mt!==null){ht.child=null;do{var bt=mt.sibling;mt.sibling=null,mt=bt}while(mt!==null)}}V$1=st}}if(st.subtreeFlags&2064&&ot!==null)ot.return=st,V$1=ot;else e:for(;V$1!==null;){if(st=V$1,st.flags&2048)switch(st.tag){case 0:case 11:case 15:Qj(9,st,st.return)}var gt=st.sibling;if(gt!==null){gt.return=st.return,V$1=gt;break e}V$1=st.return}}var xt=et.current;for(V$1=xt;V$1!==null;){ot=V$1;var yt=ot.child;if(ot.subtreeFlags&2064&&yt!==null)yt.return=ot,V$1=yt;else e:for(ot=xt;V$1!==null;){if(at=V$1,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(Pt){W$1(at,at.return,Pt)}if(at===ot){V$1=null;break e}var vt=at.sibling;if(vt!==null){vt.return=at.return,V$1=vt;break e}V$1=at.return}}if(K=it,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}nt=!0}return nt}finally{C=rt,pk.transition=_e}}return!1}function Yk(et,_e,rt){_e=Ki(rt,_e),_e=Oi(et,_e,1),et=dh(et,_e,1),_e=L(),et!==null&&(Ac(et,1,_e),Ek(et,_e))}function W$1(et,_e,rt){if(et.tag===3)Yk(et,et,rt);else for(;_e!==null;){if(_e.tag===3){Yk(_e,et,rt);break}else if(_e.tag===1){var nt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){et=Ki(rt,et),et=Ri(_e,et,1),_e=dh(_e,et,1),et=L(),_e!==null&&(Ac(_e,1,et),Ek(_e,et));break}}_e=_e.return}}function Ui(et,_e,rt){var nt=et.pingCache;nt!==null&&nt.delete(_e),_e=L(),et.pingedLanes|=et.suspendedLanes&rt,R===et&&(Z$1&rt)===rt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B()-gk?Lk(et,0):sk|=rt),Ek(et,_e)}function Zk(et,_e){_e===0&&(et.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var rt=L();et=Zg(et,_e),et!==null&&(Ac(et,_e,rt),Ek(et,rt))}function vj(et){var _e=et.memoizedState,rt=0;_e!==null&&(rt=_e.retryLane),Zk(et,rt)}function ck(et,_e){var rt=0;switch(et.tag){case 13:var nt=et.stateNode,it=et.memoizedState;it!==null&&(rt=it.retryLane);break;case 19:nt=et.stateNode;break;default:throw Error(p$1(314))}nt!==null&&nt.delete(_e),Zk(et,rt)}var Wk;Wk=function(et,_e,rt){if(et!==null)if(et.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if(!(et.lanes&rt)&&!(_e.flags&128))return Ug=!1,zj(et,_e,rt);Ug=!!(et.flags&131072)}else Ug=!1,I$1&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var nt=_e.type;jj(et,_e),et=_e.pendingProps;var it=Yf(_e,H.current);Tg(_e,rt),it=Xh(null,_e,nt,et,it,rt);var st=bi();return _e.flags|=1,typeof it=="object"&&it!==null&&typeof it.render=="function"&&it.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(nt)?(st=!0,cg(_e)):st=!1,_e.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,ah(_e),it.updater=nh,_e.stateNode=it,it._reactInternals=_e,rh(_e,nt,et,rt),_e=kj(null,_e,nt,!0,st,rt)):(_e.tag=0,I$1&&st&&vg(_e),Yi(null,_e,it,rt),_e=_e.child),_e;case 16:nt=_e.elementType;e:{switch(jj(et,_e),et=_e.pendingProps,it=nt._init,nt=it(nt._payload),_e.type=nt,it=_e.tag=$k(nt),et=Lg(nt,et),it){case 0:_e=dj(null,_e,nt,et,rt);break e;case 1:_e=ij(null,_e,nt,et,rt);break e;case 11:_e=Zi(null,_e,nt,et,rt);break e;case 14:_e=aj(null,_e,nt,Lg(nt.type,et),rt);break e}throw Error(p$1(306,nt,""))}return _e;case 0:return nt=_e.type,it=_e.pendingProps,it=_e.elementType===nt?it:Lg(nt,it),dj(et,_e,nt,it,rt);case 1:return nt=_e.type,it=_e.pendingProps,it=_e.elementType===nt?it:Lg(nt,it),ij(et,_e,nt,it,rt);case 3:e:{if(lj(_e),et===null)throw Error(p$1(387));nt=_e.pendingProps,st=_e.memoizedState,it=st.element,bh(et,_e),gh(_e,nt,null,rt);var ot=_e.memoizedState;if(nt=ot.element,st.isDehydrated)if(st={element:nt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},_e.updateQueue.baseState=st,_e.memoizedState=st,_e.flags&256){it=Ki(Error(p$1(423)),_e),_e=mj(et,_e,nt,rt,it);break e}else if(nt!==it){it=Ki(Error(p$1(424)),_e),_e=mj(et,_e,nt,rt,it);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$1=!0,zg=null,rt=Ch(_e,null,nt,rt),_e.child=rt;rt;)rt.flags=rt.flags&-3|4096,rt=rt.sibling;else{if(Ig(),nt===it){_e=$i(et,_e,rt);break e}Yi(et,_e,nt,rt)}_e=_e.child}return _e;case 5:return Kh(_e),et===null&&Eg(_e),nt=_e.type,it=_e.pendingProps,st=et!==null?et.memoizedProps:null,ot=it.children,Ef(nt,it)?ot=null:st!==null&&Ef(nt,st)&&(_e.flags|=32),hj(et,_e),Yi(et,_e,ot,rt),_e.child;case 6:return et===null&&Eg(_e),null;case 13:return pj(et,_e,rt);case 4:return Ih(_e,_e.stateNode.containerInfo),nt=_e.pendingProps,et===null?_e.child=Bh(_e,null,nt,rt):Yi(et,_e,nt,rt),_e.child;case 11:return nt=_e.type,it=_e.pendingProps,it=_e.elementType===nt?it:Lg(nt,it),Zi(et,_e,nt,it,rt);case 7:return Yi(et,_e,_e.pendingProps,rt),_e.child;case 8:return Yi(et,_e,_e.pendingProps.children,rt),_e.child;case 12:return Yi(et,_e,_e.pendingProps.children,rt),_e.child;case 10:e:{if(nt=_e.type._context,it=_e.pendingProps,st=_e.memoizedProps,ot=it.value,G$1(Mg,nt._currentValue),nt._currentValue=ot,st!==null)if(He(st.value,ot)){if(st.children===it.children&&!Wf.current){_e=$i(et,_e,rt);break e}}else for(st=_e.child,st!==null&&(st.return=_e);st!==null;){var at=st.dependencies;if(at!==null){ot=st.child;for(var lt=at.firstContext;lt!==null;){if(lt.context===nt){if(st.tag===1){lt=ch(-1,rt&-rt),lt.tag=2;var ut=st.updateQueue;if(ut!==null){ut=ut.shared;var ct=ut.pending;ct===null?lt.next=lt:(lt.next=ct.next,ct.next=lt),ut.pending=lt}}st.lanes|=rt,lt=st.alternate,lt!==null&&(lt.lanes|=rt),Sg(st.return,rt,_e),at.lanes|=rt;break}lt=lt.next}}else if(st.tag===10)ot=st.type===_e.type?null:st.child;else if(st.tag===18){if(ot=st.return,ot===null)throw Error(p$1(341));ot.lanes|=rt,at=ot.alternate,at!==null&&(at.lanes|=rt),Sg(ot,rt,_e),ot=st.sibling}else ot=st.child;if(ot!==null)ot.return=st;else for(ot=st;ot!==null;){if(ot===_e){ot=null;break}if(st=ot.sibling,st!==null){st.return=ot.return,ot=st;break}ot=ot.return}st=ot}Yi(et,_e,it.children,rt),_e=_e.child}return _e;case 9:return it=_e.type,nt=_e.pendingProps.children,Tg(_e,rt),it=Vg(it),nt=nt(it),_e.flags|=1,Yi(et,_e,nt,rt),_e.child;case 14:return nt=_e.type,it=Lg(nt,_e.pendingProps),it=Lg(nt.type,it),aj(et,_e,nt,it,rt);case 15:return cj(et,_e,_e.type,_e.pendingProps,rt);case 17:return nt=_e.type,it=_e.pendingProps,it=_e.elementType===nt?it:Lg(nt,it),jj(et,_e),_e.tag=1,Zf(nt)?(et=!0,cg(_e)):et=!1,Tg(_e,rt),ph(_e,nt,it),rh(_e,nt,it,rt),kj(null,_e,nt,!0,et,rt);case 19:return yj(et,_e,rt);case 22:return ej(et,_e,rt)}throw Error(p$1(156,_e.tag))};function Gk(et,_e){return ac(et,_e)}function al(et,_e,rt,nt){this.tag=et,this.key=rt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,_e,rt,nt){return new al(et,_e,rt,nt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,_e){var rt=et.alternate;return rt===null?(rt=Bg(et.tag,_e,et.key,et.mode),rt.elementType=et.elementType,rt.type=et.type,rt.stateNode=et.stateNode,rt.alternate=et,et.alternate=rt):(rt.pendingProps=_e,rt.type=et.type,rt.flags=0,rt.subtreeFlags=0,rt.deletions=null),rt.flags=et.flags&14680064,rt.childLanes=et.childLanes,rt.lanes=et.lanes,rt.child=et.child,rt.memoizedProps=et.memoizedProps,rt.memoizedState=et.memoizedState,rt.updateQueue=et.updateQueue,_e=et.dependencies,rt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},rt.sibling=et.sibling,rt.index=et.index,rt.ref=et.ref,rt}function yh(et,_e,rt,nt,it,st){var ot=2;if(nt=et,typeof et=="function")bj(et)&&(ot=1);else if(typeof et=="string")ot=5;else e:switch(et){case ya:return Ah(rt.children,it,st,_e);case za:ot=8,it|=8;break;case Aa:return et=Bg(12,rt,_e,it|2),et.elementType=Aa,et.lanes=st,et;case Ea:return et=Bg(13,rt,_e,it),et.elementType=Ea,et.lanes=st,et;case Fa:return et=Bg(19,rt,_e,it),et.elementType=Fa,et.lanes=st,et;case Ia:return qj(rt,it,st,_e);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,nt=null;break e}throw Error(p$1(130,et==null?et:typeof et,""))}return _e=Bg(ot,rt,_e,it),_e.elementType=et,_e.type=nt,_e.lanes=st,_e}function Ah(et,_e,rt,nt){return et=Bg(7,et,nt,_e),et.lanes=rt,et}function qj(et,_e,rt,nt){return et=Bg(22,et,nt,_e),et.elementType=Ia,et.lanes=rt,et.stateNode={isHidden:!1},et}function xh(et,_e,rt){return et=Bg(6,et,null,_e),et.lanes=rt,et}function zh(et,_e,rt){return _e=Bg(4,et.children!==null?et.children:[],et.key,_e),_e.lanes=rt,_e.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},_e}function bl(et,_e,rt,nt,it){this.tag=_e,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=it,this.mutableSourceEagerHydrationData=null}function cl(et,_e,rt,nt,it,st,ot,at,lt){return et=new bl(et,_e,rt,at,lt),_e===1?(_e=1,st===!0&&(_e|=8)):_e=0,st=Bg(3,null,null,_e),et.current=st,st.stateNode=et,st.memoizedState={element:nt,isDehydrated:rt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(st),et}function dl(et,_e,rt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:et,containerInfo:_e,implementation:rt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$1(170));var _e=et;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$1(171))}if(et.tag===1){var rt=et.type;if(Zf(rt))return bg(et,rt,_e)}return _e}function fl(et,_e,rt,nt,it,st,ot,at,lt){return et=cl(rt,nt,!0,et,it,st,ot,at,lt),et.context=el(null),rt=et.current,nt=L(),it=lh(rt),st=ch(nt,it),st.callback=_e??null,dh(rt,st,it),et.current.lanes=it,Ac(et,it,nt),Ek(et,nt),et}function gl(et,_e,rt,nt){var it=_e.current,st=L(),ot=lh(it);return rt=el(rt),_e.context===null?_e.context=rt:_e.pendingContext=rt,_e=ch(st,ot),_e.payload={element:et},nt=nt===void 0?null:nt,nt!==null&&(_e.callback=nt),et=dh(it,_e,ot),et!==null&&(mh(et,it,ot,st),eh(et,it,ot)),ot}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,_e){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var rt=et.retryLane;et.retryLane=rt!==0&&rt<_e?rt:_e}}function jl(et,_e){il(et,_e),(et=et.alternate)&&il(et,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var _e=this._internalRoot;if(_e===null)throw Error(p$1(409));gl(et,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var _e=et.containerInfo;Sk(function(){gl(null,et,null,null)}),_e[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var _e=Hc();et={blockedOn:null,target:et,priority:_e};for(var rt=0;rt<Qc.length&&_e!==0&&_e<Qc[rt].priority;rt++);Qc.splice(rt,0,et),rt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,_e,rt,nt,it){if(it){if(typeof nt=="function"){var st=nt;nt=function(){var ut=hl(ot);st.call(ut)}}var ot=fl(_e,nt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=ot,et[uf]=ot.current,sf(et.nodeType===8?et.parentNode:et),Sk(),ot}for(;it=et.lastChild;)et.removeChild(it);if(typeof nt=="function"){var at=nt;nt=function(){var ut=hl(lt);at.call(ut)}}var lt=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=lt,et[uf]=lt.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(_e,lt,rt,nt)}),lt}function sl(et,_e,rt,nt,it){var st=rt._reactRootContainer;if(st){var ot=st;if(typeof it=="function"){var at=it;it=function(){var lt=hl(ot);at.call(lt)}}gl(_e,ot,et,it)}else ot=rl(rt,_e,et,it,nt);return hl(ot)}Ec=function(et){switch(et.tag){case 3:var _e=et.stateNode;if(_e.current.memoizedState.isDehydrated){var rt=tc(_e.pendingLanes);rt!==0&&(Cc(_e,rt|1),Ek(_e,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(et,1);if(nt!==null){var it=L();mh(nt,et,1,it)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var _e=Zg(et,134217728);if(_e!==null){var rt=L();mh(_e,et,134217728,rt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var _e=lh(et),rt=Zg(et,_e);if(rt!==null){var nt=L();mh(rt,et,_e,nt)}jl(et,_e)}};Hc=function(){return C};Ic=function(et,_e){var rt=C;try{return C=et,_e()}finally{C=rt}};yb=function(et,_e,rt){switch(_e){case"input":if(bb(et,rt),_e=rt.name,rt.type==="radio"&&_e!=null){for(rt=et;rt.parentNode;)rt=rt.parentNode;for(rt=rt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<rt.length;_e++){var nt=rt[_e];if(nt!==et&&nt.form===et.form){var it=Db(nt);if(!it)throw Error(p$1(90));Wa(nt),bb(nt,it)}}}break;case"textarea":ib(et,rt);break;case"select":_e=rt.value,_e!=null&&fb(et,!!rt.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,_e){var rt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$1(200));return dl(et,_e,null,rt)};reactDom_production_min.createRoot=function(et,_e){if(!ol(et))throw Error(p$1(299));var rt=!1,nt="",it=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(rt=!0),_e.identifierPrefix!==void 0&&(nt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(it=_e.onRecoverableError)),_e=cl(et,1,!1,null,null,rt,!1,nt,it),et[uf]=_e.current,sf(et.nodeType===8?et.parentNode:et),new ml(_e)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var _e=et._reactInternals;if(_e===void 0)throw typeof et.render=="function"?Error(p$1(188)):(et=Object.keys(et).join(","),Error(p$1(268,et)));return et=Zb(_e),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,_e,rt){if(!pl(_e))throw Error(p$1(200));return sl(null,et,_e,!0,rt)};reactDom_production_min.hydrateRoot=function(et,_e,rt){if(!ol(et))throw Error(p$1(405));var nt=rt!=null&&rt.hydratedSources||null,it=!1,st="",ot=ll;if(rt!=null&&(rt.unstable_strictMode===!0&&(it=!0),rt.identifierPrefix!==void 0&&(st=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(ot=rt.onRecoverableError)),_e=fl(_e,null,et,1,rt??null,it,!1,st,ot),et[uf]=_e.current,sf(et),nt)for(et=0;et<nt.length;et++)rt=nt[et],it=rt._getVersion,it=it(rt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[rt,it]:_e.mutableSourceEagerHydrationData.push(rt,it);return new nl(_e)};reactDom_production_min.render=function(et,_e,rt){if(!pl(_e))throw Error(p$1(200));return sl(null,et,_e,!1,rt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$1(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,_e,rt,nt){if(!pl(rt))throw Error(p$1(200));if(et==null||et._reactInternals===void 0)throw Error(p$1(38));return sl(et,_e,rt,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;function _setPrototypeOf$4(et,_e){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$4(et,_e)}function _inheritsLoose(et,_e){et.prototype=Object.create(_e.prototype),et.prototype.constructor=et,_setPrototypeOf$4(et,_e)}var Subscribable=function(){function et(){this.listeners=[]}var _e=et.prototype;return _e.subscribe=function(nt){var it=this,st=nt||function(){};return this.listeners.push(st),this.onSubscribe(),function(){it.listeners=it.listeners.filter(function(ot){return ot!==st}),it.onUnsubscribe()}},_e.hasListeners=function(){return this.listeners.length>0},_e.onSubscribe=function(){},_e.onUnsubscribe=function(){},et}();function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$7.apply(this,arguments)}var isServer$1=typeof window>"u";function noop$1(){}function functionalUpdate(et,_e){return typeof et=="function"?et(_e):et}function isValidTimeout(et){return typeof et=="number"&&et>=0&&et!==1/0}function ensureQueryKeyArray(et){return Array.isArray(et)?et:[et]}function timeUntilStale(et,_e){return Math.max(et+(_e||0)-Date.now(),0)}function parseQueryArgs(et,_e,rt){return isQueryKey(et)?typeof _e=="function"?_extends$7({},rt,{queryKey:et,queryFn:_e}):_extends$7({},_e,{queryKey:et}):et}function parseMutationArgs(et,_e,rt){return isQueryKey(et)?typeof _e=="function"?_extends$7({},rt,{mutationKey:et,mutationFn:_e}):_extends$7({},_e,{mutationKey:et}):typeof et=="function"?_extends$7({},_e,{mutationFn:et}):_extends$7({},et)}function parseFilterArgs(et,_e,rt){return isQueryKey(et)?[_extends$7({},_e,{queryKey:et}),rt]:[et||{},_e]}function mapQueryStatusFilter(et,_e){if(et===!0&&_e===!0||et==null&&_e==null)return"all";if(et===!1&&_e===!1)return"none";var rt=et??!_e;return rt?"active":"inactive"}function matchQuery(et,_e){var rt=et.active,nt=et.exact,it=et.fetching,st=et.inactive,ot=et.predicate,at=et.queryKey,lt=et.stale;if(isQueryKey(at)){if(nt){if(_e.queryHash!==hashQueryKeyByOptions(at,_e.options))return!1}else if(!partialMatchKey(_e.queryKey,at))return!1}var ut=mapQueryStatusFilter(rt,st);if(ut==="none")return!1;if(ut!=="all"){var ct=_e.isActive();if(ut==="active"&&!ct||ut==="inactive"&&ct)return!1}return!(typeof lt=="boolean"&&_e.isStale()!==lt||typeof it=="boolean"&&_e.isFetching()!==it||ot&&!ot(_e))}function matchMutation(et,_e){var rt=et.exact,nt=et.fetching,it=et.predicate,st=et.mutationKey;if(isQueryKey(st)){if(!_e.options.mutationKey)return!1;if(rt){if(hashQueryKey(_e.options.mutationKey)!==hashQueryKey(st))return!1}else if(!partialMatchKey(_e.options.mutationKey,st))return!1}return!(typeof nt=="boolean"&&_e.state.status==="loading"!==nt||it&&!it(_e))}function hashQueryKeyByOptions(et,_e){var rt=(_e==null?void 0:_e.queryKeyHashFn)||hashQueryKey;return rt(et)}function hashQueryKey(et){var _e=ensureQueryKeyArray(et);return stableValueHash(_e)}function stableValueHash(et){return JSON.stringify(et,function(_e,rt){return isPlainObject$1(rt)?Object.keys(rt).sort().reduce(function(nt,it){return nt[it]=rt[it],nt},{}):rt})}function partialMatchKey(et,_e){return partialDeepEqual(ensureQueryKeyArray(et),ensureQueryKeyArray(_e))}function partialDeepEqual(et,_e){return et===_e?!0:typeof et!=typeof _e?!1:et&&_e&&typeof et=="object"&&typeof _e=="object"?!Object.keys(_e).some(function(rt){return!partialDeepEqual(et[rt],_e[rt])}):!1}function replaceEqualDeep(et,_e){if(et===_e)return et;var rt=Array.isArray(et)&&Array.isArray(_e);if(rt||isPlainObject$1(et)&&isPlainObject$1(_e)){for(var nt=rt?et.length:Object.keys(et).length,it=rt?_e:Object.keys(_e),st=it.length,ot=rt?[]:{},at=0,lt=0;lt<st;lt++){var ut=rt?lt:it[lt];ot[ut]=replaceEqualDeep(et[ut],_e[ut]),ot[ut]===et[ut]&&at++}return nt===st&&at===nt?et:ot}return _e}function shallowEqualObjects(et,_e){if(et&&!_e||_e&&!et)return!1;for(var rt in et)if(et[rt]!==_e[rt])return!1;return!0}function isPlainObject$1(et){if(!hasObjectPrototype(et))return!1;var _e=et.constructor;if(typeof _e>"u")return!0;var rt=_e.prototype;return!(!hasObjectPrototype(rt)||!rt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(et){return Object.prototype.toString.call(et)==="[object Object]"}function isQueryKey(et){return typeof et=="string"||Array.isArray(et)}function sleep(et){return new Promise(function(_e){setTimeout(_e,et)})}function scheduleMicrotask(et){Promise.resolve().then(et).catch(function(_e){return setTimeout(function(){throw _e})})}function getAbortController(){if(typeof AbortController=="function")return new AbortController}var FocusManager=function(et){_inheritsLoose(_e,et);function _e(){var nt;return nt=et.call(this)||this,nt.setup=function(it){var st;if(!isServer$1&&((st=window)!=null&&st.addEventListener)){var ot=function(){return it()};return window.addEventListener("visibilitychange",ot,!1),window.addEventListener("focus",ot,!1),function(){window.removeEventListener("visibilitychange",ot),window.removeEventListener("focus",ot)}}},nt}var rt=_e.prototype;return rt.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},rt.onUnsubscribe=function(){if(!this.hasListeners()){var it;(it=this.cleanup)==null||it.call(this),this.cleanup=void 0}},rt.setEventListener=function(it){var st,ot=this;this.setup=it,(st=this.cleanup)==null||st.call(this),this.cleanup=it(function(at){typeof at=="boolean"?ot.setFocused(at):ot.onFocus()})},rt.setFocused=function(it){this.focused=it,it&&this.onFocus()},rt.onFocus=function(){this.listeners.forEach(function(it){it()})},rt.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},_e}(Subscribable),focusManager=new FocusManager,OnlineManager=function(et){_inheritsLoose(_e,et);function _e(){var nt;return nt=et.call(this)||this,nt.setup=function(it){var st;if(!isServer$1&&((st=window)!=null&&st.addEventListener)){var ot=function(){return it()};return window.addEventListener("online",ot,!1),window.addEventListener("offline",ot,!1),function(){window.removeEventListener("online",ot),window.removeEventListener("offline",ot)}}},nt}var rt=_e.prototype;return rt.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},rt.onUnsubscribe=function(){if(!this.hasListeners()){var it;(it=this.cleanup)==null||it.call(this),this.cleanup=void 0}},rt.setEventListener=function(it){var st,ot=this;this.setup=it,(st=this.cleanup)==null||st.call(this),this.cleanup=it(function(at){typeof at=="boolean"?ot.setOnline(at):ot.onOnline()})},rt.setOnline=function(it){this.online=it,it&&this.onOnline()},rt.onOnline=function(){this.listeners.forEach(function(it){it()})},rt.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},_e}(Subscribable),onlineManager=new OnlineManager;function defaultRetryDelay(et){return Math.min(1e3*Math.pow(2,et),3e4)}function isCancelable(et){return typeof(et==null?void 0:et.cancel)=="function"}var CancelledError=function(_e){this.revert=_e==null?void 0:_e.revert,this.silent=_e==null?void 0:_e.silent};function isCancelledError(et){return et instanceof CancelledError}var Retryer=function(_e){var rt=this,nt=!1,it,st,ot,at;this.abort=_e.abort,this.cancel=function(ft){return it==null?void 0:it(ft)},this.cancelRetry=function(){nt=!0},this.continueRetry=function(){nt=!1},this.continue=function(){return st==null?void 0:st()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(ft,pt){ot=ft,at=pt});var lt=function(pt){rt.isResolved||(rt.isResolved=!0,_e.onSuccess==null||_e.onSuccess(pt),st==null||st(),ot(pt))},ut=function(pt){rt.isResolved||(rt.isResolved=!0,_e.onError==null||_e.onError(pt),st==null||st(),at(pt))},ct=function(){return new Promise(function(pt){st=pt,rt.isPaused=!0,_e.onPause==null||_e.onPause()}).then(function(){st=void 0,rt.isPaused=!1,_e.onContinue==null||_e.onContinue()})},dt=function ft(){if(!rt.isResolved){var pt;try{pt=_e.fn()}catch(ht){pt=Promise.reject(ht)}it=function(mt){if(!rt.isResolved&&(ut(new CancelledError(mt)),rt.abort==null||rt.abort(),isCancelable(pt)))try{pt.cancel()}catch{}},rt.isTransportCancelable=isCancelable(pt),Promise.resolve(pt).then(lt).catch(function(ht){var mt,bt;if(!rt.isResolved){var gt=(mt=_e.retry)!=null?mt:3,xt=(bt=_e.retryDelay)!=null?bt:defaultRetryDelay,yt=typeof xt=="function"?xt(rt.failureCount,ht):xt,vt=gt===!0||typeof gt=="number"&&rt.failureCount<gt||typeof gt=="function"&&gt(rt.failureCount,ht);if(nt||!vt){ut(ht);return}rt.failureCount++,_e.onFail==null||_e.onFail(rt.failureCount,ht),sleep(yt).then(function(){if(!focusManager.isFocused()||!onlineManager.isOnline())return ct()}).then(function(){nt?ut(ht):ft()})}})}};dt()},NotifyManager=function(){function et(){this.queue=[],this.transactions=0,this.notifyFn=function(rt){rt()},this.batchNotifyFn=function(rt){rt()}}var _e=et.prototype;return _e.batch=function(nt){var it;this.transactions++;try{it=nt()}finally{this.transactions--,this.transactions||this.flush()}return it},_e.schedule=function(nt){var it=this;this.transactions?this.queue.push(nt):scheduleMicrotask(function(){it.notifyFn(nt)})},_e.batchCalls=function(nt){var it=this;return function(){for(var st=arguments.length,ot=new Array(st),at=0;at<st;at++)ot[at]=arguments[at];it.schedule(function(){nt.apply(void 0,ot)})}},_e.flush=function(){var nt=this,it=this.queue;this.queue=[],it.length&&scheduleMicrotask(function(){nt.batchNotifyFn(function(){it.forEach(function(st){nt.notifyFn(st)})})})},_e.setNotifyFunction=function(nt){this.notifyFn=nt},_e.setBatchNotifyFunction=function(nt){this.batchNotifyFn=nt},et}(),notifyManager=new NotifyManager,logger$1=console;function getLogger(){return logger$1}function setLogger(et){logger$1=et}var Query=function(){function et(rt){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=rt.defaultOptions,this.setOptions(rt.options),this.observers=[],this.cache=rt.cache,this.queryKey=rt.queryKey,this.queryHash=rt.queryHash,this.initialState=rt.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=rt.meta,this.scheduleGc()}var _e=et.prototype;return _e.setOptions=function(nt){var it;this.options=_extends$7({},this.defaultOptions,nt),this.meta=nt==null?void 0:nt.meta,this.cacheTime=Math.max(this.cacheTime||0,(it=this.options.cacheTime)!=null?it:5*60*1e3)},_e.setDefaultOptions=function(nt){this.defaultOptions=nt},_e.scheduleGc=function(){var nt=this;this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){nt.optionalRemove()},this.cacheTime))},_e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},_e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},_e.setData=function(nt,it){var st,ot,at=this.state.data,lt=functionalUpdate(nt,at);return(st=(ot=this.options).isDataEqual)!=null&&st.call(ot,at,lt)?lt=at:this.options.structuralSharing!==!1&&(lt=replaceEqualDeep(at,lt)),this.dispatch({data:lt,type:"success",dataUpdatedAt:it==null?void 0:it.updatedAt}),lt},_e.setState=function(nt,it){this.dispatch({type:"setState",state:nt,setStateOptions:it})},_e.cancel=function(nt){var it,st=this.promise;return(it=this.retryer)==null||it.cancel(nt),st?st.then(noop$1).catch(noop$1):Promise.resolve()},_e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},_e.reset=function(){this.destroy(),this.setState(this.initialState)},_e.isActive=function(){return this.observers.some(function(nt){return nt.options.enabled!==!1})},_e.isFetching=function(){return this.state.isFetching},_e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(nt){return nt.getCurrentResult().isStale})},_e.isStaleByTime=function(nt){return nt===void 0&&(nt=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,nt)},_e.onFocus=function(){var nt,it=this.observers.find(function(st){return st.shouldFetchOnWindowFocus()});it&&it.refetch(),(nt=this.retryer)==null||nt.continue()},_e.onOnline=function(){var nt,it=this.observers.find(function(st){return st.shouldFetchOnReconnect()});it&&it.refetch(),(nt=this.retryer)==null||nt.continue()},_e.addObserver=function(nt){this.observers.indexOf(nt)===-1&&(this.observers.push(nt),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:nt}))},_e.removeObserver=function(nt){this.observers.indexOf(nt)!==-1&&(this.observers=this.observers.filter(function(it){return it!==nt}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:nt}))},_e.getObserversCount=function(){return this.observers.length},_e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},_e.fetch=function(nt,it){var st=this,ot,at,lt;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(it!=null&&it.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var ut;return(ut=this.retryer)==null||ut.continueRetry(),this.promise}}if(nt&&this.setOptions(nt),!this.options.queryFn){var ct=this.observers.find(function(xt){return xt.options.queryFn});ct&&this.setOptions(ct.options)}var dt=ensureQueryKeyArray(this.queryKey),ft=getAbortController(),pt={queryKey:dt,pageParam:void 0,meta:this.meta};Object.defineProperty(pt,"signal",{enumerable:!0,get:function(){if(ft)return st.abortSignalConsumed=!0,ft.signal}});var ht=function(){return st.options.queryFn?(st.abortSignalConsumed=!1,st.options.queryFn(pt)):Promise.reject("Missing queryFn")},mt={fetchOptions:it,options:this.options,queryKey:dt,state:this.state,fetchFn:ht,meta:this.meta};if((ot=this.options.behavior)!=null&&ot.onFetch){var bt;(bt=this.options.behavior)==null||bt.onFetch(mt)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((at=mt.fetchOptions)==null?void 0:at.meta)){var gt;this.dispatch({type:"fetch",meta:(gt=mt.fetchOptions)==null?void 0:gt.meta})}return this.retryer=new Retryer({fn:mt.fetchFn,abort:ft==null||(lt=ft.abort)==null?void 0:lt.bind(ft),onSuccess:function(yt){st.setData(yt),st.cache.config.onSuccess==null||st.cache.config.onSuccess(yt,st),st.cacheTime===0&&st.optionalRemove()},onError:function(yt){isCancelledError(yt)&&yt.silent||st.dispatch({type:"error",error:yt}),isCancelledError(yt)||(st.cache.config.onError==null||st.cache.config.onError(yt,st),getLogger().error(yt)),st.cacheTime===0&&st.optionalRemove()},onFail:function(){st.dispatch({type:"failed"})},onPause:function(){st.dispatch({type:"pause"})},onContinue:function(){st.dispatch({type:"continue"})},retry:mt.options.retry,retryDelay:mt.options.retryDelay}),this.promise=this.retryer.promise,this.promise},_e.dispatch=function(nt){var it=this;this.state=this.reducer(this.state,nt),notifyManager.batch(function(){it.observers.forEach(function(st){st.onQueryUpdate(nt)}),it.cache.notify({query:it,type:"queryUpdated",action:nt})})},_e.getDefaultState=function(nt){var it=typeof nt.initialData=="function"?nt.initialData():nt.initialData,st=typeof nt.initialData<"u",ot=st?typeof nt.initialDataUpdatedAt=="function"?nt.initialDataUpdatedAt():nt.initialDataUpdatedAt:0,at=typeof it<"u";return{data:it,dataUpdateCount:0,dataUpdatedAt:at?ot??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:at?"success":"idle"}},_e.reducer=function(nt,it){var st,ot;switch(it.type){case"failed":return _extends$7({},nt,{fetchFailureCount:nt.fetchFailureCount+1});case"pause":return _extends$7({},nt,{isPaused:!0});case"continue":return _extends$7({},nt,{isPaused:!1});case"fetch":return _extends$7({},nt,{fetchFailureCount:0,fetchMeta:(st=it.meta)!=null?st:null,isFetching:!0,isPaused:!1},!nt.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _extends$7({},nt,{data:it.data,dataUpdateCount:nt.dataUpdateCount+1,dataUpdatedAt:(ot=it.dataUpdatedAt)!=null?ot:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var at=it.error;return isCancelledError(at)&&at.revert&&this.revertState?_extends$7({},this.revertState):_extends$7({},nt,{error:at,errorUpdateCount:nt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:nt.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _extends$7({},nt,{isInvalidated:!0});case"setState":return _extends$7({},nt,it.state);default:return nt}},et}(),QueryCache=function(et){_inheritsLoose(_e,et);function _e(nt){var it;return it=et.call(this)||this,it.config=nt||{},it.queries=[],it.queriesMap={},it}var rt=_e.prototype;return rt.build=function(it,st,ot){var at,lt=st.queryKey,ut=(at=st.queryHash)!=null?at:hashQueryKeyByOptions(lt,st),ct=this.get(ut);return ct||(ct=new Query({cache:this,queryKey:lt,queryHash:ut,options:it.defaultQueryOptions(st),state:ot,defaultOptions:it.getQueryDefaults(lt),meta:st.meta}),this.add(ct)),ct},rt.add=function(it){this.queriesMap[it.queryHash]||(this.queriesMap[it.queryHash]=it,this.queries.push(it),this.notify({type:"queryAdded",query:it}))},rt.remove=function(it){var st=this.queriesMap[it.queryHash];st&&(it.destroy(),this.queries=this.queries.filter(function(ot){return ot!==it}),st===it&&delete this.queriesMap[it.queryHash],this.notify({type:"queryRemoved",query:it}))},rt.clear=function(){var it=this;notifyManager.batch(function(){it.queries.forEach(function(st){it.remove(st)})})},rt.get=function(it){return this.queriesMap[it]},rt.getAll=function(){return this.queries},rt.find=function(it,st){var ot=parseFilterArgs(it,st),at=ot[0];return typeof at.exact>"u"&&(at.exact=!0),this.queries.find(function(lt){return matchQuery(at,lt)})},rt.findAll=function(it,st){var ot=parseFilterArgs(it,st),at=ot[0];return Object.keys(at).length>0?this.queries.filter(function(lt){return matchQuery(at,lt)}):this.queries},rt.notify=function(it){var st=this;notifyManager.batch(function(){st.listeners.forEach(function(ot){ot(it)})})},rt.onFocus=function(){var it=this;notifyManager.batch(function(){it.queries.forEach(function(st){st.onFocus()})})},rt.onOnline=function(){var it=this;notifyManager.batch(function(){it.queries.forEach(function(st){st.onOnline()})})},_e}(Subscribable),Mutation=function(){function et(rt){this.options=_extends$7({},rt.defaultOptions,rt.options),this.mutationId=rt.mutationId,this.mutationCache=rt.mutationCache,this.observers=[],this.state=rt.state||getDefaultState(),this.meta=rt.meta}var _e=et.prototype;return _e.setState=function(nt){this.dispatch({type:"setState",state:nt})},_e.addObserver=function(nt){this.observers.indexOf(nt)===-1&&this.observers.push(nt)},_e.removeObserver=function(nt){this.observers=this.observers.filter(function(it){return it!==nt})},_e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(noop$1).catch(noop$1)):Promise.resolve()},_e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},_e.execute=function(){var nt=this,it,st=this.state.status==="loading",ot=Promise.resolve();return st||(this.dispatch({type:"loading",variables:this.options.variables}),ot=ot.then(function(){nt.mutationCache.config.onMutate==null||nt.mutationCache.config.onMutate(nt.state.variables,nt)}).then(function(){return nt.options.onMutate==null?void 0:nt.options.onMutate(nt.state.variables)}).then(function(at){at!==nt.state.context&&nt.dispatch({type:"loading",context:at,variables:nt.state.variables})})),ot.then(function(){return nt.executeMutation()}).then(function(at){it=at,nt.mutationCache.config.onSuccess==null||nt.mutationCache.config.onSuccess(it,nt.state.variables,nt.state.context,nt)}).then(function(){return nt.options.onSuccess==null?void 0:nt.options.onSuccess(it,nt.state.variables,nt.state.context)}).then(function(){return nt.options.onSettled==null?void 0:nt.options.onSettled(it,null,nt.state.variables,nt.state.context)}).then(function(){return nt.dispatch({type:"success",data:it}),it}).catch(function(at){return nt.mutationCache.config.onError==null||nt.mutationCache.config.onError(at,nt.state.variables,nt.state.context,nt),getLogger().error(at),Promise.resolve().then(function(){return nt.options.onError==null?void 0:nt.options.onError(at,nt.state.variables,nt.state.context)}).then(function(){return nt.options.onSettled==null?void 0:nt.options.onSettled(void 0,at,nt.state.variables,nt.state.context)}).then(function(){throw nt.dispatch({type:"error",error:at}),at})})},_e.executeMutation=function(){var nt=this,it;return this.retryer=new Retryer({fn:function(){return nt.options.mutationFn?nt.options.mutationFn(nt.state.variables):Promise.reject("No mutationFn found")},onFail:function(){nt.dispatch({type:"failed"})},onPause:function(){nt.dispatch({type:"pause"})},onContinue:function(){nt.dispatch({type:"continue"})},retry:(it=this.options.retry)!=null?it:0,retryDelay:this.options.retryDelay}),this.retryer.promise},_e.dispatch=function(nt){var it=this;this.state=reducer(this.state,nt),notifyManager.batch(function(){it.observers.forEach(function(st){st.onMutationUpdate(nt)}),it.mutationCache.notify(it)})},et}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function reducer(et,_e){switch(_e.type){case"failed":return _extends$7({},et,{failureCount:et.failureCount+1});case"pause":return _extends$7({},et,{isPaused:!0});case"continue":return _extends$7({},et,{isPaused:!1});case"loading":return _extends$7({},et,{context:_e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:_e.variables});case"success":return _extends$7({},et,{data:_e.data,error:null,status:"success",isPaused:!1});case"error":return _extends$7({},et,{data:void 0,error:_e.error,failureCount:et.failureCount+1,isPaused:!1,status:"error"});case"setState":return _extends$7({},et,_e.state);default:return et}}var MutationCache=function(et){_inheritsLoose(_e,et);function _e(nt){var it;return it=et.call(this)||this,it.config=nt||{},it.mutations=[],it.mutationId=0,it}var rt=_e.prototype;return rt.build=function(it,st,ot){var at=new Mutation({mutationCache:this,mutationId:++this.mutationId,options:it.defaultMutationOptions(st),state:ot,defaultOptions:st.mutationKey?it.getMutationDefaults(st.mutationKey):void 0,meta:st.meta});return this.add(at),at},rt.add=function(it){this.mutations.push(it),this.notify(it)},rt.remove=function(it){this.mutations=this.mutations.filter(function(st){return st!==it}),it.cancel(),this.notify(it)},rt.clear=function(){var it=this;notifyManager.batch(function(){it.mutations.forEach(function(st){it.remove(st)})})},rt.getAll=function(){return this.mutations},rt.find=function(it){return typeof it.exact>"u"&&(it.exact=!0),this.mutations.find(function(st){return matchMutation(it,st)})},rt.findAll=function(it){return this.mutations.filter(function(st){return matchMutation(it,st)})},rt.notify=function(it){var st=this;notifyManager.batch(function(){st.listeners.forEach(function(ot){ot(it)})})},rt.onFocus=function(){this.resumePausedMutations()},rt.onOnline=function(){this.resumePausedMutations()},rt.resumePausedMutations=function(){var it=this.mutations.filter(function(st){return st.state.isPaused});return notifyManager.batch(function(){return it.reduce(function(st,ot){return st.then(function(){return ot.continue().catch(noop$1)})},Promise.resolve())})},_e}(Subscribable);function infiniteQueryBehavior(){return{onFetch:function(_e){_e.fetchFn=function(){var rt,nt,it,st,ot,at,lt=(rt=_e.fetchOptions)==null||(nt=rt.meta)==null?void 0:nt.refetchPage,ut=(it=_e.fetchOptions)==null||(st=it.meta)==null?void 0:st.fetchMore,ct=ut==null?void 0:ut.pageParam,dt=(ut==null?void 0:ut.direction)==="forward",ft=(ut==null?void 0:ut.direction)==="backward",pt=((ot=_e.state.data)==null?void 0:ot.pages)||[],ht=((at=_e.state.data)==null?void 0:at.pageParams)||[],mt=getAbortController(),bt=mt==null?void 0:mt.signal,gt=ht,xt=!1,yt=_e.options.queryFn||function(){return Promise.reject("Missing queryFn")},vt=function(Rt,kt,Dt,At){return gt=At?[kt].concat(gt):[].concat(gt,[kt]),At?[Dt].concat(Rt):[].concat(Rt,[Dt])},Pt=function(Rt,kt,Dt,At){if(xt)return Promise.reject("Cancelled");if(typeof Dt>"u"&&!kt&&Rt.length)return Promise.resolve(Rt);var wt={queryKey:_e.queryKey,signal:bt,pageParam:Dt,meta:_e.meta},It=yt(wt),Bt=Promise.resolve(It).then(function(Ut){return vt(Rt,Dt,Ut,At)});if(isCancelable(It)){var Ct=Bt;Ct.cancel=It.cancel}return Bt},St;if(!pt.length)St=Pt([]);else if(dt){var Ot=typeof ct<"u",Et=Ot?ct:getNextPageParam(_e.options,pt);St=Pt(pt,Ot,Et)}else if(ft){var Lt=typeof ct<"u",Nt=Lt?ct:getPreviousPageParam(_e.options,pt);St=Pt(pt,Lt,Nt,!0)}else(function(){gt=[];var Tt=typeof _e.options.getNextPageParam>"u",Rt=lt&&pt[0]?lt(pt[0],0,pt):!0;St=Rt?Pt([],Tt,ht[0]):Promise.resolve(vt([],ht[0],pt[0]));for(var kt=function(wt){St=St.then(function(It){var Bt=lt&&pt[wt]?lt(pt[wt],wt,pt):!0;if(Bt){var Ct=Tt?ht[wt]:getNextPageParam(_e.options,It);return Pt(It,Tt,Ct)}return Promise.resolve(vt(It,ht[wt],pt[wt]))})},Dt=1;Dt<pt.length;Dt++)kt(Dt)})();var $t=St.then(function(Tt){return{pages:Tt,pageParams:gt}}),Mt=$t;return Mt.cancel=function(){xt=!0,mt==null||mt.abort(),isCancelable(St)&&St.cancel()},$t}}}}function getNextPageParam(et,_e){return et.getNextPageParam==null?void 0:et.getNextPageParam(_e[_e.length-1],_e)}function getPreviousPageParam(et,_e){return et.getPreviousPageParam==null?void 0:et.getPreviousPageParam(_e[0],_e)}function hasNextPage(et,_e){if(et.getNextPageParam&&Array.isArray(_e)){var rt=getNextPageParam(et,_e);return typeof rt<"u"&&rt!==null&&rt!==!1}}function hasPreviousPage(et,_e){if(et.getPreviousPageParam&&Array.isArray(_e)){var rt=getPreviousPageParam(et,_e);return typeof rt<"u"&&rt!==null&&rt!==!1}}var QueryClient=function(){function et(rt){rt===void 0&&(rt={}),this.queryCache=rt.queryCache||new QueryCache,this.mutationCache=rt.mutationCache||new MutationCache,this.defaultOptions=rt.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var _e=et.prototype;return _e.mount=function(){var nt=this;this.unsubscribeFocus=focusManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(nt.mutationCache.onFocus(),nt.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(nt.mutationCache.onOnline(),nt.queryCache.onOnline())})},_e.unmount=function(){var nt,it;(nt=this.unsubscribeFocus)==null||nt.call(this),(it=this.unsubscribeOnline)==null||it.call(this)},_e.isFetching=function(nt,it){var st=parseFilterArgs(nt,it),ot=st[0];return ot.fetching=!0,this.queryCache.findAll(ot).length},_e.isMutating=function(nt){return this.mutationCache.findAll(_extends$7({},nt,{fetching:!0})).length},_e.getQueryData=function(nt,it){var st;return(st=this.queryCache.find(nt,it))==null?void 0:st.state.data},_e.getQueriesData=function(nt){return this.getQueryCache().findAll(nt).map(function(it){var st=it.queryKey,ot=it.state,at=ot.data;return[st,at]})},_e.setQueryData=function(nt,it,st){var ot=parseQueryArgs(nt),at=this.defaultQueryOptions(ot);return this.queryCache.build(this,at).setData(it,st)},_e.setQueriesData=function(nt,it,st){var ot=this;return notifyManager.batch(function(){return ot.getQueryCache().findAll(nt).map(function(at){var lt=at.queryKey;return[lt,ot.setQueryData(lt,it,st)]})})},_e.getQueryState=function(nt,it){var st;return(st=this.queryCache.find(nt,it))==null?void 0:st.state},_e.removeQueries=function(nt,it){var st=parseFilterArgs(nt,it),ot=st[0],at=this.queryCache;notifyManager.batch(function(){at.findAll(ot).forEach(function(lt){at.remove(lt)})})},_e.resetQueries=function(nt,it,st){var ot=this,at=parseFilterArgs(nt,it,st),lt=at[0],ut=at[1],ct=this.queryCache,dt=_extends$7({},lt,{active:!0});return notifyManager.batch(function(){return ct.findAll(lt).forEach(function(ft){ft.reset()}),ot.refetchQueries(dt,ut)})},_e.cancelQueries=function(nt,it,st){var ot=this,at=parseFilterArgs(nt,it,st),lt=at[0],ut=at[1],ct=ut===void 0?{}:ut;typeof ct.revert>"u"&&(ct.revert=!0);var dt=notifyManager.batch(function(){return ot.queryCache.findAll(lt).map(function(ft){return ft.cancel(ct)})});return Promise.all(dt).then(noop$1).catch(noop$1)},_e.invalidateQueries=function(nt,it,st){var ot,at,lt,ut=this,ct=parseFilterArgs(nt,it,st),dt=ct[0],ft=ct[1],pt=_extends$7({},dt,{active:(ot=(at=dt.refetchActive)!=null?at:dt.active)!=null?ot:!0,inactive:(lt=dt.refetchInactive)!=null?lt:!1});return notifyManager.batch(function(){return ut.queryCache.findAll(dt).forEach(function(ht){ht.invalidate()}),ut.refetchQueries(pt,ft)})},_e.refetchQueries=function(nt,it,st){var ot=this,at=parseFilterArgs(nt,it,st),lt=at[0],ut=at[1],ct=notifyManager.batch(function(){return ot.queryCache.findAll(lt).map(function(ft){return ft.fetch(void 0,_extends$7({},ut,{meta:{refetchPage:lt==null?void 0:lt.refetchPage}}))})}),dt=Promise.all(ct).then(noop$1);return ut!=null&&ut.throwOnError||(dt=dt.catch(noop$1)),dt},_e.fetchQuery=function(nt,it,st){var ot=parseQueryArgs(nt,it,st),at=this.defaultQueryOptions(ot);typeof at.retry>"u"&&(at.retry=!1);var lt=this.queryCache.build(this,at);return lt.isStaleByTime(at.staleTime)?lt.fetch(at):Promise.resolve(lt.state.data)},_e.prefetchQuery=function(nt,it,st){return this.fetchQuery(nt,it,st).then(noop$1).catch(noop$1)},_e.fetchInfiniteQuery=function(nt,it,st){var ot=parseQueryArgs(nt,it,st);return ot.behavior=infiniteQueryBehavior(),this.fetchQuery(ot)},_e.prefetchInfiniteQuery=function(nt,it,st){return this.fetchInfiniteQuery(nt,it,st).then(noop$1).catch(noop$1)},_e.cancelMutations=function(){var nt=this,it=notifyManager.batch(function(){return nt.mutationCache.getAll().map(function(st){return st.cancel()})});return Promise.all(it).then(noop$1).catch(noop$1)},_e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},_e.executeMutation=function(nt){return this.mutationCache.build(this,nt).execute()},_e.getQueryCache=function(){return this.queryCache},_e.getMutationCache=function(){return this.mutationCache},_e.getDefaultOptions=function(){return this.defaultOptions},_e.setDefaultOptions=function(nt){this.defaultOptions=nt},_e.setQueryDefaults=function(nt,it){var st=this.queryDefaults.find(function(ot){return hashQueryKey(nt)===hashQueryKey(ot.queryKey)});st?st.defaultOptions=it:this.queryDefaults.push({queryKey:nt,defaultOptions:it})},_e.getQueryDefaults=function(nt){var it;return nt?(it=this.queryDefaults.find(function(st){return partialMatchKey(nt,st.queryKey)}))==null?void 0:it.defaultOptions:void 0},_e.setMutationDefaults=function(nt,it){var st=this.mutationDefaults.find(function(ot){return hashQueryKey(nt)===hashQueryKey(ot.mutationKey)});st?st.defaultOptions=it:this.mutationDefaults.push({mutationKey:nt,defaultOptions:it})},_e.getMutationDefaults=function(nt){var it;return nt?(it=this.mutationDefaults.find(function(st){return partialMatchKey(nt,st.mutationKey)}))==null?void 0:it.defaultOptions:void 0},_e.defaultQueryOptions=function(nt){if(nt!=null&&nt._defaulted)return nt;var it=_extends$7({},this.defaultOptions.queries,this.getQueryDefaults(nt==null?void 0:nt.queryKey),nt,{_defaulted:!0});return!it.queryHash&&it.queryKey&&(it.queryHash=hashQueryKeyByOptions(it.queryKey,it)),it},_e.defaultQueryObserverOptions=function(nt){return this.defaultQueryOptions(nt)},_e.defaultMutationOptions=function(nt){return nt!=null&&nt._defaulted?nt:_extends$7({},this.defaultOptions.mutations,this.getMutationDefaults(nt==null?void 0:nt.mutationKey),nt,{_defaulted:!0})},_e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},et}(),QueryObserver=function(et){_inheritsLoose(_e,et);function _e(nt,it){var st;return st=et.call(this)||this,st.client=nt,st.options=it,st.trackedProps=[],st.selectError=null,st.bindMethods(),st.setOptions(it),st}var rt=_e.prototype;return rt.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},rt.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},rt.onUnsubscribe=function(){this.listeners.length||this.destroy()},rt.shouldFetchOnReconnect=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)},rt.shouldFetchOnWindowFocus=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},rt.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},rt.setOptions=function(it,st){var ot=this.options,at=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(it),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=ot.queryKey),this.updateQuery();var lt=this.hasListeners();lt&&shouldFetchOptionally(this.currentQuery,at,this.options,ot)&&this.executeFetch(),this.updateResult(st),lt&&(this.currentQuery!==at||this.options.enabled!==ot.enabled||this.options.staleTime!==ot.staleTime)&&this.updateStaleTimeout();var ut=this.computeRefetchInterval();lt&&(this.currentQuery!==at||this.options.enabled!==ot.enabled||ut!==this.currentRefetchInterval)&&this.updateRefetchInterval(ut)},rt.getOptimisticResult=function(it){var st=this.client.defaultQueryObserverOptions(it),ot=this.client.getQueryCache().build(this.client,st);return this.createResult(ot,st)},rt.getCurrentResult=function(){return this.currentResult},rt.trackResult=function(it,st){var ot=this,at={},lt=function(ct){ot.trackedProps.includes(ct)||ot.trackedProps.push(ct)};return Object.keys(it).forEach(function(ut){Object.defineProperty(at,ut,{configurable:!1,enumerable:!0,get:function(){return lt(ut),it[ut]}})}),(st.useErrorBoundary||st.suspense)&&lt("error"),at},rt.getNextResult=function(it){var st=this;return new Promise(function(ot,at){var lt=st.subscribe(function(ut){ut.isFetching||(lt(),ut.isError&&(it!=null&&it.throwOnError)?at(ut.error):ot(ut))})})},rt.getCurrentQuery=function(){return this.currentQuery},rt.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},rt.refetch=function(it){return this.fetch(_extends$7({},it,{meta:{refetchPage:it==null?void 0:it.refetchPage}}))},rt.fetchOptimistic=function(it){var st=this,ot=this.client.defaultQueryObserverOptions(it),at=this.client.getQueryCache().build(this.client,ot);return at.fetch().then(function(){return st.createResult(at,ot)})},rt.fetch=function(it){var st=this;return this.executeFetch(it).then(function(){return st.updateResult(),st.currentResult})},rt.executeFetch=function(it){this.updateQuery();var st=this.currentQuery.fetch(this.options,it);return it!=null&&it.throwOnError||(st=st.catch(noop$1)),st},rt.updateStaleTimeout=function(){var it=this;if(this.clearStaleTimeout(),!(isServer$1||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))){var st=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime),ot=st+1;this.staleTimeoutId=setTimeout(function(){it.currentResult.isStale||it.updateResult()},ot)}},rt.computeRefetchInterval=function(){var it;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(it=this.options.refetchInterval)!=null?it:!1},rt.updateRefetchInterval=function(it){var st=this;this.clearRefetchInterval(),this.currentRefetchInterval=it,!(isServer$1||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(st.options.refetchIntervalInBackground||focusManager.isFocused())&&st.executeFetch()},this.currentRefetchInterval))},rt.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},rt.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},rt.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},rt.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},rt.createResult=function(it,st){var ot=this.currentQuery,at=this.options,lt=this.currentResult,ut=this.currentResultState,ct=this.currentResultOptions,dt=it!==ot,ft=dt?it.state:this.currentQueryInitialState,pt=dt?this.currentResult:this.previousQueryResult,ht=it.state,mt=ht.dataUpdatedAt,bt=ht.error,gt=ht.errorUpdatedAt,xt=ht.isFetching,yt=ht.status,vt=!1,Pt=!1,St;if(st.optimisticResults){var Ot=this.hasListeners(),Et=!Ot&&shouldFetchOnMount(it,st),Lt=Ot&&shouldFetchOptionally(it,ot,st,at);(Et||Lt)&&(xt=!0,mt||(yt="loading"))}if(st.keepPreviousData&&!ht.dataUpdateCount&&(pt!=null&&pt.isSuccess)&&yt!=="error")St=pt.data,mt=pt.dataUpdatedAt,yt=pt.status,vt=!0;else if(st.select&&typeof ht.data<"u")if(lt&&ht.data===(ut==null?void 0:ut.data)&&st.select===this.selectFn)St=this.selectResult;else try{this.selectFn=st.select,St=st.select(ht.data),st.structuralSharing!==!1&&(St=replaceEqualDeep(lt==null?void 0:lt.data,St)),this.selectResult=St,this.selectError=null}catch(Mt){getLogger().error(Mt),this.selectError=Mt}else St=ht.data;if(typeof st.placeholderData<"u"&&typeof St>"u"&&(yt==="loading"||yt==="idle")){var Nt;if(lt!=null&&lt.isPlaceholderData&&st.placeholderData===(ct==null?void 0:ct.placeholderData))Nt=lt.data;else if(Nt=typeof st.placeholderData=="function"?st.placeholderData():st.placeholderData,st.select&&typeof Nt<"u")try{Nt=st.select(Nt),st.structuralSharing!==!1&&(Nt=replaceEqualDeep(lt==null?void 0:lt.data,Nt)),this.selectError=null}catch(Mt){getLogger().error(Mt),this.selectError=Mt}typeof Nt<"u"&&(yt="success",St=Nt,Pt=!0)}this.selectError&&(bt=this.selectError,St=this.selectResult,gt=Date.now(),yt="error");var $t={status:yt,isLoading:yt==="loading",isSuccess:yt==="success",isError:yt==="error",isIdle:yt==="idle",data:St,dataUpdatedAt:mt,error:bt,errorUpdatedAt:gt,failureCount:ht.fetchFailureCount,errorUpdateCount:ht.errorUpdateCount,isFetched:ht.dataUpdateCount>0||ht.errorUpdateCount>0,isFetchedAfterMount:ht.dataUpdateCount>ft.dataUpdateCount||ht.errorUpdateCount>ft.errorUpdateCount,isFetching:xt,isRefetching:xt&&yt!=="loading",isLoadingError:yt==="error"&&ht.dataUpdatedAt===0,isPlaceholderData:Pt,isPreviousData:vt,isRefetchError:yt==="error"&&ht.dataUpdatedAt!==0,isStale:isStale(it,st),refetch:this.refetch,remove:this.remove};return $t},rt.shouldNotifyListeners=function(it,st){if(!st)return!0;var ot=this.options,at=ot.notifyOnChangeProps,lt=ot.notifyOnChangePropsExclusions;if(!at&&!lt||at==="tracked"&&!this.trackedProps.length)return!0;var ut=at==="tracked"?this.trackedProps:at;return Object.keys(it).some(function(ct){var dt=ct,ft=it[dt]!==st[dt],pt=ut==null?void 0:ut.some(function(mt){return mt===ct}),ht=lt==null?void 0:lt.some(function(mt){return mt===ct});return ft&&!ht&&(!ut||pt)})},rt.updateResult=function(it){var st=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!shallowEqualObjects(this.currentResult,st)){var ot={cache:!0};(it==null?void 0:it.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,st)&&(ot.listeners=!0),this.notify(_extends$7({},ot,it))}},rt.updateQuery=function(){var it=this.client.getQueryCache().build(this.client,this.options);if(it!==this.currentQuery){var st=this.currentQuery;this.currentQuery=it,this.currentQueryInitialState=it.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(st==null||st.removeObserver(this),it.addObserver(this))}},rt.onQueryUpdate=function(it){var st={};it.type==="success"?st.onSuccess=!0:it.type==="error"&&!isCancelledError(it.error)&&(st.onError=!0),this.updateResult(st),this.hasListeners()&&this.updateTimers()},rt.notify=function(it){var st=this;notifyManager.batch(function(){it.onSuccess?(st.options.onSuccess==null||st.options.onSuccess(st.currentResult.data),st.options.onSettled==null||st.options.onSettled(st.currentResult.data,null)):it.onError&&(st.options.onError==null||st.options.onError(st.currentResult.error),st.options.onSettled==null||st.options.onSettled(void 0,st.currentResult.error)),it.listeners&&st.listeners.forEach(function(ot){ot(st.currentResult)}),it.cache&&st.client.getQueryCache().notify({query:st.currentQuery,type:"observerResultsUpdated"})})},_e}(Subscribable);function shouldLoadOnMount(et,_e){return _e.enabled!==!1&&!et.state.dataUpdatedAt&&!(et.state.status==="error"&&_e.retryOnMount===!1)}function shouldFetchOnMount(et,_e){return shouldLoadOnMount(et,_e)||et.state.dataUpdatedAt>0&&shouldFetchOn(et,_e,_e.refetchOnMount)}function shouldFetchOn(et,_e,rt){if(_e.enabled!==!1){var nt=typeof rt=="function"?rt(et):rt;return nt==="always"||nt!==!1&&isStale(et,_e)}return!1}function shouldFetchOptionally(et,_e,rt,nt){return rt.enabled!==!1&&(et!==_e||nt.enabled===!1)&&(!rt.suspense||et.state.status!=="error")&&isStale(et,rt)}function isStale(et,_e){return et.isStaleByTime(_e.staleTime)}var InfiniteQueryObserver=function(et){_inheritsLoose(_e,et);function _e(nt,it){return et.call(this,nt,it)||this}var rt=_e.prototype;return rt.bindMethods=function(){et.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},rt.setOptions=function(it,st){et.prototype.setOptions.call(this,_extends$7({},it,{behavior:infiniteQueryBehavior()}),st)},rt.getOptimisticResult=function(it){return it.behavior=infiniteQueryBehavior(),et.prototype.getOptimisticResult.call(this,it)},rt.fetchNextPage=function(it){var st;return this.fetch({cancelRefetch:(st=it==null?void 0:it.cancelRefetch)!=null?st:!0,throwOnError:it==null?void 0:it.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:it==null?void 0:it.pageParam}}})},rt.fetchPreviousPage=function(it){var st;return this.fetch({cancelRefetch:(st=it==null?void 0:it.cancelRefetch)!=null?st:!0,throwOnError:it==null?void 0:it.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:it==null?void 0:it.pageParam}}})},rt.createResult=function(it,st){var ot,at,lt,ut,ct,dt,ft=it.state,pt=et.prototype.createResult.call(this,it,st);return _extends$7({},pt,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(st,(ot=ft.data)==null?void 0:ot.pages),hasPreviousPage:hasPreviousPage(st,(at=ft.data)==null?void 0:at.pages),isFetchingNextPage:ft.isFetching&&((lt=ft.fetchMeta)==null||(ut=lt.fetchMore)==null?void 0:ut.direction)==="forward",isFetchingPreviousPage:ft.isFetching&&((ct=ft.fetchMeta)==null||(dt=ct.fetchMore)==null?void 0:dt.direction)==="backward"})},_e}(QueryObserver),MutationObserver$1=function(et){_inheritsLoose(_e,et);function _e(nt,it){var st;return st=et.call(this)||this,st.client=nt,st.setOptions(it),st.bindMethods(),st.updateResult(),st}var rt=_e.prototype;return rt.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},rt.setOptions=function(it){this.options=this.client.defaultMutationOptions(it)},rt.onUnsubscribe=function(){if(!this.listeners.length){var it;(it=this.currentMutation)==null||it.removeObserver(this)}},rt.onMutationUpdate=function(it){this.updateResult();var st={listeners:!0};it.type==="success"?st.onSuccess=!0:it.type==="error"&&(st.onError=!0),this.notify(st)},rt.getCurrentResult=function(){return this.currentResult},rt.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},rt.mutate=function(it,st){return this.mutateOptions=st,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,_extends$7({},this.options,{variables:typeof it<"u"?it:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},rt.updateResult=function(){var it=this.currentMutation?this.currentMutation.state:getDefaultState(),st=_extends$7({},it,{isLoading:it.status==="loading",isSuccess:it.status==="success",isError:it.status==="error",isIdle:it.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=st},rt.notify=function(it){var st=this;notifyManager.batch(function(){st.mutateOptions&&(it.onSuccess?(st.mutateOptions.onSuccess==null||st.mutateOptions.onSuccess(st.currentResult.data,st.currentResult.variables,st.currentResult.context),st.mutateOptions.onSettled==null||st.mutateOptions.onSettled(st.currentResult.data,null,st.currentResult.variables,st.currentResult.context)):it.onError&&(st.mutateOptions.onError==null||st.mutateOptions.onError(st.currentResult.error,st.currentResult.variables,st.currentResult.context),st.mutateOptions.onSettled==null||st.mutateOptions.onSettled(void 0,st.currentResult.error,st.currentResult.variables,st.currentResult.context))),it.listeners&&st.listeners.forEach(function(ot){ot(st.currentResult)})})},_e}(Subscribable),unstable_batchedUpdates=ReactDOM.unstable_batchedUpdates;notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);var logger=console;setLogger(logger);var defaultContext=React.createContext(void 0),QueryClientSharingContext=React.createContext(!1);function getQueryClientContext(et){return et&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}var useQueryClient=function(){var _e=React.useContext(getQueryClientContext(React.useContext(QueryClientSharingContext)));if(!_e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return _e},QueryClientProvider=function(_e){var rt=_e.client,nt=_e.contextSharing,it=nt===void 0?!1:nt,st=_e.children;React.useEffect(function(){return rt.mount(),function(){rt.unmount()}},[rt]);var ot=getQueryClientContext(it);return React.createElement(QueryClientSharingContext.Provider,{value:it},React.createElement(ot.Provider,{value:rt},st))};function createValue(){var et=!1;return{clearReset:function(){et=!1},reset:function(){et=!0},isReset:function(){return et}}}var QueryErrorResetBoundaryContext=React.createContext(createValue()),useQueryErrorResetBoundary=function(){return React.useContext(QueryErrorResetBoundaryContext)};function shouldThrowError(et,_e,rt){return typeof _e=="function"?_e.apply(void 0,rt):typeof _e=="boolean"?_e:!!et}function useMutation(et,_e,rt){var nt=React.useRef(!1),it=React.useState(0),st=it[1],ot=parseMutationArgs(et,_e,rt),at=useQueryClient(),lt=React.useRef();lt.current?lt.current.setOptions(ot):lt.current=new MutationObserver$1(at,ot);var ut=lt.current.getCurrentResult();React.useEffect(function(){nt.current=!0;var dt=lt.current.subscribe(notifyManager.batchCalls(function(){nt.current&&st(function(ft){return ft+1})}));return function(){nt.current=!1,dt()}},[]);var ct=React.useCallback(function(dt,ft){lt.current.mutate(dt,ft).catch(noop$1)},[]);if(ut.error&&shouldThrowError(void 0,lt.current.options.useErrorBoundary,[ut.error]))throw ut.error;return _extends$7({},ut,{mutate:ct,mutateAsync:ut.mutate})}function useBaseQuery(et,_e){var rt=React.useRef(!1),nt=React.useState(0),it=nt[1],st=useQueryClient(),ot=useQueryErrorResetBoundary(),at=st.defaultQueryObserverOptions(et);at.optimisticResults=!0,at.onError&&(at.onError=notifyManager.batchCalls(at.onError)),at.onSuccess&&(at.onSuccess=notifyManager.batchCalls(at.onSuccess)),at.onSettled&&(at.onSettled=notifyManager.batchCalls(at.onSettled)),at.suspense&&(typeof at.staleTime!="number"&&(at.staleTime=1e3),at.cacheTime===0&&(at.cacheTime=1)),(at.suspense||at.useErrorBoundary)&&(ot.isReset()||(at.retryOnMount=!1));var lt=React.useState(function(){return new _e(st,at)}),ut=lt[0],ct=ut.getOptimisticResult(at);if(React.useEffect(function(){rt.current=!0,ot.clearReset();var dt=ut.subscribe(notifyManager.batchCalls(function(){rt.current&&it(function(ft){return ft+1})}));return ut.updateResult(),function(){rt.current=!1,dt()}},[ot,ut]),React.useEffect(function(){ut.setOptions(at,{listeners:!1})},[at,ut]),at.suspense&&ct.isLoading)throw ut.fetchOptimistic(at).then(function(dt){var ft=dt.data;at.onSuccess==null||at.onSuccess(ft),at.onSettled==null||at.onSettled(ft,null)}).catch(function(dt){ot.clearReset(),at.onError==null||at.onError(dt),at.onSettled==null||at.onSettled(void 0,dt)});if(ct.isError&&!ot.isReset()&&!ct.isFetching&&shouldThrowError(at.suspense,at.useErrorBoundary,[ct.error,ut.getCurrentQuery()]))throw ct.error;return at.notifyOnChangeProps==="tracked"&&(ct=ut.trackResult(ct,at)),ct}function useQuery(et,_e,rt){var nt=parseQueryArgs(et,_e,rt);return useBaseQuery(nt,QueryObserver)}function useInfiniteQuery(et,_e,rt){var nt=parseQueryArgs(et,_e,rt);return useBaseQuery(nt,InfiniteQueryObserver)}/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$6.apply(this,arguments)}var Action;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(et){et===void 0&&(et={});function _e(it,st){let{pathname:ot="/",search:at="",hash:lt=""}=parsePath(it.location.hash.substr(1));return createLocation("",{pathname:ot,search:at,hash:lt},st.state&&st.state.usr||null,st.state&&st.state.key||"default")}function rt(it,st){let ot=it.document.querySelector("base"),at="";if(ot&&ot.getAttribute("href")){let lt=it.location.href,ut=lt.indexOf("#");at=ut===-1?lt:lt.slice(0,ut)}return at+"#"+(typeof st=="string"?st:createPath(st))}function nt(it,st){warning(it.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(st)+")")}return getUrlBasedHistory(_e,rt,nt,et)}function invariant(et,_e){if(et===!1||et===null||typeof et>"u")throw new Error(_e)}function warning(et,_e){if(!et){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function createKey$1(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,_e){return{usr:et.state,key:et.key,idx:_e}}function createLocation(et,_e,rt,nt){return rt===void 0&&(rt=null),_extends$6({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:rt,key:_e&&_e.key||nt||createKey$1()})}function createPath(et){let{pathname:_e="/",search:rt="",hash:nt=""}=et;return rt&&rt!=="?"&&(_e+=rt.charAt(0)==="?"?rt:"?"+rt),nt&&nt!=="#"&&(_e+=nt.charAt(0)==="#"?nt:"#"+nt),_e}function parsePath(et){let _e={};if(et){let rt=et.indexOf("#");rt>=0&&(_e.hash=et.substr(rt),et=et.substr(0,rt));let nt=et.indexOf("?");nt>=0&&(_e.search=et.substr(nt),et=et.substr(0,nt)),et&&(_e.pathname=et)}return _e}function getUrlBasedHistory(et,_e,rt,nt){nt===void 0&&(nt={});let{window:it=document.defaultView,v5Compat:st=!1}=nt,ot=it.history,at=Action.Pop,lt=null,ut=ct();ut==null&&(ut=0,ot.replaceState(_extends$6({},ot.state,{idx:ut}),""));function ct(){return(ot.state||{idx:null}).idx}function dt(){at=Action.Pop;let bt=ct(),gt=bt==null?null:bt-ut;ut=bt,lt&&lt({action:at,location:mt.location,delta:gt})}function ft(bt,gt){at=Action.Push;let xt=createLocation(mt.location,bt,gt);rt&&rt(xt,bt),ut=ct()+1;let yt=getHistoryState(xt,ut),vt=mt.createHref(xt);try{ot.pushState(yt,"",vt)}catch{it.location.assign(vt)}st&&lt&&lt({action:at,location:mt.location,delta:1})}function pt(bt,gt){at=Action.Replace;let xt=createLocation(mt.location,bt,gt);rt&&rt(xt,bt),ut=ct();let yt=getHistoryState(xt,ut),vt=mt.createHref(xt);ot.replaceState(yt,"",vt),st&&lt&&lt({action:at,location:mt.location,delta:0})}function ht(bt){let gt=it.location.origin!=="null"?it.location.origin:it.location.href,xt=typeof bt=="string"?bt:createPath(bt);return invariant(gt,"No window.location.(origin|href) available to create URL for href: "+xt),new URL(xt,gt)}let mt={get action(){return at},get location(){return et(it,ot)},listen(bt){if(lt)throw new Error("A history only accepts one active listener");return it.addEventListener(PopStateEventType,dt),lt=bt,()=>{it.removeEventListener(PopStateEventType,dt),lt=null}},createHref(bt){return _e(it,bt)},createURL:ht,encodeLocation(bt){let gt=ht(bt);return{pathname:gt.pathname,search:gt.search,hash:gt.hash}},push:ft,replace:pt,go(bt){return ot.go(bt)}};return mt}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(et){return et.index===!0}function convertRoutesToDataRoutes(et,_e,rt,nt){return rt===void 0&&(rt=[]),nt===void 0&&(nt={}),et.map((it,st)=>{let ot=[...rt,st],at=typeof it.id=="string"?it.id:ot.join("-");if(invariant(it.index!==!0||!it.children,"Cannot specify children on an index route"),invariant(!nt[at],'Found a route id collision on id "'+at+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(it)){let lt=_extends$6({},it,_e(it),{id:at});return nt[at]=lt,lt}else{let lt=_extends$6({},it,_e(it),{id:at,children:void 0});return nt[at]=lt,it.children&&(lt.children=convertRoutesToDataRoutes(it.children,_e,ot,nt)),lt}})}function matchRoutes(et,_e,rt){rt===void 0&&(rt="/");let nt=typeof _e=="string"?parsePath(_e):_e,it=stripBasename(nt.pathname||"/",rt);if(it==null)return null;let st=flattenRoutes(et);rankRouteBranches(st);let ot=null;for(let at=0;ot==null&&at<st.length;++at)ot=matchRouteBranch(st[at],safelyDecodeURI(it));return ot}function flattenRoutes(et,_e,rt,nt){_e===void 0&&(_e=[]),rt===void 0&&(rt=[]),nt===void 0&&(nt="");let it=(st,ot,at)=>{let lt={relativePath:at===void 0?st.path||"":at,caseSensitive:st.caseSensitive===!0,childrenIndex:ot,route:st};lt.relativePath.startsWith("/")&&(invariant(lt.relativePath.startsWith(nt),'Absolute route path "'+lt.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),lt.relativePath=lt.relativePath.slice(nt.length));let ut=joinPaths([nt,lt.relativePath]),ct=rt.concat(lt);st.children&&st.children.length>0&&(invariant(st.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ut+'".')),flattenRoutes(st.children,_e,ct,ut)),!(st.path==null&&!st.index)&&_e.push({path:ut,score:computeScore(ut,st.index),routesMeta:ct})};return et.forEach((st,ot)=>{var at;if(st.path===""||!((at=st.path)!=null&&at.includes("?")))it(st,ot);else for(let lt of explodeOptionalSegments(st.path))it(st,ot,lt)}),_e}function explodeOptionalSegments(et){let _e=et.split("/");if(_e.length===0)return[];let[rt,...nt]=_e,it=rt.endsWith("?"),st=rt.replace(/\?$/,"");if(nt.length===0)return it?[st,""]:[st];let ot=explodeOptionalSegments(nt.join("/")),at=[];return at.push(...ot.map(lt=>lt===""?st:[st,lt].join("/"))),it&&at.push(...ot),at.map(lt=>et.startsWith("/")&&lt===""?"/":lt)}function rankRouteBranches(et){et.sort((_e,rt)=>_e.score!==rt.score?rt.score-_e.score:compareIndexes(_e.routesMeta.map(nt=>nt.childrenIndex),rt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,_e){let rt=et.split("/"),nt=rt.length;return rt.some(isSplat)&&(nt+=splatPenalty),_e&&(nt+=indexRouteValue),rt.filter(it=>!isSplat(it)).reduce((it,st)=>it+(paramRe.test(st)?dynamicSegmentValue:st===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(et,_e){return et.length===_e.length&&et.slice(0,-1).every((nt,it)=>nt===_e[it])?et[et.length-1]-_e[_e.length-1]:0}function matchRouteBranch(et,_e){let{routesMeta:rt}=et,nt={},it="/",st=[];for(let ot=0;ot<rt.length;++ot){let at=rt[ot],lt=ot===rt.length-1,ut=it==="/"?_e:_e.slice(it.length)||"/",ct=matchPath({path:at.relativePath,caseSensitive:at.caseSensitive,end:lt},ut);if(!ct)return null;Object.assign(nt,ct.params);let dt=at.route;st.push({params:nt,pathname:joinPaths([it,ct.pathname]),pathnameBase:normalizePathname(joinPaths([it,ct.pathnameBase])),route:dt}),ct.pathnameBase!=="/"&&(it=joinPaths([it,ct.pathnameBase]))}return st}function matchPath(et,_e){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[rt,nt]=compilePath(et.path,et.caseSensitive,et.end),it=_e.match(rt);if(!it)return null;let st=it[0],ot=st.replace(/(.)\/+$/,"$1"),at=it.slice(1);return{params:nt.reduce((ut,ct,dt)=>{if(ct==="*"){let ft=at[dt]||"";ot=st.slice(0,st.length-ft.length).replace(/(.)\/+$/,"$1")}return ut[ct]=safelyDecodeURIComponent(at[dt]||"",ct),ut},{}),pathname:st,pathnameBase:ot,pattern:et}}function compilePath(et,_e,rt){_e===void 0&&(_e=!1),rt===void 0&&(rt=!0),warning(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let nt=[],it="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(ot,at)=>(nt.push(at),"/([^\\/]+)"));return et.endsWith("*")?(nt.push("*"),it+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):rt?it+="\\/*$":et!==""&&et!=="/"&&(it+="(?:(?=\\/|$))"),[new RegExp(it,_e?void 0:"i"),nt]}function safelyDecodeURI(et){try{return decodeURI(et)}catch(_e){return warning(!1,'The URL path "'+et+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_e+").")),et}}function safelyDecodeURIComponent(et,_e){try{return decodeURIComponent(et)}catch(rt){return warning(!1,'The value for the URL param "'+_e+'" will not be decoded because'+(' the string "'+et+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+rt+").")),et}}function stripBasename(et,_e){if(_e==="/")return et;if(!et.toLowerCase().startsWith(_e.toLowerCase()))return null;let rt=_e.endsWith("/")?_e.length-1:_e.length,nt=et.charAt(rt);return nt&&nt!=="/"?null:et.slice(rt)||"/"}function resolvePath(et,_e){_e===void 0&&(_e="/");let{pathname:rt,search:nt="",hash:it=""}=typeof et=="string"?parsePath(et):et;return{pathname:rt?rt.startsWith("/")?rt:resolvePathname(rt,_e):_e,search:normalizeSearch(nt),hash:normalizeHash(it)}}function resolvePathname(et,_e){let rt=_e.replace(/\/+$/,"").split("/");return et.split("/").forEach(it=>{it===".."?rt.length>1&&rt.pop():it!=="."&&rt.push(it)}),rt.length>1?rt.join("/"):"/"}function getInvalidPathError(et,_e,rt,nt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+rt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter((_e,rt)=>rt===0||_e.route.path&&_e.route.path.length>0)}function resolveTo(et,_e,rt,nt){nt===void 0&&(nt=!1);let it;typeof et=="string"?it=parsePath(et):(it=_extends$6({},et),invariant(!it.pathname||!it.pathname.includes("?"),getInvalidPathError("?","pathname","search",it)),invariant(!it.pathname||!it.pathname.includes("#"),getInvalidPathError("#","pathname","hash",it)),invariant(!it.search||!it.search.includes("#"),getInvalidPathError("#","search","hash",it)));let st=et===""||it.pathname==="",ot=st?"/":it.pathname,at;if(nt||ot==null)at=rt;else{let dt=_e.length-1;if(ot.startsWith("..")){let ft=ot.split("/");for(;ft[0]==="..";)ft.shift(),dt-=1;it.pathname=ft.join("/")}at=dt>=0?_e[dt]:"/"}let lt=resolvePath(it,at),ut=ot&&ot!=="/"&&ot.endsWith("/"),ct=(st||ot===".")&&rt.endsWith("/");return!lt.pathname.endsWith("/")&&(ut||ct)&&(lt.pathname+="/"),lt}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;class ErrorResponse{constructor(_e,rt,nt,it){it===void 0&&(it=!1),this.status=_e,this.statusText=rt||"",this.internal=it,nt instanceof Error?(this.data=nt.toString(),this.error=nt):this.data=nt}}function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServer=!isBrowser$2,defaultMapRouteProperties=et=>({hasErrorBoundary:!!et.hasErrorBoundary});function createRouter(et){invariant(et.routes.length>0,"You must provide a non-empty routes array to createRouter");let _e;if(et.mapRouteProperties)_e=et.mapRouteProperties;else if(et.detectErrorBoundary){let Ft=et.detectErrorBoundary;_e=zt=>({hasErrorBoundary:Ft(zt)})}else _e=defaultMapRouteProperties;let rt={},nt=convertRoutesToDataRoutes(et.routes,_e,void 0,rt),it,st=et.basename||"/",ot=_extends$6({v7_normalizeFormMethod:!1,v7_prependBasename:!1},et.future),at=null,lt=new Set,ut=null,ct=null,dt=null,ft=et.hydrationData!=null,pt=matchRoutes(nt,et.history.location,st),ht=null;if(pt==null){let Ft=getInternalRouterError(404,{pathname:et.history.location.pathname}),{matches:zt,route:Ht}=getShortCircuitMatches(nt);pt=zt,ht={[Ht.id]:Ft}}let mt=!pt.some(Ft=>Ft.route.lazy)&&(!pt.some(Ft=>Ft.route.loader)||et.hydrationData!=null),bt,gt={historyAction:et.history.action,location:et.history.location,matches:pt,initialized:mt,navigation:IDLE_NAVIGATION,restoreScrollPosition:et.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:et.hydrationData&&et.hydrationData.loaderData||{},actionData:et.hydrationData&&et.hydrationData.actionData||null,errors:et.hydrationData&&et.hydrationData.errors||ht,fetchers:new Map,blockers:new Map},xt=Action.Pop,yt=!1,vt,Pt=!1,St=!1,Ot=[],Et=[],Lt=new Map,Nt=0,$t=-1,Mt=new Map,Tt=new Set,Rt=new Map,kt=new Map,Dt=new Map,At=!1;function wt(){return at=et.history.listen(Ft=>{let{action:zt,location:Ht,delta:Xt}=Ft;if(At){At=!1;return}warning(Dt.size===0||Xt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Zt=Vr({currentLocation:gt.location,nextLocation:Ht,historyAction:zt});if(Zt&&Xt!=null){At=!0,et.history.go(Xt*-1),kr(Zt,{state:"blocked",location:Ht,proceed(){kr(Zt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ht}),et.history.go(Xt)},reset(){vr(Zt),Ct({blockers:new Map(bt.state.blockers)})}});return}return Vt(zt,Ht)}),gt.initialized||Vt(Action.Pop,gt.location),bt}function It(){at&&at(),lt.clear(),vt&&vt.abort(),gt.fetchers.forEach((Ft,zt)=>Sr(zt)),gt.blockers.forEach((Ft,zt)=>vr(zt))}function Bt(Ft){return lt.add(Ft),()=>lt.delete(Ft)}function Ct(Ft){gt=_extends$6({},gt,Ft),lt.forEach(zt=>zt(gt))}function Ut(Ft,zt){var Ht,Xt;let Zt=gt.actionData!=null&&gt.navigation.formMethod!=null&&isMutationMethod(gt.navigation.formMethod)&&gt.navigation.state==="loading"&&((Ht=Ft.state)==null?void 0:Ht._isRedirect)!==!0,Yt;zt.actionData?Object.keys(zt.actionData).length>0?Yt=zt.actionData:Yt=null:Zt?Yt=gt.actionData:Yt=null;let er=zt.loaderData?mergeLoaderData(gt.loaderData,zt.loaderData,zt.matches||[],zt.errors):gt.loaderData;for(let[Qt]of Dt)vr(Qt);let Jt=yt===!0||gt.navigation.formMethod!=null&&isMutationMethod(gt.navigation.formMethod)&&((Xt=Ft.state)==null?void 0:Xt._isRedirect)!==!0;it&&(nt=it,it=void 0),Ct(_extends$6({},zt,{actionData:Yt,loaderData:er,historyAction:xt,location:Ft,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Fr(Ft,zt.matches||gt.matches),preventScrollReset:Jt,blockers:new Map(gt.blockers)})),Pt||xt===Action.Pop||(xt===Action.Push?et.history.push(Ft,Ft.state):xt===Action.Replace&&et.history.replace(Ft,Ft.state)),xt=Action.Pop,yt=!1,Pt=!1,St=!1,Ot=[],Et=[]}async function jt(Ft,zt){if(typeof Ft=="number"){et.history.go(Ft);return}let Ht=normalizeTo(gt.location,gt.matches,st,ot.v7_prependBasename,Ft,zt==null?void 0:zt.fromRouteId,zt==null?void 0:zt.relative),{path:Xt,submission:Zt,error:Yt}=normalizeNavigateOptions(ot.v7_normalizeFormMethod,!1,Ht,zt),er=gt.location,Jt=createLocation(gt.location,Xt,zt&&zt.state);Jt=_extends$6({},Jt,et.history.encodeLocation(Jt));let Qt=zt&&zt.replace!=null?zt.replace:void 0,nr=Action.Push;Qt===!0?nr=Action.Replace:Qt===!1||Zt!=null&&isMutationMethod(Zt.formMethod)&&Zt.formAction===gt.location.pathname+gt.location.search&&(nr=Action.Replace);let sr=zt&&"preventScrollReset"in zt?zt.preventScrollReset===!0:void 0,mr=Vr({currentLocation:er,nextLocation:Jt,historyAction:nr});if(mr){kr(mr,{state:"blocked",location:Jt,proceed(){kr(mr,{state:"proceeding",proceed:void 0,reset:void 0,location:Jt}),jt(Ft,zt)},reset(){vr(mr),Ct({blockers:new Map(gt.blockers)})}});return}return await Vt(nr,Jt,{submission:Zt,pendingError:Yt,preventScrollReset:sr,replace:zt&&zt.replace})}function Kt(){if(lr(),Ct({revalidation:"loading"}),gt.navigation.state!=="submitting"){if(gt.navigation.state==="idle"){Vt(gt.historyAction,gt.location,{startUninterruptedRevalidation:!0});return}Vt(xt||gt.historyAction,gt.navigation.location,{overrideNavigation:gt.navigation})}}async function Vt(Ft,zt,Ht){vt&&vt.abort(),vt=null,xt=Ft,Pt=(Ht&&Ht.startUninterruptedRevalidation)===!0,Zr(gt.location,gt.matches),yt=(Ht&&Ht.preventScrollReset)===!0;let Xt=it||nt,Zt=Ht&&Ht.overrideNavigation,Yt=matchRoutes(Xt,zt,st);if(!Yt){let pr=getInternalRouterError(404,{pathname:zt.pathname}),{matches:hr,route:xr}=getShortCircuitMatches(Xt);Nr(),Ut(zt,{matches:hr,loaderData:{},errors:{[xr.id]:pr}});return}if(isHashChangeOnly(gt.location,zt)&&!(Ht&&Ht.submission&&isMutationMethod(Ht.submission.formMethod))){Ut(zt,{matches:Yt});return}vt=new AbortController;let er=createClientSideRequest(et.history,zt,vt.signal,Ht&&Ht.submission),Jt,Qt;if(Ht&&Ht.pendingError)Qt={[findNearestBoundary(Yt).route.id]:Ht.pendingError};else if(Ht&&Ht.submission&&isMutationMethod(Ht.submission.formMethod)){let pr=await qt(er,zt,Ht.submission,Yt,{replace:Ht.replace});if(pr.shortCircuited)return;Jt=pr.pendingActionData,Qt=pr.pendingActionError,Zt=_extends$6({state:"loading",location:zt},Ht.submission),er=new Request(er.url,{signal:er.signal})}let{shortCircuited:nr,loaderData:sr,errors:mr}=await Wt(er,zt,Yt,Zt,Ht&&Ht.submission,Ht&&Ht.fetcherSubmission,Ht&&Ht.replace,Jt,Qt);nr||(vt=null,Ut(zt,_extends$6({matches:Yt},Jt?{actionData:Jt}:{},{loaderData:sr,errors:mr})))}async function qt(Ft,zt,Ht,Xt,Zt){lr();let Yt=_extends$6({state:"submitting",location:zt},Ht);Ct({navigation:Yt});let er,Jt=getTargetMatch(Xt,zt);if(!Jt.route.action&&!Jt.route.lazy)er={type:ResultType.error,error:getInternalRouterError(405,{method:Ft.method,pathname:zt.pathname,routeId:Jt.route.id})};else if(er=await callLoaderOrAction("action",Ft,Jt,Xt,rt,_e,st),Ft.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(er)){let Qt;return Zt&&Zt.replace!=null?Qt=Zt.replace:Qt=er.location===gt.location.pathname+gt.location.search,await cr(gt,er,{submission:Ht,replace:Qt}),{shortCircuited:!0}}if(isErrorResult(er)){let Qt=findNearestBoundary(Xt,Jt.route.id);return(Zt&&Zt.replace)!==!0&&(xt=Action.Push),{pendingActionData:{},pendingActionError:{[Qt.route.id]:er.error}}}if(isDeferredResult(er))throw getInternalRouterError(400,{type:"defer-action"});return{pendingActionData:{[Jt.route.id]:er.data}}}async function Wt(Ft,zt,Ht,Xt,Zt,Yt,er,Jt,Qt){let nr=Xt;nr||(nr=_extends$6({state:"loading",location:zt,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Zt));let sr=Zt||Yt?Zt||Yt:nr.formMethod&&nr.formAction&&nr.formData&&nr.formEncType?{formMethod:nr.formMethod,formAction:nr.formAction,formData:nr.formData,formEncType:nr.formEncType}:void 0,mr=it||nt,[pr,hr]=getMatchesToLoad(et.history,gt,Ht,sr,zt,St,Ot,Et,Rt,mr,st,Jt,Qt);if(Nr(ar=>!(Ht&&Ht.some(br=>br.route.id===ar))||pr&&pr.some(br=>br.route.id===ar)),pr.length===0&&hr.length===0){let ar=yr();return Ut(zt,_extends$6({matches:Ht,loaderData:{},errors:Qt||null},Jt?{actionData:Jt}:{},ar?{fetchers:new Map(gt.fetchers)}:{})),{shortCircuited:!0}}if(!Pt){hr.forEach(br=>{let wr=gt.fetchers.get(br.key),Mr={state:"loading",data:wr&&wr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(br.key,Mr)});let ar=Jt||gt.actionData;Ct(_extends$6({navigation:nr},ar?Object.keys(ar).length===0?{actionData:null}:{actionData:ar}:{},hr.length>0?{fetchers:new Map(gt.fetchers)}:{}))}$t=++Nt,hr.forEach(ar=>{ar.controller&&Lt.set(ar.key,ar.controller)});let xr=()=>hr.forEach(ar=>ur(ar.key));vt&&vt.signal.addEventListener("abort",xr);let{results:Tr,loaderResults:Dr,fetcherResults:Lr}=await dr(gt.matches,Ht,pr,hr,Ft);if(Ft.signal.aborted)return{shortCircuited:!0};vt&&vt.signal.removeEventListener("abort",xr),hr.forEach(ar=>Lt.delete(ar.key));let Rr=findRedirect(Tr);if(Rr)return await cr(gt,Rr,{replace:er}),{shortCircuited:!0};let{loaderData:Pr,errors:$r}=processLoaderData(gt,Ht,pr,Dr,Qt,hr,Lr,kt);kt.forEach((ar,br)=>{ar.subscribe(wr=>{(wr||ar.done)&&kt.delete(br)})});let Br=yr(),Ir=Ar($t),Or=Br||Ir||hr.length>0;return _extends$6({loaderData:Pr,errors:$r},Or?{fetchers:new Map(gt.fetchers)}:{})}function Gt(Ft){return gt.fetchers.get(Ft)||IDLE_FETCHER}function rr(Ft,zt,Ht,Xt){if(isServer)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Lt.has(Ft)&&ur(Ft);let Zt=it||nt,Yt=normalizeTo(gt.location,gt.matches,st,ot.v7_prependBasename,Ht,zt,Xt==null?void 0:Xt.relative),er=matchRoutes(Zt,Yt,st);if(!er){_r(Ft,zt,getInternalRouterError(404,{pathname:Yt}));return}let{path:Jt,submission:Qt}=normalizeNavigateOptions(ot.v7_normalizeFormMethod,!0,Yt,Xt),nr=getTargetMatch(er,Jt);if(yt=(Xt&&Xt.preventScrollReset)===!0,Qt&&isMutationMethod(Qt.formMethod)){fr(Ft,zt,Jt,nr,er,Qt);return}Rt.set(Ft,{routeId:zt,path:Jt}),ir(Ft,zt,Jt,nr,er,Qt)}async function fr(Ft,zt,Ht,Xt,Zt,Yt){if(lr(),Rt.delete(Ft),!Xt.route.action&&!Xt.route.lazy){let gr=getInternalRouterError(405,{method:Yt.formMethod,pathname:Ht,routeId:zt});_r(Ft,zt,gr);return}let er=gt.fetchers.get(Ft),Jt=_extends$6({state:"submitting"},Yt,{data:er&&er.data," _hasFetcherDoneAnything ":!0});gt.fetchers.set(Ft,Jt),Ct({fetchers:new Map(gt.fetchers)});let Qt=new AbortController,nr=createClientSideRequest(et.history,Ht,Qt.signal,Yt);Lt.set(Ft,Qt);let sr=await callLoaderOrAction("action",nr,Xt,Zt,rt,_e,st);if(nr.signal.aborted){Lt.get(Ft)===Qt&&Lt.delete(Ft);return}if(isRedirectResult(sr)){Lt.delete(Ft),Tt.add(Ft);let gr=_extends$6({state:"loading"},Yt,{data:void 0," _hasFetcherDoneAnything ":!0});return gt.fetchers.set(Ft,gr),Ct({fetchers:new Map(gt.fetchers)}),cr(gt,sr,{submission:Yt,isFetchActionRedirect:!0})}if(isErrorResult(sr)){_r(Ft,zt,sr.error);return}if(isDeferredResult(sr))throw getInternalRouterError(400,{type:"defer-action"});let mr=gt.navigation.location||gt.location,pr=createClientSideRequest(et.history,mr,Qt.signal),hr=it||nt,xr=gt.navigation.state!=="idle"?matchRoutes(hr,gt.navigation.location,st):gt.matches;invariant(xr,"Didn't find any matches after fetcher action");let Tr=++Nt;Mt.set(Ft,Tr);let Dr=_extends$6({state:"loading",data:sr.data},Yt,{" _hasFetcherDoneAnything ":!0});gt.fetchers.set(Ft,Dr);let[Lr,Rr]=getMatchesToLoad(et.history,gt,xr,Yt,mr,St,Ot,Et,Rt,hr,st,{[Xt.route.id]:sr.data},void 0);Rr.filter(gr=>gr.key!==Ft).forEach(gr=>{let Ur=gr.key,zr=gt.fetchers.get(Ur),Jr={state:"loading",data:zr&&zr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(Ur,Jr),gr.controller&&Lt.set(Ur,gr.controller)}),Ct({fetchers:new Map(gt.fetchers)});let Pr=()=>Rr.forEach(gr=>ur(gr.key));Qt.signal.addEventListener("abort",Pr);let{results:$r,loaderResults:Br,fetcherResults:Ir}=await dr(gt.matches,xr,Lr,Rr,pr);if(Qt.signal.aborted)return;Qt.signal.removeEventListener("abort",Pr),Mt.delete(Ft),Lt.delete(Ft),Rr.forEach(gr=>Lt.delete(gr.key));let Or=findRedirect($r);if(Or)return cr(gt,Or);let{loaderData:ar,errors:br}=processLoaderData(gt,gt.matches,Lr,Br,void 0,Rr,Ir,kt),wr={state:"idle",data:sr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(Ft,wr);let Mr=Ar(Tr);gt.navigation.state==="loading"&&Tr>$t?(invariant(xt,"Expected pending action"),vt&&vt.abort(),Ut(gt.navigation.location,{matches:xr,loaderData:ar,errors:br,fetchers:new Map(gt.fetchers)})):(Ct(_extends$6({errors:br,loaderData:mergeLoaderData(gt.loaderData,ar,xr,br)},Mr?{fetchers:new Map(gt.fetchers)}:{})),St=!1)}async function ir(Ft,zt,Ht,Xt,Zt,Yt){let er=gt.fetchers.get(Ft),Jt=_extends$6({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Yt,{data:er&&er.data," _hasFetcherDoneAnything ":!0});gt.fetchers.set(Ft,Jt),Ct({fetchers:new Map(gt.fetchers)});let Qt=new AbortController,nr=createClientSideRequest(et.history,Ht,Qt.signal);Lt.set(Ft,Qt);let sr=await callLoaderOrAction("loader",nr,Xt,Zt,rt,_e,st);if(isDeferredResult(sr)&&(sr=await resolveDeferredData(sr,nr.signal,!0)||sr),Lt.get(Ft)===Qt&&Lt.delete(Ft),nr.signal.aborted)return;if(isRedirectResult(sr)){Tt.add(Ft),await cr(gt,sr);return}if(isErrorResult(sr)){let pr=findNearestBoundary(gt.matches,zt);gt.fetchers.delete(Ft),Ct({fetchers:new Map(gt.fetchers),errors:{[pr.route.id]:sr.error}});return}invariant(!isDeferredResult(sr),"Unhandled fetcher deferred data");let mr={state:"idle",data:sr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(Ft,mr),Ct({fetchers:new Map(gt.fetchers)})}async function cr(Ft,zt,Ht){var Xt;let{submission:Zt,replace:Yt,isFetchActionRedirect:er}=Ht===void 0?{}:Ht;zt.revalidate&&(St=!0);let Jt=createLocation(Ft.location,zt.location,_extends$6({_isRedirect:!0},er?{_isFetchActionRedirect:!0}:{}));if(invariant(Jt,"Expected a location on the redirect navigation"),ABSOLUTE_URL_REGEX$1.test(zt.location)&&isBrowser$2&&typeof((Xt=window)==null?void 0:Xt.location)<"u"){let hr=et.history.createURL(zt.location),xr=stripBasename(hr.pathname,st)==null;if(window.location.origin!==hr.origin||xr){Yt?window.location.replace(zt.location):window.location.assign(zt.location);return}}vt=null;let Qt=Yt===!0?Action.Replace:Action.Push,{formMethod:nr,formAction:sr,formEncType:mr,formData:pr}=Ft.navigation;!Zt&&nr&&sr&&pr&&mr&&(Zt={formMethod:nr,formAction:sr,formEncType:mr,formData:pr}),redirectPreserveMethodStatusCodes.has(zt.status)&&Zt&&isMutationMethod(Zt.formMethod)?await Vt(Qt,Jt,{submission:_extends$6({},Zt,{formAction:zt.location}),preventScrollReset:yt}):er?await Vt(Qt,Jt,{overrideNavigation:{state:"loading",location:Jt,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:Zt,preventScrollReset:yt}):await Vt(Qt,Jt,{overrideNavigation:{state:"loading",location:Jt,formMethod:Zt?Zt.formMethod:void 0,formAction:Zt?Zt.formAction:void 0,formEncType:Zt?Zt.formEncType:void 0,formData:Zt?Zt.formData:void 0},preventScrollReset:yt})}async function dr(Ft,zt,Ht,Xt,Zt){let Yt=await Promise.all([...Ht.map(Qt=>callLoaderOrAction("loader",Zt,Qt,zt,rt,_e,st)),...Xt.map(Qt=>Qt.matches&&Qt.match&&Qt.controller?callLoaderOrAction("loader",createClientSideRequest(et.history,Qt.path,Qt.controller.signal),Qt.match,Qt.matches,rt,_e,st):{type:ResultType.error,error:getInternalRouterError(404,{pathname:Qt.path})})]),er=Yt.slice(0,Ht.length),Jt=Yt.slice(Ht.length);return await Promise.all([resolveDeferredResults(Ft,Ht,er,er.map(()=>Zt.signal),!1,gt.loaderData),resolveDeferredResults(Ft,Xt.map(Qt=>Qt.match),Jt,Xt.map(Qt=>Qt.controller?Qt.controller.signal:null),!0)]),{results:Yt,loaderResults:er,fetcherResults:Jt}}function lr(){St=!0,Ot.push(...Nr()),Rt.forEach((Ft,zt)=>{Lt.has(zt)&&(Et.push(zt),ur(zt))})}function _r(Ft,zt,Ht){let Xt=findNearestBoundary(gt.matches,zt);Sr(Ft),Ct({errors:{[Xt.route.id]:Ht},fetchers:new Map(gt.fetchers)})}function Sr(Ft){Lt.has(Ft)&&ur(Ft),Rt.delete(Ft),Mt.delete(Ft),Tt.delete(Ft),gt.fetchers.delete(Ft)}function ur(Ft){let zt=Lt.get(Ft);invariant(zt,"Expected fetch controller: "+Ft),zt.abort(),Lt.delete(Ft)}function Er(Ft){for(let zt of Ft){let Xt={state:"idle",data:Gt(zt).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(zt,Xt)}}function yr(){let Ft=[],zt=!1;for(let Ht of Tt){let Xt=gt.fetchers.get(Ht);invariant(Xt,"Expected fetcher: "+Ht),Xt.state==="loading"&&(Tt.delete(Ht),Ft.push(Ht),zt=!0)}return Er(Ft),zt}function Ar(Ft){let zt=[];for(let[Ht,Xt]of Mt)if(Xt<Ft){let Zt=gt.fetchers.get(Ht);invariant(Zt,"Expected fetcher: "+Ht),Zt.state==="loading"&&(ur(Ht),Mt.delete(Ht),zt.push(Ht))}return Er(zt),zt.length>0}function Cr(Ft,zt){let Ht=gt.blockers.get(Ft)||IDLE_BLOCKER;return Dt.get(Ft)!==zt&&Dt.set(Ft,zt),Ht}function vr(Ft){gt.blockers.delete(Ft),Dt.delete(Ft)}function kr(Ft,zt){let Ht=gt.blockers.get(Ft)||IDLE_BLOCKER;invariant(Ht.state==="unblocked"&&zt.state==="blocked"||Ht.state==="blocked"&&zt.state==="blocked"||Ht.state==="blocked"&&zt.state==="proceeding"||Ht.state==="blocked"&&zt.state==="unblocked"||Ht.state==="proceeding"&&zt.state==="unblocked","Invalid blocker state transition: "+Ht.state+" -> "+zt.state),gt.blockers.set(Ft,zt),Ct({blockers:new Map(gt.blockers)})}function Vr(Ft){let{currentLocation:zt,nextLocation:Ht,historyAction:Xt}=Ft;if(Dt.size===0)return;Dt.size>1&&warning(!1,"A router only supports one blocker at a time");let Zt=Array.from(Dt.entries()),[Yt,er]=Zt[Zt.length-1],Jt=gt.blockers.get(Yt);if(!(Jt&&Jt.state==="proceeding")&&er({currentLocation:zt,nextLocation:Ht,historyAction:Xt}))return Yt}function Nr(Ft){let zt=[];return kt.forEach((Ht,Xt)=>{(!Ft||Ft(Xt))&&(Ht.cancel(),zt.push(Xt),kt.delete(Xt))}),zt}function Xr(Ft,zt,Ht){if(ut=Ft,dt=zt,ct=Ht||(Xt=>Xt.key),!ft&&gt.navigation===IDLE_NAVIGATION){ft=!0;let Xt=Fr(gt.location,gt.matches);Xt!=null&&Ct({restoreScrollPosition:Xt})}return()=>{ut=null,dt=null,ct=null}}function Zr(Ft,zt){if(ut&&ct&&dt){let Ht=zt.map(Zt=>createUseMatchesMatch(Zt,gt.loaderData)),Xt=ct(Ft,Ht)||Ft.key;ut[Xt]=dt()}}function Fr(Ft,zt){if(ut&&ct&&dt){let Ht=zt.map(Yt=>createUseMatchesMatch(Yt,gt.loaderData)),Xt=ct(Ft,Ht)||Ft.key,Zt=ut[Xt];if(typeof Zt=="number")return Zt}return null}function Qr(Ft){it=Ft}return bt={get basename(){return st},get state(){return gt},get routes(){return nt},initialize:wt,subscribe:Bt,enableScrollRestoration:Xr,navigate:jt,fetch:rr,revalidate:Kt,createHref:Ft=>et.history.createHref(Ft),encodeLocation:Ft=>et.history.encodeLocation(Ft),getFetcher:Gt,deleteFetcher:Sr,dispose:It,getBlocker:Cr,deleteBlocker:vr,_internalFetchControllers:Lt,_internalActiveDeferreds:kt,_internalSetRoutes:Qr},bt}function isSubmissionNavigation(et){return et!=null&&"formData"in et}function normalizeTo(et,_e,rt,nt,it,st,ot){let at,lt;if(st!=null&&ot!=="path"){at=[];for(let ct of _e)if(at.push(ct),ct.route.id===st){lt=ct;break}}else at=_e,lt=_e[_e.length-1];let ut=resolveTo(it||".",getPathContributingMatches(at).map(ct=>ct.pathnameBase),stripBasename(et.pathname,rt)||et.pathname,ot==="path");return it==null&&(ut.search=et.search,ut.hash=et.hash),(it==null||it===""||it===".")&&lt&&lt.route.index&&!hasNakedIndexQuery(ut.search)&&(ut.search=ut.search?ut.search.replace(/^\?/,"?index&"):"?index"),nt&&rt!=="/"&&(ut.pathname=ut.pathname==="/"?rt:joinPaths([rt,ut.pathname])),createPath(ut)}function normalizeNavigateOptions(et,_e,rt,nt){if(!nt||!isSubmissionNavigation(nt))return{path:rt};if(nt.formMethod&&!isValidMethod(nt.formMethod))return{path:rt,error:getInternalRouterError(405,{method:nt.formMethod})};let it;if(nt.formData){let at=nt.formMethod||"get";if(it={formMethod:et?at.toUpperCase():at.toLowerCase(),formAction:stripHashFromPath(rt),formEncType:nt&&nt.formEncType||"application/x-www-form-urlencoded",formData:nt.formData},isMutationMethod(it.formMethod))return{path:rt,submission:it}}let st=parsePath(rt),ot=convertFormDataToSearchParams(nt.formData);return _e&&st.search&&hasNakedIndexQuery(st.search)&&ot.append("index",""),st.search="?"+ot,{path:createPath(st),submission:it}}function getLoaderMatchesUntilBoundary(et,_e){let rt=et;if(_e){let nt=et.findIndex(it=>it.route.id===_e);nt>=0&&(rt=et.slice(0,nt))}return rt}function getMatchesToLoad(et,_e,rt,nt,it,st,ot,at,lt,ut,ct,dt,ft){let pt=ft?Object.values(ft)[0]:dt?Object.values(dt)[0]:void 0,ht=et.createURL(_e.location),mt=et.createURL(it),bt=ft?Object.keys(ft)[0]:void 0,xt=getLoaderMatchesUntilBoundary(rt,bt).filter((vt,Pt)=>{if(vt.route.lazy)return!0;if(vt.route.loader==null)return!1;if(isNewLoader(_e.loaderData,_e.matches[Pt],vt)||ot.some(Et=>Et===vt.route.id))return!0;let St=_e.matches[Pt],Ot=vt;return shouldRevalidateLoader(vt,_extends$6({currentUrl:ht,currentParams:St.params,nextUrl:mt,nextParams:Ot.params},nt,{actionResult:pt,defaultShouldRevalidate:st||ht.pathname+ht.search===mt.pathname+mt.search||ht.search!==mt.search||isNewRouteInstance(St,Ot)}))}),yt=[];return lt.forEach((vt,Pt)=>{if(!rt.some(Lt=>Lt.route.id===vt.routeId))return;let St=matchRoutes(ut,vt.path,ct);if(!St){yt.push({key:Pt,routeId:vt.routeId,path:vt.path,matches:null,match:null,controller:null});return}let Ot=getTargetMatch(St,vt.path);if(at.includes(Pt)){yt.push({key:Pt,routeId:vt.routeId,path:vt.path,matches:St,match:Ot,controller:new AbortController});return}shouldRevalidateLoader(Ot,_extends$6({currentUrl:ht,currentParams:_e.matches[_e.matches.length-1].params,nextUrl:mt,nextParams:rt[rt.length-1].params},nt,{actionResult:pt,defaultShouldRevalidate:st}))&&yt.push({key:Pt,routeId:vt.routeId,path:vt.path,matches:St,match:Ot,controller:new AbortController})}),[xt,yt]}function isNewLoader(et,_e,rt){let nt=!_e||rt.route.id!==_e.route.id,it=et[rt.route.id]===void 0;return nt||it}function isNewRouteInstance(et,_e){let rt=et.route.path;return et.pathname!==_e.pathname||rt!=null&&rt.endsWith("*")&&et.params["*"]!==_e.params["*"]}function shouldRevalidateLoader(et,_e){if(et.route.shouldRevalidate){let rt=et.route.shouldRevalidate(_e);if(typeof rt=="boolean")return rt}return _e.defaultShouldRevalidate}async function loadLazyRouteModule(et,_e,rt){if(!et.lazy)return;let nt=await et.lazy();if(!et.lazy)return;let it=rt[et.id];invariant(it,"No route found in manifest");let st={};for(let ot in nt){let lt=it[ot]!==void 0&&ot!=="hasErrorBoundary";warning(!lt,'Route "'+it.id+'" has a static property "'+ot+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+ot+'" will be ignored.')),!lt&&!immutableRouteKeys.has(ot)&&(st[ot]=nt[ot])}Object.assign(it,st),Object.assign(it,_extends$6({},_e(it),{lazy:void 0}))}async function callLoaderOrAction(et,_e,rt,nt,it,st,ot,at,lt,ut){at===void 0&&(at=!1),lt===void 0&&(lt=!1);let ct,dt,ft,pt=bt=>{let gt,xt=new Promise((yt,vt)=>gt=vt);return ft=()=>gt(),_e.signal.addEventListener("abort",ft),Promise.race([bt({request:_e,params:rt.params,context:ut}),xt])};try{let bt=rt.route[et];if(rt.route.lazy)if(bt)dt=(await Promise.all([pt(bt),loadLazyRouteModule(rt.route,st,it)]))[0];else if(await loadLazyRouteModule(rt.route,st,it),bt=rt.route[et],bt)dt=await pt(bt);else if(et==="action"){let gt=new URL(_e.url),xt=gt.pathname+gt.search;throw getInternalRouterError(405,{method:_e.method,pathname:xt,routeId:rt.route.id})}else return{type:ResultType.data,data:void 0};else if(bt)dt=await pt(bt);else{let gt=new URL(_e.url),xt=gt.pathname+gt.search;throw getInternalRouterError(404,{pathname:xt})}invariant(dt!==void 0,"You defined "+(et==="action"?"an action":"a loader")+" for route "+('"'+rt.route.id+"\" but didn't return anything from your `"+et+"` ")+"function. Please return a value or `null`.")}catch(bt){ct=ResultType.error,dt=bt}finally{ft&&_e.signal.removeEventListener("abort",ft)}if(isResponse(dt)){let bt=dt.status;if(redirectStatusCodes.has(bt)){let yt=dt.headers.get("Location");if(invariant(yt,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX$1.test(yt))yt=normalizeTo(new URL(_e.url),nt.slice(0,nt.indexOf(rt)+1),ot,!0,yt);else if(!at){let vt=new URL(_e.url),Pt=yt.startsWith("//")?new URL(vt.protocol+yt):new URL(yt),St=stripBasename(Pt.pathname,ot)!=null;Pt.origin===vt.origin&&St&&(yt=Pt.pathname+Pt.search+Pt.hash)}if(at)throw dt.headers.set("Location",yt),dt;return{type:ResultType.redirect,status:bt,location:yt,revalidate:dt.headers.get("X-Remix-Revalidate")!==null}}if(lt)throw{type:ct||ResultType.data,response:dt};let gt,xt=dt.headers.get("Content-Type");return xt&&/\bapplication\/json\b/.test(xt)?gt=await dt.json():gt=await dt.text(),ct===ResultType.error?{type:ct,error:new ErrorResponse(bt,dt.statusText,gt),headers:dt.headers}:{type:ResultType.data,data:gt,statusCode:dt.status,headers:dt.headers}}if(ct===ResultType.error)return{type:ct,error:dt};if(isDeferredData(dt)){var ht,mt;return{type:ResultType.deferred,deferredData:dt,statusCode:(ht=dt.init)==null?void 0:ht.status,headers:((mt=dt.init)==null?void 0:mt.headers)&&new Headers(dt.init.headers)}}return{type:ResultType.data,data:dt}}function createClientSideRequest(et,_e,rt,nt){let it=et.createURL(stripHashFromPath(_e)).toString(),st={signal:rt};if(nt&&isMutationMethod(nt.formMethod)){let{formMethod:ot,formEncType:at,formData:lt}=nt;st.method=ot.toUpperCase(),st.body=at==="application/x-www-form-urlencoded"?convertFormDataToSearchParams(lt):lt}return new Request(it,st)}function convertFormDataToSearchParams(et){let _e=new URLSearchParams;for(let[rt,nt]of et.entries())_e.append(rt,nt instanceof File?nt.name:nt);return _e}function processRouteLoaderData(et,_e,rt,nt,it){let st={},ot=null,at,lt=!1,ut={};return rt.forEach((ct,dt)=>{let ft=_e[dt].route.id;if(invariant(!isRedirectResult(ct),"Cannot handle redirect results in processLoaderData"),isErrorResult(ct)){let pt=findNearestBoundary(et,ft),ht=ct.error;nt&&(ht=Object.values(nt)[0],nt=void 0),ot=ot||{},ot[pt.route.id]==null&&(ot[pt.route.id]=ht),st[ft]=void 0,lt||(lt=!0,at=isRouteErrorResponse(ct.error)?ct.error.status:500),ct.headers&&(ut[ft]=ct.headers)}else isDeferredResult(ct)?(it.set(ft,ct.deferredData),st[ft]=ct.deferredData.data):st[ft]=ct.data,ct.statusCode!=null&&ct.statusCode!==200&&!lt&&(at=ct.statusCode),ct.headers&&(ut[ft]=ct.headers)}),nt&&(ot=nt,st[Object.keys(nt)[0]]=void 0),{loaderData:st,errors:ot,statusCode:at||200,loaderHeaders:ut}}function processLoaderData(et,_e,rt,nt,it,st,ot,at){let{loaderData:lt,errors:ut}=processRouteLoaderData(_e,rt,nt,it,at);for(let ct=0;ct<st.length;ct++){let{key:dt,match:ft,controller:pt}=st[ct];invariant(ot!==void 0&&ot[ct]!==void 0,"Did not find corresponding fetcher result");let ht=ot[ct];if(!(pt&&pt.signal.aborted))if(isErrorResult(ht)){let mt=findNearestBoundary(et.matches,ft==null?void 0:ft.route.id);ut&&ut[mt.route.id]||(ut=_extends$6({},ut,{[mt.route.id]:ht.error})),et.fetchers.delete(dt)}else if(isRedirectResult(ht))invariant(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(ht))invariant(!1,"Unhandled fetcher deferred data");else{let mt={state:"idle",data:ht.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};et.fetchers.set(dt,mt)}}return{loaderData:lt,errors:ut}}function mergeLoaderData(et,_e,rt,nt){let it=_extends$6({},_e);for(let st of rt){let ot=st.route.id;if(_e.hasOwnProperty(ot)?_e[ot]!==void 0&&(it[ot]=_e[ot]):et[ot]!==void 0&&st.route.loader&&(it[ot]=et[ot]),nt&&nt.hasOwnProperty(ot))break}return it}function findNearestBoundary(et,_e){return(_e?et.slice(0,et.findIndex(nt=>nt.route.id===_e)+1):[...et]).reverse().find(nt=>nt.route.hasErrorBoundary===!0)||et[0]}function getShortCircuitMatches(et){let _e=et.find(rt=>rt.index||!rt.path||rt.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:_e}],route:_e}}function getInternalRouterError(et,_e){let{pathname:rt,routeId:nt,method:it,type:st}=_e===void 0?{}:_e,ot="Unknown Server Error",at="Unknown @remix-run/router error";return et===400?(ot="Bad Request",it&&rt&&nt?at="You made a "+it+' request to "'+rt+'" but '+('did not provide a `loader` for route "'+nt+'", ')+"so there is no way to handle the request.":st==="defer-action"&&(at="defer() is not supported in actions")):et===403?(ot="Forbidden",at='Route "'+nt+'" does not match URL "'+rt+'"'):et===404?(ot="Not Found",at='No route matches URL "'+rt+'"'):et===405&&(ot="Method Not Allowed",it&&rt&&nt?at="You made a "+it.toUpperCase()+' request to "'+rt+'" but '+('did not provide an `action` for route "'+nt+'", ')+"so there is no way to handle the request.":it&&(at='Invalid request method "'+it.toUpperCase()+'"')),new ErrorResponse(et||500,ot,new Error(at),!0)}function findRedirect(et){for(let _e=et.length-1;_e>=0;_e--){let rt=et[_e];if(isRedirectResult(rt))return rt}}function stripHashFromPath(et){let _e=typeof et=="string"?parsePath(et):et;return createPath(_extends$6({},_e,{hash:""}))}function isHashChangeOnly(et,_e){return et.pathname!==_e.pathname||et.search!==_e.search?!1:et.hash===""?_e.hash!=="":et.hash===_e.hash?!0:_e.hash!==""}function isDeferredResult(et){return et.type===ResultType.deferred}function isErrorResult(et){return et.type===ResultType.error}function isRedirectResult(et){return(et&&et.type)===ResultType.redirect}function isDeferredData(et){let _e=et;return _e&&typeof _e=="object"&&typeof _e.data=="object"&&typeof _e.subscribe=="function"&&typeof _e.cancel=="function"&&typeof _e.resolveData=="function"}function isResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.headers=="object"&&typeof et.body<"u"}function isValidMethod(et){return validRequestMethods.has(et.toLowerCase())}function isMutationMethod(et){return validMutationMethods.has(et.toLowerCase())}async function resolveDeferredResults(et,_e,rt,nt,it,st){for(let ot=0;ot<rt.length;ot++){let at=rt[ot],lt=_e[ot];if(!lt)continue;let ut=et.find(dt=>dt.route.id===lt.route.id),ct=ut!=null&&!isNewRouteInstance(ut,lt)&&(st&&st[lt.route.id])!==void 0;if(isDeferredResult(at)&&(it||ct)){let dt=nt[ot];invariant(dt,"Expected an AbortSignal for revalidating fetcher deferred result"),await resolveDeferredData(at,dt,it).then(ft=>{ft&&(rt[ot]=ft||rt[ot])})}}}async function resolveDeferredData(et,_e,rt){if(rt===void 0&&(rt=!1),!await et.deferredData.resolveData(_e)){if(rt)try{return{type:ResultType.data,data:et.deferredData.unwrappedData}}catch(it){return{type:ResultType.error,error:it}}return{type:ResultType.data,data:et.deferredData.data}}}function hasNakedIndexQuery(et){return new URLSearchParams(et).getAll("index").some(_e=>_e==="")}function createUseMatchesMatch(et,_e){let{route:rt,pathname:nt,params:it}=et;return{id:rt.id,pathname:nt,params:it,data:_e[rt.id],handle:rt.handle}}function getTargetMatch(et,_e){let rt=typeof _e=="string"?parsePath(_e).search:_e.search;if(et[et.length-1].route.index&&hasNakedIndexQuery(rt||""))return et[et.length-1];let nt=getPathContributingMatches(et);return nt[nt.length-1]}/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$5.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(et,_e){let{relative:rt}=_e===void 0?{}:_e;useInRouterContext()||invariant(!1);let{basename:nt,navigator:it}=reactExports.useContext(NavigationContext),{hash:st,pathname:ot,search:at}=useResolvedPath(et,{relative:rt}),lt=ot;return nt!=="/"&&(lt=ot==="/"?nt:joinPaths([nt,ot])),it.createHref({pathname:lt,search:at,hash:st})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(et){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(et)}function useNavigate(){let{isDataRoute:et}=reactExports.useContext(RouteContext);return et?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let{basename:et,navigator:_e}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),it=JSON.stringify(getPathContributingMatches(rt).map(at=>at.pathnameBase)),st=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{st.current=!0}),reactExports.useCallback(function(at,lt){if(lt===void 0&&(lt={}),!st.current)return;if(typeof at=="number"){_e.go(at);return}let ut=resolveTo(at,JSON.parse(it),nt,lt.relative==="path");et!=="/"&&(ut.pathname=ut.pathname==="/"?et:joinPaths([et,ut.pathname])),(lt.replace?_e.replace:_e.push)(ut,lt.state,lt)},[et,_e,it,nt])}function useParams(){let{matches:et}=reactExports.useContext(RouteContext),_e=et[et.length-1];return _e?_e.params:{}}function useResolvedPath(et,_e){let{relative:rt}=_e===void 0?{}:_e,{matches:nt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),st=JSON.stringify(getPathContributingMatches(nt).map(ot=>ot.pathnameBase));return reactExports.useMemo(()=>resolveTo(et,JSON.parse(st),it,rt==="path"),[et,st,it,rt])}function useRoutesImpl(et,_e,rt){useInRouterContext()||invariant(!1);let{navigator:nt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),st=it[it.length-1],ot=st?st.params:{};st&&st.pathname;let at=st?st.pathnameBase:"/";st&&st.route;let lt=useLocation(),ut;if(_e){var ct;let mt=typeof _e=="string"?parsePath(_e):_e;at==="/"||(ct=mt.pathname)!=null&&ct.startsWith(at)||invariant(!1),ut=mt}else ut=lt;let dt=ut.pathname||"/",ft=at==="/"?dt:dt.slice(at.length)||"/",pt=matchRoutes(et,{pathname:ft}),ht=_renderMatches(pt&&pt.map(mt=>Object.assign({},mt,{params:Object.assign({},ot,mt.params),pathname:joinPaths([at,nt.encodeLocation?nt.encodeLocation(mt.pathname).pathname:mt.pathname]),pathnameBase:mt.pathnameBase==="/"?at:joinPaths([at,nt.encodeLocation?nt.encodeLocation(mt.pathnameBase).pathname:mt.pathnameBase])})),it,rt);return _e&&ht?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$5({pathname:"/",search:"",hash:"",state:null,key:"default"},ut),navigationType:Action.Pop}},ht):ht}function DefaultErrorComponent(){let et=useRouteError(),_e=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),rt=et instanceof Error?et.stack:null,it={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},st=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_e),rt?reactExports.createElement("pre",{style:it},rt):null,st)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(_e){super(_e),this.state={location:_e.location,revalidation:_e.revalidation,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,rt){return rt.location!==_e.location||rt.revalidation!=="idle"&&_e.revalidation==="idle"?{error:_e.error,location:_e.location,revalidation:_e.revalidation}:{error:_e.error||rt.error,location:rt.location,revalidation:_e.revalidation||rt.revalidation}}componentDidCatch(_e,rt){console.error("React Router caught the following error during render",_e,rt)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(et){let{routeContext:_e,match:rt,children:nt}=et,it=reactExports.useContext(DataRouterContext);return it&&it.static&&it.staticContext&&(rt.route.errorElement||rt.route.ErrorBoundary)&&(it.staticContext._deepestRenderedBoundaryId=rt.route.id),reactExports.createElement(RouteContext.Provider,{value:_e},nt)}function _renderMatches(et,_e,rt){var nt;if(_e===void 0&&(_e=[]),rt===void 0&&(rt=null),et==null){var it;if((it=rt)!=null&&it.errors)et=rt.matches;else return null}let st=et,ot=(nt=rt)==null?void 0:nt.errors;if(ot!=null){let at=st.findIndex(lt=>lt.route.id&&(ot==null?void 0:ot[lt.route.id]));at>=0||invariant(!1),st=st.slice(0,Math.min(st.length,at+1))}return st.reduceRight((at,lt,ut)=>{let ct=lt.route.id?ot==null?void 0:ot[lt.route.id]:null,dt=null;rt&&(dt=lt.route.errorElement||defaultErrorElement);let ft=_e.concat(st.slice(0,ut+1)),pt=()=>{let ht;return ct?ht=dt:lt.route.Component?ht=reactExports.createElement(lt.route.Component,null):lt.route.element?ht=lt.route.element:ht=at,reactExports.createElement(RenderedRoute,{match:lt,routeContext:{outlet:at,matches:ft,isDataRoute:rt!=null},children:ht})};return rt&&(lt.route.ErrorBoundary||lt.route.errorElement||ut===0)?reactExports.createElement(RenderErrorBoundary,{location:rt.location,revalidation:rt.revalidation,component:dt,error:ct,children:pt(),routeContext:{outlet:null,matches:ft,isDataRoute:!0}}):pt()},null)}var DataRouterHook$1;(function(et){et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(et){et.UseBlocker="useBlocker",et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(et){let _e=reactExports.useContext(DataRouterContext);return _e||invariant(!1),_e}function useDataRouterState(et){let _e=reactExports.useContext(DataRouterStateContext);return _e||invariant(!1),_e}function useRouteContext(et){let _e=reactExports.useContext(RouteContext);return _e||invariant(!1),_e}function useCurrentRouteId(et){let _e=useRouteContext(),rt=_e.matches[_e.matches.length-1];return rt.route.id||invariant(!1),rt.route.id}function useRouteError(){var et;let _e=reactExports.useContext(RouteErrorContext),rt=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _e||((et=rt.errors)==null?void 0:et[nt])}function useNavigateStable(){let{router:et}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),_e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{rt.current=!0}),reactExports.useCallback(function(it,st){st===void 0&&(st={}),rt.current&&(typeof it=="number"?et.navigate(it):et.navigate(it,_extends$5({fromRouteId:_e},st)))},[et,_e])}function RouterProvider(et){let{fallbackElement:_e,router:rt}=et,[nt,it]=reactExports.useState(rt.state);reactExports.useLayoutEffect(()=>rt.subscribe(it),[rt,it]);let st=reactExports.useMemo(()=>({createHref:rt.createHref,encodeLocation:rt.encodeLocation,go:lt=>rt.navigate(lt),push:(lt,ut,ct)=>rt.navigate(lt,{state:ut,preventScrollReset:ct==null?void 0:ct.preventScrollReset}),replace:(lt,ut,ct)=>rt.navigate(lt,{replace:!0,state:ut,preventScrollReset:ct==null?void 0:ct.preventScrollReset})}),[rt]),ot=rt.basename||"/",at=reactExports.useMemo(()=>({router:rt,navigator:st,static:!1,basename:ot}),[rt,st,ot]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:at},reactExports.createElement(DataRouterStateContext.Provider,{value:nt},reactExports.createElement(Router$1,{basename:rt.basename,location:rt.state.location,navigationType:rt.state.historyAction,navigator:st},rt.state.initialized?reactExports.createElement(DataRoutes,{routes:rt.routes,state:nt}):_e))),null)}function DataRoutes(et){let{routes:_e,state:rt}=et;return useRoutesImpl(_e,void 0,rt)}function Navigate(et){let{to:_e,replace:rt,state:nt,relative:it}=et;useInRouterContext()||invariant(!1);let{matches:st}=reactExports.useContext(RouteContext),{pathname:ot}=useLocation(),at=useNavigate(),lt=resolveTo(_e,getPathContributingMatches(st).map(ct=>ct.pathnameBase),ot,it==="path"),ut=JSON.stringify(lt);return reactExports.useEffect(()=>at(JSON.parse(ut),{replace:rt,state:nt,relative:it}),[at,ut,it,rt,nt]),null}function Router$1(et){let{basename:_e="/",children:rt=null,location:nt,navigationType:it=Action.Pop,navigator:st,static:ot=!1}=et;useInRouterContext()&&invariant(!1);let at=_e.replace(/^\/*/,"/"),lt=reactExports.useMemo(()=>({basename:at,navigator:st,static:ot}),[at,st,ot]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:ut="/",search:ct="",hash:dt="",state:ft=null,key:pt="default"}=nt,ht=reactExports.useMemo(()=>{let mt=stripBasename(ut,at);return mt==null?null:{location:{pathname:mt,search:ct,hash:dt,state:ft,key:pt},navigationType:it}},[at,ut,ct,dt,ft,pt,it]);return ht==null?null:reactExports.createElement(NavigationContext.Provider,{value:lt},reactExports.createElement(LocationContext.Provider,{children:rt,value:ht}))}var AwaitRenderStatus;(function(et){et[et.pending=0]="pending",et[et.success=1]="success",et[et.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function mapRouteProperties(et){let _e={hasErrorBoundary:et.ErrorBoundary!=null||et.errorElement!=null};return et.Component&&Object.assign(_e,{element:reactExports.createElement(et.Component),Component:void 0}),et.ErrorBoundary&&Object.assign(_e,{errorElement:reactExports.createElement(et.ErrorBoundary),ErrorBoundary:void 0}),_e}/**
 * React Router DOM v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$4.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(et,_e){if(et==null)return{};var rt={},nt=Object.keys(et),it,st;for(st=0;st<nt.length;st++)it=nt[st],!(_e.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function isModifiedEvent(et){return!!(et.metaKey||et.altKey||et.ctrlKey||et.shiftKey)}function shouldProcessLinkClick(et,_e){return et.button===0&&(!_e||_e==="_self")&&!isModifiedEvent(et)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function createHashRouter(et,_e){return createRouter({basename:_e==null?void 0:_e.basename,future:_extends$4({},_e==null?void 0:_e.future,{v7_prependBasename:!0}),history:createHashHistory({window:_e==null?void 0:_e.window}),hydrationData:(_e==null?void 0:_e.hydrationData)||parseHydrationData(),routes:et,mapRouteProperties}).initialize()}function parseHydrationData(){var et;let _e=(et=window)==null?void 0:et.__staticRouterHydrationData;return _e&&_e.errors&&(_e=_extends$4({},_e,{errors:deserializeErrors(_e.errors)})),_e}function deserializeErrors(et){if(!et)return null;let _e=Object.entries(et),rt={};for(let[nt,it]of _e)if(it&&it.__type==="RouteErrorResponse")rt[nt]=new ErrorResponse(it.status,it.statusText,it.data,it.internal===!0);else if(it&&it.__type==="Error"){let st=new Error(it.message);st.stack="",rt[nt]=st}else rt[nt]=it;return rt}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function(_e,rt){let{onClick:nt,relative:it,reloadDocument:st,replace:ot,state:at,target:lt,to:ut,preventScrollReset:ct}=_e,dt=_objectWithoutPropertiesLoose$1(_e,_excluded),{basename:ft}=reactExports.useContext(NavigationContext),pt,ht=!1;if(typeof ut=="string"&&ABSOLUTE_URL_REGEX.test(ut)&&(pt=ut,isBrowser$1))try{let xt=new URL(window.location.href),yt=ut.startsWith("//")?new URL(xt.protocol+ut):new URL(ut),vt=stripBasename(yt.pathname,ft);yt.origin===xt.origin&&vt!=null?ut=vt+yt.search+yt.hash:ht=!0}catch{}let mt=useHref(ut,{relative:it}),bt=useLinkClickHandler(ut,{replace:ot,state:at,target:lt,preventScrollReset:ct,relative:it});function gt(xt){nt&&nt(xt),xt.defaultPrevented||bt(xt)}return reactExports.createElement("a",_extends$4({},dt,{href:pt||mt,onClick:ht||st?nt:gt,ref:rt,target:lt}))});var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmitImpl="useSubmitImpl",et.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(et,_e){let{target:rt,replace:nt,state:it,preventScrollReset:st,relative:ot}=_e===void 0?{}:_e,at=useNavigate(),lt=useLocation(),ut=useResolvedPath(et,{relative:ot});return reactExports.useCallback(ct=>{if(shouldProcessLinkClick(ct,rt)){ct.preventDefault();let dt=nt!==void 0?nt:createPath(lt)===createPath(ut);at(et,{replace:dt,state:it,preventScrollReset:st,relative:ot})}},[lt,at,ut,nt,it,rt,et,st,ot])}var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(et,_e)=>function(){return _e||(0,et[__getOwnPropNames(et)[0]])((_e={exports:{}}).exports,_e),_e.exports},__export=(et,_e)=>{for(var rt in _e)__defProp(et,rt,{get:_e[rt],enumerable:!0})},__copyProps=(et,_e,rt,nt)=>{if(_e&&typeof _e=="object"||typeof _e=="function")for(let it of __getOwnPropNames(_e))!__hasOwnProp.call(et,it)&&it!==rt&&__defProp(et,it,{get:()=>_e[it],enumerable:!(nt=__getOwnPropDesc(_e,it))||nt.enumerable});return et},__toESM=(et,_e,rt)=>(rt=et!=null?__create(__getProtoOf(et)):{},__copyProps(_e||!et||!et.__esModule?__defProp(rt,"default",{value:et,enumerable:!0}):rt,et)),__toCommonJS=et=>__copyProps(__defProp({},"__esModule",{value:!0}),et),require_dist=__commonJS({"../../node_modules/iso-datestring-validator/dist/index.js"(et){(()=>{var _e={d:(ct,dt)=>{for(var ft in dt)_e.o(dt,ft)&&!_e.o(ct,ft)&&Object.defineProperty(ct,ft,{enumerable:!0,get:dt[ft]})},o:(ct,dt)=>Object.prototype.hasOwnProperty.call(ct,dt),r:ct=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ct,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ct,"__esModule",{value:!0})}},rt={};function nt(ct,dt){return dt===void 0&&(dt="-"),new RegExp("^(?!0{4}"+dt+"0{2}"+dt+"0{2})((?=[0-9]{4}"+dt+"(((0[^2])|1[0-2])|02(?="+dt+"(([0-1][0-9])|2[0-8])))"+dt+"[0-9]{2})|(?=((([13579][26])|([2468][048])|(0[48]))0{2})|([0-9]{2}((((0|[2468])[48])|[2468][048])|([13579][26])))"+dt+"02"+dt+"29))([0-9]{4})"+dt+"(?!((0[469])|11)"+dt+"31)((0[1,3-9]|1[0-2])|(02(?!"+dt+"3)))"+dt+"(0[1-9]|[1-2][0-9]|3[0-1])$").test(ct)}function it(ct){var dt=/\D/.exec(ct);return dt?dt[0]:""}function st(ct,dt,ft){dt===void 0&&(dt=":"),ft===void 0&&(ft=!1);var pt=new RegExp("^([0-1]|2(?=([0-3])|4"+dt+"00))[0-9]"+dt+"[0-5][0-9]("+dt+"([0-5]|6(?=0))[0-9])?(.[0-9]{1,9})?$");if(!ft||!/[Z+\-]/.test(ct))return pt.test(ct);if(/Z$/.test(ct))return pt.test(ct.replace("Z",""));var ht=ct.includes("+"),mt=ct.split(/[+-]/),bt=mt[0],gt=mt[1];return pt.test(bt)&&function(xt,yt,vt){return vt===void 0&&(vt=":"),new RegExp(yt?"^(0(?!(2"+vt+"4)|0"+vt+"3)|1(?=([0-1]|2(?="+vt+"[04])|[34](?="+vt+"0))))([03469](?="+vt+"[03])|[17](?="+vt+"0)|2(?="+vt+"[04])|5(?="+vt+"[034])|8(?="+vt+"[04]))"+vt+"([03](?=0)|4(?=5))[05]$":"^(0(?=[^0])|1(?=[0-2]))([39](?="+vt+"[03])|[0-24-8](?="+vt+"00))"+vt+"[03]0$").test(xt)}(gt,ht,it(gt))}function ot(ct){var dt=ct.split("T"),ft=dt[0],pt=dt[1],ht=nt(ft,it(ft));if(!pt)return!1;var mt,bt=(mt=pt.match(/([^Z+\-\d])(?=\d+\1)/),Array.isArray(mt)?mt[0]:"");return ht&&st(pt,bt,!0)}function at(ct,dt){return dt===void 0&&(dt="-"),new RegExp("^[0-9]{4}"+dt+"(0(?=[^0])|1(?=[0-2]))[0-9]$").test(ct)}_e.r(rt),_e.d(rt,{isValidDate:()=>nt,isValidISODateString:()=>ot,isValidTime:()=>st,isValidYearMonth:()=>at});var lt=et;for(var ut in rt)lt[ut]=rt[ut];rt.__esModule&&Object.defineProperty(lt,"__esModule",{value:!0})})()}}),src_exports4={};__export(src_exports4,{ActorNS:()=>ActorNS,AdminNS:()=>AdminNS,AppBskyActorDefs:()=>defs_exports5,AppBskyActorGetProfile:()=>getProfile_exports,AppBskyActorGetProfiles:()=>getProfiles_exports,AppBskyActorGetSuggestions:()=>getSuggestions_exports,AppBskyActorProfile:()=>profile_exports,AppBskyActorSearchActors:()=>searchActors_exports,AppBskyActorSearchActorsTypeahead:()=>searchActorsTypeahead_exports,AppBskyEmbedExternal:()=>external_exports,AppBskyEmbedImages:()=>images_exports,AppBskyEmbedRecord:()=>record_exports,AppBskyEmbedRecordWithMedia:()=>recordWithMedia_exports,AppBskyFeedDefs:()=>defs_exports6,AppBskyFeedGetAuthorFeed:()=>getAuthorFeed_exports,AppBskyFeedGetLikes:()=>getLikes_exports,AppBskyFeedGetPostThread:()=>getPostThread_exports,AppBskyFeedGetPosts:()=>getPosts_exports,AppBskyFeedGetRepostedBy:()=>getRepostedBy_exports,AppBskyFeedGetTimeline:()=>getTimeline_exports,AppBskyFeedLike:()=>like_exports,AppBskyFeedPost:()=>post_exports,AppBskyFeedRepost:()=>repost_exports,AppBskyGraphBlock:()=>block_exports,AppBskyGraphFollow:()=>follow_exports,AppBskyGraphGetBlocks:()=>getBlocks_exports2,AppBskyGraphGetFollowers:()=>getFollowers_exports,AppBskyGraphGetFollows:()=>getFollows_exports,AppBskyGraphGetMutes:()=>getMutes_exports,AppBskyGraphMuteActor:()=>muteActor_exports,AppBskyGraphUnmuteActor:()=>unmuteActor_exports,AppBskyNotificationGetUnreadCount:()=>getUnreadCount_exports,AppBskyNotificationListNotifications:()=>listNotifications_exports,AppBskyNotificationUpdateSeen:()=>updateSeen_exports,AppBskyRichtextFacet:()=>facet_exports,AppBskyUnspeccedGetPopular:()=>getPopular_exports,AppNS:()=>AppNS,AtUri:()=>AtUri,AtpAgent:()=>AtpAgent,AtpBaseClient:()=>AtpBaseClient,AtpServiceClient:()=>AtpServiceClient,AtprotoNS:()=>AtprotoNS,BlobRef:()=>BlobRef,BlockRecord:()=>BlockRecord,BskyAgent:()=>BskyAgent,BskyNS:()=>BskyNS,COM_ATPROTO_ADMIN:()=>COM_ATPROTO_ADMIN,COM_ATPROTO_MODERATION:()=>COM_ATPROTO_MODERATION,ComAtprotoAdminDefs:()=>defs_exports,ComAtprotoAdminDisableInviteCodes:()=>disableInviteCodes_exports,ComAtprotoAdminGetInviteCodes:()=>getInviteCodes_exports,ComAtprotoAdminGetModerationAction:()=>getModerationAction_exports,ComAtprotoAdminGetModerationActions:()=>getModerationActions_exports,ComAtprotoAdminGetModerationReport:()=>getModerationReport_exports,ComAtprotoAdminGetModerationReports:()=>getModerationReports_exports,ComAtprotoAdminGetRecord:()=>getRecord_exports,ComAtprotoAdminGetRepo:()=>getRepo_exports,ComAtprotoAdminResolveModerationReports:()=>resolveModerationReports_exports,ComAtprotoAdminReverseModerationAction:()=>reverseModerationAction_exports,ComAtprotoAdminSearchRepos:()=>searchRepos_exports,ComAtprotoAdminTakeModerationAction:()=>takeModerationAction_exports,ComAtprotoAdminUpdateAccountEmail:()=>updateAccountEmail_exports,ComAtprotoAdminUpdateAccountHandle:()=>updateAccountHandle_exports,ComAtprotoIdentityResolveHandle:()=>resolveHandle_exports,ComAtprotoIdentityUpdateHandle:()=>updateHandle_exports,ComAtprotoLabelDefs:()=>defs_exports2,ComAtprotoLabelQueryLabels:()=>queryLabels_exports,ComAtprotoLabelSubscribeLabels:()=>subscribeLabels_exports,ComAtprotoModerationCreateReport:()=>createReport_exports,ComAtprotoModerationDefs:()=>defs_exports3,ComAtprotoRepoApplyWrites:()=>applyWrites_exports,ComAtprotoRepoCreateRecord:()=>createRecord_exports,ComAtprotoRepoDeleteRecord:()=>deleteRecord_exports,ComAtprotoRepoDescribeRepo:()=>describeRepo_exports,ComAtprotoRepoGetRecord:()=>getRecord_exports2,ComAtprotoRepoListRecords:()=>listRecords_exports,ComAtprotoRepoPutRecord:()=>putRecord_exports,ComAtprotoRepoStrongRef:()=>strongRef_exports,ComAtprotoRepoUploadBlob:()=>uploadBlob_exports,ComAtprotoServerCreateAccount:()=>createAccount_exports,ComAtprotoServerCreateAppPassword:()=>createAppPassword_exports,ComAtprotoServerCreateInviteCode:()=>createInviteCode_exports,ComAtprotoServerCreateInviteCodes:()=>createInviteCodes_exports,ComAtprotoServerCreateSession:()=>createSession_exports,ComAtprotoServerDefs:()=>defs_exports4,ComAtprotoServerDeleteAccount:()=>deleteAccount_exports,ComAtprotoServerDeleteSession:()=>deleteSession_exports,ComAtprotoServerDescribeServer:()=>describeServer_exports,ComAtprotoServerGetAccountInviteCodes:()=>getAccountInviteCodes_exports,ComAtprotoServerGetSession:()=>getSession_exports,ComAtprotoServerListAppPasswords:()=>listAppPasswords_exports,ComAtprotoServerRefreshSession:()=>refreshSession_exports,ComAtprotoServerRequestAccountDelete:()=>requestAccountDelete_exports,ComAtprotoServerRequestPasswordReset:()=>requestPasswordReset_exports,ComAtprotoServerResetPassword:()=>resetPassword_exports,ComAtprotoServerRevokeAppPassword:()=>revokeAppPassword_exports,ComAtprotoSyncGetBlob:()=>getBlob_exports,ComAtprotoSyncGetBlocks:()=>getBlocks_exports,ComAtprotoSyncGetCheckout:()=>getCheckout_exports,ComAtprotoSyncGetCommitPath:()=>getCommitPath_exports,ComAtprotoSyncGetHead:()=>getHead_exports,ComAtprotoSyncGetRecord:()=>getRecord_exports3,ComAtprotoSyncGetRepo:()=>getRepo_exports2,ComAtprotoSyncListBlobs:()=>listBlobs_exports,ComAtprotoSyncListRepos:()=>listRepos_exports,ComAtprotoSyncNotifyOfUpdate:()=>notifyOfUpdate_exports,ComAtprotoSyncRequestCrawl:()=>requestCrawl_exports,ComAtprotoSyncSubscribeRepos:()=>subscribeRepos_exports,ComNS:()=>ComNS,EmbedNS:()=>EmbedNS,FeedNS:()=>FeedNS,FollowRecord:()=>FollowRecord,GraphNS:()=>GraphNS,IdentityNS:()=>IdentityNS,LabelNS:()=>LabelNS,LikeRecord:()=>LikeRecord,ModerationNS:()=>ModerationNS,NotificationNS:()=>NotificationNS,PostRecord:()=>PostRecord,ProfileRecord:()=>ProfileRecord,RepoNS:()=>RepoNS,RepostRecord:()=>RepostRecord,RichText:()=>RichText,RichTextSegment:()=>RichTextSegment,RichtextNS:()=>RichtextNS,ServerNS:()=>ServerNS,SyncNS:()=>SyncNS,UnicodeString:()=>UnicodeString,UnspeccedNS:()=>UnspeccedNS,default:()=>AtpAgent,jsonStringToLex:()=>jsonStringToLex,jsonToLex:()=>jsonToLex,lexToJson:()=>lexToJson,sanitizeRichText:()=>sanitizeRichText,stringifyLex:()=>stringifyLex});var dist=__toCommonJS(src_exports4),check_exports={};__export(check_exports,{assure:()=>assure,is:()=>is$1,isObject:()=>isObject$3});var is$1=(et,_e)=>_e.safeParse(et).success,assure=(et,_e)=>et.parse(_e),isObject$3=et=>typeof et=="object"&&et!==null,encode_1$2=encode$3,MSB$3=128,REST$3=127,MSBALL$2=~REST$3,INT$2=Math.pow(2,31);function encode$3(et,_e,rt){_e=_e||[],rt=rt||0;for(var nt=rt;et>=INT$2;)_e[rt++]=et&255|MSB$3,et/=128;for(;et&MSBALL$2;)_e[rt++]=et&255|MSB$3,et>>>=7;return _e[rt]=et|0,encode$3.bytes=rt-nt+1,_e}var decode$8=read$9,MSB$1$2=128,REST$1$2=127;function read$9(et,nt){var rt=0,nt=nt||0,it=0,st=nt,ot,at=et.length;do{if(st>=at)throw read$9.bytes=0,new RangeError("Could not decode varint");ot=et[st++],rt+=it<28?(ot&REST$1$2)<<it:(ot&REST$1$2)*Math.pow(2,it),it+=7}while(ot>=MSB$1$2);return read$9.bytes=st-nt,rt}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$3=function(et){return et<N1$2?1:et<N2$2?2:et<N3$2?3:et<N4$2?4:et<N5$2?5:et<N6$2?6:et<N7$2?7:et<N8$2?8:et<N9$2?9:10},varint$3={encode:encode_1$2,decode:decode$8,encodingLength:length$3},_brrp_varint$1=varint$3,varint_default=_brrp_varint$1,decode2=(et,_e=0)=>[varint_default.decode(et,_e),varint_default.decode.bytes],encodeTo$1=(et,_e,rt=0)=>(varint_default.encode(et,_e,rt),_e),encodingLength$1=et=>varint_default.encodingLength(et),equals$2=(et,_e)=>{if(et===_e)return!0;if(et.byteLength!==_e.byteLength)return!1;for(let rt=0;rt<et.byteLength;rt++)if(et[rt]!==_e[rt])return!1;return!0},coerce$1=et=>{if(et instanceof Uint8Array&&et.constructor.name==="Uint8Array")return et;if(et instanceof ArrayBuffer)return new Uint8Array(et);if(ArrayBuffer.isView(et))return new Uint8Array(et.buffer,et.byteOffset,et.byteLength);throw new Error("Unknown type, must be binary type")},fromString$2=et=>new TextEncoder().encode(et),toString$1=et=>new TextDecoder().decode(et),create$3=(et,_e)=>{const rt=_e.byteLength,nt=encodingLength$1(et),it=nt+encodingLength$1(rt),st=new Uint8Array(it+rt);return encodeTo$1(et,st,0),encodeTo$1(rt,st,nt),st.set(_e,it),new Digest$1(et,rt,_e,st)},decode3=et=>{const _e=coerce$1(et),[rt,nt]=decode2(_e),[it,st]=decode2(_e.subarray(nt)),ot=_e.subarray(nt+st);if(ot.byteLength!==it)throw new Error("Incorrect length");return new Digest$1(rt,it,ot,_e)},equals2=(et,_e)=>et===_e?!0:et.code===_e.code&&et.size===_e.size&&equals$2(et.bytes,_e.bytes),Digest$1=class{constructor(_e,rt,nt,it){this.code=_e,this.size=rt,this.digest=nt,this.bytes=it}},base58_exports={};__export(base58_exports,{base58btc:()=>base58btc$1,base58flickr:()=>base58flickr});function base$2(et,_e){if(et.length>=255)throw new TypeError("Alphabet too long");for(var rt=new Uint8Array(256),nt=0;nt<rt.length;nt++)rt[nt]=255;for(var it=0;it<et.length;it++){var st=et.charAt(it),ot=st.charCodeAt(0);if(rt[ot]!==255)throw new TypeError(st+" is ambiguous");rt[ot]=it}var at=et.length,lt=et.charAt(0),ut=Math.log(at)/Math.log(256),ct=Math.log(256)/Math.log(at);function dt(ht){if(ht instanceof Uint8Array||(ArrayBuffer.isView(ht)?ht=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):Array.isArray(ht)&&(ht=Uint8Array.from(ht))),!(ht instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ht.length===0)return"";for(var mt=0,bt=0,gt=0,xt=ht.length;gt!==xt&&ht[gt]===0;)gt++,mt++;for(var yt=(xt-gt)*ct+1>>>0,vt=new Uint8Array(yt);gt!==xt;){for(var Pt=ht[gt],St=0,Ot=yt-1;(Pt!==0||St<bt)&&Ot!==-1;Ot--,St++)Pt+=256*vt[Ot]>>>0,vt[Ot]=Pt%at>>>0,Pt=Pt/at>>>0;if(Pt!==0)throw new Error("Non-zero carry");bt=St,gt++}for(var Et=yt-bt;Et!==yt&&vt[Et]===0;)Et++;for(var Lt=lt.repeat(mt);Et<yt;++Et)Lt+=et.charAt(vt[Et]);return Lt}function ft(ht){if(typeof ht!="string")throw new TypeError("Expected String");if(ht.length===0)return new Uint8Array;var mt=0;if(ht[mt]!==" "){for(var bt=0,gt=0;ht[mt]===lt;)bt++,mt++;for(var xt=(ht.length-mt)*ut+1>>>0,yt=new Uint8Array(xt);ht[mt];){var vt=rt[ht.charCodeAt(mt)];if(vt===255)return;for(var Pt=0,St=xt-1;(vt!==0||Pt<gt)&&St!==-1;St--,Pt++)vt+=at*yt[St]>>>0,yt[St]=vt%256>>>0,vt=vt/256>>>0;if(vt!==0)throw new Error("Non-zero carry");gt=Pt,mt++}if(ht[mt]!==" "){for(var Ot=xt-gt;Ot!==xt&&yt[Ot]===0;)Ot++;for(var Et=new Uint8Array(bt+(xt-Ot)),Lt=bt;Ot!==xt;)Et[Lt++]=yt[Ot++];return Et}}}function pt(ht){var mt=ft(ht);if(mt)return mt;throw new Error(`Non-${_e} character`)}return{encode:dt,decodeUnsafe:ft,decode:pt}}var src$3=base$2,_brrp__multiformats_scope_baseX$1=src$3,base_x_default=_brrp__multiformats_scope_baseX$1,Encoder$2=class{constructor(_e,rt,nt){this.name=_e,this.prefix=rt,this.baseEncode=nt}encode(_e){if(_e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(_e)}`;throw Error("Unknown type, must be binary type")}},Decoder$2=class{constructor(_e,rt,nt){if(this.name=_e,this.prefix=rt,rt.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=rt.codePointAt(0),this.baseDecode=nt}decode(_e){if(typeof _e=="string"){if(_e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(_e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(_e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(_e){return or$1(this,_e)}},ComposedDecoder$1=class{constructor(_e){this.decoders=_e}or(_e){return or$1(this,_e)}decode(_e){const rt=_e[0],nt=this.decoders[rt];if(nt)return nt.decode(_e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(_e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},or$1=(et,_e)=>new ComposedDecoder$1({...et.decoders||{[et.prefix]:et},..._e.decoders||{[_e.prefix]:_e}}),Codec$1=class{constructor(_e,rt,nt,it){this.name=_e,this.prefix=rt,this.baseEncode=nt,this.baseDecode=it,this.encoder=new Encoder$2(_e,rt,nt),this.decoder=new Decoder$2(_e,rt,it)}encode(_e){return this.encoder.encode(_e)}decode(_e){return this.decoder.decode(_e)}},from$1=({name:et,prefix:_e,encode:rt,decode:nt})=>new Codec$1(et,_e,rt,nt),baseX$1=({prefix:et,name:_e,alphabet:rt})=>{const{encode:nt,decode:it}=base_x_default(rt,_e);return from$1({prefix:et,name:_e,encode:nt,decode:st=>coerce$1(it(st))})},decode4=(et,_e,rt,nt)=>{const it={};for(let ct=0;ct<_e.length;++ct)it[_e[ct]]=ct;let st=et.length;for(;et[st-1]==="=";)--st;const ot=new Uint8Array(st*rt/8|0);let at=0,lt=0,ut=0;for(let ct=0;ct<st;++ct){const dt=it[et[ct]];if(dt===void 0)throw new SyntaxError(`Non-${nt} character`);lt=lt<<rt|dt,at+=rt,at>=8&&(at-=8,ot[ut++]=255&lt>>at)}if(at>=rt||255&lt<<8-at)throw new SyntaxError("Unexpected end of data");return ot},encode2=(et,_e,rt)=>{const nt=_e[_e.length-1]==="=",it=(1<<rt)-1;let st="",ot=0,at=0;for(let lt=0;lt<et.length;++lt)for(at=at<<8|et[lt],ot+=8;ot>rt;)ot-=rt,st+=_e[it&at>>ot];if(ot&&(st+=_e[it&at<<rt-ot]),nt)for(;st.length*rt&7;)st+="=";return st},rfc4648$1=({name:et,prefix:_e,bitsPerChar:rt,alphabet:nt})=>from$1({prefix:_e,name:et,encode(it){return encode2(it,nt,rt)},decode(it){return decode4(it,nt,rt,et)}}),base58btc$1=baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base32_exports={};__export(base32_exports,{base32:()=>base32$1,base32hex:()=>base32hex,base32hexpad:()=>base32hexpad,base32hexpadupper:()=>base32hexpadupper,base32hexupper:()=>base32hexupper,base32pad:()=>base32pad,base32padupper:()=>base32padupper,base32upper:()=>base32upper,base32z:()=>base32z});var base32$1=rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),CID$1=class{constructor(_e,rt,nt,it){this.code=rt,this.version=_e,this.multihash=nt,this.bytes=it,this.byteOffset=it.byteOffset,this.byteLength=it.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:_e,multihash:rt}=this;if(_e!==DAG_PB_CODE$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(rt.code!==SHA_256_CODE$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID$1.createV0(rt)}}}toV1(){switch(this.version){case 0:{const{code:_e,digest:rt}=this.multihash,nt=create$3(_e,rt);return CID$1.createV1(this.code,nt)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(_e){return _e&&this.code===_e.code&&this.version===_e.version&&equals2(this.multihash,_e.multihash)}toString(_e){const{bytes:rt,version:nt,_baseCache:it}=this;switch(nt){case 0:return toStringV0$1(rt,it,_e||base58btc$1.encoder);default:return toStringV1$1(rt,it,_e||base32$1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(_e){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(_e&&(_e[cidSymbol$1]||_e.asCID===_e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(_e){if(_e instanceof CID$1)return _e;if(_e!=null&&_e.asCID===_e){const{version:rt,code:nt,multihash:it,bytes:st}=_e;return new CID$1(rt,nt,it,st||encodeCID$1(rt,nt,it.bytes))}else if(_e!=null&&_e[cidSymbol$1]===!0){const{version:rt,multihash:nt,code:it}=_e,st=decode3(nt);return CID$1.create(rt,it,st)}else return null}static create(_e,rt,nt){if(typeof rt!="number")throw new Error("String codecs are no longer supported");switch(_e){case 0:{if(rt!==DAG_PB_CODE$1)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$1}) block encoding`);return new CID$1(_e,rt,nt,nt.bytes)}case 1:{const it=encodeCID$1(_e,rt,nt.bytes);return new CID$1(_e,rt,nt,it)}default:throw new Error("Invalid version")}}static createV0(_e){return CID$1.create(0,DAG_PB_CODE$1,_e)}static createV1(_e,rt){return CID$1.create(1,_e,rt)}static decode(_e){const[rt,nt]=CID$1.decodeFirst(_e);if(nt.length)throw new Error("Incorrect length");return rt}static decodeFirst(_e){const rt=CID$1.inspectBytes(_e),nt=rt.size-rt.multihashSize,it=coerce$1(_e.subarray(nt,nt+rt.multihashSize));if(it.byteLength!==rt.multihashSize)throw new Error("Incorrect length");const st=it.subarray(rt.multihashSize-rt.digestSize),ot=new Digest$1(rt.multihashCode,rt.digestSize,st,it);return[rt.version===0?CID$1.createV0(ot):CID$1.createV1(rt.codec,ot),_e.subarray(rt.size)]}static inspectBytes(_e){let rt=0;const nt=()=>{const[dt,ft]=decode2(_e.subarray(rt));return rt+=ft,dt};let it=nt(),st=DAG_PB_CODE$1;if(it===18?(it=0,rt=0):it===1&&(st=nt()),it!==0&&it!==1)throw new RangeError(`Invalid CID version ${it}`);const ot=rt,at=nt(),lt=nt(),ut=rt+lt,ct=ut-ot;return{version:it,codec:st,multihashCode:at,digestSize:lt,multihashSize:ct,size:ut}}static parse(_e,rt){const[nt,it]=parseCIDtoBytes$1(_e,rt),st=CID$1.decode(it);return st._baseCache.set(nt,_e),st}},parseCIDtoBytes$1=(et,_e)=>{switch(et[0]){case"Q":{const rt=_e||base58btc$1;return[base58btc$1.prefix,rt.decode(`${base58btc$1.prefix}${et}`)]}case base58btc$1.prefix:{const rt=_e||base58btc$1;return[base58btc$1.prefix,rt.decode(et)]}case base32$1.prefix:{const rt=_e||base32$1;return[base32$1.prefix,rt.decode(et)]}default:{if(_e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[et[0],_e.decode(et)]}}},toStringV0$1=(et,_e,rt)=>{const{prefix:nt}=rt;if(nt!==base58btc$1.prefix)throw Error(`Cannot string encode V0 in ${rt.name} encoding`);const it=_e.get(nt);if(it==null){const st=rt.encode(et).slice(1);return _e.set(nt,st),st}else return it},toStringV1$1=(et,_e,rt)=>{const{prefix:nt}=rt,it=_e.get(nt);if(it==null){const st=rt.encode(et);return _e.set(nt,st),st}else return it},DAG_PB_CODE$1=112,SHA_256_CODE$1=18,encodeCID$1=(et,_e,rt)=>{const nt=encodingLength$1(et),it=nt+encodingLength$1(_e),st=new Uint8Array(it+rt.byteLength);return encodeTo$1(et,st,0),encodeTo$1(_e,st,nt),st.set(rt,it),st},cidSymbol$1=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(et,_e)=>{if(et.test(version))console.warn(_e);else throw new Error(_e)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,identity_exports={};__export(identity_exports,{identity:()=>identity});var identity=from$1({prefix:"\0",name:"identity",encode:et=>toString$1(et),decode:et=>fromString$2(et)}),base2_exports={};__export(base2_exports,{base2:()=>base2});var base2=rfc4648$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base8_exports={};__export(base8_exports,{base8:()=>base8});var base8=rfc4648$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base10_exports={};__export(base10_exports,{base10:()=>base10});var base10=baseX$1({prefix:"9",name:"base10",alphabet:"0123456789"}),base16_exports={};__export(base16_exports,{base16:()=>base16,base16upper:()=>base16upper});var base16=rfc4648$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base36_exports={};__export(base36_exports,{base36:()=>base36,base36upper:()=>base36upper});var base36=baseX$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base64_exports={};__export(base64_exports,{base64:()=>base64,base64pad:()=>base64pad,base64url:()=>base64url,base64urlpad:()=>base64urlpad});var base64=rfc4648$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base256emoji_exports={};__export(base256emoji_exports,{base256emoji:()=>base256emoji});var alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((et,_e,rt)=>(et[rt]=_e,et),[]),alphabetCharsToBytes=alphabet.reduce((et,_e,rt)=>(et[_e.codePointAt(0)]=rt,et),[]);function encode3(et){return et.reduce((_e,rt)=>(_e+=alphabetBytesToChars[rt],_e),"")}function decode5(et){const _e=[];for(const rt of et){const nt=alphabetCharsToBytes[rt.codePointAt(0)];if(nt===void 0)throw new Error(`Non-base256emoji character: ${rt}`);_e.push(nt)}return new Uint8Array(_e)}var base256emoji=from$1({prefix:"🚀",name:"base256emoji",encode:encode3,decode:decode5}),sha2_browser_exports={};__export(sha2_browser_exports,{sha256:()=>sha256,sha512:()=>sha512});var from2=({name:et,code:_e,encode:rt})=>new Hasher(et,_e,rt),Hasher=class{constructor(et,_e,rt){this.name=et,this.code=_e,this.encode=rt}digest(et){if(et instanceof Uint8Array){const _e=this.encode(et);return _e instanceof Uint8Array?create$3(this.code,_e):_e.then(rt=>create$3(this.code,rt))}else throw Error("Unknown type, must be binary type")}},sha=et=>async _e=>new Uint8Array(await crypto.subtle.digest(et,_e)),sha256=from2({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from2({name:"sha2-512",code:19,encode:sha("SHA-512")}),identity_exports2={};__export(identity_exports2,{identity:()=>identity2});var code$1=0,name="identity",encode4=coerce$1,digest=et=>create$3(code$1,encode4(et)),identity2={code:code$1,name,encode:encode4,digest};new TextEncoder;new TextDecoder;var bases={...identity_exports,...base2_exports,...base8_exports,...base10_exports,...base16_exports,...base32_exports,...base36_exports,...base58_exports,...base64_exports,...base256emoji_exports};({...sha2_browser_exports,...identity_exports2});function createCodec(et,_e,rt,nt){return{name:et,prefix:_e,encoder:{name:et,prefix:_e,encode:rt},decoder:{decode:nt}}}var string=createCodec("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>new TextEncoder().encode(et.substring(1))),ascii$1=createCodec("ascii","a",et=>{let _e="a";for(let rt=0;rt<et.length;rt++)_e+=String.fromCharCode(et[rt]);return _e},et=>{et=et.substring(1);const _e=new Uint8Array(et.length);for(let rt=0;rt<et.length;rt++)_e[rt]=et.charCodeAt(rt);return _e}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases},bases_default=BASES;function fromString2(et,_e="utf8"){const rt=bases_default[_e];if(!rt)throw new Error(`Unsupported encoding "${_e}"`);return rt.decoder.decode(`${rt.prefix}${et}`)}function toString2(et,_e="utf8"){const rt=bases_default[_e];if(!rt)throw new Error(`Unsupported encoding "${_e}"`);return rt.encoder.encode(et).substring(1)}var jsonToIpld=et=>{if(Array.isArray(et))return et.map(_e=>jsonToIpld(_e));if(et&&typeof et=="object"){if(typeof et.$link=="string"&&Object.keys(et).length===1)return CID$1.parse(et.$link);if(typeof et.$bytes=="string"&&Object.keys(et).length===1)return fromString2(et.$bytes,"base64");const _e={};for(const rt of Object.keys(et))_e[rt]=jsonToIpld(et[rt]);return _e}return et},ipldToJson=et=>{if(Array.isArray(et))return et.map(_e=>ipldToJson(_e));if(et&&typeof et=="object"){if(et instanceof Uint8Array)return{$bytes:toString2(et,"base64")};if(CID$1.asCID(et))return{$link:et.toString()};const _e={};for(const rt of Object.keys(et))_e[rt]=ipldToJson(et[rt]);return _e}return et},util$7;(function(et){et.assertEqual=it=>it;function _e(it){}et.assertIs=_e;function rt(it){throw new Error}et.assertNever=rt,et.arrayToEnum=it=>{const st={};for(const ot of it)st[ot]=ot;return st},et.getValidEnumValues=it=>{const st=et.objectKeys(it).filter(at=>typeof it[it[at]]!="number"),ot={};for(const at of st)ot[at]=it[at];return et.objectValues(ot)},et.objectValues=it=>et.objectKeys(it).map(function(st){return it[st]}),et.objectKeys=typeof Object.keys=="function"?it=>Object.keys(it):it=>{const st=[];for(const ot in it)Object.prototype.hasOwnProperty.call(it,ot)&&st.push(ot);return st},et.find=(it,st)=>{for(const ot of it)if(st(ot))return ot},et.isInteger=typeof Number.isInteger=="function"?it=>Number.isInteger(it):it=>typeof it=="number"&&isFinite(it)&&Math.floor(it)===it;function nt(it,st=" | "){return it.map(ot=>typeof ot=="string"?`'${ot}'`:ot).join(st)}et.joinValues=nt,et.jsonStringifyReplacer=(it,st)=>typeof st=="bigint"?st.toString():st})(util$7||(util$7={}));var ZodParsedType=util$7.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=et=>{switch(typeof et){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(et)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"object":return Array.isArray(et)?ZodParsedType.array:et===null?ZodParsedType.null:et.then&&typeof et.then=="function"&&et.catch&&typeof et.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&et instanceof Map?ZodParsedType.map:typeof Set<"u"&&et instanceof Set?ZodParsedType.set:typeof Date<"u"&&et instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$7.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),quotelessJson=et=>JSON.stringify(et,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError=class extends Error{constructor(et){super(),this.issues=[],this.addIssue=rt=>{this.issues=[...this.issues,rt]},this.addIssues=(rt=[])=>{this.issues=[...this.issues,...rt]};const _e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,_e):this.__proto__=_e,this.name="ZodError",this.issues=et}get errors(){return this.issues}format(et){const _e=et||function(it){return it.message},rt={_errors:[]},nt=it=>{for(const st of it.issues)if(st.code==="invalid_union")st.unionErrors.map(nt);else if(st.code==="invalid_return_type")nt(st.returnTypeError);else if(st.code==="invalid_arguments")nt(st.argumentsError);else if(st.path.length===0)rt._errors.push(_e(st));else{let ot=rt,at=0;for(;at<st.path.length;){const lt=st.path[at];at===st.path.length-1?(ot[lt]=ot[lt]||{_errors:[]},ot[lt]._errors.push(_e(st))):ot[lt]=ot[lt]||{_errors:[]},ot=ot[lt],at++}}};return nt(this),rt}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$7.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(et=_e=>_e.message){const _e={},rt=[];for(const nt of this.issues)nt.path.length>0?(_e[nt.path[0]]=_e[nt.path[0]]||[],_e[nt.path[0]].push(et(nt))):rt.push(et(nt));return{formErrors:rt,fieldErrors:_e}}get formErrors(){return this.flatten()}};ZodError.create=et=>new ZodError(et);var errorMap=(et,_e)=>{let rt;switch(et.code){case ZodIssueCode.invalid_type:et.received===ZodParsedType.undefined?rt="Required":rt=`Expected ${et.expected}, received ${et.received}`;break;case ZodIssueCode.invalid_literal:rt=`Invalid literal value, expected ${JSON.stringify(et.expected,util$7.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:rt=`Unrecognized key(s) in object: ${util$7.joinValues(et.keys,", ")}`;break;case ZodIssueCode.invalid_union:rt="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:rt=`Invalid discriminator value. Expected ${util$7.joinValues(et.options)}`;break;case ZodIssueCode.invalid_enum_value:rt=`Invalid enum value. Expected ${util$7.joinValues(et.options)}, received '${et.received}'`;break;case ZodIssueCode.invalid_arguments:rt="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:rt="Invalid function return type";break;case ZodIssueCode.invalid_date:rt="Invalid date";break;case ZodIssueCode.invalid_string:typeof et.validation=="object"?"startsWith"in et.validation?rt=`Invalid input: must start with "${et.validation.startsWith}"`:"endsWith"in et.validation?rt=`Invalid input: must end with "${et.validation.endsWith}"`:util$7.assertNever(et.validation):et.validation!=="regex"?rt=`Invalid ${et.validation}`:rt="Invalid";break;case ZodIssueCode.too_small:et.type==="array"?rt=`Array must contain ${et.inclusive?"at least":"more than"} ${et.minimum} element(s)`:et.type==="string"?rt=`String must contain ${et.inclusive?"at least":"over"} ${et.minimum} character(s)`:et.type==="number"?rt=`Number must be greater than ${et.inclusive?"or equal to ":""}${et.minimum}`:et.type==="date"?rt=`Date must be greater than ${et.inclusive?"or equal to ":""}${new Date(et.minimum)}`:rt="Invalid input";break;case ZodIssueCode.too_big:et.type==="array"?rt=`Array must contain ${et.inclusive?"at most":"less than"} ${et.maximum} element(s)`:et.type==="string"?rt=`String must contain ${et.inclusive?"at most":"under"} ${et.maximum} character(s)`:et.type==="number"?rt=`Number must be less than ${et.inclusive?"or equal to ":""}${et.maximum}`:et.type==="date"?rt=`Date must be smaller than ${et.inclusive?"or equal to ":""}${new Date(et.maximum)}`:rt="Invalid input";break;case ZodIssueCode.custom:rt="Invalid input";break;case ZodIssueCode.invalid_intersection_types:rt="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:rt=`Number must be a multiple of ${et.multipleOf}`;break;default:rt=_e.defaultError,util$7.assertNever(et)}return{message:rt}},overrideErrorMap=errorMap;function setErrorMap(et){overrideErrorMap=et}function getErrorMap(){return overrideErrorMap}var makeIssue=et=>{const{data:_e,path:rt,errorMaps:nt,issueData:it}=et,st=[...rt,...it.path||[]],ot={...it,path:st};let at="";const lt=nt.filter(ut=>!!ut).slice().reverse();for(const ut of lt)at=ut(ot,{data:_e,defaultError:at}).message;return{...it,path:st,message:it.message||at}},EMPTY_PATH=[];function addIssueToContext(et,_e){const rt=makeIssue({issueData:_e,data:et.data,path:et.path,errorMaps:[et.common.contextualErrorMap,et.schemaErrorMap,getErrorMap(),errorMap].filter(nt=>!!nt)});et.common.issues.push(rt)}var ParseStatus=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(et,_e){const rt=[];for(const nt of _e){if(nt.status==="aborted")return INVALID;nt.status==="dirty"&&et.dirty(),rt.push(nt.value)}return{status:et.value,value:rt}}static async mergeObjectAsync(et,_e){const rt=[];for(const nt of _e)rt.push({key:await nt.key,value:await nt.value});return ParseStatus.mergeObjectSync(et,rt)}static mergeObjectSync(et,_e){const rt={};for(const nt of _e){const{key:it,value:st}=nt;if(it.status==="aborted"||st.status==="aborted")return INVALID;it.status==="dirty"&&et.dirty(),st.status==="dirty"&&et.dirty(),(typeof st.value<"u"||nt.alwaysSet)&&(rt[it.value]=st.value)}return{status:et.value,value:rt}}},INVALID=Object.freeze({status:"aborted"}),DIRTY=et=>({status:"dirty",value:et}),OK=et=>({status:"valid",value:et}),isAborted=et=>et.status==="aborted",isDirty=et=>et.status==="dirty",isValid=et=>et.status==="valid",isAsync=et=>typeof Promise!==void 0&&et instanceof Promise,errorUtil;(function(et){et.errToObj=_e=>typeof _e=="string"?{message:_e}:_e||{},et.toString=_e=>typeof _e=="string"?_e:_e==null?void 0:_e.message})(errorUtil||(errorUtil={}));var ParseInputLazyPath=class{constructor(et,_e,rt,nt){this.parent=et,this.data=_e,this._path=rt,this._key=nt}get path(){return this._path.concat(this._key)}},handleResult=(et,_e)=>{if(isValid(_e))return{success:!0,data:_e.value};if(!et.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new ZodError(et.common.issues)}};function processCreateParams(et){if(!et)return{};const{errorMap:_e,invalid_type_error:rt,required_error:nt,description:it}=et;if(_e&&(rt||nt))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return _e?{errorMap:_e,description:it}:{errorMap:(ot,at)=>ot.code!=="invalid_type"?{message:at.defaultError}:typeof at.data>"u"?{message:nt??at.defaultError}:{message:rt??at.defaultError},description:it}}var ZodType=class{constructor(et){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=et,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(et){return getParsedType(et.data)}_getOrReturnCtx(et,_e){return _e||{common:et.parent.common,data:et.data,parsedType:getParsedType(et.data),schemaErrorMap:this._def.errorMap,path:et.path,parent:et.parent}}_processInputParams(et){return{status:new ParseStatus,ctx:{common:et.parent.common,data:et.data,parsedType:getParsedType(et.data),schemaErrorMap:this._def.errorMap,path:et.path,parent:et.parent}}}_parseSync(et){const _e=this._parse(et);if(isAsync(_e))throw new Error("Synchronous parse encountered promise.");return _e}_parseAsync(et){const _e=this._parse(et);return Promise.resolve(_e)}parse(et,_e){const rt=this.safeParse(et,_e);if(rt.success)return rt.data;throw rt.error}safeParse(et,_e){var rt;const nt={common:{issues:[],async:(rt=_e==null?void 0:_e.async)!==null&&rt!==void 0?rt:!1,contextualErrorMap:_e==null?void 0:_e.errorMap},path:(_e==null?void 0:_e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:et,parsedType:getParsedType(et)},it=this._parseSync({data:et,path:nt.path,parent:nt});return handleResult(nt,it)}async parseAsync(et,_e){const rt=await this.safeParseAsync(et,_e);if(rt.success)return rt.data;throw rt.error}async safeParseAsync(et,_e){const rt={common:{issues:[],contextualErrorMap:_e==null?void 0:_e.errorMap,async:!0},path:(_e==null?void 0:_e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:et,parsedType:getParsedType(et)},nt=this._parse({data:et,path:[],parent:rt}),it=await(isAsync(nt)?nt:Promise.resolve(nt));return handleResult(rt,it)}refine(et,_e){const rt=nt=>typeof _e=="string"||typeof _e>"u"?{message:_e}:typeof _e=="function"?_e(nt):_e;return this._refinement((nt,it)=>{const st=et(nt),ot=()=>it.addIssue({code:ZodIssueCode.custom,...rt(nt)});return typeof Promise<"u"&&st instanceof Promise?st.then(at=>at?!0:(ot(),!1)):st?!0:(ot(),!1)})}refinement(et,_e){return this._refinement((rt,nt)=>et(rt)?!0:(nt.addIssue(typeof _e=="function"?_e(rt,nt):_e),!1))}_refinement(et){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:et}})}optional(){return ZodOptional.create(this)}nullable(){return ZodNullable.create(this)}nullish(){return this.optional().nullable()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this)}or(et){return ZodUnion.create([this,et])}and(et){return ZodIntersection.create(this,et)}transform(et){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:et}})}default(et){const _e=typeof et=="function"?et:()=>et;return new ZodDefault({innerType:this,defaultValue:_e,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(void 0)})}describe(et){const _e=this.constructor;return new _e({...this._def,description:et})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},cuidRegex=/^c[^\s-]{8,}$/i,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,ZodString=class extends ZodType{constructor(){super(...arguments),this._regex=(et,_e,rt)=>this.refinement(nt=>et.test(nt),{validation:_e,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(rt)}),this.nonempty=et=>this.min(1,errorUtil.errToObj(et)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(et){if(this._getType(et)!==ZodParsedType.string){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:it.parsedType}),INVALID}const rt=new ParseStatus;let nt;for(const it of this._def.checks)if(it.kind==="min")et.data.length<it.value&&(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,message:it.message}),rt.dirty());else if(it.kind==="max")et.data.length>it.value&&(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,message:it.message}),rt.dirty());else if(it.kind==="email")emailRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"email",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="uuid")uuidRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"uuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid")cuidRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"cuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="url")try{new URL(et.data)}catch{nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"url",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()}else it.kind==="regex"?(it.regex.lastIndex=0,it.regex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"regex",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty())):it.kind==="trim"?et.data=et.data.trim():it.kind==="startsWith"?et.data.startsWith(it.value)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{startsWith:it.value},message:it.message}),rt.dirty()):it.kind==="endsWith"?et.data.endsWith(it.value)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{endsWith:it.value},message:it.message}),rt.dirty()):util$7.assertNever(it);return{status:rt.value,value:et.data}}_addCheck(et){return new ZodString({...this._def,checks:[...this._def.checks,et]})}email(et){return this._addCheck({kind:"email",...errorUtil.errToObj(et)})}url(et){return this._addCheck({kind:"url",...errorUtil.errToObj(et)})}uuid(et){return this._addCheck({kind:"uuid",...errorUtil.errToObj(et)})}cuid(et){return this._addCheck({kind:"cuid",...errorUtil.errToObj(et)})}regex(et,_e){return this._addCheck({kind:"regex",regex:et,...errorUtil.errToObj(_e)})}startsWith(et,_e){return this._addCheck({kind:"startsWith",value:et,...errorUtil.errToObj(_e)})}endsWith(et,_e){return this._addCheck({kind:"endsWith",value:et,...errorUtil.errToObj(_e)})}min(et,_e){return this._addCheck({kind:"min",value:et,...errorUtil.errToObj(_e)})}max(et,_e){return this._addCheck({kind:"max",value:et,...errorUtil.errToObj(_e)})}length(et,_e){return this.min(et,_e).max(et,_e)}get isEmail(){return!!this._def.checks.find(et=>et.kind==="email")}get isURL(){return!!this._def.checks.find(et=>et.kind==="url")}get isUUID(){return!!this._def.checks.find(et=>et.kind==="uuid")}get isCUID(){return!!this._def.checks.find(et=>et.kind==="cuid")}get minLength(){let et=null;for(const _e of this._def.checks)_e.kind==="min"&&(et===null||_e.value>et)&&(et=_e.value);return et}get maxLength(){let et=null;for(const _e of this._def.checks)_e.kind==="max"&&(et===null||_e.value<et)&&(et=_e.value);return et}};ZodString.create=et=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,...processCreateParams(et)});function floatSafeRemainder(et,_e){const rt=(et.toString().split(".")[1]||"").length,nt=(_e.toString().split(".")[1]||"").length,it=rt>nt?rt:nt,st=parseInt(et.toFixed(it).replace(".","")),ot=parseInt(_e.toFixed(it).replace(".",""));return st%ot/Math.pow(10,it)}var ZodNumber=class extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(et){if(this._getType(et)!==ZodParsedType.number){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:it.parsedType}),INVALID}let rt;const nt=new ParseStatus;for(const it of this._def.checks)it.kind==="int"?util$7.isInteger(et.data)||(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:it.message}),nt.dirty()):it.kind==="min"?(it.inclusive?et.data<it.value:et.data<=it.value)&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:it.value,type:"number",inclusive:it.inclusive,message:it.message}),nt.dirty()):it.kind==="max"?(it.inclusive?et.data>it.value:et.data>=it.value)&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:it.value,type:"number",inclusive:it.inclusive,message:it.message}),nt.dirty()):it.kind==="multipleOf"?floatSafeRemainder(et.data,it.value)!==0&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.not_multiple_of,multipleOf:it.value,message:it.message}),nt.dirty()):util$7.assertNever(it);return{status:nt.value,value:et.data}}gte(et,_e){return this.setLimit("min",et,!0,errorUtil.toString(_e))}gt(et,_e){return this.setLimit("min",et,!1,errorUtil.toString(_e))}lte(et,_e){return this.setLimit("max",et,!0,errorUtil.toString(_e))}lt(et,_e){return this.setLimit("max",et,!1,errorUtil.toString(_e))}setLimit(et,_e,rt,nt){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:et,value:_e,inclusive:rt,message:errorUtil.toString(nt)}]})}_addCheck(et){return new ZodNumber({...this._def,checks:[...this._def.checks,et]})}int(et){return this._addCheck({kind:"int",message:errorUtil.toString(et)})}positive(et){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(et)})}negative(et){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(et)})}nonpositive(et){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(et)})}nonnegative(et){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(et)})}multipleOf(et,_e){return this._addCheck({kind:"multipleOf",value:et,message:errorUtil.toString(_e)})}get minValue(){let et=null;for(const _e of this._def.checks)_e.kind==="min"&&(et===null||_e.value>et)&&(et=_e.value);return et}get maxValue(){let et=null;for(const _e of this._def.checks)_e.kind==="max"&&(et===null||_e.value<et)&&(et=_e.value);return et}get isInt(){return!!this._def.checks.find(et=>et.kind==="int")}};ZodNumber.create=et=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,...processCreateParams(et)});var ZodBigInt=class extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.bigint){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:rt.parsedType}),INVALID}return OK(et.data)}};ZodBigInt.create=et=>new ZodBigInt({typeName:ZodFirstPartyTypeKind.ZodBigInt,...processCreateParams(et)});var ZodBoolean=class extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.boolean){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:rt.parsedType}),INVALID}return OK(et.data)}};ZodBoolean.create=et=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,...processCreateParams(et)});var ZodDate=class extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.date){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:it.parsedType}),INVALID}if(isNaN(et.data.getTime())){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_date}),INVALID}const rt=new ParseStatus;let nt;for(const it of this._def.checks)it.kind==="min"?et.data.getTime()<it.value&&(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,message:it.message,inclusive:!0,minimum:it.value,type:"date"}),rt.dirty()):it.kind==="max"?et.data.getTime()>it.value&&(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,message:it.message,inclusive:!0,maximum:it.value,type:"date"}),rt.dirty()):util$7.assertNever(it);return{status:rt.value,value:new Date(et.data.getTime())}}_addCheck(et){return new ZodDate({...this._def,checks:[...this._def.checks,et]})}min(et,_e){return this._addCheck({kind:"min",value:et.getTime(),message:errorUtil.toString(_e)})}max(et,_e){return this._addCheck({kind:"max",value:et.getTime(),message:errorUtil.toString(_e)})}get minDate(){let et=null;for(const _e of this._def.checks)_e.kind==="min"&&(et===null||_e.value>et)&&(et=_e.value);return et!=null?new Date(et):null}get maxDate(){let et=null;for(const _e of this._def.checks)_e.kind==="max"&&(et===null||_e.value<et)&&(et=_e.value);return et!=null?new Date(et):null}};ZodDate.create=et=>new ZodDate({checks:[],typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(et)});var ZodUndefined=class extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:rt.parsedType}),INVALID}return OK(et.data)}};ZodUndefined.create=et=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(et)});var ZodNull=class extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.null){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:rt.parsedType}),INVALID}return OK(et.data)}};ZodNull.create=et=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(et)});var ZodAny=class extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(et){return OK(et.data)}};ZodAny.create=et=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(et)});var ZodUnknown=class extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(et){return OK(et.data)}};ZodUnknown.create=et=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(et)});var ZodNever=class extends ZodType{_parse(et){const _e=this._getOrReturnCtx(et);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:_e.parsedType}),INVALID}};ZodNever.create=et=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(et)});var ZodVoid=class extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:rt.parsedType}),INVALID}return OK(et.data)}};ZodVoid.create=et=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(et)});var ZodArray=class extends ZodType{_parse(et){const{ctx:_e,status:rt}=this._processInputParams(et),nt=this._def;if(_e.parsedType!==ZodParsedType.array)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:_e.parsedType}),INVALID;if(nt.minLength!==null&&_e.data.length<nt.minLength.value&&(addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:nt.minLength.value,type:"array",inclusive:!0,message:nt.minLength.message}),rt.dirty()),nt.maxLength!==null&&_e.data.length>nt.maxLength.value&&(addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:nt.maxLength.value,type:"array",inclusive:!0,message:nt.maxLength.message}),rt.dirty()),_e.common.async)return Promise.all(_e.data.map((st,ot)=>nt.type._parseAsync(new ParseInputLazyPath(_e,st,_e.path,ot)))).then(st=>ParseStatus.mergeArray(rt,st));const it=_e.data.map((st,ot)=>nt.type._parseSync(new ParseInputLazyPath(_e,st,_e.path,ot)));return ParseStatus.mergeArray(rt,it)}get element(){return this._def.type}min(et,_e){return new ZodArray({...this._def,minLength:{value:et,message:errorUtil.toString(_e)}})}max(et,_e){return new ZodArray({...this._def,maxLength:{value:et,message:errorUtil.toString(_e)}})}length(et,_e){return this.min(et,_e).max(et,_e)}nonempty(et){return this.min(1,et)}};ZodArray.create=(et,_e)=>new ZodArray({type:et,minLength:null,maxLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(_e)});var objectUtil;(function(et){et.mergeShapes=(_e,rt)=>({..._e,...rt})})(objectUtil||(objectUtil={}));var AugmentFactory=et=>_e=>new ZodObject({...et,shape:()=>({...et.shape(),..._e})});function deepPartialify(et){if(et instanceof ZodObject){const _e={};for(const rt in et.shape){const nt=et.shape[rt];_e[rt]=ZodOptional.create(deepPartialify(nt))}return new ZodObject({...et._def,shape:()=>_e})}else return et instanceof ZodArray?ZodArray.create(deepPartialify(et.element)):et instanceof ZodOptional?ZodOptional.create(deepPartialify(et.unwrap())):et instanceof ZodNullable?ZodNullable.create(deepPartialify(et.unwrap())):et instanceof ZodTuple?ZodTuple.create(et.items.map(_e=>deepPartialify(_e))):et}var ZodObject=class extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=AugmentFactory(this._def),this.extend=AugmentFactory(this._def)}_getCached(){if(this._cached!==null)return this._cached;const et=this._def.shape(),_e=util$7.objectKeys(et);return this._cached={shape:et,keys:_e}}_parse(et){if(this._getType(et)!==ZodParsedType.object){const lt=this._getOrReturnCtx(et);return addIssueToContext(lt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:lt.parsedType}),INVALID}const{status:rt,ctx:nt}=this._processInputParams(et),{shape:it,keys:st}=this._getCached(),ot=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const lt in nt.data)st.includes(lt)||ot.push(lt);const at=[];for(const lt of st){const ut=it[lt],ct=nt.data[lt];at.push({key:{status:"valid",value:lt},value:ut._parse(new ParseInputLazyPath(nt,ct,nt.path,lt)),alwaysSet:lt in nt.data})}if(this._def.catchall instanceof ZodNever){const lt=this._def.unknownKeys;if(lt==="passthrough")for(const ut of ot)at.push({key:{status:"valid",value:ut},value:{status:"valid",value:nt.data[ut]}});else if(lt==="strict")ot.length>0&&(addIssueToContext(nt,{code:ZodIssueCode.unrecognized_keys,keys:ot}),rt.dirty());else if(lt!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const lt=this._def.catchall;for(const ut of ot){const ct=nt.data[ut];at.push({key:{status:"valid",value:ut},value:lt._parse(new ParseInputLazyPath(nt,ct,nt.path,ut)),alwaysSet:ut in nt.data})}}return nt.common.async?Promise.resolve().then(async()=>{const lt=[];for(const ut of at){const ct=await ut.key;lt.push({key:ct,value:await ut.value,alwaysSet:ut.alwaysSet})}return lt}).then(lt=>ParseStatus.mergeObjectSync(rt,lt)):ParseStatus.mergeObjectSync(rt,at)}get shape(){return this._def.shape()}strict(et){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...et!==void 0?{errorMap:(_e,rt)=>{var nt,it,st,ot;const at=(st=(it=(nt=this._def).errorMap)===null||it===void 0?void 0:it.call(nt,_e,rt).message)!==null&&st!==void 0?st:rt.defaultError;return _e.code==="unrecognized_keys"?{message:(ot=errorUtil.errToObj(et).message)!==null&&ot!==void 0?ot:at}:{message:at}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}setKey(et,_e){return this.augment({[et]:_e})}merge(et){return new ZodObject({unknownKeys:et._def.unknownKeys,catchall:et._def.catchall,shape:()=>objectUtil.mergeShapes(this._def.shape(),et._def.shape()),typeName:ZodFirstPartyTypeKind.ZodObject})}catchall(et){return new ZodObject({...this._def,catchall:et})}pick(et){const _e={};return util$7.objectKeys(et).map(rt=>{this.shape[rt]&&(_e[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>_e})}omit(et){const _e={};return util$7.objectKeys(this.shape).map(rt=>{util$7.objectKeys(et).indexOf(rt)===-1&&(_e[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>_e})}deepPartial(){return deepPartialify(this)}partial(et){const _e={};if(et)return util$7.objectKeys(this.shape).map(rt=>{util$7.objectKeys(et).indexOf(rt)===-1?_e[rt]=this.shape[rt]:_e[rt]=this.shape[rt].optional()}),new ZodObject({...this._def,shape:()=>_e});for(const rt in this.shape){const nt=this.shape[rt];_e[rt]=nt.optional()}return new ZodObject({...this._def,shape:()=>_e})}required(){const et={};for(const _e in this.shape){let nt=this.shape[_e];for(;nt instanceof ZodOptional;)nt=nt._def.innerType;et[_e]=nt}return new ZodObject({...this._def,shape:()=>et})}keyof(){return createZodEnum(util$7.objectKeys(this.shape))}};ZodObject.create=(et,_e)=>new ZodObject({shape:()=>et,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});ZodObject.strictCreate=(et,_e)=>new ZodObject({shape:()=>et,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});ZodObject.lazycreate=(et,_e)=>new ZodObject({shape:et,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});var ZodUnion=class extends ZodType{_parse(et){const{ctx:_e}=this._processInputParams(et),rt=this._def.options;function nt(it){for(const ot of it)if(ot.result.status==="valid")return ot.result;for(const ot of it)if(ot.result.status==="dirty")return _e.common.issues.push(...ot.ctx.common.issues),ot.result;const st=it.map(ot=>new ZodError(ot.ctx.common.issues));return addIssueToContext(_e,{code:ZodIssueCode.invalid_union,unionErrors:st}),INVALID}if(_e.common.async)return Promise.all(rt.map(async it=>{const st={..._e,common:{..._e.common,issues:[]},parent:null};return{result:await it._parseAsync({data:_e.data,path:_e.path,parent:st}),ctx:st}})).then(nt);{let it;const st=[];for(const at of rt){const lt={..._e,common:{..._e.common,issues:[]},parent:null},ut=at._parseSync({data:_e.data,path:_e.path,parent:lt});if(ut.status==="valid")return ut;ut.status==="dirty"&&!it&&(it={result:ut,ctx:lt}),lt.common.issues.length&&st.push(lt.common.issues)}if(it)return _e.common.issues.push(...it.ctx.common.issues),it.result;const ot=st.map(at=>new ZodError(at));return addIssueToContext(_e,{code:ZodIssueCode.invalid_union,unionErrors:ot}),INVALID}}get options(){return this._def.options}};ZodUnion.create=(et,_e)=>new ZodUnion({options:et,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(_e)});var ZodDiscriminatedUnion=class extends ZodType{_parse(et){const{ctx:_e}=this._processInputParams(et);if(_e.parsedType!==ZodParsedType.object)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:_e.parsedType}),INVALID;const rt=this.discriminator,nt=_e.data[rt],it=this.options.get(nt);return it?_e.common.async?it._parseAsync({data:_e.data,path:_e.path,parent:_e}):it._parseSync({data:_e.data,path:_e.path,parent:_e}):(addIssueToContext(_e,{code:ZodIssueCode.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[rt]}),INVALID)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(et,_e,rt){const nt=new Map;try{_e.forEach(it=>{const st=it.shape[et].value;nt.set(st,it)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(nt.size!==_e.length)throw new Error("Some of the discriminator values are not unique");return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:et,options:nt,...processCreateParams(rt)})}};function mergeValues(et,_e){const rt=getParsedType(et),nt=getParsedType(_e);if(et===_e)return{valid:!0,data:et};if(rt===ZodParsedType.object&&nt===ZodParsedType.object){const it=util$7.objectKeys(_e),st=util$7.objectKeys(et).filter(at=>it.indexOf(at)!==-1),ot={...et,..._e};for(const at of st){const lt=mergeValues(et[at],_e[at]);if(!lt.valid)return{valid:!1};ot[at]=lt.data}return{valid:!0,data:ot}}else if(rt===ZodParsedType.array&&nt===ZodParsedType.array){if(et.length!==_e.length)return{valid:!1};const it=[];for(let st=0;st<et.length;st++){const ot=et[st],at=_e[st],lt=mergeValues(ot,at);if(!lt.valid)return{valid:!1};it.push(lt.data)}return{valid:!0,data:it}}else return rt===ZodParsedType.date&&nt===ZodParsedType.date&&+et==+_e?{valid:!0,data:et}:{valid:!1}}var ZodIntersection=class extends ZodType{_parse(et){const{status:_e,ctx:rt}=this._processInputParams(et),nt=(it,st)=>{if(isAborted(it)||isAborted(st))return INVALID;const ot=mergeValues(it.value,st.value);return ot.valid?((isDirty(it)||isDirty(st))&&_e.dirty(),{status:_e.value,value:ot.data}):(addIssueToContext(rt,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return rt.common.async?Promise.all([this._def.left._parseAsync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseAsync({data:rt.data,path:rt.path,parent:rt})]).then(([it,st])=>nt(it,st)):nt(this._def.left._parseSync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseSync({data:rt.data,path:rt.path,parent:rt}))}};ZodIntersection.create=(et,_e,rt)=>new ZodIntersection({left:et,right:_e,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(rt)});var ZodTuple=class extends ZodType{_parse(et){const{status:_e,ctx:rt}=this._processInputParams(et);if(rt.parsedType!==ZodParsedType.array)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:rt.parsedType}),INVALID;if(rt.data.length<this._def.items.length)return addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),INVALID;!this._def.rest&&rt.data.length>this._def.items.length&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),_e.dirty());const it=rt.data.map((st,ot)=>{const at=this._def.items[ot]||this._def.rest;return at?at._parse(new ParseInputLazyPath(rt,st,rt.path,ot)):null}).filter(st=>!!st);return rt.common.async?Promise.all(it).then(st=>ParseStatus.mergeArray(_e,st)):ParseStatus.mergeArray(_e,it)}get items(){return this._def.items}rest(et){return new ZodTuple({...this._def,rest:et})}};ZodTuple.create=(et,_e)=>{if(!Array.isArray(et))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:et,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(_e)})};var ZodRecord=class extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(et){const{status:_e,ctx:rt}=this._processInputParams(et);if(rt.parsedType!==ZodParsedType.object)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:rt.parsedType}),INVALID;const nt=[],it=this._def.keyType,st=this._def.valueType;for(const ot in rt.data)nt.push({key:it._parse(new ParseInputLazyPath(rt,ot,rt.path,ot)),value:st._parse(new ParseInputLazyPath(rt,rt.data[ot],rt.path,ot))});return rt.common.async?ParseStatus.mergeObjectAsync(_e,nt):ParseStatus.mergeObjectSync(_e,nt)}get element(){return this._def.valueType}static create(et,_e,rt){return _e instanceof ZodType?new ZodRecord({keyType:et,valueType:_e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(rt)}):new ZodRecord({keyType:ZodString.create(),valueType:et,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(_e)})}},ZodMap=class extends ZodType{_parse(et){const{status:_e,ctx:rt}=this._processInputParams(et);if(rt.parsedType!==ZodParsedType.map)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:rt.parsedType}),INVALID;const nt=this._def.keyType,it=this._def.valueType,st=[...rt.data.entries()].map(([ot,at],lt)=>({key:nt._parse(new ParseInputLazyPath(rt,ot,rt.path,[lt,"key"])),value:it._parse(new ParseInputLazyPath(rt,at,rt.path,[lt,"value"]))}));if(rt.common.async){const ot=new Map;return Promise.resolve().then(async()=>{for(const at of st){const lt=await at.key,ut=await at.value;if(lt.status==="aborted"||ut.status==="aborted")return INVALID;(lt.status==="dirty"||ut.status==="dirty")&&_e.dirty(),ot.set(lt.value,ut.value)}return{status:_e.value,value:ot}})}else{const ot=new Map;for(const at of st){const lt=at.key,ut=at.value;if(lt.status==="aborted"||ut.status==="aborted")return INVALID;(lt.status==="dirty"||ut.status==="dirty")&&_e.dirty(),ot.set(lt.value,ut.value)}return{status:_e.value,value:ot}}}};ZodMap.create=(et,_e,rt)=>new ZodMap({valueType:_e,keyType:et,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(rt)});var ZodSet=class extends ZodType{_parse(et){const{status:_e,ctx:rt}=this._processInputParams(et);if(rt.parsedType!==ZodParsedType.set)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:rt.parsedType}),INVALID;const nt=this._def;nt.minSize!==null&&rt.data.size<nt.minSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:nt.minSize.value,type:"set",inclusive:!0,message:nt.minSize.message}),_e.dirty()),nt.maxSize!==null&&rt.data.size>nt.maxSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:nt.maxSize.value,type:"set",inclusive:!0,message:nt.maxSize.message}),_e.dirty());const it=this._def.valueType;function st(at){const lt=new Set;for(const ut of at){if(ut.status==="aborted")return INVALID;ut.status==="dirty"&&_e.dirty(),lt.add(ut.value)}return{status:_e.value,value:lt}}const ot=[...rt.data.values()].map((at,lt)=>it._parse(new ParseInputLazyPath(rt,at,rt.path,lt)));return rt.common.async?Promise.all(ot).then(at=>st(at)):st(ot)}min(et,_e){return new ZodSet({...this._def,minSize:{value:et,message:errorUtil.toString(_e)}})}max(et,_e){return new ZodSet({...this._def,maxSize:{value:et,message:errorUtil.toString(_e)}})}size(et,_e){return this.min(et,_e).max(et,_e)}nonempty(et){return this.min(1,et)}};ZodSet.create=(et,_e)=>new ZodSet({valueType:et,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(_e)});var ZodFunction=class extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(et){const{ctx:_e}=this._processInputParams(et);if(_e.parsedType!==ZodParsedType.function)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:_e.parsedType}),INVALID;function rt(ot,at){return makeIssue({data:ot,path:_e.path,errorMaps:[_e.common.contextualErrorMap,_e.schemaErrorMap,getErrorMap(),errorMap].filter(lt=>!!lt),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:at}})}function nt(ot,at){return makeIssue({data:ot,path:_e.path,errorMaps:[_e.common.contextualErrorMap,_e.schemaErrorMap,getErrorMap(),errorMap].filter(lt=>!!lt),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:at}})}const it={errorMap:_e.common.contextualErrorMap},st=_e.data;return this._def.returns instanceof ZodPromise?OK(async(...ot)=>{const at=new ZodError([]),lt=await this._def.args.parseAsync(ot,it).catch(dt=>{throw at.addIssue(rt(ot,dt)),at}),ut=await st(...lt);return await this._def.returns._def.type.parseAsync(ut,it).catch(dt=>{throw at.addIssue(nt(ut,dt)),at})}):OK((...ot)=>{const at=this._def.args.safeParse(ot,it);if(!at.success)throw new ZodError([rt(ot,at.error)]);const lt=st(...at.data),ut=this._def.returns.safeParse(lt,it);if(!ut.success)throw new ZodError([nt(lt,ut.error)]);return ut.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...et){return new ZodFunction({...this._def,args:ZodTuple.create(et).rest(ZodUnknown.create())})}returns(et){return new ZodFunction({...this._def,returns:et})}implement(et){return this.parse(et)}strictImplement(et){return this.parse(et)}static create(et,_e,rt){return new ZodFunction({args:et||ZodTuple.create([]).rest(ZodUnknown.create()),returns:_e||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(rt)})}},ZodLazy=class extends ZodType{get schema(){return this._def.getter()}_parse(et){const{ctx:_e}=this._processInputParams(et);return this._def.getter()._parse({data:_e.data,path:_e.path,parent:_e})}};ZodLazy.create=(et,_e)=>new ZodLazy({getter:et,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(_e)});var ZodLiteral=class extends ZodType{_parse(et){if(et.data!==this._def.value){const _e=this._getOrReturnCtx(et);return addIssueToContext(_e,{code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:et.data}}get value(){return this._def.value}};ZodLiteral.create=(et,_e)=>new ZodLiteral({value:et,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(_e)});function createZodEnum(et,_e){return new ZodEnum({values:et,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(_e)})}var ZodEnum=class extends ZodType{_parse(et){if(typeof et.data!="string"){const _e=this._getOrReturnCtx(et),rt=this._def.values;return addIssueToContext(_e,{expected:util$7.joinValues(rt),received:_e.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(et.data)===-1){const _e=this._getOrReturnCtx(et),rt=this._def.values;return addIssueToContext(_e,{received:_e.data,code:ZodIssueCode.invalid_enum_value,options:rt}),INVALID}return OK(et.data)}get options(){return this._def.values}get enum(){const et={};for(const _e of this._def.values)et[_e]=_e;return et}get Values(){const et={};for(const _e of this._def.values)et[_e]=_e;return et}get Enum(){const et={};for(const _e of this._def.values)et[_e]=_e;return et}};ZodEnum.create=createZodEnum;var ZodNativeEnum=class extends ZodType{_parse(et){const _e=util$7.getValidEnumValues(this._def.values),rt=this._getOrReturnCtx(et);if(rt.parsedType!==ZodParsedType.string&&rt.parsedType!==ZodParsedType.number){const nt=util$7.objectValues(_e);return addIssueToContext(rt,{expected:util$7.joinValues(nt),received:rt.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(_e.indexOf(et.data)===-1){const nt=util$7.objectValues(_e);return addIssueToContext(rt,{received:rt.data,code:ZodIssueCode.invalid_enum_value,options:nt}),INVALID}return OK(et.data)}get enum(){return this._def.values}};ZodNativeEnum.create=(et,_e)=>new ZodNativeEnum({values:et,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(_e)});var ZodPromise=class extends ZodType{_parse(et){const{ctx:_e}=this._processInputParams(et);if(_e.parsedType!==ZodParsedType.promise&&_e.common.async===!1)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:_e.parsedType}),INVALID;const rt=_e.parsedType===ZodParsedType.promise?_e.data:Promise.resolve(_e.data);return OK(rt.then(nt=>this._def.type.parseAsync(nt,{path:_e.path,errorMap:_e.common.contextualErrorMap})))}};ZodPromise.create=(et,_e)=>new ZodPromise({type:et,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(_e)});var ZodEffects=class extends ZodType{innerType(){return this._def.schema}_parse(et){const{status:_e,ctx:rt}=this._processInputParams(et),nt=this._def.effect||null;if(nt.type==="preprocess"){const st=nt.transform(rt.data);return rt.common.async?Promise.resolve(st).then(ot=>this._def.schema._parseAsync({data:ot,path:rt.path,parent:rt})):this._def.schema._parseSync({data:st,path:rt.path,parent:rt})}const it={addIssue:st=>{addIssueToContext(rt,st),st.fatal?_e.abort():_e.dirty()},get path(){return rt.path}};if(it.addIssue=it.addIssue.bind(it),nt.type==="refinement"){const st=ot=>{const at=nt.refinement(ot,it);if(rt.common.async)return Promise.resolve(at);if(at instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ot};if(rt.common.async===!1){const ot=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});return ot.status==="aborted"?INVALID:(ot.status==="dirty"&&_e.dirty(),st(ot.value),{status:_e.value,value:ot.value})}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(ot=>ot.status==="aborted"?INVALID:(ot.status==="dirty"&&_e.dirty(),st(ot.value).then(()=>({status:_e.value,value:ot.value}))))}if(nt.type==="transform")if(rt.common.async===!1){const st=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});if(!isValid(st))return st;const ot=nt.transform(st.value,it);if(ot instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:_e.value,value:ot}}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(st=>isValid(st)?Promise.resolve(nt.transform(st.value,it)).then(ot=>({status:_e.value,value:ot})):st);util$7.assertNever(nt)}};ZodEffects.create=(et,_e,rt)=>new ZodEffects({schema:et,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:_e,...processCreateParams(rt)});ZodEffects.createWithPreprocess=(et,_e,rt)=>new ZodEffects({schema:_e,effect:{type:"preprocess",transform:et},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(rt)});var ZodOptional=class extends ZodType{_parse(et){return this._getType(et)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(et)}unwrap(){return this._def.innerType}};ZodOptional.create=(et,_e)=>new ZodOptional({innerType:et,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(_e)});var ZodNullable=class extends ZodType{_parse(et){return this._getType(et)===ZodParsedType.null?OK(null):this._def.innerType._parse(et)}unwrap(){return this._def.innerType}};ZodNullable.create=(et,_e)=>new ZodNullable({innerType:et,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(_e)});var ZodDefault=class extends ZodType{_parse(et){const{ctx:_e}=this._processInputParams(et);let rt=_e.data;return _e.parsedType===ZodParsedType.undefined&&(rt=this._def.defaultValue()),this._def.innerType._parse({data:rt,path:_e.path,parent:_e})}removeDefault(){return this._def.innerType}};ZodDefault.create=(et,_e)=>new ZodOptional({innerType:et,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(_e)});var ZodNaN=class extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.nan){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:rt.parsedType}),INVALID}return{status:"valid",value:et.data}}};ZodNaN.create=et=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(et)});var BRAND=Symbol("zod_brand"),ZodBranded=class extends ZodType{_parse(et){const{ctx:_e}=this._processInputParams(et),rt=_e.data;return this._def.type._parse({data:rt,path:_e.path,parent:_e})}unwrap(){return this._def.type}},custom=(et,_e={},rt)=>et?ZodAny.create().superRefine((nt,it)=>{if(!et(nt)){const st=typeof _e=="function"?_e(nt):_e,ot=typeof st=="string"?{message:st}:st;it.addIssue({code:"custom",...ot,fatal:rt})}}):ZodAny.create(),late={object:ZodObject.lazycreate},ZodFirstPartyTypeKind;(function(et){et.ZodString="ZodString",et.ZodNumber="ZodNumber",et.ZodNaN="ZodNaN",et.ZodBigInt="ZodBigInt",et.ZodBoolean="ZodBoolean",et.ZodDate="ZodDate",et.ZodUndefined="ZodUndefined",et.ZodNull="ZodNull",et.ZodAny="ZodAny",et.ZodUnknown="ZodUnknown",et.ZodNever="ZodNever",et.ZodVoid="ZodVoid",et.ZodArray="ZodArray",et.ZodObject="ZodObject",et.ZodUnion="ZodUnion",et.ZodDiscriminatedUnion="ZodDiscriminatedUnion",et.ZodIntersection="ZodIntersection",et.ZodTuple="ZodTuple",et.ZodRecord="ZodRecord",et.ZodMap="ZodMap",et.ZodSet="ZodSet",et.ZodFunction="ZodFunction",et.ZodLazy="ZodLazy",et.ZodLiteral="ZodLiteral",et.ZodEnum="ZodEnum",et.ZodEffects="ZodEffects",et.ZodNativeEnum="ZodNativeEnum",et.ZodOptional="ZodOptional",et.ZodNullable="ZodNullable",et.ZodDefault="ZodDefault",et.ZodPromise="ZodPromise",et.ZodBranded="ZodBranded"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));var instanceOfType=(et,_e={message:`Input not instance of ${et.name}`})=>custom(rt=>rt instanceof et,_e,!0),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),NEVER=INVALID,mod=Object.freeze({__proto__:null,getParsedType,ZodParsedType,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,get objectUtil(){return objectUtil},ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodNaN,BRAND,ZodBranded,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),cidSchema=mod.any().refine(et=>CID$1.asCID(et)!==null,{message:"Not a CID"}).transform(et=>CID$1.asCID(et)),schema={cid:cidSchema,bytes:mod.instanceof(Uint8Array),string:mod.string(),array:mod.array(mod.unknown()),map:mod.record(mod.string(),mod.unknown()),unknown:mod.unknown()},utf8Len=et=>new TextEncoder().encode(et).byteLength,graphemeLen=et=>[...new Intl.Segmenter().segment(et)].length,atpSpecific=["at","atp","plc","pds","did","repo","tid","nsid","xrpc","lex","lexicon","bsky","bluesky","handle"],commonlyReserved=["about","abuse","access","account","accounts","acme","activate","activities","activity","ad","add","address","adm","admanager","admin","administration","administrator","administrators","admins","ads","adsense","adult","advertising","adwords","affiliate","affiliatepage","affiliates","afp","ajax","all","alpha","analysis","analytics","android","anon","anonymous","answer","answers","ap","api","apis","app","appengine","appnews","apps","archive","archives","article","asdf","asset","assets","auth","authentication","avatar","backup","bank","banner","banners","base","beginners","beta","billing","bin","binaries","binary","blackberry","blog","blogs","blogsearch","board","book","bookmark","bookmarks","books","bot","bots","bug","bugs","business","buy","buzz","cache","calendar","call","campaign","cancel","captcha","career","careers","cart","catalog","catalogs","categories","category","cdn","cgi","cgi-bin","changelog","chart","charts","chat","check","checked","checking","checkout","client","cliente","clients","clients1","cnarne","code","comercial","comment","comments","communities","community","company","compare","compras","config","configuration","confirm","confirmation","connect","contact","contacts","contactus","contact-us","contact_us","content","contest","contribute","contributor","contributors","coppa","copyright","copyrights","core","corp","countries","country","cpanel","create","css","cssproxy","customise","customize","dashboard","data","db","default","delete","demo","design","designer","desktop","destroy","dev","devel","developer","developers","devs","diagram","diary","dict","dictionary","die","dir","directory","direct_messages","direct-messages","dist","diversity","dl","dmca","doc","docs","documentation","documentations","documents","domain","domains","donate","download","downloads","e","e-mail","earth","ecommerce","edit","edits","editor","edu","education","email","embed","embedded","employment","employments","empty","enable","encrypted","end","engine","enterprise","enterprises","entries","entry","error","errorlog","errors","eval","event","example","examplecommunity","exampleopenid","examplesyn","examplesyndicated","exampleusername","exchange","exit","explore","faq","faqs","favorite","favorites","favourite","favourites","feature","features","feed","feedback","feedburner","feedproxy","feeds","file","files","finance","folder","folders","first","following","forgot","form","forms","forum","forums","founder","free","friend","friends","ftp","fuck","fun","fusion","gadget","gadgets","game","games","gears","general","geographic","get","gettingstarted","gift","gifts","gist","git","github","gmail","go","golang","goto","gov","graph","graphs","group","groups","guest","guests","guide","guides","hack","hacks","head","help","home","homepage","host","hosting","hostmaster","hostname","howto","how-to","how_to","html","htrnl","http","httpd","https","i","iamges","icon","icons","id","idea","ideas","im","image","images","img","imap","inbox","inboxes","index","indexes","info","information","inquiry","intranet","investor","investors","invitation","invitations","invite","invoice","invoices","imac","ios","ipad","iphone","irc","irnages","irng","is","issue","issues","it","item","items","java","javascript","job","jobs","join","js","json","jump","kb","knowledge-base","knowledgebase","lab","labs","language","languages","last","ldap_status","ldap-status","ldapstatus","legal","license","licenses","link","links","linux","list","lists","livejournal","lj","local","locale","location","log","log-in","log-out","login","logout","logs","log_in","log_out","m","mac","macos","macosx","mac-os","mac-os-x","mac_os_x","mail","mailer","mailing","main","maintenance","manage","manager","manual","map","maps","marketing","master","me","media","member","members","memories","memory","merchandise","message","messages","messenger","mg","microblog","microblogs","mine","mis","misc","mms","mob","mobile","model","models","money","movie","movies","mp3","mp4","msg","msn","music","mx","my","mymme","mysql","name","named","nan","navi","navigation","net","network","networks","new","news","newsletter","nick","nickname","nil","none","notes","noticias","notification","notifications","notify","ns","ns1","ns2","ns3","ns4","ns5","null","oauth","oauth-clients","oauth_clients","ocsp","offer","offers","official","old","online","openid","operator","option","options","order","orders","org","organization","organizations","other","overview","owner","owners","p0rn","pack","page","pager","pages","paid","panel","partner","partnerpage","partners","password","patch","pay","payment","people","perl","person","phone","photo","photoalbum","photos","php","phpmyadmin","phppgadmin","phpredisadmin","pic","pics","picture","pictures","ping","pixel","places","plan","plans","plugin","plugins","podcasts","policies","policy","pop","pop3","popular","porn","portal","portals","post","postfix","postmaster","posts","pr","pr0n","premium","press","price","pricing","principles","print","privacy","privacy-policy","privacypolicy","privacy_policy","private","prod","product","production","products","profile","profiles","project","projects","promo","promotions","proxies","proxy","pub","public","purchase","purpose","put","python","queries","query","radio","random","ranking","read","reader","readme","recent","recruit","recruitment","redirect","register","registration","release","remove","replies","report","reports","repositories","repository","req","request","requests","research","reset","resolve","resolver","review","rnail","rnicrosoft","roc","root","rss","ruby","rule","sag","sale","sales","sample","samples","sandbox","save","scholar","school","schools","script","scripts","search","secure","security","self","seminars","send","server","server-info","server_info","server-status","server_status","servers","service","services","session","sessions","setting","settings","setup","share","shop","shopping","shortcut","shortcuts","show","sign-in","sign-up","signin","signout","signup","sign_in","sign_up","site","sitemap","sitemaps","sitenews","sites","sketchup","sky","slash","slashinvoice","slut","smartphone","sms","smtp","soap","software","sorry","source","spec","special","spreadsheet","spreadsheets","sql","src","srntp","ssh","ssl","ssladmin","ssladministrator","sslwebmaster","ssytem","staff","stage","staging","start","stat","state","static","statistics","stats","status","store","stores","stories","style","styleguide","styles","stylesheet","stylesheets","subdomain","subscribe","subscription","subscriptions","suggest","suggestqueries","support","survey","surveys","surveytool","svn","swf","syn","sync","syndicated","sys","sysadmin","sysadministrator","sysadmins","system","tablet","tablets","tag","tags","talk","talkgadget","task","tasks","team","teams","tech","telnet","term","terms","terms-of-service","termsofservice","terms_of_service","test","testing","tests","text","theme","themes","thread","threads","ticket","tickets","tmp","todo","to-do","to_do","toml","tool","toolbar","toolbars","tools","top","topic","topics","tos","tour","trac","translate","trace","translation","translations","translator","trends","tutorial","tux","tv","twitter","txt","ul","undef","unfollow","unsubscribe","update","updates","upgrade","upgrades","upi","upload","uploads","url","usage","user","username","usernames","users","uuid","validation","validations","ver","version","video","videos","video-stats","visitor","visitors","voice","volunteer","volunteers","w","watch","wave","weather","web","webdisk","webhook","webhooks","webmail","webmaster","webmasters","webrnail","website","websites","welcome","whm","whois","widget","widgets","wifi","wiki","wikis","win","windows","word","work","works","workshop","wpad","ww","wws","www","wwws","wwww","xfn","xhtml","xhtrnl","xml","xmpp","xpg","xxx","yaml","year","yml","you","yourdomain","yourname","yoursite","yourusername"],famousAccounts=["10ronaldinho","3gerardpique","adele","akshaykumar","aliaa08","aliciakeys","amitshah","andresiniesta8","anushkasharma","arianagrande","arrahman","arvindkejriwal","avrillavigne","barackobama","bbcbreaking","bbcworld","beingsalmankhan","billgates","britneyspears","brunomars","bts_bighit","bts_twt","championsleague","chrisbrown","cnnbrk","coldplay","conanobrien","cristiano","danieltosh","davidguetta","ddlovato","deepikapadukone","drake","elisapie","ellendegeneres","elonmusk","eminem","emmawatson","fcbarcelona","foxnews","harry_styles","hillaryclinton","iamsrk","ihrithik","imvkohli","instagram","jimmyfallon","jlo","joebiden","jtimberlake","justinbieber","kaka","kanyewest","katyperry","kendalljenner","kevinhart4real","khloekardashian","kimkardashian","kingjames","kourtneykardash","kyliejenner","ladygaga","liampayne","liltunechi","manutd","mariahcarey","mileycyrus","mohamadalarefe","narendramodi","nasa","nba","neymarjr","nfl","niallofficial","nickiminaj","npr","nytimes","onedirection","oprah","pink","pitbull","playstation","pmoindia","premierleague","priyankachopra","realdonaldtrump","ricky_martin","rihanna","sachin_rt","selenagomez","shakira","shawnmendes","sportscenter","srbachchan","subhisharma100","taylorswift13","theeconomist","twitter","virendersehwag","whitehouse45","wizkhalifa","youtube","zaynmalik","beyonce","billieeilish","leomessi","natgeo","nike","snoopdogg","taylorswift","therock","10downingstreet","aoc","carterjwm","dril","gretathunberg","kamalaharris","kremlinrussia_e","potus","rondesantisfl","ukraine","washingtonpost","yousuck2020","zelenskyyua","akiko_lawson","ariyoshihiroiki","asahi","dozle_official","famima_now","ff_xiv_jp","fujitv","gigazine","hajimesyacho","hikakin","jocx","jotx","kiyo_saiore","mainichi","matsu_bouzu","naomiosaka","nhk","nikkei","nintendo","ntv","oowareware1945","pamyurin","poke_times","rolaworld","seikintv","starbucksjapan","tbs","tbs_pr","tvasahi","tvtokyo","yokoono","yomiuri_online","brasildefato","claudialeitte","correio","em_com","estadao","folha","gazetadopovo","ivetesangalo","jairbolsonaro","jornaldobrasil","jornaloglobo","lucianohuck","lulaoficial","marcosmion","paulocoelho","portalr7","rede_globo","zerohora"];[...atpSpecific,...commonlyReserved,...famousAccounts].reduce((et,_e)=>({...et,[_e]:!0}),{});var ensureValidHandle=et=>{if(!/^[a-zA-Z0-9.-]*$/.test(et))throw new InvalidHandleError("Disallowed characters in handle (ASCII letters, digits, dashes, periods only)");if(et.length>253)throw new InvalidHandleError("Handle is too long (253 chars max)");const _e=et.split(".");if(_e.length<2)throw new InvalidHandleError("Handle domain needs at least two parts");for(let rt=0;rt<_e.length;rt++){const nt=_e[rt];if(nt.length<1)throw new InvalidHandleError("Handle parts can not be empty");if(nt.length>63)throw new InvalidHandleError("Handle part too long (max 63 chars)");if(nt.endsWith("-")||nt.startsWith("-"))throw new InvalidHandleError("Handle parts can not start or end with hyphens");if(rt+1==_e.length&&!/^[a-zA-Z]/.test(nt))throw new InvalidHandleError("Handle final component (TLD) must start with ASCII letter")}},InvalidHandleError=class extends Error{},ensureValidDid=et=>{if(!/^[a-zA-Z0-9._:%-]*$/.test(et))throw new InvalidDidError("Disallowed characters in DID (ASCII letters, digits, and a couple other characters only)");const _e=et.split(":");if(_e.length<3)throw new InvalidDidError("DID requires prefix, method, and method-specific content");if(_e[0]!="did")throw new InvalidDidError('DID requires "did:" prefix');if(!/^[a-z]+$/.test(_e[1]))throw new InvalidDidError("DID method must be lower-case letters");if(et.endsWith(":")||et.endsWith("%"))throw new InvalidDidError('DID can not end with ":" or "%"');if(et.length>8*1024)throw new InvalidDidError("DID is far too long")},InvalidDidError=class extends Error{},NSID=class{constructor(et){this.segments=[],ensureValidNsid(et),this.segments=et.split(".")}static parse(et){return new NSID(et)}static create(et,_e){const rt=[...et.split(".").reverse(),_e].join(".");return new NSID(rt)}static isValid(et){try{return NSID.parse(et),!0}catch{return!1}}get authority(){return this.segments.slice(0,this.segments.length-1).reverse().join(".")}get name(){return this.segments.at(this.segments.length-1)}toString(){return this.segments.join(".")}},ensureValidNsid=et=>{const _e=et.split("."),rt=_e.at(-1)==="*"?_e.slice(0,-1).join("."):_e.join(".");if(!/^[a-zA-Z0-9.-]*$/.test(rt))throw new InvalidNsidError("Disallowed characters in NSID (ASCII letters, digits, dashes, periods only)");if(rt.length>253+1+128)throw new InvalidNsidError("NSID is too long (382 chars max)");const nt=rt.split(".");if(_e.length<3)throw new InvalidNsidError("NSID needs at least three parts");for(let it=0;it<nt.length;it++){const st=nt[it];if(st.length<1)throw new InvalidNsidError("NSID parts can not be empty");if(st.length>63&&it+1<nt.length)throw new InvalidNsidError("NSID domain part too long (max 63 chars)");if(st.length>128&&it+1==nt.length)throw new InvalidNsidError("NSID name part too long (max 127 chars)");if(st.endsWith("-"))throw new InvalidNsidError("NSID parts can not end with hyphen");if(!/^[a-zA-Z]/.test(st))throw new InvalidNsidError("NSID parts must start with ASCII letter")}},InvalidNsidError=class extends Error{},ensureValidAtUri=et=>{const _e=et.split("#");if(_e.length>2)throw new Error('ATURI can have at most one "#", separating fragment out');const rt=_e[1]||null;if(et=_e[0],!/^[a-zA-Z0-9._~:@!$&')(*+,;=%/-]*$/.test(et))throw new Error("Disallowed characters in ATURI (ASCII)");const nt=et.split("/");if(nt.length>=3&&(nt[0]!="at:"||nt[1].length!=0))throw new Error('ATURI must start with "at://"');if(nt.length<3)throw new Error("ATURI requires at least method and authority sections");try{ensureValidHandle(nt[2])}catch{try{ensureValidDid(nt[2])}catch{throw new Error("ATURI authority must be a valid handle or DID")}}if(nt.length>=4){if(nt[3].length==0)throw new Error("ATURI can not have a slash after authority without a path segment");try{ensureValidNsid(nt[3])}catch{throw new Error("ATURI requires first path segment (if supplied) to be valid NSID")}}if(nt.length>=5&&nt[4].length==0)throw new Error("ATURI can not have a slash after collection, unless record key is provided");if(nt.length>=6)throw new Error("ATURI path can have at most two parts, and no trailing slash");if(_e.length>=2&&rt==null)throw new Error("ATURI fragment must be non-empty and start with slash");if(rt!=null){if(rt.length==0||rt[0]!="/")throw new Error("ATURI fragment must be non-empty and start with slash");if(!/^\/[a-zA-Z0-9._~:@!$&')(*+,;=%[\]/-]*$/.test(rt))throw new Error("Disallowed characters in ATURI fragment (ASCII)")}if(et.length>8*1024)throw new Error("ATURI is far too long")},ATP_URI_REGEX=/^(at:\/\/)?((?:did:[a-z0-9:%-]+)|(?:[a-z0-9][a-z0-9.:-]*))(\/[^?#\s]*)?(\?[^#\s]+)?(#[^\s]+)?$/i,RELATIVE_REGEX=/^(\/[^?#\s]*)?(\?[^#\s]+)?(#[^\s]+)?$/i,AtUri=class{constructor(et,_e){let rt;if(_e){if(rt=parse(_e),!rt)throw new Error(`Invalid at uri: ${_e}`);const nt=parseRelative(et);if(!nt)throw new Error(`Invalid path: ${et}`);Object.assign(rt,nt)}else if(rt=parse(et),!rt)throw new Error(`Invalid at uri: ${et}`);this.hash=rt.hash,this.host=rt.host,this.pathname=rt.pathname,this.searchParams=rt.searchParams}static make(et,_e,rt){let nt=et;return _e&&(nt+="/"+_e),rt&&(nt+="/"+rt),new AtUri(nt)}get protocol(){return"at:"}get origin(){return`at://${this.host}`}get hostname(){return this.host}set hostname(et){this.host=et}get search(){return this.searchParams.toString()}set search(et){this.searchParams=new URLSearchParams(et)}get collection(){return this.pathname.split("/").filter(Boolean)[0]||""}set collection(et){const _e=this.pathname.split("/").filter(Boolean);_e[0]=et,this.pathname=_e.join("/")}get rkey(){return this.pathname.split("/").filter(Boolean)[1]||""}set rkey(et){const _e=this.pathname.split("/").filter(Boolean);_e[0]||(_e[0]="undefined"),_e[1]=et,this.pathname=_e.join("/")}get href(){return this.toString()}toString(){let et=this.pathname||"/";et.startsWith("/")||(et=`/${et}`);let _e=this.searchParams.toString();_e&&!_e.startsWith("?")&&(_e=`?${_e}`);let rt=this.hash;return rt&&!rt.startsWith("#")&&(rt=`#${rt}`),`at://${this.host}${et}${_e}${rt}`}};function parse(et){const _e=ATP_URI_REGEX.exec(et);if(_e)return{hash:_e[5]||"",host:_e[2]||"",pathname:_e[3]||"",searchParams:new URLSearchParams(_e[4]||"")}}function parseRelative(et){const _e=RELATIVE_REGEX.exec(et);if(_e)return{hash:_e[3]||"",pathname:_e[1]||"",searchParams:new URLSearchParams(_e[2]||"")}}var lexBoolean=mod.object({type:mod.literal("boolean"),description:mod.string().optional(),default:mod.boolean().optional(),const:mod.boolean().optional()}),lexInteger=mod.object({type:mod.literal("integer"),description:mod.string().optional(),default:mod.number().int().optional(),minimum:mod.number().int().optional(),maximum:mod.number().int().optional(),enum:mod.number().int().array().optional(),const:mod.number().int().optional()}),lexStringFormat=mod.enum(["datetime","uri","at-uri","did","handle","at-identifier","nsid","cid"]),lexString=mod.object({type:mod.literal("string"),format:lexStringFormat.optional(),description:mod.string().optional(),default:mod.string().optional(),minLength:mod.number().int().optional(),maxLength:mod.number().int().optional(),minGraphemes:mod.number().int().optional(),maxGraphemes:mod.number().int().optional(),enum:mod.string().array().optional(),const:mod.string().optional(),knownValues:mod.string().array().optional()}),lexUnknown=mod.object({type:mod.literal("unknown"),description:mod.string().optional()}),lexPrimitive=mod.union([lexBoolean,lexInteger,lexString,lexUnknown]),lexBytes=mod.object({type:mod.literal("bytes"),description:mod.string().optional(),maxLength:mod.number().optional(),minLength:mod.number().optional()}),lexCidLink=mod.object({type:mod.literal("cid-link"),description:mod.string().optional()}),lexIpldType=mod.union([lexBytes,lexCidLink]),lexRef=mod.object({type:mod.literal("ref"),description:mod.string().optional(),ref:mod.string()}),lexRefUnion=mod.object({type:mod.literal("union"),description:mod.string().optional(),refs:mod.string().array(),closed:mod.boolean().optional()}),lexRefVariant=mod.union([lexRef,lexRefUnion]),lexBlob=mod.object({type:mod.literal("blob"),description:mod.string().optional(),accept:mod.string().array().optional(),maxSize:mod.number().optional()}),lexArray=mod.object({type:mod.literal("array"),description:mod.string().optional(),items:mod.union([lexPrimitive,lexIpldType,lexBlob,lexRefVariant]),minLength:mod.number().int().optional(),maxLength:mod.number().int().optional()}),lexPrimitiveArray=lexArray.merge(mod.object({items:lexPrimitive})),lexToken=mod.object({type:mod.literal("token"),description:mod.string().optional()}),lexObject=mod.object({type:mod.literal("object"),description:mod.string().optional(),required:mod.string().array().optional(),nullable:mod.string().array().optional(),properties:mod.record(mod.union([lexRefVariant,lexIpldType,lexArray,lexBlob,lexPrimitive])).optional()}),lexXrpcParameters=mod.object({type:mod.literal("params"),description:mod.string().optional(),required:mod.string().array().optional(),properties:mod.record(mod.union([lexPrimitive,lexPrimitiveArray]))}),lexXrpcBody=mod.object({description:mod.string().optional(),encoding:mod.string(),schema:mod.union([lexRefVariant,lexObject]).optional()}),lexXrpcSubscriptionMessage=mod.object({description:mod.string().optional(),schema:mod.union([lexRefVariant,lexObject]).optional()}),lexXrpcError=mod.object({name:mod.string(),description:mod.string().optional()}),lexXrpcQuery=mod.object({type:mod.literal("query"),description:mod.string().optional(),parameters:lexXrpcParameters.optional(),output:lexXrpcBody.optional(),errors:lexXrpcError.array().optional()}),lexXrpcProcedure=mod.object({type:mod.literal("procedure"),description:mod.string().optional(),parameters:lexXrpcParameters.optional(),input:lexXrpcBody.optional(),output:lexXrpcBody.optional(),errors:lexXrpcError.array().optional()}),lexXrpcSubscription=mod.object({type:mod.literal("subscription"),description:mod.string().optional(),parameters:lexXrpcParameters.optional(),message:lexXrpcSubscriptionMessage.optional(),infos:lexXrpcError.array().optional(),errors:lexXrpcError.array().optional()}),lexRecord=mod.object({type:mod.literal("record"),description:mod.string().optional(),key:mod.string().optional(),record:lexObject}),lexUserType=mod.union([lexRecord,lexXrpcQuery,lexXrpcProcedure,lexXrpcSubscription,lexBlob,lexArray,lexToken,lexObject,lexBoolean,lexInteger,lexString,lexBytes,lexCidLink,lexUnknown]),lexiconDoc=mod.object({lexicon:mod.literal(1),id:mod.string().refine(et=>NSID.isValid(et),{message:"Must be a valid NSID"}),revision:mod.number().optional(),description:mod.string().optional(),defs:mod.record(lexUserType)}).superRefine((et,_e)=>{for(const rt in et.defs){const nt=et.defs[rt];rt!=="main"&&(nt.type==="record"||nt.type==="procedure"||nt.type==="query"||nt.type==="subscription")&&_e.addIssue({code:mod.ZodIssueCode.custom,message:"Records, procedures, queries, and subscriptions must be the main definition."})}});function isObj(et){return et!==null&&typeof et=="object"}function hasProp(et,_e){return _e in et}var discriminatedObject=mod.object({$type:mod.string()});function isDiscriminatedObject(et){return discriminatedObject.safeParse(et).success}var LexiconDocMalformedError=class extends Error{constructor(et,_e,rt){super(et),this.schemaDef=_e,this.issues=rt,this.schemaDef=_e,this.issues=rt}},ValidationError=class extends Error{},InvalidLexiconError=class extends Error{},LexiconDefNotFoundError=class extends Error{},import_iso_datestring_validator=__toESM(require_dist());function datetime(et,_e){try{if(!(0,import_iso_datestring_validator.isValidISODateString)(_e))throw new Error}catch{return{success:!1,error:new ValidationError(`${et} must be an iso8601 formatted datetime`)}}return{success:!0,value:_e}}function uri(et,_e){return _e.match(/^\w+:(?:\/\/)?[^\s/][^\s]*$/)!==null?{success:!0,value:_e}:{success:!1,error:new ValidationError(`${et} must be a uri`)}}function atUri(et,_e){try{ensureValidAtUri(_e)}catch{return{success:!1,error:new ValidationError(`${et} must be a valid at-uri`)}}return{success:!0,value:_e}}function did(et,_e){try{ensureValidDid(_e)}catch{return{success:!1,error:new ValidationError(`${et} must be a valid did`)}}return{success:!0,value:_e}}function handle(et,_e){try{ensureValidHandle(_e)}catch{return{success:!1,error:new ValidationError(`${et} must be a valid handle`)}}return{success:!0,value:_e}}function atIdentifier(et,_e){return!did(et,_e).success&&!handle(et,_e).success?{success:!1,error:new ValidationError(`${et} must be a valid did or a handle`)}:{success:!0,value:_e}}function nsid(et,_e){try{ensureValidNsid(_e)}catch{return{success:!1,error:new ValidationError(`${et} must be a valid nsid`)}}return{success:!0,value:_e}}function cid(et,_e){try{CID$1.parse(_e)}catch{return{success:!1,error:new ValidationError(`${et} must be a cid string`)}}return{success:!0,value:_e}}function validate(et,_e,rt,nt){switch(rt.type){case"boolean":return boolean(et,_e,rt,nt);case"integer":return integer(et,_e,rt,nt);case"string":return string2(et,_e,rt,nt);case"bytes":return bytes(et,_e,rt,nt);case"cid-link":return cidLink(et,_e,rt,nt);case"unknown":return unknown(et,_e,rt,nt);default:return{success:!1,error:new ValidationError(`Unexpected lexicon type: ${rt.type}`)}}}function boolean(et,_e,rt,nt){rt=rt;const it=typeof nt;return it==="undefined"?typeof rt.default=="boolean"?{success:!0,value:rt.default}:{success:!1,error:new ValidationError(`${_e} must be a boolean`)}:it!=="boolean"?{success:!1,error:new ValidationError(`${_e} must be a boolean`)}:typeof rt.const=="boolean"&&nt!==rt.const?{success:!1,error:new ValidationError(`${_e} must be ${rt.const}`)}:{success:!0,value:nt}}function integer(et,_e,rt,nt){return rt=rt,typeof nt==="undefined"?typeof rt.default=="number"?{success:!0,value:rt.default}:{success:!1,error:new ValidationError(`${_e} must be an integer`)}:Number.isInteger(nt)?typeof rt.const=="number"&&nt!==rt.const?{success:!1,error:new ValidationError(`${_e} must be ${rt.const}`)}:Array.isArray(rt.enum)&&!rt.enum.includes(nt)?{success:!1,error:new ValidationError(`${_e} must be one of (${rt.enum.join("|")})`)}:typeof rt.maximum=="number"&&nt>rt.maximum?{success:!1,error:new ValidationError(`${_e} can not be greater than ${rt.maximum}`)}:typeof rt.minimum=="number"&&nt<rt.minimum?{success:!1,error:new ValidationError(`${_e} can not be less than ${rt.minimum}`)}:{success:!0,value:nt}:{success:!1,error:new ValidationError(`${_e} must be an integer`)}}function string2(et,_e,rt,nt){if(rt=rt,typeof nt>"u")return typeof rt.default=="string"?{success:!0,value:rt.default}:{success:!1,error:new ValidationError(`${_e} must be a string`)};if(typeof nt!="string")return{success:!1,error:new ValidationError(`${_e} must be a string`)};if(typeof rt.const=="string"&&nt!==rt.const)return{success:!1,error:new ValidationError(`${_e} must be ${rt.const}`)};if(Array.isArray(rt.enum)&&!rt.enum.includes(nt))return{success:!1,error:new ValidationError(`${_e} must be one of (${rt.enum.join("|")})`)};if(typeof rt.maxLength=="number"&&utf8Len(nt)>rt.maxLength)return{success:!1,error:new ValidationError(`${_e} must not be longer than ${rt.maxLength} characters`)};if(typeof rt.minLength=="number"&&utf8Len(nt)<rt.minLength)return{success:!1,error:new ValidationError(`${_e} must not be shorter than ${rt.minLength} characters`)};if(typeof rt.maxGraphemes=="number"&&graphemeLen(nt)>rt.maxGraphemes)return{success:!1,error:new ValidationError(`${_e} must not be longer than ${rt.maxGraphemes} graphemes`)};if(typeof rt.minGraphemes=="number"&&graphemeLen(nt)<rt.minGraphemes)return{success:!1,error:new ValidationError(`${_e} must not be shorter than ${rt.minGraphemes} graphemes`)};if(typeof rt.format=="string")switch(rt.format){case"datetime":return datetime(_e,nt);case"uri":return uri(_e,nt);case"at-uri":return atUri(_e,nt);case"did":return did(_e,nt);case"handle":return handle(_e,nt);case"at-identifier":return atIdentifier(_e,nt);case"nsid":return nsid(_e,nt);case"cid":return cid(_e,nt)}return{success:!0,value:nt}}function bytes(et,_e,rt,nt){return rt=rt,!nt||!(nt instanceof Uint8Array)?{success:!1,error:new ValidationError(`${_e} must be a byte array`)}:typeof rt.maxLength=="number"&&nt.byteLength>rt.maxLength?{success:!1,error:new ValidationError(`${_e} must not be larger than ${rt.maxLength} bytes`)}:typeof rt.minLength=="number"&&nt.byteLength<rt.minLength?{success:!1,error:new ValidationError(`${_e} must not be smaller than ${rt.minLength} bytes`)}:{success:!0,value:nt}}function cidLink(et,_e,rt,nt){return CID$1.asCID(nt)===null?{success:!1,error:new ValidationError(`${_e} must be a CID`)}:{success:!0,value:nt}}function unknown(et,_e,rt,nt){return!nt||typeof nt!="object"?{success:!1,error:new ValidationError(`${_e} must be an object`)}:{success:!0,value:nt}}var typedJsonBlobRef=mod.object({$type:mod.literal("blob"),ref:schema.cid,mimeType:mod.string(),size:mod.number()}).strict(),untypedJsonBlobRef=mod.object({cid:mod.string(),mimeType:mod.string()}).strict(),jsonBlobRef=mod.union([typedJsonBlobRef,untypedJsonBlobRef]),BlobRef=class{constructor(et,_e,rt,nt){this.ref=et,this.mimeType=_e,this.size=rt,this.original=nt??{$type:"blob",ref:et,mimeType:_e,size:rt}}static asBlobRef(et){return check_exports.is(et,jsonBlobRef)?BlobRef.fromJsonRef(et):null}static fromJsonRef(et){return check_exports.is(et,typedJsonBlobRef)?new BlobRef(et.ref,et.mimeType,et.size):new BlobRef(CID$1.parse(et.cid),et.mimeType,-1,et)}ipld(){return{$type:"blob",ref:this.ref,mimeType:this.mimeType,size:this.size}}toJSON(){return ipldToJson(this.ipld())}};function blob(et,_e,rt,nt){return!nt||!(nt instanceof BlobRef)?{success:!1,error:new ValidationError(`${_e} should be a blob ref`)}:{success:!0,value:nt}}function validate2(et,_e,rt,nt){switch(rt.type){case"boolean":return boolean(et,_e,rt,nt);case"integer":return integer(et,_e,rt,nt);case"string":return string2(et,_e,rt,nt);case"bytes":return bytes(et,_e,rt,nt);case"cid-link":return cidLink(et,_e,rt,nt);case"unknown":return unknown(et,_e,rt,nt);case"object":return object(et,_e,rt,nt);case"array":return array(et,_e,rt,nt);case"blob":return blob(et,_e,rt,nt);default:return{success:!1,error:new ValidationError(`Unexpected lexicon type: ${rt.type}`)}}}function array(et,_e,rt,nt){if(!Array.isArray(nt))return{success:!1,error:new ValidationError(`${_e} must be an array`)};if(typeof rt.maxLength=="number"&&nt.length>rt.maxLength)return{success:!1,error:new ValidationError(`${_e} must not have more than ${rt.maxLength} elements`)};if(typeof rt.minLength=="number"&&nt.length<rt.minLength)return{success:!1,error:new ValidationError(`${_e} must not have fewer than ${rt.minLength} elements`)};const it=rt.items;for(let st=0;st<nt.length;st++){const ot=nt[st],at=`${_e}/${st}`,lt=validateOneOf(et,at,it,ot);if(!lt.success)return lt}return{success:!0,value:nt}}function object(et,_e,rt,nt){if(rt=rt,!nt||typeof nt!="object")return{success:!1,error:new ValidationError(`${_e} must be an object`)};const it=new Set(rt.required),st=new Set(rt.nullable);let ot=nt;if(typeof rt.properties=="object")for(const at in rt.properties){if(nt[at]===null&&st.has(at))continue;const lt=rt.properties[at],ut=`${_e}/${at}`,ct=validateOneOf(et,ut,lt,nt[at]),dt=ct.success?ct.value:nt[at],ft=typeof dt>"u";if(ft&&it.has(at))return{success:!1,error:new ValidationError(`${_e} must have the property "${at}"`)};if(!ft&&!ct.success)return ct;dt!==nt[at]&&(ot===nt&&(ot={...nt}),ot[at]=dt)}return{success:!0,value:ot}}function toLexUri(et,_e){if(et.startsWith("lex:"))return et;if(et.startsWith("#")){if(!_e)throw new Error(`Unable to resolve uri without anchor: ${et}`);return`${_e}${et}`}return`lex:${et}`}function validateOneOf(et,_e,rt,nt,it=!1){let st,ot;if(rt.type==="union"){if(!isDiscriminatedObject(nt))return{success:!1,error:new ValidationError(`${_e} must be an object which includes the "$type" property`)};if(rt.refs.includes(toLexUri(nt.$type)))ot=toConcreteTypes(et,{type:"ref",ref:nt.$type});else return rt.closed?{success:!1,error:new ValidationError(`${_e} $type must be one of ${rt.refs.join(", ")}`)}:{success:!0,value:nt}}else ot=toConcreteTypes(et,rt);for(const at of ot){const lt=it?object(et,_e,at,nt):validate2(et,_e,at,nt);if(lt.success)return lt;st??(st=lt.error)}return ot.length>1?{success:!1,error:new ValidationError(`${_e} did not match any of the expected definitions`)}:{success:!1,error:st}}function assertValidOneOf(et,_e,rt,nt,it=!1){const st=validateOneOf(et,_e,rt,nt,it);if(!st.success)throw st.error;return st.value}function toConcreteTypes(et,_e){return _e.type==="ref"?[et.getDefOrThrow(_e.ref)]:_e.type==="union"?_e.refs.map(rt=>et.getDefOrThrow(rt)).flat():[_e]}function params(et,_e,rt,nt){const it=nt&&typeof nt=="object"?nt:{},st=new Set(rt.required??[]);let ot=it;if(typeof rt.properties=="object")for(const at in rt.properties){const lt=rt.properties[at],ut=lt.type==="array"?array(et,at,lt,it[at]):validate(et,at,lt,it[at]),ct=ut.success?ut.value:it[at],dt=typeof ct>"u";if(dt&&st.has(at))return{success:!1,error:new ValidationError(`${_e} must have the property "${at}"`)};if(!dt&&!ut.success)return ut;ct!==it[at]&&(ot===it&&(ot={...it}),ot[at]=ct)}return{success:!0,value:ot}}function assertValidRecord(et,_e,rt){const nt=object(et,"Record",_e.record,rt);if(!nt.success)throw nt.error;return nt.value}function assertValidXrpcParams(et,_e,rt){if(_e.parameters){const nt=params(et,"Params",_e.parameters,rt);if(!nt.success)throw nt.error;return nt.value}}function assertValidXrpcInput(et,_e,rt){var nt;if((nt=_e.input)!=null&&nt.schema)return assertValidOneOf(et,"Input",_e.input.schema,rt,!0)}function assertValidXrpcOutput(et,_e,rt){var nt;if((nt=_e.output)!=null&&nt.schema)return assertValidOneOf(et,"Output",_e.output.schema,rt,!0)}function assertValidXrpcMessage(et,_e,rt){var nt;if((nt=_e.message)!=null&&nt.schema)return assertValidOneOf(et,"Message",_e.message.schema,rt,!0)}var Lexicons=class{constructor(et){if(this.docs=new Map,this.defs=new Map,et!=null&&et.length)for(const _e of et)this.add(_e)}add(et){try{lexiconDoc.parse(et)}catch(nt){throw nt instanceof ZodError?new LexiconDocMalformedError(`Failed to parse schema definition ${et.id}`,et,nt.issues):nt}const _e=et,rt=toLexUri(_e.id);if(this.docs.has(rt))throw new Error(`${rt} has already been registered`);resolveRefUris(_e,rt),this.docs.set(rt,_e);for(const[nt,it]of iterDefs(_e))this.defs.set(nt,it)}remove(et){et=toLexUri(et);const _e=this.docs.get(et);if(!_e)throw new Error(`Unable to remove "${et}": does not exist`);for(const[rt,nt]of iterDefs(_e))this.defs.delete(rt);this.docs.delete(et)}get(et){return et=toLexUri(et),this.docs.get(et)}getDef(et){return et=toLexUri(et),this.defs.get(et)}getDefOrThrow(et,_e){const rt=this.getDef(et);if(!rt)throw new LexiconDefNotFoundError(`Lexicon not found: ${et}`);if(_e&&!_e.includes(rt.type))throw new InvalidLexiconError(`Not a ${_e.join(" or ")} lexicon: ${et}`);return rt}validate(et,_e){et=toLexUri(et);const rt=this.getDefOrThrow(et,["record","object"]);if(!isObj(_e))throw new ValidationError("Value must be an object");if(rt.type==="record")return object(this,"Record",rt.record,_e);if(rt.type==="object")return object(this,"Object",rt,_e);throw new InvalidLexiconError("Definition must be a record or object")}assertValidRecord(et,_e){et=toLexUri(et);const rt=this.getDefOrThrow(et,["record"]);if(!isObj(_e))throw new ValidationError("Record must be an object");if(!hasProp(_e,"$type")||typeof _e.$type!="string")throw new ValidationError("Record/$type must be a string");const nt=_e.$type||"";if(toLexUri(nt)!==et)throw new ValidationError(`Invalid $type: must be ${et}, got ${nt}`);return assertValidRecord(this,rt,_e)}assertValidXrpcParams(et,_e){et=toLexUri(et);const rt=this.getDefOrThrow(et,["query","procedure","subscription"]);return assertValidXrpcParams(this,rt,_e)}assertValidXrpcInput(et,_e){et=toLexUri(et);const rt=this.getDefOrThrow(et,["procedure"]);return assertValidXrpcInput(this,rt,_e)}assertValidXrpcOutput(et,_e){et=toLexUri(et);const rt=this.getDefOrThrow(et,["query","procedure"]);return assertValidXrpcOutput(this,rt,_e)}assertValidXrpcMessage(et,_e){et=toLexUri(et);const rt=this.getDefOrThrow(et,["subscription"]);return assertValidXrpcMessage(this,rt,_e)}resolveLexUri(et,_e){return et=toLexUri(et),toLexUri(_e,et)}};function*iterDefs(et){for(const _e in et.defs)yield[`lex:${et.id}#${_e}`,et.defs[_e]],_e==="main"&&(yield[`lex:${et.id}`,et.defs[_e]])}function resolveRefUris(et,_e){for(const rt in et)et.type==="ref"?et.ref=toLexUri(et.ref,_e):et.type==="union"?et.refs=et.refs.map(nt=>toLexUri(nt,_e)):Array.isArray(et[rt])?et[rt]=et[rt].map(nt=>typeof nt=="string"?nt.startsWith("#")?toLexUri(nt,_e):nt:nt&&typeof nt=="object"?resolveRefUris(nt,_e):nt):et[rt]&&typeof et[rt]=="object"&&(et[rt]=resolveRefUris(et[rt],_e));return et}var lexToIpld=et=>{if(Array.isArray(et))return et.map(_e=>lexToIpld(_e));if(et&&typeof et=="object"){if(et instanceof BlobRef)return et.original;if(CID$1.asCID(et)||et instanceof Uint8Array)return et;const _e={};for(const rt of Object.keys(et))_e[rt]=lexToIpld(et[rt]);return _e}return et},ipldToLex=et=>{if(Array.isArray(et))return et.map(_e=>ipldToLex(_e));if(et&&typeof et=="object"){if((et.$type==="blob"||typeof et.cid=="string"&&typeof et.mimeType=="string")&&check_exports.is(et,jsonBlobRef))return BlobRef.fromJsonRef(et);if(CID$1.asCID(et)||et instanceof Uint8Array)return et;const _e={};for(const rt of Object.keys(et))_e[rt]=ipldToLex(et[rt]);return _e}return et},lexToJson=et=>ipldToJson(lexToIpld(et)),stringifyLex=et=>JSON.stringify(lexToJson(et)),jsonToLex=et=>ipldToLex(jsonToIpld(et)),jsonStringToLex=et=>jsonToLex(JSON.parse(et)),errorResponseBody=mod.object({error:mod.string().optional(),message:mod.string().optional()}),ResponseType=(et=>(et[et.Unknown=1]="Unknown",et[et.InvalidResponse=2]="InvalidResponse",et[et.Success=200]="Success",et[et.InvalidRequest=400]="InvalidRequest",et[et.AuthRequired=401]="AuthRequired",et[et.Forbidden=403]="Forbidden",et[et.XRPCNotSupported=404]="XRPCNotSupported",et[et.PayloadTooLarge=413]="PayloadTooLarge",et[et.RateLimitExceeded=429]="RateLimitExceeded",et[et.InternalServerError=500]="InternalServerError",et[et.MethodNotImplemented=501]="MethodNotImplemented",et[et.UpstreamFailure=502]="UpstreamFailure",et[et.NotEnoughResouces=503]="NotEnoughResouces",et[et.UpstreamTimeout=504]="UpstreamTimeout",et))(ResponseType||{}),ResponseTypeNames={[2]:"InvalidResponse",[200]:"Success",[400]:"InvalidRequest",[401]:"AuthenticationRequired",[403]:"Forbidden",[404]:"XRPCNotSupported",[413]:"PayloadTooLarge",[429]:"RateLimitExceeded",[500]:"InternalServerError",[501]:"MethodNotImplemented",[502]:"UpstreamFailure",[503]:"NotEnoughResouces",[504]:"UpstreamTimeout"},ResponseTypeStrings={[2]:"Invalid Response",[200]:"Success",[400]:"Invalid Request",[401]:"Authentication Required",[403]:"Forbidden",[404]:"XRPC Not Supported",[413]:"Payload Too Large",[429]:"Rate Limit Exceeded",[500]:"Internal Server Error",[501]:"Method Not Implemented",[502]:"Upstream Failure",[503]:"Not Enough Resouces",[504]:"Upstream Timeout"},XRPCResponse=class{constructor(et,_e){this.data=et,this.headers=_e,this.success=!0}},XRPCError=class extends Error{constructor(et,_e,rt){super(rt||_e||ResponseTypeStrings[et]),this.status=et,this.error=_e,this.success=!1,this.error||(this.error=ResponseTypeNames[et])}},XRPCInvalidResponseError=class extends XRPCError{constructor(et,_e,rt){super(2,ResponseTypeStrings[2],"The server gave an invalid response and may be out of date."),this.lexiconNsid=et,this.validationError=_e,this.responseBody=rt}};function getMethodSchemaHTTPMethod(et){return et.type==="procedure"?"post":"get"}function constructMethodCallUri(et,_e,rt,nt){var st,ot;const it=new URL(rt);if(it.pathname=`/xrpc/${et}`,nt)for(const[at,lt]of Object.entries(nt)){const ut=(ot=(st=_e.parameters)==null?void 0:st.properties)==null?void 0:ot[at];if(!ut)throw new Error(`Invalid query parameter: ${at}`);lt!==void 0&&(ut.type==="array"?[].concat(lt).forEach(dt=>{it.searchParams.append(at,encodeQueryParam(ut.items.type,dt))}):it.searchParams.set(at,encodeQueryParam(ut.type,lt)))}return it.toString()}function encodeQueryParam(et,_e){if(et==="string"||et==="unknown")return String(_e);if(et==="float")return String(Number(_e));if(et==="integer")return String(Number(_e)|0);if(et==="boolean")return _e?"true":"false";if(et==="datetime")return _e instanceof Date?_e.toISOString():String(_e);throw new Error(`Unsupported query param type: ${et}`)}function constructMethodCallHeaders(et,_e,rt){const nt=(rt==null?void 0:rt.headers)||{};return et.type==="procedure"&&(rt!=null&&rt.encoding&&(nt["Content-Type"]=rt.encoding),_e&&typeof _e=="object"&&(nt["Content-Type"]||(nt["Content-Type"]="application/json"))),nt}function encodeMethodCallBody(et,_e){if(!(!et["Content-Type"]||typeof _e>"u"))return _e instanceof ArrayBuffer?_e:et["Content-Type"].startsWith("text/")?new TextEncoder().encode(_e.toString()):et["Content-Type"].startsWith("application/json")?new TextEncoder().encode(stringifyLex(_e)):_e}function httpResponseCodeToEnum(et){let _e;return et in ResponseType?_e=et:et>=100&&et<200?_e=404:et>=200&&et<300?_e=200:et>=300&&et<400?_e=404:et>=400&&et<500?_e=400:_e=500,_e}function httpResponseBodyParse(et,_e){if(et){if(et.includes("application/json")&&(_e!=null&&_e.byteLength))try{const rt=new TextDecoder().decode(_e);return jsonStringToLex(rt)}catch(rt){throw new XRPCError(2,`Failed to parse response body: ${String(rt)}`)}if(et.startsWith("text/")&&(_e!=null&&_e.byteLength))try{return new TextDecoder().decode(_e)}catch(rt){throw new XRPCError(2,`Failed to parse response body: ${String(rt)}`)}}return _e instanceof ArrayBuffer?new Uint8Array(_e):_e}var Client=class{constructor(){this.fetch=defaultFetchHandler,this.lex=new Lexicons}async call(et,_e,rt,nt,it){return this.service(et).call(_e,rt,nt,it)}service(et){return new ServiceClient(this,et)}addLexicon(et){this.lex.add(et)}addLexicons(et){for(const _e of et)this.addLexicon(_e)}removeLexicon(et){this.lex.remove(et)}},ServiceClient=class{constructor(et,_e){this.headers={},this.baseClient=et,this.uri=typeof _e=="string"?new URL(_e):_e}setHeader(et,_e){this.headers[et]=_e}unsetHeader(et){delete this.headers[et]}async call(et,_e,rt,nt){const it=this.baseClient.lex.getDefOrThrow(et);if(!it||it.type!=="query"&&it.type!=="procedure")throw new Error(`Invalid lexicon: ${et}. Must be a query or procedure.`);const st=getMethodSchemaHTTPMethod(it),ot=constructMethodCallUri(et,it,this.uri,_e),at=constructMethodCallHeaders(it,rt,{headers:{...this.headers,...nt==null?void 0:nt.headers},encoding:nt==null?void 0:nt.encoding}),lt=await this.baseClient.fetch(ot,st,at,rt),ut=httpResponseCodeToEnum(lt.status);if(ut===200){try{this.baseClient.lex.assertValidXrpcOutput(et,lt.body)}catch(ct){throw ct instanceof ValidationError?new XRPCInvalidResponseError(et,ct,lt.body):ct}return new XRPCResponse(lt.body,lt.headers)}else throw lt.body&&isErrorResponseBody(lt.body)?new XRPCError(ut,lt.body.error,lt.body.message):new XRPCError(ut)}};async function defaultFetchHandler(et,_e,rt,nt){try{const it={method:_e,headers:rt,body:encodeMethodCallBody(rt,nt),duplex:"half"},st=await fetch(et,it),ot=await st.arrayBuffer();return{status:st.status,headers:Object.fromEntries(st.headers.entries()),body:httpResponseBodyParse(st.headers.get("content-type"),ot)}}catch(it){throw new XRPCError(1,String(it))}}function isErrorResponseBody(et){return errorResponseBody.safeParse(et).success}new Client;var schemaDict={ComAtprotoAdminDefs:{lexicon:1,id:"com.atproto.admin.defs",defs:{actionView:{type:"object",required:["id","action","subject","subjectBlobCids","reason","createdBy","createdAt","resolvedReportIds"],properties:{id:{type:"integer"},action:{type:"ref",ref:"lex:com.atproto.admin.defs#actionType"},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},subjectBlobCids:{type:"array",items:{type:"string"}},createLabelVals:{type:"array",items:{type:"string"}},negateLabelVals:{type:"array",items:{type:"string"}},reason:{type:"string"},createdBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"},reversal:{type:"ref",ref:"lex:com.atproto.admin.defs#actionReversal"},resolvedReportIds:{type:"array",items:{type:"integer"}}}},actionViewDetail:{type:"object",required:["id","action","subject","subjectBlobs","reason","createdBy","createdAt","resolvedReports"],properties:{id:{type:"integer"},action:{type:"ref",ref:"lex:com.atproto.admin.defs#actionType"},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoView","lex:com.atproto.admin.defs#recordView"]},subjectBlobs:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#blobView"}},createLabelVals:{type:"array",items:{type:"string"}},negateLabelVals:{type:"array",items:{type:"string"}},reason:{type:"string"},createdBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"},reversal:{type:"ref",ref:"lex:com.atproto.admin.defs#actionReversal"},resolvedReports:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#reportView"}}}},actionViewCurrent:{type:"object",required:["id","action"],properties:{id:{type:"integer"},action:{type:"ref",ref:"lex:com.atproto.admin.defs#actionType"}}},actionReversal:{type:"object",required:["reason","createdBy","createdAt"],properties:{reason:{type:"string"},createdBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}},actionType:{type:"string",knownValues:["lex:com.atproto.admin.defs#takedown","lex:com.atproto.admin.defs#flag","lex:com.atproto.admin.defs#acknowledge"]},takedown:{type:"token",description:"Moderation action type: Takedown. Indicates that content should not be served by the PDS."},flag:{type:"token",description:"Moderation action type: Flag. Indicates that the content was reviewed and considered to violate PDS rules, but may still be served."},acknowledge:{type:"token",description:"Moderation action type: Acknowledge. Indicates that the content was reviewed and not considered to violate PDS rules."},reportView:{type:"object",required:["id","reasonType","subject","reportedBy","createdAt","resolvedByActionIds"],properties:{id:{type:"integer"},reasonType:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"},reason:{type:"string"},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},reportedBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"},resolvedByActionIds:{type:"array",items:{type:"integer"}}}},reportViewDetail:{type:"object",required:["id","reasonType","subject","reportedBy","createdAt","resolvedByActions"],properties:{id:{type:"integer"},reasonType:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"},reason:{type:"string"},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoView","lex:com.atproto.admin.defs#recordView"]},reportedBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"},resolvedByActions:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#actionView"}}}},repoView:{type:"object",required:["did","handle","relatedRecords","indexedAt","moderation"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},email:{type:"string"},relatedRecords:{type:"array",items:{type:"unknown"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:com.atproto.admin.defs#moderation"},invitedBy:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}}},repoViewDetail:{type:"object",required:["did","handle","relatedRecords","indexedAt","moderation"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},email:{type:"string"},relatedRecords:{type:"array",items:{type:"unknown"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:com.atproto.admin.defs#moderationDetail"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},invitedBy:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"},invites:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}}}},repoRef:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},recordView:{type:"object",required:["uri","cid","value","blobCids","indexedAt","moderation","repo"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"},blobCids:{type:"array",items:{type:"string",format:"cid"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:com.atproto.admin.defs#moderation"},repo:{type:"ref",ref:"lex:com.atproto.admin.defs#repoView"}}},recordViewDetail:{type:"object",required:["uri","cid","value","blobs","indexedAt","moderation","repo"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"},blobs:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#blobView"}},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:com.atproto.admin.defs#moderationDetail"},repo:{type:"ref",ref:"lex:com.atproto.admin.defs#repoView"}}},moderation:{type:"object",required:[],properties:{currentAction:{type:"ref",ref:"lex:com.atproto.admin.defs#actionViewCurrent"}}},moderationDetail:{type:"object",required:["actions","reports"],properties:{currentAction:{type:"ref",ref:"lex:com.atproto.admin.defs#actionViewCurrent"},actions:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#actionView"}},reports:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#reportView"}}}},blobView:{type:"object",required:["cid","mimeType","size","createdAt"],properties:{cid:{type:"string",format:"cid"},mimeType:{type:"string"},size:{type:"integer"},createdAt:{type:"string",format:"datetime"},details:{type:"union",refs:["lex:com.atproto.admin.defs#imageDetails","lex:com.atproto.admin.defs#videoDetails"]},moderation:{type:"ref",ref:"lex:com.atproto.admin.defs#moderation"}}},imageDetails:{type:"object",required:["width","height"],properties:{width:{type:"integer"},height:{type:"integer"}}},videoDetails:{type:"object",required:["width","height","length"],properties:{width:{type:"integer"},height:{type:"integer"},length:{type:"integer"}}}}},ComAtprotoAdminDisableInviteCodes:{lexicon:1,id:"com.atproto.admin.disableInviteCodes",defs:{main:{type:"procedure",description:"Disable some set of codes and/or all codes associated with a set of users",input:{encoding:"application/json",schema:{type:"object",properties:{codes:{type:"array",items:{type:"string"}},accounts:{type:"array",items:{type:"string"}}}}}}}},ComAtprotoAdminGetInviteCodes:{lexicon:1,id:"com.atproto.admin.getInviteCodes",defs:{main:{type:"query",description:"Admin view of invite codes",parameters:{type:"params",properties:{sort:{type:"string",knownValues:["recent","usage"],default:"recent"},limit:{type:"integer",minimum:1,maximum:500,default:100},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{cursor:{type:"string"},codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}}}}}}}},ComAtprotoAdminGetModerationAction:{lexicon:1,id:"com.atproto.admin.getModerationAction",defs:{main:{type:"query",description:"View details about a moderation action.",parameters:{type:"params",required:["id"],properties:{id:{type:"integer"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#actionViewDetail"}}}}},ComAtprotoAdminGetModerationActions:{lexicon:1,id:"com.atproto.admin.getModerationActions",defs:{main:{type:"query",description:"List moderation actions related to a subject.",parameters:{type:"params",properties:{subject:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["actions"],properties:{cursor:{type:"string"},actions:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#actionView"}}}}}}}},ComAtprotoAdminGetModerationReport:{lexicon:1,id:"com.atproto.admin.getModerationReport",defs:{main:{type:"query",description:"View details about a moderation report.",parameters:{type:"params",required:["id"],properties:{id:{type:"integer"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#reportViewDetail"}}}}},ComAtprotoAdminGetModerationReports:{lexicon:1,id:"com.atproto.admin.getModerationReports",defs:{main:{type:"query",description:"List moderation reports related to a subject.",parameters:{type:"params",properties:{subject:{type:"string"},resolved:{type:"boolean"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["reports"],properties:{cursor:{type:"string"},reports:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#reportView"}}}}}}}},ComAtprotoAdminGetRecord:{lexicon:1,id:"com.atproto.admin.getRecord",defs:{main:{type:"query",description:"View details about a record.",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#recordViewDetail"}}}}},ComAtprotoAdminGetRepo:{lexicon:1,id:"com.atproto.admin.getRepo",defs:{main:{type:"query",description:"View details about a repository.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#repoViewDetail"}}}}},ComAtprotoAdminResolveModerationReports:{lexicon:1,id:"com.atproto.admin.resolveModerationReports",defs:{main:{type:"procedure",description:"Resolve moderation reports by an action.",input:{encoding:"application/json",schema:{type:"object",required:["actionId","reportIds","createdBy"],properties:{actionId:{type:"integer"},reportIds:{type:"array",items:{type:"integer"}},createdBy:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#actionView"}}}}},ComAtprotoAdminReverseModerationAction:{lexicon:1,id:"com.atproto.admin.reverseModerationAction",defs:{main:{type:"procedure",description:"Reverse a moderation action.",input:{encoding:"application/json",schema:{type:"object",required:["id","reason","createdBy"],properties:{id:{type:"integer"},reason:{type:"string"},createdBy:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#actionView"}}}}},ComAtprotoAdminSearchRepos:{lexicon:1,id:"com.atproto.admin.searchRepos",defs:{main:{type:"query",description:"Find repositories based on a search term.",parameters:{type:"params",properties:{term:{type:"string"},invitedBy:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["repos"],properties:{cursor:{type:"string"},repos:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#repoView"}}}}}}}},ComAtprotoAdminTakeModerationAction:{lexicon:1,id:"com.atproto.admin.takeModerationAction",defs:{main:{type:"procedure",description:"Take a moderation action on a repo.",input:{encoding:"application/json",schema:{type:"object",required:["action","subject","reason","createdBy"],properties:{action:{type:"string",knownValues:["com.atproto.admin.defs#takedown","com.atproto.admin.defs#flag","com.atproto.admin.defs#acknowledge"]},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},subjectBlobCids:{type:"array",items:{type:"string",format:"cid"}},createLabelVals:{type:"array",items:{type:"string"}},negateLabelVals:{type:"array",items:{type:"string"}},reason:{type:"string"},createdBy:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#actionView"}},errors:[{name:"SubjectHasAction"}]}}},ComAtprotoAdminUpdateAccountEmail:{lexicon:1,id:"com.atproto.admin.updateAccountEmail",defs:{main:{type:"procedure",description:"Administrative action to update an account's email",input:{encoding:"application/json",schema:{type:"object",required:["account","email"],properties:{account:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},email:{type:"string"}}}}}}},ComAtprotoAdminUpdateAccountHandle:{lexicon:1,id:"com.atproto.admin.updateAccountHandle",defs:{main:{type:"procedure",description:"Administrative action to update an account's handle",input:{encoding:"application/json",schema:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"}}}}}}},ComAtprotoIdentityResolveHandle:{lexicon:1,id:"com.atproto.identity.resolveHandle",defs:{main:{type:"query",description:"Provides the DID of a repo.",parameters:{type:"params",properties:{handle:{type:"string",format:"handle",description:"The handle to resolve. If not supplied, will resolve the host's own handle."}}},output:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}}}}},ComAtprotoIdentityUpdateHandle:{lexicon:1,id:"com.atproto.identity.updateHandle",defs:{main:{type:"procedure",description:"Updates the handle of the account",input:{encoding:"application/json",schema:{type:"object",required:["handle"],properties:{handle:{type:"string",format:"handle"}}}}}}},ComAtprotoLabelDefs:{lexicon:1,id:"com.atproto.label.defs",defs:{label:{type:"object",description:"Metadata tag on an atproto resource (eg, repo or record)",required:["src","uri","val","cts"],properties:{src:{type:"string",format:"did",description:"DID of the actor who created this label"},uri:{type:"string",format:"uri",description:"AT URI of the record, repository (account), or other resource which this label applies to"},cid:{type:"string",format:"cid",description:"optionally, CID specifying the specific version of 'uri' resource this label applies to"},val:{type:"string",maxLength:128,description:"the short string name of the value or type of this label"},neg:{type:"boolean",description:"if true, this is a negation label, overwriting a previous label"},cts:{type:"string",format:"datetime",description:"timestamp when this label was created"}}}}},ComAtprotoLabelQueryLabels:{lexicon:1,id:"com.atproto.label.queryLabels",defs:{main:{type:"query",description:"Find labels relevant to the provided URI patterns.",parameters:{type:"params",required:["uriPatterns"],properties:{uriPatterns:{type:"array",items:{type:"string"},description:"List of AT URI patterns to match (boolean 'OR'). Each may be a prefix (ending with '*'; will match inclusive of the string leading to '*'), or a full URI"},sources:{type:"array",items:{type:"string",format:"did"},description:"Optional list of label sources (DIDs) to filter on"},limit:{type:"integer",minimum:1,maximum:250,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["labels"],properties:{cursor:{type:"string"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}}}}}},ComAtprotoLabelSubscribeLabels:{lexicon:1,id:"com.atproto.label.subscribeLabels",defs:{main:{type:"subscription",description:"Subscribe to label updates",parameters:{type:"params",properties:{cursor:{type:"integer",description:"The last known event to backfill from."}}},message:{schema:{type:"union",refs:["lex:com.atproto.label.subscribeLabels#labels","lex:com.atproto.label.subscribeLabels#info"]}},errors:[{name:"FutureCursor"}]},labels:{type:"object",required:["seq","labels"],properties:{seq:{type:"integer"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},info:{type:"object",required:["name"],properties:{name:{type:"string",knownValues:["OutdatedCursor"]},message:{type:"string"}}}}},ComAtprotoModerationCreateReport:{lexicon:1,id:"com.atproto.moderation.createReport",defs:{main:{type:"procedure",description:"Report a repo or a record.",input:{encoding:"application/json",schema:{type:"object",required:["reasonType","subject"],properties:{reasonType:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"},reason:{type:"string"},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]}}}},output:{encoding:"application/json",schema:{type:"object",required:["id","reasonType","subject","reportedBy","createdAt"],properties:{id:{type:"integer"},reasonType:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"},reason:{type:"string"},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},reportedBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}}}}}},ComAtprotoModerationDefs:{lexicon:1,id:"com.atproto.moderation.defs",defs:{reasonType:{type:"string",knownValues:["com.atproto.moderation.defs#reasonSpam","com.atproto.moderation.defs#reasonViolation","com.atproto.moderation.defs#reasonMisleading","com.atproto.moderation.defs#reasonSexual","com.atproto.moderation.defs#reasonRude","com.atproto.moderation.defs#reasonOther"]},reasonSpam:{type:"token",description:"Spam: frequent unwanted promotion, replies, mentions"},reasonViolation:{type:"token",description:"Direct violation of server rules, laws, terms of service"},reasonMisleading:{type:"token",description:"Misleading identity, affiliation, or content"},reasonSexual:{type:"token",description:"Unwanted or mis-labeled sexual content"},reasonRude:{type:"token",description:"Rude, harassing, explicit, or otherwise unwelcoming behavior"},reasonOther:{type:"token",description:"Other: reports not falling under another report category"}}},ComAtprotoRepoApplyWrites:{lexicon:1,id:"com.atproto.repo.applyWrites",defs:{main:{type:"procedure",description:"Apply a batch transaction of creates, updates, and deletes.",input:{encoding:"application/json",schema:{type:"object",required:["repo","writes"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},validate:{type:"boolean",default:!0,description:"Validate the records?"},writes:{type:"array",items:{type:"union",refs:["lex:com.atproto.repo.applyWrites#create","lex:com.atproto.repo.applyWrites#update","lex:com.atproto.repo.applyWrites#delete"],closed:!0}},swapCommit:{type:"string",format:"cid"}}}},errors:[{name:"InvalidSwap"}]},create:{type:"object",description:"Create a new record.",required:["action","collection","value"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string"},value:{type:"unknown"}}},update:{type:"object",description:"Update an existing record.",required:["action","collection","rkey","value"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string"},value:{type:"unknown"}}},delete:{type:"object",description:"Delete an existing record.",required:["action","collection","rkey"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string"}}}}},ComAtprotoRepoCreateRecord:{lexicon:1,id:"com.atproto.repo.createRecord",defs:{main:{type:"procedure",description:"Create a new record.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","record"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The key of the record."},validate:{type:"boolean",default:!0,description:"Validate the record?"},record:{type:"unknown",description:"The record to create."},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by cid."}}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}}},errors:[{name:"InvalidSwap"}]}}},ComAtprotoRepoDeleteRecord:{lexicon:1,id:"com.atproto.repo.deleteRecord",defs:{main:{type:"procedure",description:"Delete a record, or ensure it doesn't exist.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","rkey"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The key of the record."},swapRecord:{type:"string",format:"cid",description:"Compare and swap with the previous record by cid."},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by cid."}}}},errors:[{name:"InvalidSwap"}]}}},ComAtprotoRepoDescribeRepo:{lexicon:1,id:"com.atproto.repo.describeRepo",defs:{main:{type:"query",description:"Get information about the repo, including the list of collections.",parameters:{type:"params",required:["repo"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["handle","did","didDoc","collections","handleIsCorrect"],properties:{handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},didDoc:{type:"unknown"},collections:{type:"array",items:{type:"string",format:"nsid"}},handleIsCorrect:{type:"boolean"}}}}}}},ComAtprotoRepoGetRecord:{lexicon:1,id:"com.atproto.repo.getRecord",defs:{main:{type:"query",description:"Get a record.",parameters:{type:"params",required:["repo","collection","rkey"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The key of the record."},cid:{type:"string",format:"cid",description:"The CID of the version of the record. If not specified, then return the most recent version."}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","value"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"}}}}}}},ComAtprotoRepoListRecords:{lexicon:1,id:"com.atproto.repo.listRecords",defs:{main:{type:"query",description:"List a range of records in a collection.",parameters:{type:"params",required:["repo","collection"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record type."},limit:{type:"integer",minimum:1,maximum:100,default:50,description:"The number of records to return."},cursor:{type:"string"},rkeyStart:{type:"string",description:"DEPRECATED: The lowest sort-ordered rkey to start from (exclusive)"},rkeyEnd:{type:"string",description:"DEPRECATED: The highest sort-ordered rkey to stop at (exclusive)"},reverse:{type:"boolean",description:"Reverse the order of the returned records?"}}},output:{encoding:"application/json",schema:{type:"object",required:["records"],properties:{cursor:{type:"string"},records:{type:"array",items:{type:"ref",ref:"lex:com.atproto.repo.listRecords#record"}}}}}},record:{type:"object",required:["uri","cid","value"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"}}}}},ComAtprotoRepoPutRecord:{lexicon:1,id:"com.atproto.repo.putRecord",defs:{main:{type:"procedure",description:"Write a record, creating or updating it as needed.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","rkey","record"],nullable:["swapRecord"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The key of the record."},validate:{type:"boolean",default:!0,description:"Validate the record?"},record:{type:"unknown",description:"The record to write."},swapRecord:{type:"string",format:"cid",description:"Compare and swap with the previous record by cid."},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by cid."}}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}}},errors:[{name:"InvalidSwap"}]}}},ComAtprotoRepoStrongRef:{lexicon:1,id:"com.atproto.repo.strongRef",description:"A URI with a content-hash fingerprint.",defs:{main:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}}}},ComAtprotoRepoUploadBlob:{lexicon:1,id:"com.atproto.repo.uploadBlob",defs:{main:{type:"procedure",description:"Upload a new blob to be added to repo in a later request.",input:{encoding:"*/*"},output:{encoding:"application/json",schema:{type:"object",required:["blob"],properties:{blob:{type:"blob"}}}}}}},ComAtprotoServerCreateAccount:{lexicon:1,id:"com.atproto.server.createAccount",defs:{main:{type:"procedure",description:"Create an account.",input:{encoding:"application/json",schema:{type:"object",required:["handle","email","password"],properties:{email:{type:"string"},handle:{type:"string",format:"handle"},inviteCode:{type:"string"},password:{type:"string"},recoveryKey:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did"}}}},errors:[{name:"InvalidHandle"},{name:"InvalidPassword"},{name:"InvalidInviteCode"},{name:"HandleNotAvailable"},{name:"UnsupportedDomain"}]}}},ComAtprotoServerCreateAppPassword:{lexicon:1,id:"com.atproto.server.createAppPassword",defs:{main:{type:"procedure",description:"Create an app-specific password.",input:{encoding:"application/json",schema:{type:"object",required:["name"],properties:{name:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.server.createAppPassword#appPassword"}},errors:[{name:"AccountTakedown"}]},appPassword:{type:"object",required:["name","password","createdAt"],properties:{name:{type:"string"},password:{type:"string"},createdAt:{type:"string",format:"datetime"}}}}},ComAtprotoServerCreateInviteCode:{lexicon:1,id:"com.atproto.server.createInviteCode",defs:{main:{type:"procedure",description:"Create an invite code.",input:{encoding:"application/json",schema:{type:"object",required:["useCount"],properties:{useCount:{type:"integer"},forAccount:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["code"],properties:{code:{type:"string"}}}}}}},ComAtprotoServerCreateInviteCodes:{lexicon:1,id:"com.atproto.server.createInviteCodes",defs:{main:{type:"procedure",description:"Create an invite code.",input:{encoding:"application/json",schema:{type:"object",required:["codeCount","useCount"],properties:{codeCount:{type:"integer",default:1},useCount:{type:"integer"},forAccounts:{type:"array",items:{type:"string",format:"did"}}}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.createInviteCodes#accountCodes"}}}}}},accountCodes:{type:"object",required:["account","codes"],properties:{account:{type:"string"},codes:{type:"array",items:{type:"string"}}}}}},ComAtprotoServerCreateSession:{lexicon:1,id:"com.atproto.server.createSession",defs:{main:{type:"procedure",description:"Create an authentication session.",input:{encoding:"application/json",schema:{type:"object",required:["identifier","password"],properties:{identifier:{type:"string",description:"Handle or other identifier supported by the server for the authenticating user."},password:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},email:{type:"string"}}}},errors:[{name:"AccountTakedown"}]}}},ComAtprotoServerDefs:{lexicon:1,id:"com.atproto.server.defs",defs:{inviteCode:{type:"object",required:["code","available","disabled","forAccount","createdBy","createdAt","uses"],properties:{code:{type:"string"},available:{type:"integer"},disabled:{type:"boolean"},forAccount:{type:"string"},createdBy:{type:"string"},createdAt:{type:"string",format:"datetime"},uses:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCodeUse"}}}},inviteCodeUse:{type:"object",required:["usedBy","usedAt"],properties:{usedBy:{type:"string",format:"did"},usedAt:{type:"string",format:"datetime"}}}}},ComAtprotoServerDeleteAccount:{lexicon:1,id:"com.atproto.server.deleteAccount",defs:{main:{type:"procedure",description:"Delete a user account with a token and password.",input:{encoding:"application/json",schema:{type:"object",required:["did","password","token"],properties:{did:{type:"string",format:"did"},password:{type:"string"},token:{type:"string"}}}},errors:[{name:"ExpiredToken"},{name:"InvalidToken"}]}}},ComAtprotoServerDeleteSession:{lexicon:1,id:"com.atproto.server.deleteSession",defs:{main:{type:"procedure",description:"Delete the current session."}}},ComAtprotoServerDescribeServer:{lexicon:1,id:"com.atproto.server.describeServer",defs:{main:{type:"query",description:"Get a document describing the service's accounts configuration.",output:{encoding:"application/json",schema:{type:"object",required:["availableUserDomains"],properties:{inviteCodeRequired:{type:"boolean"},availableUserDomains:{type:"array",items:{type:"string"}},links:{type:"ref",ref:"lex:com.atproto.server.describeServer#links"}}}}},links:{type:"object",properties:{privacyPolicy:{type:"string"},termsOfService:{type:"string"}}}}},ComAtprotoServerGetAccountInviteCodes:{lexicon:1,id:"com.atproto.server.getAccountInviteCodes",defs:{main:{type:"query",description:"Get all invite codes for a given account",parameters:{type:"params",properties:{includeUsed:{type:"boolean",default:!0},createAvailable:{type:"boolean",default:!0}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}}}}},errors:[{name:"DuplicateCreate"}]}}},ComAtprotoServerGetSession:{lexicon:1,id:"com.atproto.server.getSession",defs:{main:{type:"query",description:"Get information about the current session.",output:{encoding:"application/json",schema:{type:"object",required:["handle","did"],properties:{handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},email:{type:"string"}}}}}}},ComAtprotoServerListAppPasswords:{lexicon:1,id:"com.atproto.server.listAppPasswords",defs:{main:{type:"query",description:"List all app-specific passwords.",output:{encoding:"application/json",schema:{type:"object",required:["passwords"],properties:{passwords:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.listAppPasswords#appPassword"}}}}},errors:[{name:"AccountTakedown"}]},appPassword:{type:"object",required:["name","createdAt"],properties:{name:{type:"string"},createdAt:{type:"string",format:"datetime"}}}}},ComAtprotoServerRefreshSession:{lexicon:1,id:"com.atproto.server.refreshSession",defs:{main:{type:"procedure",description:"Refresh an authentication session.",output:{encoding:"application/json",schema:{type:"object",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did"}}}},errors:[{name:"AccountTakedown"}]}}},ComAtprotoServerRequestAccountDelete:{lexicon:1,id:"com.atproto.server.requestAccountDelete",defs:{main:{type:"procedure",description:"Initiate a user account deletion via email."}}},ComAtprotoServerRequestPasswordReset:{lexicon:1,id:"com.atproto.server.requestPasswordReset",defs:{main:{type:"procedure",description:"Initiate a user account password reset via email.",input:{encoding:"application/json",schema:{type:"object",required:["email"],properties:{email:{type:"string"}}}}}}},ComAtprotoServerResetPassword:{lexicon:1,id:"com.atproto.server.resetPassword",defs:{main:{type:"procedure",description:"Reset a user account password using a token.",input:{encoding:"application/json",schema:{type:"object",required:["token","password"],properties:{token:{type:"string"},password:{type:"string"}}}},errors:[{name:"ExpiredToken"},{name:"InvalidToken"}]}}},ComAtprotoServerRevokeAppPassword:{lexicon:1,id:"com.atproto.server.revokeAppPassword",defs:{main:{type:"procedure",description:"Revoke an app-specific password by name.",input:{encoding:"application/json",schema:{type:"object",required:["name"],properties:{name:{type:"string"}}}}}}},ComAtprotoSyncGetBlob:{lexicon:1,id:"com.atproto.sync.getBlob",defs:{main:{type:"query",description:"Get a blob associated with a given repo.",parameters:{type:"params",required:["did","cid"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},cid:{type:"string",format:"cid",description:"The CID of the blob to fetch"}}},output:{encoding:"*/*"}}}},ComAtprotoSyncGetBlocks:{lexicon:1,id:"com.atproto.sync.getBlocks",defs:{main:{type:"query",description:"Gets blocks from a given repo.",parameters:{type:"params",required:["did","cids"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},cids:{type:"array",items:{type:"string",format:"cid"}}}},output:{encoding:"application/vnd.ipld.car"}}}},ComAtprotoSyncGetCheckout:{lexicon:1,id:"com.atproto.sync.getCheckout",defs:{main:{type:"query",description:"Gets the repo state.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},commit:{type:"string",format:"cid",description:"The commit to get the checkout from. Defaults to current HEAD."}}},output:{encoding:"application/vnd.ipld.car"}}}},ComAtprotoSyncGetCommitPath:{lexicon:1,id:"com.atproto.sync.getCommitPath",defs:{main:{type:"query",description:"Gets the path of repo commits",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},latest:{type:"string",format:"cid",description:"The most recent commit"},earliest:{type:"string",format:"cid",description:"The earliest commit to start from"}}},output:{encoding:"application/json",schema:{type:"object",required:["commits"],properties:{commits:{type:"array",items:{type:"string",format:"cid"}}}}}}}},ComAtprotoSyncGetHead:{lexicon:1,id:"com.atproto.sync.getHead",defs:{main:{type:"query",description:"Gets the current HEAD CID of a repo.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["root"],properties:{root:{type:"string",format:"cid"}}}}}}},ComAtprotoSyncGetRecord:{lexicon:1,id:"com.atproto.sync.getRecord",defs:{main:{type:"query",description:"Gets blocks needed for existence or non-existence of record.",parameters:{type:"params",required:["did","collection","rkey"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},collection:{type:"string",format:"nsid"},rkey:{type:"string"},commit:{type:"string",format:"cid",description:"An optional past commit CID."}}},output:{encoding:"application/vnd.ipld.car"}}}},ComAtprotoSyncGetRepo:{lexicon:1,id:"com.atproto.sync.getRepo",defs:{main:{type:"query",description:"Gets the repo state.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},earliest:{type:"string",format:"cid",description:"The earliest commit in the commit range (not inclusive)"},latest:{type:"string",format:"cid",description:"The latest commit in the commit range (inclusive)"}}},output:{encoding:"application/vnd.ipld.car"}}}},ComAtprotoSyncListBlobs:{lexicon:1,id:"com.atproto.sync.listBlobs",defs:{main:{type:"query",description:"List blob cids for some range of commits",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},latest:{type:"string",format:"cid",description:"The most recent commit"},earliest:{type:"string",format:"cid",description:"The earliest commit to start from"}}},output:{encoding:"application/json",schema:{type:"object",required:["cids"],properties:{cids:{type:"array",items:{type:"string",format:"cid"}}}}}}}},ComAtprotoSyncListRepos:{lexicon:1,id:"com.atproto.sync.listRepos",defs:{main:{type:"query",description:"List dids and root cids of hosted repos",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:1e3,default:500},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["repos"],properties:{cursor:{type:"string"},repos:{type:"array",items:{type:"ref",ref:"lex:com.atproto.sync.listRepos#repo"}}}}}},repo:{type:"object",required:["did","head"],properties:{did:{type:"string",format:"did"},head:{type:"string",format:"cid"}}}}},ComAtprotoSyncNotifyOfUpdate:{lexicon:1,id:"com.atproto.sync.notifyOfUpdate",defs:{main:{type:"query",description:"Notify a crawling service of a recent update. Often when a long break between updates causes the connection with the crawling service to break.",parameters:{type:"params",required:["hostname"],properties:{hostname:{type:"string",description:"Hostname of the service that is notifying of update."}}}}}},ComAtprotoSyncRequestCrawl:{lexicon:1,id:"com.atproto.sync.requestCrawl",defs:{main:{type:"query",description:"Request a service to persistently crawl hosted repos.",parameters:{type:"params",required:["hostname"],properties:{hostname:{type:"string",description:"Hostname of the service that is requesting to be crawled."}}}}}},ComAtprotoSyncSubscribeRepos:{lexicon:1,id:"com.atproto.sync.subscribeRepos",defs:{main:{type:"subscription",description:"Subscribe to repo updates",parameters:{type:"params",properties:{cursor:{type:"integer",description:"The last known event to backfill from."}}},message:{schema:{type:"union",refs:["lex:com.atproto.sync.subscribeRepos#commit","lex:com.atproto.sync.subscribeRepos#handle","lex:com.atproto.sync.subscribeRepos#migrate","lex:com.atproto.sync.subscribeRepos#tombstone","lex:com.atproto.sync.subscribeRepos#info"]}},errors:[{name:"FutureCursor"}]},commit:{type:"object",required:["seq","rebase","tooBig","repo","commit","prev","blocks","ops","blobs","time"],nullable:["prev"],properties:{seq:{type:"integer"},rebase:{type:"boolean"},tooBig:{type:"boolean"},repo:{type:"string",format:"did"},commit:{type:"cid-link"},prev:{type:"cid-link"},blocks:{type:"bytes",description:"CAR file containing relevant blocks",maxLength:1e6},ops:{type:"array",items:{type:"ref",ref:"lex:com.atproto.sync.subscribeRepos#repoOp"},maxLength:200},blobs:{type:"array",items:{type:"cid-link"}},time:{type:"string",format:"datetime"}}},handle:{type:"object",required:["seq","did","handle","time"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},time:{type:"string",format:"datetime"}}},migrate:{type:"object",required:["seq","did","migrateTo","time"],nullable:["migrateTo"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},migrateTo:{type:"string"},time:{type:"string",format:"datetime"}}},tombstone:{type:"object",required:["seq","did","time"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},time:{type:"string",format:"datetime"}}},info:{type:"object",required:["name"],properties:{name:{type:"string",knownValues:["OutdatedCursor"]},message:{type:"string"}}},repoOp:{type:"object",required:["action","path","cid"],nullable:["cid"],properties:{action:{type:"string",knownValues:["create","update","delete"]},path:{type:"string"},cid:{type:"cid-link"}}}}},AppBskyActorDefs:{lexicon:1,id:"app.bsky.actor.defs",description:"A reference to an actor in the network.",defs:{profileViewBasic:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},avatar:{type:"string"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},profileView:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",maxGraphemes:256,maxLength:2560},avatar:{type:"string"},indexedAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},profileViewDetailed:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",maxGraphemes:256,maxLength:2560},avatar:{type:"string"},banner:{type:"string"},followersCount:{type:"integer"},followsCount:{type:"integer"},postsCount:{type:"integer"},indexedAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},viewerState:{type:"object",properties:{muted:{type:"boolean"},blockedBy:{type:"boolean"},blocking:{type:"string",format:"at-uri"},following:{type:"string",format:"at-uri"},followedBy:{type:"string",format:"at-uri"}}}}},AppBskyActorGetProfile:{lexicon:1,id:"app.bsky.actor.getProfile",defs:{main:{type:"query",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewDetailed"}}}}},AppBskyActorGetProfiles:{lexicon:1,id:"app.bsky.actor.getProfiles",defs:{main:{type:"query",parameters:{type:"params",required:["actors"],properties:{actors:{type:"array",items:{type:"string",format:"at-identifier"},maxLength:25}}},output:{encoding:"application/json",schema:{type:"object",required:["profiles"],properties:{profiles:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewDetailed"}}}}}}}},AppBskyActorGetSuggestions:{lexicon:1,id:"app.bsky.actor.getSuggestions",defs:{main:{type:"query",description:"Get a list of actors suggested for following. Used in discovery UIs.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyActorProfile:{lexicon:1,id:"app.bsky.actor.profile",defs:{main:{type:"record",key:"literal:self",record:{type:"object",properties:{displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",maxGraphemes:256,maxLength:2560},avatar:{type:"blob",accept:["image/png","image/jpeg"],maxSize:1e6},banner:{type:"blob",accept:["image/png","image/jpeg"],maxSize:1e6}}}}}},AppBskyActorSearchActors:{lexicon:1,id:"app.bsky.actor.searchActors",defs:{main:{type:"query",description:"Find actors matching search criteria.",parameters:{type:"params",properties:{term:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyActorSearchActorsTypeahead:{lexicon:1,id:"app.bsky.actor.searchActorsTypeahead",defs:{main:{type:"query",description:"Find actor suggestions for a search term.",parameters:{type:"params",properties:{term:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"}}}}}}}},AppBskyEmbedExternal:{lexicon:1,id:"app.bsky.embed.external",description:"A representation of some externally linked content, embedded in another form of content",defs:{main:{type:"object",required:["external"],properties:{external:{type:"ref",ref:"lex:app.bsky.embed.external#external"}}},external:{type:"object",required:["uri","title","description"],properties:{uri:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},thumb:{type:"blob",accept:["image/*"],maxSize:1e6}}},view:{type:"object",required:["external"],properties:{external:{type:"ref",ref:"lex:app.bsky.embed.external#viewExternal"}}},viewExternal:{type:"object",required:["uri","title","description"],properties:{uri:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},thumb:{type:"string"}}}}},AppBskyEmbedImages:{lexicon:1,id:"app.bsky.embed.images",description:"A set of images embedded in some other form of content",defs:{main:{type:"object",required:["images"],properties:{images:{type:"array",items:{type:"ref",ref:"lex:app.bsky.embed.images#image"},maxLength:4}}},image:{type:"object",required:["image","alt"],properties:{image:{type:"blob",accept:["image/*"],maxSize:1e6},alt:{type:"string"}}},view:{type:"object",required:["images"],properties:{images:{type:"array",items:{type:"ref",ref:"lex:app.bsky.embed.images#viewImage"},maxLength:4}}},viewImage:{type:"object",required:["thumb","fullsize","alt"],properties:{thumb:{type:"string"},fullsize:{type:"string"},alt:{type:"string"}}}}},AppBskyEmbedRecord:{lexicon:1,id:"app.bsky.embed.record",description:"A representation of a record embedded in another form of content",defs:{main:{type:"object",required:["record"],properties:{record:{type:"ref",ref:"lex:com.atproto.repo.strongRef"}}},view:{type:"object",required:["record"],properties:{record:{type:"union",refs:["lex:app.bsky.embed.record#viewRecord","lex:app.bsky.embed.record#viewNotFound","lex:app.bsky.embed.record#viewBlocked"]}}},viewRecord:{type:"object",required:["uri","cid","author","value","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},value:{type:"unknown"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},embeds:{type:"array",items:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.external#view","lex:app.bsky.embed.record#view","lex:app.bsky.embed.recordWithMedia#view"]}},indexedAt:{type:"string",format:"datetime"}}},viewNotFound:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}},viewBlocked:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}}}},AppBskyEmbedRecordWithMedia:{lexicon:1,id:"app.bsky.embed.recordWithMedia",description:"A representation of a record embedded in another form of content, alongside other compatible embeds",defs:{main:{type:"object",required:["record","media"],properties:{record:{type:"ref",ref:"lex:app.bsky.embed.record"},media:{type:"union",refs:["lex:app.bsky.embed.images","lex:app.bsky.embed.external"]}}},view:{type:"object",required:["record","media"],properties:{record:{type:"ref",ref:"lex:app.bsky.embed.record#view"},media:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.external#view"]}}}}},AppBskyFeedDefs:{lexicon:1,id:"app.bsky.feed.defs",defs:{postView:{type:"object",required:["uri","cid","author","record","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},record:{type:"unknown"},embed:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.external#view","lex:app.bsky.embed.record#view","lex:app.bsky.embed.recordWithMedia#view"]},replyCount:{type:"integer"},repostCount:{type:"integer"},likeCount:{type:"integer"},indexedAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.feed.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},viewerState:{type:"object",properties:{repost:{type:"string",format:"at-uri"},like:{type:"string",format:"at-uri"}}},feedViewPost:{type:"object",required:["post"],properties:{post:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"},reply:{type:"ref",ref:"lex:app.bsky.feed.defs#replyRef"},reason:{type:"union",refs:["lex:app.bsky.feed.defs#reasonRepost"]}}},replyRef:{type:"object",required:["root","parent"],properties:{root:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"},parent:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"}}},reasonRepost:{type:"object",required:["by","indexedAt"],properties:{by:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},indexedAt:{type:"string",format:"datetime"}}},threadViewPost:{type:"object",required:["post"],properties:{post:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"},parent:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]},replies:{type:"array",items:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]}}}},notFoundPost:{type:"object",required:["uri","notFound"],properties:{uri:{type:"string",format:"at-uri"},notFound:{type:"boolean",const:!0}}},blockedPost:{type:"object",required:["uri","blocked"],properties:{uri:{type:"string",format:"at-uri"},blocked:{type:"boolean",const:!0}}}}},AppBskyFeedGetAuthorFeed:{lexicon:1,id:"app.bsky.feed.getAuthorFeed",defs:{main:{type:"query",description:"A view of an actor's feed.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"BlockedActor"},{name:"BlockedByActor"}]}}},AppBskyFeedGetLikes:{lexicon:1,id:"app.bsky.feed.getLikes",defs:{main:{type:"query",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","likes"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},cursor:{type:"string"},likes:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.getLikes#like"}}}}}},like:{type:"object",required:["indexedAt","createdAt","actor"],properties:{indexedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},actor:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}},AppBskyFeedGetPostThread:{lexicon:1,id:"app.bsky.feed.getPostThread",defs:{main:{type:"query",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri"},depth:{type:"integer"}}},output:{encoding:"application/json",schema:{type:"object",required:["thread"],properties:{thread:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]}}}},errors:[{name:"NotFound"}]}}},AppBskyFeedGetPosts:{lexicon:1,id:"app.bsky.feed.getPosts",defs:{main:{type:"query",description:"A view of an actor's feed.",parameters:{type:"params",required:["uris"],properties:{uris:{type:"array",items:{type:"string",format:"at-uri"},maxLength:25}}},output:{encoding:"application/json",schema:{type:"object",required:["posts"],properties:{posts:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"}}}}}}}},AppBskyFeedGetRepostedBy:{lexicon:1,id:"app.bsky.feed.getRepostedBy",defs:{main:{type:"query",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","repostedBy"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},cursor:{type:"string"},repostedBy:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyFeedGetTimeline:{lexicon:1,id:"app.bsky.feed.getTimeline",defs:{main:{type:"query",description:"A view of the user's home timeline.",parameters:{type:"params",properties:{algorithm:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}}}}},AppBskyFeedLike:{lexicon:1,id:"app.bsky.feed.like",defs:{main:{type:"record",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyFeedPost:{lexicon:1,id:"app.bsky.feed.post",defs:{main:{type:"record",key:"tid",record:{type:"object",required:["text","createdAt"],properties:{text:{type:"string",maxLength:3e3,maxGraphemes:300},entities:{type:"array",description:"Deprecated: replaced by app.bsky.richtext.facet.",items:{type:"ref",ref:"lex:app.bsky.feed.post#entity"}},facets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},reply:{type:"ref",ref:"lex:app.bsky.feed.post#replyRef"},embed:{type:"union",refs:["lex:app.bsky.embed.images","lex:app.bsky.embed.external","lex:app.bsky.embed.record","lex:app.bsky.embed.recordWithMedia"]},createdAt:{type:"string",format:"datetime"}}}},replyRef:{type:"object",required:["root","parent"],properties:{root:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},parent:{type:"ref",ref:"lex:com.atproto.repo.strongRef"}}},entity:{type:"object",description:"Deprecated: use facets instead.",required:["index","type","value"],properties:{index:{type:"ref",ref:"lex:app.bsky.feed.post#textSlice"},type:{type:"string",description:"Expected values are 'mention' and 'link'."},value:{type:"string"}}},textSlice:{type:"object",description:"Deprecated. Use app.bsky.richtext instead -- A text segment. Start is inclusive, end is exclusive. Indices are for utf16-encoded strings.",required:["start","end"],properties:{start:{type:"integer",minimum:0},end:{type:"integer",minimum:0}}}}},AppBskyFeedRepost:{lexicon:1,id:"app.bsky.feed.repost",defs:{main:{type:"record",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphBlock:{lexicon:1,id:"app.bsky.graph.block",defs:{main:{type:"record",description:"A block.",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphFollow:{lexicon:1,id:"app.bsky.graph.follow",defs:{main:{type:"record",description:"A social follow.",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphGetBlocks:{lexicon:1,id:"app.bsky.graph.getBlocks",defs:{main:{type:"query",description:"Who is the requester's account blocking?",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["blocks"],properties:{cursor:{type:"string"},blocks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetFollowers:{lexicon:1,id:"app.bsky.graph.getFollowers",defs:{main:{type:"query",description:"Who is following an actor?",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject","followers"],properties:{subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},cursor:{type:"string"},followers:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetFollows:{lexicon:1,id:"app.bsky.graph.getFollows",defs:{main:{type:"query",description:"Who is an actor following?",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject","follows"],properties:{subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},cursor:{type:"string"},follows:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetMutes:{lexicon:1,id:"app.bsky.graph.getMutes",defs:{main:{type:"query",description:"Who does the viewer mute?",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["mutes"],properties:{cursor:{type:"string"},mutes:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphMuteActor:{lexicon:1,id:"app.bsky.graph.muteActor",defs:{main:{type:"procedure",description:"Mute an actor by did or handle.",input:{encoding:"application/json",schema:{type:"object",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}}}}}},AppBskyGraphUnmuteActor:{lexicon:1,id:"app.bsky.graph.unmuteActor",defs:{main:{type:"procedure",description:"Unmute an actor by did or handle.",input:{encoding:"application/json",schema:{type:"object",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}}}}}},AppBskyNotificationGetUnreadCount:{lexicon:1,id:"app.bsky.notification.getUnreadCount",defs:{main:{type:"query",parameters:{type:"params",properties:{seenAt:{type:"string",format:"datetime"}}},output:{encoding:"application/json",schema:{type:"object",required:["count"],properties:{count:{type:"integer"}}}}}}},AppBskyNotificationListNotifications:{lexicon:1,id:"app.bsky.notification.listNotifications",defs:{main:{type:"query",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},seenAt:{type:"string",format:"datetime"}}},output:{encoding:"application/json",schema:{type:"object",required:["notifications"],properties:{cursor:{type:"string"},notifications:{type:"array",items:{type:"ref",ref:"lex:app.bsky.notification.listNotifications#notification"}}}}}},notification:{type:"object",required:["uri","cid","author","reason","record","isRead","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},reason:{type:"string",description:"Expected values are 'like', 'repost', 'follow', 'mention', 'reply', and 'quote'.",knownValues:["like","repost","follow","mention","reply","quote"]},reasonSubject:{type:"string",format:"at-uri"},record:{type:"unknown"},isRead:{type:"boolean"},indexedAt:{type:"string",format:"datetime"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}}}},AppBskyNotificationUpdateSeen:{lexicon:1,id:"app.bsky.notification.updateSeen",defs:{main:{type:"procedure",description:"Notify server that the user has seen notifications.",input:{encoding:"application/json",schema:{type:"object",required:["seenAt"],properties:{seenAt:{type:"string",format:"datetime"}}}}}}},AppBskyRichtextFacet:{lexicon:1,id:"app.bsky.richtext.facet",defs:{main:{type:"object",required:["index","features"],properties:{index:{type:"ref",ref:"lex:app.bsky.richtext.facet#byteSlice"},features:{type:"array",items:{type:"union",refs:["lex:app.bsky.richtext.facet#mention","lex:app.bsky.richtext.facet#link"]}}}},mention:{type:"object",description:"A facet feature for actor mentions.",required:["did"],properties:{did:{type:"string",format:"did"}}},link:{type:"object",description:"A facet feature for links.",required:["uri"],properties:{uri:{type:"string",format:"uri"}}},byteSlice:{type:"object",description:"A text segment. Start is inclusive, end is exclusive. Indices are for utf8-encoded strings.",required:["byteStart","byteEnd"],properties:{byteStart:{type:"integer",minimum:0},byteEnd:{type:"integer",minimum:0}}}}},AppBskyUnspeccedGetPopular:{lexicon:1,id:"app.bsky.unspecced.getPopular",defs:{main:{type:"query",description:"An unspecced view of globally popular items",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}}}}}},schemas=Object.values(schemaDict),lexicons=new Lexicons(schemas),disableInviteCodes_exports={};__export(disableInviteCodes_exports,{toKnownErr:()=>toKnownErr});function toKnownErr(et){return et}var getInviteCodes_exports={};__export(getInviteCodes_exports,{toKnownErr:()=>toKnownErr2});function toKnownErr2(et){return et}var getModerationAction_exports={};__export(getModerationAction_exports,{toKnownErr:()=>toKnownErr3});function toKnownErr3(et){return et}var getModerationActions_exports={};__export(getModerationActions_exports,{toKnownErr:()=>toKnownErr4});function toKnownErr4(et){return et}var getModerationReport_exports={};__export(getModerationReport_exports,{toKnownErr:()=>toKnownErr5});function toKnownErr5(et){return et}var getModerationReports_exports={};__export(getModerationReports_exports,{toKnownErr:()=>toKnownErr6});function toKnownErr6(et){return et}var getRecord_exports={};__export(getRecord_exports,{toKnownErr:()=>toKnownErr7});function toKnownErr7(et){return et}var getRepo_exports={};__export(getRepo_exports,{toKnownErr:()=>toKnownErr8});function toKnownErr8(et){return et}var resolveModerationReports_exports={};__export(resolveModerationReports_exports,{toKnownErr:()=>toKnownErr9});function toKnownErr9(et){return et}var reverseModerationAction_exports={};__export(reverseModerationAction_exports,{toKnownErr:()=>toKnownErr10});function toKnownErr10(et){return et}var searchRepos_exports={};__export(searchRepos_exports,{toKnownErr:()=>toKnownErr11});function toKnownErr11(et){return et}var takeModerationAction_exports={};__export(takeModerationAction_exports,{SubjectHasActionError:()=>SubjectHasActionError,toKnownErr:()=>toKnownErr12});var SubjectHasActionError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr12(et){return et instanceof XRPCError&&et.error==="SubjectHasAction"?new SubjectHasActionError(et):et}var updateAccountEmail_exports={};__export(updateAccountEmail_exports,{toKnownErr:()=>toKnownErr13});function toKnownErr13(et){return et}var updateAccountHandle_exports={};__export(updateAccountHandle_exports,{toKnownErr:()=>toKnownErr14});function toKnownErr14(et){return et}var resolveHandle_exports={};__export(resolveHandle_exports,{toKnownErr:()=>toKnownErr15});function toKnownErr15(et){return et}var updateHandle_exports={};__export(updateHandle_exports,{toKnownErr:()=>toKnownErr16});function toKnownErr16(et){return et}var queryLabels_exports={};__export(queryLabels_exports,{toKnownErr:()=>toKnownErr17});function toKnownErr17(et){return et}var createReport_exports={};__export(createReport_exports,{toKnownErr:()=>toKnownErr18});function toKnownErr18(et){return et}var applyWrites_exports={};__export(applyWrites_exports,{InvalidSwapError:()=>InvalidSwapError,isCreate:()=>isCreate,isDelete:()=>isDelete,isUpdate:()=>isUpdate,toKnownErr:()=>toKnownErr19,validateCreate:()=>validateCreate,validateDelete:()=>validateDelete,validateUpdate:()=>validateUpdate});function isObj2(et){return typeof et=="object"&&et!==null}function hasProp2(et,_e){return _e in et}var InvalidSwapError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr19(et){return et instanceof XRPCError&&et.error==="InvalidSwap"?new InvalidSwapError(et):et}function isCreate(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.repo.applyWrites#create"}function validateCreate(et){return lexicons.validate("com.atproto.repo.applyWrites#create",et)}function isUpdate(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.repo.applyWrites#update"}function validateUpdate(et){return lexicons.validate("com.atproto.repo.applyWrites#update",et)}function isDelete(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.repo.applyWrites#delete"}function validateDelete(et){return lexicons.validate("com.atproto.repo.applyWrites#delete",et)}var createRecord_exports={};__export(createRecord_exports,{InvalidSwapError:()=>InvalidSwapError2,toKnownErr:()=>toKnownErr20});var InvalidSwapError2=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr20(et){return et instanceof XRPCError&&et.error==="InvalidSwap"?new InvalidSwapError2(et):et}var deleteRecord_exports={};__export(deleteRecord_exports,{InvalidSwapError:()=>InvalidSwapError3,toKnownErr:()=>toKnownErr21});var InvalidSwapError3=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr21(et){return et instanceof XRPCError&&et.error==="InvalidSwap"?new InvalidSwapError3(et):et}var describeRepo_exports={};__export(describeRepo_exports,{toKnownErr:()=>toKnownErr22});function toKnownErr22(et){return et}var getRecord_exports2={};__export(getRecord_exports2,{toKnownErr:()=>toKnownErr23});function toKnownErr23(et){return et}var listRecords_exports={};__export(listRecords_exports,{isRecord:()=>isRecord,toKnownErr:()=>toKnownErr24,validateRecord:()=>validateRecord});function toKnownErr24(et){return et}function isRecord(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.repo.listRecords#record"}function validateRecord(et){return lexicons.validate("com.atproto.repo.listRecords#record",et)}var putRecord_exports={};__export(putRecord_exports,{InvalidSwapError:()=>InvalidSwapError4,toKnownErr:()=>toKnownErr25});var InvalidSwapError4=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr25(et){return et instanceof XRPCError&&et.error==="InvalidSwap"?new InvalidSwapError4(et):et}var uploadBlob_exports={};__export(uploadBlob_exports,{toKnownErr:()=>toKnownErr26});function toKnownErr26(et){return et}var createAccount_exports={};__export(createAccount_exports,{HandleNotAvailableError:()=>HandleNotAvailableError,InvalidHandleError:()=>InvalidHandleError2,InvalidInviteCodeError:()=>InvalidInviteCodeError,InvalidPasswordError:()=>InvalidPasswordError,UnsupportedDomainError:()=>UnsupportedDomainError,toKnownErr:()=>toKnownErr27});var InvalidHandleError2=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}},InvalidPasswordError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}},InvalidInviteCodeError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}},HandleNotAvailableError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}},UnsupportedDomainError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr27(et){if(et instanceof XRPCError){if(et.error==="InvalidHandle")return new InvalidHandleError2(et);if(et.error==="InvalidPassword")return new InvalidPasswordError(et);if(et.error==="InvalidInviteCode")return new InvalidInviteCodeError(et);if(et.error==="HandleNotAvailable")return new HandleNotAvailableError(et);if(et.error==="UnsupportedDomain")return new UnsupportedDomainError(et)}return et}var createAppPassword_exports={};__export(createAppPassword_exports,{AccountTakedownError:()=>AccountTakedownError,isAppPassword:()=>isAppPassword,toKnownErr:()=>toKnownErr28,validateAppPassword:()=>validateAppPassword});var AccountTakedownError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr28(et){return et instanceof XRPCError&&et.error==="AccountTakedown"?new AccountTakedownError(et):et}function isAppPassword(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.server.createAppPassword#appPassword"}function validateAppPassword(et){return lexicons.validate("com.atproto.server.createAppPassword#appPassword",et)}var createInviteCode_exports={};__export(createInviteCode_exports,{toKnownErr:()=>toKnownErr29});function toKnownErr29(et){return et}var createInviteCodes_exports={};__export(createInviteCodes_exports,{isAccountCodes:()=>isAccountCodes,toKnownErr:()=>toKnownErr30,validateAccountCodes:()=>validateAccountCodes});function toKnownErr30(et){return et}function isAccountCodes(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.server.createInviteCodes#accountCodes"}function validateAccountCodes(et){return lexicons.validate("com.atproto.server.createInviteCodes#accountCodes",et)}var createSession_exports={};__export(createSession_exports,{AccountTakedownError:()=>AccountTakedownError2,toKnownErr:()=>toKnownErr31});var AccountTakedownError2=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr31(et){return et instanceof XRPCError&&et.error==="AccountTakedown"?new AccountTakedownError2(et):et}var deleteAccount_exports={};__export(deleteAccount_exports,{ExpiredTokenError:()=>ExpiredTokenError,InvalidTokenError:()=>InvalidTokenError,toKnownErr:()=>toKnownErr32});var ExpiredTokenError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}},InvalidTokenError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr32(et){if(et instanceof XRPCError){if(et.error==="ExpiredToken")return new ExpiredTokenError(et);if(et.error==="InvalidToken")return new InvalidTokenError(et)}return et}var deleteSession_exports={};__export(deleteSession_exports,{toKnownErr:()=>toKnownErr33});function toKnownErr33(et){return et}var describeServer_exports={};__export(describeServer_exports,{isLinks:()=>isLinks,toKnownErr:()=>toKnownErr34,validateLinks:()=>validateLinks});function toKnownErr34(et){return et}function isLinks(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.server.describeServer#links"}function validateLinks(et){return lexicons.validate("com.atproto.server.describeServer#links",et)}var getAccountInviteCodes_exports={};__export(getAccountInviteCodes_exports,{DuplicateCreateError:()=>DuplicateCreateError,toKnownErr:()=>toKnownErr35});var DuplicateCreateError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr35(et){return et instanceof XRPCError&&et.error==="DuplicateCreate"?new DuplicateCreateError(et):et}var getSession_exports={};__export(getSession_exports,{toKnownErr:()=>toKnownErr36});function toKnownErr36(et){return et}var listAppPasswords_exports={};__export(listAppPasswords_exports,{AccountTakedownError:()=>AccountTakedownError3,isAppPassword:()=>isAppPassword2,toKnownErr:()=>toKnownErr37,validateAppPassword:()=>validateAppPassword2});var AccountTakedownError3=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr37(et){return et instanceof XRPCError&&et.error==="AccountTakedown"?new AccountTakedownError3(et):et}function isAppPassword2(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.server.listAppPasswords#appPassword"}function validateAppPassword2(et){return lexicons.validate("com.atproto.server.listAppPasswords#appPassword",et)}var refreshSession_exports={};__export(refreshSession_exports,{AccountTakedownError:()=>AccountTakedownError4,toKnownErr:()=>toKnownErr38});var AccountTakedownError4=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr38(et){return et instanceof XRPCError&&et.error==="AccountTakedown"?new AccountTakedownError4(et):et}var requestAccountDelete_exports={};__export(requestAccountDelete_exports,{toKnownErr:()=>toKnownErr39});function toKnownErr39(et){return et}var requestPasswordReset_exports={};__export(requestPasswordReset_exports,{toKnownErr:()=>toKnownErr40});function toKnownErr40(et){return et}var resetPassword_exports={};__export(resetPassword_exports,{ExpiredTokenError:()=>ExpiredTokenError2,InvalidTokenError:()=>InvalidTokenError2,toKnownErr:()=>toKnownErr41});var ExpiredTokenError2=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}},InvalidTokenError2=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr41(et){if(et instanceof XRPCError){if(et.error==="ExpiredToken")return new ExpiredTokenError2(et);if(et.error==="InvalidToken")return new InvalidTokenError2(et)}return et}var revokeAppPassword_exports={};__export(revokeAppPassword_exports,{toKnownErr:()=>toKnownErr42});function toKnownErr42(et){return et}var getBlob_exports={};__export(getBlob_exports,{toKnownErr:()=>toKnownErr43});function toKnownErr43(et){return et}var getBlocks_exports={};__export(getBlocks_exports,{toKnownErr:()=>toKnownErr44});function toKnownErr44(et){return et}var getCheckout_exports={};__export(getCheckout_exports,{toKnownErr:()=>toKnownErr45});function toKnownErr45(et){return et}var getCommitPath_exports={};__export(getCommitPath_exports,{toKnownErr:()=>toKnownErr46});function toKnownErr46(et){return et}var getHead_exports={};__export(getHead_exports,{toKnownErr:()=>toKnownErr47});function toKnownErr47(et){return et}var getRecord_exports3={};__export(getRecord_exports3,{toKnownErr:()=>toKnownErr48});function toKnownErr48(et){return et}var getRepo_exports2={};__export(getRepo_exports2,{toKnownErr:()=>toKnownErr49});function toKnownErr49(et){return et}var listBlobs_exports={};__export(listBlobs_exports,{toKnownErr:()=>toKnownErr50});function toKnownErr50(et){return et}var listRepos_exports={};__export(listRepos_exports,{isRepo:()=>isRepo,toKnownErr:()=>toKnownErr51,validateRepo:()=>validateRepo});function toKnownErr51(et){return et}function isRepo(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.sync.listRepos#repo"}function validateRepo(et){return lexicons.validate("com.atproto.sync.listRepos#repo",et)}var notifyOfUpdate_exports={};__export(notifyOfUpdate_exports,{toKnownErr:()=>toKnownErr52});function toKnownErr52(et){return et}var requestCrawl_exports={};__export(requestCrawl_exports,{toKnownErr:()=>toKnownErr53});function toKnownErr53(et){return et}var getProfile_exports={};__export(getProfile_exports,{toKnownErr:()=>toKnownErr54});function toKnownErr54(et){return et}var getProfiles_exports={};__export(getProfiles_exports,{toKnownErr:()=>toKnownErr55});function toKnownErr55(et){return et}var getSuggestions_exports={};__export(getSuggestions_exports,{toKnownErr:()=>toKnownErr56});function toKnownErr56(et){return et}var searchActors_exports={};__export(searchActors_exports,{toKnownErr:()=>toKnownErr57});function toKnownErr57(et){return et}var searchActorsTypeahead_exports={};__export(searchActorsTypeahead_exports,{toKnownErr:()=>toKnownErr58});function toKnownErr58(et){return et}var getAuthorFeed_exports={};__export(getAuthorFeed_exports,{BlockedActorError:()=>BlockedActorError,BlockedByActorError:()=>BlockedByActorError,toKnownErr:()=>toKnownErr59});var BlockedActorError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}},BlockedByActorError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr59(et){if(et instanceof XRPCError){if(et.error==="BlockedActor")return new BlockedActorError(et);if(et.error==="BlockedByActor")return new BlockedByActorError(et)}return et}var getLikes_exports={};__export(getLikes_exports,{isLike:()=>isLike,toKnownErr:()=>toKnownErr60,validateLike:()=>validateLike});function toKnownErr60(et){return et}function isLike(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.getLikes#like"}function validateLike(et){return lexicons.validate("app.bsky.feed.getLikes#like",et)}var getPostThread_exports={};__export(getPostThread_exports,{NotFoundError:()=>NotFoundError,toKnownErr:()=>toKnownErr61});var NotFoundError=class extends XRPCError{constructor(et){super(et.status,et.error,et.message)}};function toKnownErr61(et){return et instanceof XRPCError&&et.error==="NotFound"?new NotFoundError(et):et}var getPosts_exports={};__export(getPosts_exports,{toKnownErr:()=>toKnownErr62});function toKnownErr62(et){return et}var getRepostedBy_exports={};__export(getRepostedBy_exports,{toKnownErr:()=>toKnownErr63});function toKnownErr63(et){return et}var getTimeline_exports={};__export(getTimeline_exports,{toKnownErr:()=>toKnownErr64});function toKnownErr64(et){return et}var getBlocks_exports2={};__export(getBlocks_exports2,{toKnownErr:()=>toKnownErr65});function toKnownErr65(et){return et}var getFollowers_exports={};__export(getFollowers_exports,{toKnownErr:()=>toKnownErr66});function toKnownErr66(et){return et}var getFollows_exports={};__export(getFollows_exports,{toKnownErr:()=>toKnownErr67});function toKnownErr67(et){return et}var getMutes_exports={};__export(getMutes_exports,{toKnownErr:()=>toKnownErr68});function toKnownErr68(et){return et}var muteActor_exports={};__export(muteActor_exports,{toKnownErr:()=>toKnownErr69});function toKnownErr69(et){return et}var unmuteActor_exports={};__export(unmuteActor_exports,{toKnownErr:()=>toKnownErr70});function toKnownErr70(et){return et}var getUnreadCount_exports={};__export(getUnreadCount_exports,{toKnownErr:()=>toKnownErr71});function toKnownErr71(et){return et}var listNotifications_exports={};__export(listNotifications_exports,{isNotification:()=>isNotification,toKnownErr:()=>toKnownErr72,validateNotification:()=>validateNotification});function toKnownErr72(et){return et}function isNotification(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.notification.listNotifications#notification"}function validateNotification(et){return lexicons.validate("app.bsky.notification.listNotifications#notification",et)}var updateSeen_exports={};__export(updateSeen_exports,{toKnownErr:()=>toKnownErr73});function toKnownErr73(et){return et}var getPopular_exports={};__export(getPopular_exports,{toKnownErr:()=>toKnownErr74});function toKnownErr74(et){return et}var defs_exports={};__export(defs_exports,{ACKNOWLEDGE:()=>ACKNOWLEDGE,FLAG:()=>FLAG,TAKEDOWN:()=>TAKEDOWN,isActionReversal:()=>isActionReversal,isActionView:()=>isActionView,isActionViewCurrent:()=>isActionViewCurrent,isActionViewDetail:()=>isActionViewDetail,isBlobView:()=>isBlobView,isImageDetails:()=>isImageDetails,isModeration:()=>isModeration,isModerationDetail:()=>isModerationDetail,isRecordView:()=>isRecordView,isRecordViewDetail:()=>isRecordViewDetail,isRepoRef:()=>isRepoRef,isRepoView:()=>isRepoView,isRepoViewDetail:()=>isRepoViewDetail,isReportView:()=>isReportView,isReportViewDetail:()=>isReportViewDetail,isVideoDetails:()=>isVideoDetails,validateActionReversal:()=>validateActionReversal,validateActionView:()=>validateActionView,validateActionViewCurrent:()=>validateActionViewCurrent,validateActionViewDetail:()=>validateActionViewDetail,validateBlobView:()=>validateBlobView,validateImageDetails:()=>validateImageDetails,validateModeration:()=>validateModeration,validateModerationDetail:()=>validateModerationDetail,validateRecordView:()=>validateRecordView,validateRecordViewDetail:()=>validateRecordViewDetail,validateRepoRef:()=>validateRepoRef,validateRepoView:()=>validateRepoView,validateRepoViewDetail:()=>validateRepoViewDetail,validateReportView:()=>validateReportView,validateReportViewDetail:()=>validateReportViewDetail,validateVideoDetails:()=>validateVideoDetails});function isActionView(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#actionView"}function validateActionView(et){return lexicons.validate("com.atproto.admin.defs#actionView",et)}function isActionViewDetail(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#actionViewDetail"}function validateActionViewDetail(et){return lexicons.validate("com.atproto.admin.defs#actionViewDetail",et)}function isActionViewCurrent(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#actionViewCurrent"}function validateActionViewCurrent(et){return lexicons.validate("com.atproto.admin.defs#actionViewCurrent",et)}function isActionReversal(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#actionReversal"}function validateActionReversal(et){return lexicons.validate("com.atproto.admin.defs#actionReversal",et)}var TAKEDOWN="com.atproto.admin.defs#takedown",FLAG="com.atproto.admin.defs#flag",ACKNOWLEDGE="com.atproto.admin.defs#acknowledge";function isReportView(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#reportView"}function validateReportView(et){return lexicons.validate("com.atproto.admin.defs#reportView",et)}function isReportViewDetail(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#reportViewDetail"}function validateReportViewDetail(et){return lexicons.validate("com.atproto.admin.defs#reportViewDetail",et)}function isRepoView(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#repoView"}function validateRepoView(et){return lexicons.validate("com.atproto.admin.defs#repoView",et)}function isRepoViewDetail(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#repoViewDetail"}function validateRepoViewDetail(et){return lexicons.validate("com.atproto.admin.defs#repoViewDetail",et)}function isRepoRef(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#repoRef"}function validateRepoRef(et){return lexicons.validate("com.atproto.admin.defs#repoRef",et)}function isRecordView(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#recordView"}function validateRecordView(et){return lexicons.validate("com.atproto.admin.defs#recordView",et)}function isRecordViewDetail(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#recordViewDetail"}function validateRecordViewDetail(et){return lexicons.validate("com.atproto.admin.defs#recordViewDetail",et)}function isModeration(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#moderation"}function validateModeration(et){return lexicons.validate("com.atproto.admin.defs#moderation",et)}function isModerationDetail(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#moderationDetail"}function validateModerationDetail(et){return lexicons.validate("com.atproto.admin.defs#moderationDetail",et)}function isBlobView(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#blobView"}function validateBlobView(et){return lexicons.validate("com.atproto.admin.defs#blobView",et)}function isImageDetails(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#imageDetails"}function validateImageDetails(et){return lexicons.validate("com.atproto.admin.defs#imageDetails",et)}function isVideoDetails(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.admin.defs#videoDetails"}function validateVideoDetails(et){return lexicons.validate("com.atproto.admin.defs#videoDetails",et)}var defs_exports2={};__export(defs_exports2,{isLabel:()=>isLabel,validateLabel:()=>validateLabel});function isLabel(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.label.defs#label"}function validateLabel(et){return lexicons.validate("com.atproto.label.defs#label",et)}var subscribeLabels_exports={};__export(subscribeLabels_exports,{isInfo:()=>isInfo,isLabels:()=>isLabels,validateInfo:()=>validateInfo,validateLabels:()=>validateLabels});function isLabels(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.label.subscribeLabels#labels"}function validateLabels(et){return lexicons.validate("com.atproto.label.subscribeLabels#labels",et)}function isInfo(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.label.subscribeLabels#info"}function validateInfo(et){return lexicons.validate("com.atproto.label.subscribeLabels#info",et)}var defs_exports3={};__export(defs_exports3,{REASONMISLEADING:()=>REASONMISLEADING,REASONOTHER:()=>REASONOTHER,REASONRUDE:()=>REASONRUDE,REASONSEXUAL:()=>REASONSEXUAL,REASONSPAM:()=>REASONSPAM,REASONVIOLATION:()=>REASONVIOLATION});var REASONSPAM="com.atproto.moderation.defs#reasonSpam",REASONVIOLATION="com.atproto.moderation.defs#reasonViolation",REASONMISLEADING="com.atproto.moderation.defs#reasonMisleading",REASONSEXUAL="com.atproto.moderation.defs#reasonSexual",REASONRUDE="com.atproto.moderation.defs#reasonRude",REASONOTHER="com.atproto.moderation.defs#reasonOther",strongRef_exports={};__export(strongRef_exports,{isMain:()=>isMain,validateMain:()=>validateMain});function isMain(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="com.atproto.repo.strongRef#main"||et.$type==="com.atproto.repo.strongRef")}function validateMain(et){return lexicons.validate("com.atproto.repo.strongRef#main",et)}var defs_exports4={};__export(defs_exports4,{isInviteCode:()=>isInviteCode,isInviteCodeUse:()=>isInviteCodeUse,validateInviteCode:()=>validateInviteCode,validateInviteCodeUse:()=>validateInviteCodeUse});function isInviteCode(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.server.defs#inviteCode"}function validateInviteCode(et){return lexicons.validate("com.atproto.server.defs#inviteCode",et)}function isInviteCodeUse(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.server.defs#inviteCodeUse"}function validateInviteCodeUse(et){return lexicons.validate("com.atproto.server.defs#inviteCodeUse",et)}var subscribeRepos_exports={};__export(subscribeRepos_exports,{isCommit:()=>isCommit,isHandle:()=>isHandle,isInfo:()=>isInfo2,isMigrate:()=>isMigrate,isRepoOp:()=>isRepoOp,isTombstone:()=>isTombstone,validateCommit:()=>validateCommit,validateHandle:()=>validateHandle,validateInfo:()=>validateInfo2,validateMigrate:()=>validateMigrate,validateRepoOp:()=>validateRepoOp,validateTombstone:()=>validateTombstone});function isCommit(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.sync.subscribeRepos#commit"}function validateCommit(et){return lexicons.validate("com.atproto.sync.subscribeRepos#commit",et)}function isHandle(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.sync.subscribeRepos#handle"}function validateHandle(et){return lexicons.validate("com.atproto.sync.subscribeRepos#handle",et)}function isMigrate(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.sync.subscribeRepos#migrate"}function validateMigrate(et){return lexicons.validate("com.atproto.sync.subscribeRepos#migrate",et)}function isTombstone(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.sync.subscribeRepos#tombstone"}function validateTombstone(et){return lexicons.validate("com.atproto.sync.subscribeRepos#tombstone",et)}function isInfo2(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.sync.subscribeRepos#info"}function validateInfo2(et){return lexicons.validate("com.atproto.sync.subscribeRepos#info",et)}function isRepoOp(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="com.atproto.sync.subscribeRepos#repoOp"}function validateRepoOp(et){return lexicons.validate("com.atproto.sync.subscribeRepos#repoOp",et)}var defs_exports5={};__export(defs_exports5,{isProfileView:()=>isProfileView,isProfileViewBasic:()=>isProfileViewBasic,isProfileViewDetailed:()=>isProfileViewDetailed,isViewerState:()=>isViewerState,validateProfileView:()=>validateProfileView,validateProfileViewBasic:()=>validateProfileViewBasic,validateProfileViewDetailed:()=>validateProfileViewDetailed,validateViewerState:()=>validateViewerState});function isProfileViewBasic(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.actor.defs#profileViewBasic"}function validateProfileViewBasic(et){return lexicons.validate("app.bsky.actor.defs#profileViewBasic",et)}function isProfileView(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.actor.defs#profileView"}function validateProfileView(et){return lexicons.validate("app.bsky.actor.defs#profileView",et)}function isProfileViewDetailed(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.actor.defs#profileViewDetailed"}function validateProfileViewDetailed(et){return lexicons.validate("app.bsky.actor.defs#profileViewDetailed",et)}function isViewerState(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.actor.defs#viewerState"}function validateViewerState(et){return lexicons.validate("app.bsky.actor.defs#viewerState",et)}var profile_exports={};__export(profile_exports,{isRecord:()=>isRecord2,validateRecord:()=>validateRecord2});function isRecord2(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.actor.profile#main"||et.$type==="app.bsky.actor.profile")}function validateRecord2(et){return lexicons.validate("app.bsky.actor.profile#main",et)}var external_exports={};__export(external_exports,{isExternal:()=>isExternal,isMain:()=>isMain2,isView:()=>isView,isViewExternal:()=>isViewExternal,validateExternal:()=>validateExternal,validateMain:()=>validateMain2,validateView:()=>validateView,validateViewExternal:()=>validateViewExternal});function isMain2(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.embed.external#main"||et.$type==="app.bsky.embed.external")}function validateMain2(et){return lexicons.validate("app.bsky.embed.external#main",et)}function isExternal(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.external#external"}function validateExternal(et){return lexicons.validate("app.bsky.embed.external#external",et)}function isView(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.external#view"}function validateView(et){return lexicons.validate("app.bsky.embed.external#view",et)}function isViewExternal(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.external#viewExternal"}function validateViewExternal(et){return lexicons.validate("app.bsky.embed.external#viewExternal",et)}var images_exports={};__export(images_exports,{isImage:()=>isImage,isMain:()=>isMain3,isView:()=>isView2,isViewImage:()=>isViewImage,validateImage:()=>validateImage,validateMain:()=>validateMain3,validateView:()=>validateView2,validateViewImage:()=>validateViewImage});function isMain3(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.embed.images#main"||et.$type==="app.bsky.embed.images")}function validateMain3(et){return lexicons.validate("app.bsky.embed.images#main",et)}function isImage(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.images#image"}function validateImage(et){return lexicons.validate("app.bsky.embed.images#image",et)}function isView2(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.images#view"}function validateView2(et){return lexicons.validate("app.bsky.embed.images#view",et)}function isViewImage(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.images#viewImage"}function validateViewImage(et){return lexicons.validate("app.bsky.embed.images#viewImage",et)}var record_exports={};__export(record_exports,{isMain:()=>isMain4,isView:()=>isView3,isViewBlocked:()=>isViewBlocked,isViewNotFound:()=>isViewNotFound,isViewRecord:()=>isViewRecord,validateMain:()=>validateMain4,validateView:()=>validateView3,validateViewBlocked:()=>validateViewBlocked,validateViewNotFound:()=>validateViewNotFound,validateViewRecord:()=>validateViewRecord});function isMain4(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.embed.record#main"||et.$type==="app.bsky.embed.record")}function validateMain4(et){return lexicons.validate("app.bsky.embed.record#main",et)}function isView3(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.record#view"}function validateView3(et){return lexicons.validate("app.bsky.embed.record#view",et)}function isViewRecord(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.record#viewRecord"}function validateViewRecord(et){return lexicons.validate("app.bsky.embed.record#viewRecord",et)}function isViewNotFound(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.record#viewNotFound"}function validateViewNotFound(et){return lexicons.validate("app.bsky.embed.record#viewNotFound",et)}function isViewBlocked(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.record#viewBlocked"}function validateViewBlocked(et){return lexicons.validate("app.bsky.embed.record#viewBlocked",et)}var recordWithMedia_exports={};__export(recordWithMedia_exports,{isMain:()=>isMain5,isView:()=>isView4,validateMain:()=>validateMain5,validateView:()=>validateView4});function isMain5(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.embed.recordWithMedia#main"||et.$type==="app.bsky.embed.recordWithMedia")}function validateMain5(et){return lexicons.validate("app.bsky.embed.recordWithMedia#main",et)}function isView4(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.embed.recordWithMedia#view"}function validateView4(et){return lexicons.validate("app.bsky.embed.recordWithMedia#view",et)}var defs_exports6={};__export(defs_exports6,{isBlockedPost:()=>isBlockedPost,isFeedViewPost:()=>isFeedViewPost,isNotFoundPost:()=>isNotFoundPost,isPostView:()=>isPostView,isReasonRepost:()=>isReasonRepost,isReplyRef:()=>isReplyRef,isThreadViewPost:()=>isThreadViewPost,isViewerState:()=>isViewerState2,validateBlockedPost:()=>validateBlockedPost,validateFeedViewPost:()=>validateFeedViewPost,validateNotFoundPost:()=>validateNotFoundPost,validatePostView:()=>validatePostView,validateReasonRepost:()=>validateReasonRepost,validateReplyRef:()=>validateReplyRef,validateThreadViewPost:()=>validateThreadViewPost,validateViewerState:()=>validateViewerState2});function isPostView(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.defs#postView"}function validatePostView(et){return lexicons.validate("app.bsky.feed.defs#postView",et)}function isViewerState2(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.defs#viewerState"}function validateViewerState2(et){return lexicons.validate("app.bsky.feed.defs#viewerState",et)}function isFeedViewPost(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.defs#feedViewPost"}function validateFeedViewPost(et){return lexicons.validate("app.bsky.feed.defs#feedViewPost",et)}function isReplyRef(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.defs#replyRef"}function validateReplyRef(et){return lexicons.validate("app.bsky.feed.defs#replyRef",et)}function isReasonRepost(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.defs#reasonRepost"}function validateReasonRepost(et){return lexicons.validate("app.bsky.feed.defs#reasonRepost",et)}function isThreadViewPost(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.defs#threadViewPost"}function validateThreadViewPost(et){return lexicons.validate("app.bsky.feed.defs#threadViewPost",et)}function isNotFoundPost(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.defs#notFoundPost"}function validateNotFoundPost(et){return lexicons.validate("app.bsky.feed.defs#notFoundPost",et)}function isBlockedPost(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.defs#blockedPost"}function validateBlockedPost(et){return lexicons.validate("app.bsky.feed.defs#blockedPost",et)}var like_exports={};__export(like_exports,{isRecord:()=>isRecord3,validateRecord:()=>validateRecord3});function isRecord3(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.feed.like#main"||et.$type==="app.bsky.feed.like")}function validateRecord3(et){return lexicons.validate("app.bsky.feed.like#main",et)}var post_exports={};__export(post_exports,{isEntity:()=>isEntity,isRecord:()=>isRecord4,isReplyRef:()=>isReplyRef2,isTextSlice:()=>isTextSlice,validateEntity:()=>validateEntity,validateRecord:()=>validateRecord4,validateReplyRef:()=>validateReplyRef2,validateTextSlice:()=>validateTextSlice});function isRecord4(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.feed.post#main"||et.$type==="app.bsky.feed.post")}function validateRecord4(et){return lexicons.validate("app.bsky.feed.post#main",et)}function isReplyRef2(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.post#replyRef"}function validateReplyRef2(et){return lexicons.validate("app.bsky.feed.post#replyRef",et)}function isEntity(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.post#entity"}function validateEntity(et){return lexicons.validate("app.bsky.feed.post#entity",et)}function isTextSlice(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.feed.post#textSlice"}function validateTextSlice(et){return lexicons.validate("app.bsky.feed.post#textSlice",et)}var repost_exports={};__export(repost_exports,{isRecord:()=>isRecord5,validateRecord:()=>validateRecord5});function isRecord5(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.feed.repost#main"||et.$type==="app.bsky.feed.repost")}function validateRecord5(et){return lexicons.validate("app.bsky.feed.repost#main",et)}var block_exports={};__export(block_exports,{isRecord:()=>isRecord6,validateRecord:()=>validateRecord6});function isRecord6(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.graph.block#main"||et.$type==="app.bsky.graph.block")}function validateRecord6(et){return lexicons.validate("app.bsky.graph.block#main",et)}var follow_exports={};__export(follow_exports,{isRecord:()=>isRecord7,validateRecord:()=>validateRecord7});function isRecord7(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.graph.follow#main"||et.$type==="app.bsky.graph.follow")}function validateRecord7(et){return lexicons.validate("app.bsky.graph.follow#main",et)}var facet_exports={};__export(facet_exports,{isByteSlice:()=>isByteSlice,isLink:()=>isLink,isMain:()=>isMain6,isMention:()=>isMention,validateByteSlice:()=>validateByteSlice,validateLink:()=>validateLink,validateMain:()=>validateMain6,validateMention:()=>validateMention});function isMain6(et){return isObj2(et)&&hasProp2(et,"$type")&&(et.$type==="app.bsky.richtext.facet#main"||et.$type==="app.bsky.richtext.facet")}function validateMain6(et){return lexicons.validate("app.bsky.richtext.facet#main",et)}function isMention(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.richtext.facet#mention"}function validateMention(et){return lexicons.validate("app.bsky.richtext.facet#mention",et)}function isLink(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.richtext.facet#link"}function validateLink(et){return lexicons.validate("app.bsky.richtext.facet#link",et)}function isByteSlice(et){return isObj2(et)&&hasProp2(et,"$type")&&et.$type==="app.bsky.richtext.facet#byteSlice"}function validateByteSlice(et){return lexicons.validate("app.bsky.richtext.facet#byteSlice",et)}var COM_ATPROTO_ADMIN={DefsTakedown:"com.atproto.admin.defs#takedown",DefsFlag:"com.atproto.admin.defs#flag",DefsAcknowledge:"com.atproto.admin.defs#acknowledge"},COM_ATPROTO_MODERATION={DefsReasonSpam:"com.atproto.moderation.defs#reasonSpam",DefsReasonViolation:"com.atproto.moderation.defs#reasonViolation",DefsReasonMisleading:"com.atproto.moderation.defs#reasonMisleading",DefsReasonSexual:"com.atproto.moderation.defs#reasonSexual",DefsReasonRude:"com.atproto.moderation.defs#reasonRude",DefsReasonOther:"com.atproto.moderation.defs#reasonOther"},AtpBaseClient=class{constructor(){this.xrpc=new Client,this.xrpc.addLexicons(schemas)}service(et){return new AtpServiceClient(this,this.xrpc.service(et))}},AtpServiceClient=class{constructor(et,_e){this._baseClient=et,this.xrpc=_e,this.com=new ComNS(this),this.app=new AppNS(this)}setHeader(et,_e){this.xrpc.setHeader(et,_e)}},ComNS=class{constructor(et){this._service=et,this.atproto=new AtprotoNS(et)}},AtprotoNS=class{constructor(et){this._service=et,this.admin=new AdminNS(et),this.identity=new IdentityNS(et),this.label=new LabelNS(et),this.moderation=new ModerationNS(et),this.repo=new RepoNS(et),this.server=new ServerNS(et),this.sync=new SyncNS(et)}},AdminNS=class{constructor(et){this._service=et}disableInviteCodes(et,_e){return this._service.xrpc.call("com.atproto.admin.disableInviteCodes",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}getInviteCodes(et,_e){return this._service.xrpc.call("com.atproto.admin.getInviteCodes",et,void 0,_e).catch(rt=>{throw rt})}getModerationAction(et,_e){return this._service.xrpc.call("com.atproto.admin.getModerationAction",et,void 0,_e).catch(rt=>{throw rt})}getModerationActions(et,_e){return this._service.xrpc.call("com.atproto.admin.getModerationActions",et,void 0,_e).catch(rt=>{throw rt})}getModerationReport(et,_e){return this._service.xrpc.call("com.atproto.admin.getModerationReport",et,void 0,_e).catch(rt=>{throw rt})}getModerationReports(et,_e){return this._service.xrpc.call("com.atproto.admin.getModerationReports",et,void 0,_e).catch(rt=>{throw rt})}getRecord(et,_e){return this._service.xrpc.call("com.atproto.admin.getRecord",et,void 0,_e).catch(rt=>{throw rt})}getRepo(et,_e){return this._service.xrpc.call("com.atproto.admin.getRepo",et,void 0,_e).catch(rt=>{throw rt})}resolveModerationReports(et,_e){return this._service.xrpc.call("com.atproto.admin.resolveModerationReports",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}reverseModerationAction(et,_e){return this._service.xrpc.call("com.atproto.admin.reverseModerationAction",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}searchRepos(et,_e){return this._service.xrpc.call("com.atproto.admin.searchRepos",et,void 0,_e).catch(rt=>{throw rt})}takeModerationAction(et,_e){return this._service.xrpc.call("com.atproto.admin.takeModerationAction",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr12(rt)})}updateAccountEmail(et,_e){return this._service.xrpc.call("com.atproto.admin.updateAccountEmail",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}updateAccountHandle(et,_e){return this._service.xrpc.call("com.atproto.admin.updateAccountHandle",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}},IdentityNS=class{constructor(et){this._service=et}resolveHandle(et,_e){return this._service.xrpc.call("com.atproto.identity.resolveHandle",et,void 0,_e).catch(rt=>{throw rt})}updateHandle(et,_e){return this._service.xrpc.call("com.atproto.identity.updateHandle",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}},LabelNS=class{constructor(et){this._service=et}queryLabels(et,_e){return this._service.xrpc.call("com.atproto.label.queryLabels",et,void 0,_e).catch(rt=>{throw rt})}},ModerationNS=class{constructor(et){this._service=et}createReport(et,_e){return this._service.xrpc.call("com.atproto.moderation.createReport",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}},RepoNS=class{constructor(et){this._service=et}applyWrites(et,_e){return this._service.xrpc.call("com.atproto.repo.applyWrites",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr19(rt)})}createRecord(et,_e){return this._service.xrpc.call("com.atproto.repo.createRecord",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr20(rt)})}deleteRecord(et,_e){return this._service.xrpc.call("com.atproto.repo.deleteRecord",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr21(rt)})}describeRepo(et,_e){return this._service.xrpc.call("com.atproto.repo.describeRepo",et,void 0,_e).catch(rt=>{throw rt})}getRecord(et,_e){return this._service.xrpc.call("com.atproto.repo.getRecord",et,void 0,_e).catch(rt=>{throw rt})}listRecords(et,_e){return this._service.xrpc.call("com.atproto.repo.listRecords",et,void 0,_e).catch(rt=>{throw rt})}putRecord(et,_e){return this._service.xrpc.call("com.atproto.repo.putRecord",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr25(rt)})}uploadBlob(et,_e){return this._service.xrpc.call("com.atproto.repo.uploadBlob",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}},ServerNS=class{constructor(et){this._service=et}createAccount(et,_e){return this._service.xrpc.call("com.atproto.server.createAccount",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr27(rt)})}createAppPassword(et,_e){return this._service.xrpc.call("com.atproto.server.createAppPassword",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr28(rt)})}createInviteCode(et,_e){return this._service.xrpc.call("com.atproto.server.createInviteCode",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}createInviteCodes(et,_e){return this._service.xrpc.call("com.atproto.server.createInviteCodes",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}createSession(et,_e){return this._service.xrpc.call("com.atproto.server.createSession",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr31(rt)})}deleteAccount(et,_e){return this._service.xrpc.call("com.atproto.server.deleteAccount",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr32(rt)})}deleteSession(et,_e){return this._service.xrpc.call("com.atproto.server.deleteSession",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}describeServer(et,_e){return this._service.xrpc.call("com.atproto.server.describeServer",et,void 0,_e).catch(rt=>{throw rt})}getAccountInviteCodes(et,_e){return this._service.xrpc.call("com.atproto.server.getAccountInviteCodes",et,void 0,_e).catch(rt=>{throw toKnownErr35(rt)})}getSession(et,_e){return this._service.xrpc.call("com.atproto.server.getSession",et,void 0,_e).catch(rt=>{throw rt})}listAppPasswords(et,_e){return this._service.xrpc.call("com.atproto.server.listAppPasswords",et,void 0,_e).catch(rt=>{throw toKnownErr37(rt)})}refreshSession(et,_e){return this._service.xrpc.call("com.atproto.server.refreshSession",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr38(rt)})}requestAccountDelete(et,_e){return this._service.xrpc.call("com.atproto.server.requestAccountDelete",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}requestPasswordReset(et,_e){return this._service.xrpc.call("com.atproto.server.requestPasswordReset",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}resetPassword(et,_e){return this._service.xrpc.call("com.atproto.server.resetPassword",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw toKnownErr41(rt)})}revokeAppPassword(et,_e){return this._service.xrpc.call("com.atproto.server.revokeAppPassword",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}},SyncNS=class{constructor(et){this._service=et}getBlob(et,_e){return this._service.xrpc.call("com.atproto.sync.getBlob",et,void 0,_e).catch(rt=>{throw rt})}getBlocks(et,_e){return this._service.xrpc.call("com.atproto.sync.getBlocks",et,void 0,_e).catch(rt=>{throw rt})}getCheckout(et,_e){return this._service.xrpc.call("com.atproto.sync.getCheckout",et,void 0,_e).catch(rt=>{throw rt})}getCommitPath(et,_e){return this._service.xrpc.call("com.atproto.sync.getCommitPath",et,void 0,_e).catch(rt=>{throw rt})}getHead(et,_e){return this._service.xrpc.call("com.atproto.sync.getHead",et,void 0,_e).catch(rt=>{throw rt})}getRecord(et,_e){return this._service.xrpc.call("com.atproto.sync.getRecord",et,void 0,_e).catch(rt=>{throw rt})}getRepo(et,_e){return this._service.xrpc.call("com.atproto.sync.getRepo",et,void 0,_e).catch(rt=>{throw rt})}listBlobs(et,_e){return this._service.xrpc.call("com.atproto.sync.listBlobs",et,void 0,_e).catch(rt=>{throw rt})}listRepos(et,_e){return this._service.xrpc.call("com.atproto.sync.listRepos",et,void 0,_e).catch(rt=>{throw rt})}notifyOfUpdate(et,_e){return this._service.xrpc.call("com.atproto.sync.notifyOfUpdate",et,void 0,_e).catch(rt=>{throw rt})}requestCrawl(et,_e){return this._service.xrpc.call("com.atproto.sync.requestCrawl",et,void 0,_e).catch(rt=>{throw rt})}},AppNS=class{constructor(et){this._service=et,this.bsky=new BskyNS(et)}},BskyNS=class{constructor(et){this._service=et,this.actor=new ActorNS(et),this.embed=new EmbedNS(et),this.feed=new FeedNS(et),this.graph=new GraphNS(et),this.notification=new NotificationNS(et),this.richtext=new RichtextNS(et),this.unspecced=new UnspeccedNS(et)}},ActorNS=class{constructor(et){this._service=et,this.profile=new ProfileRecord(et)}getProfile(et,_e){return this._service.xrpc.call("app.bsky.actor.getProfile",et,void 0,_e).catch(rt=>{throw rt})}getProfiles(et,_e){return this._service.xrpc.call("app.bsky.actor.getProfiles",et,void 0,_e).catch(rt=>{throw rt})}getSuggestions(et,_e){return this._service.xrpc.call("app.bsky.actor.getSuggestions",et,void 0,_e).catch(rt=>{throw rt})}searchActors(et,_e){return this._service.xrpc.call("app.bsky.actor.searchActors",et,void 0,_e).catch(rt=>{throw rt})}searchActorsTypeahead(et,_e){return this._service.xrpc.call("app.bsky.actor.searchActorsTypeahead",et,void 0,_e).catch(rt=>{throw rt})}},ProfileRecord=class{constructor(et){this._service=et}async list(et){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.actor.profile",...et})).data}async get(et){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.actor.profile",...et})).data}async create(et,_e,rt){return _e.$type="app.bsky.actor.profile",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.actor.profile",rkey:"self",...et,record:_e},{encoding:"application/json",headers:rt})).data}async delete(et,_e){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.actor.profile",...et},{headers:_e})}},EmbedNS=class{constructor(et){this._service=et}},FeedNS=class{constructor(et){this._service=et,this.like=new LikeRecord(et),this.post=new PostRecord(et),this.repost=new RepostRecord(et)}getAuthorFeed(et,_e){return this._service.xrpc.call("app.bsky.feed.getAuthorFeed",et,void 0,_e).catch(rt=>{throw toKnownErr59(rt)})}getLikes(et,_e){return this._service.xrpc.call("app.bsky.feed.getLikes",et,void 0,_e).catch(rt=>{throw rt})}getPostThread(et,_e){return this._service.xrpc.call("app.bsky.feed.getPostThread",et,void 0,_e).catch(rt=>{throw toKnownErr61(rt)})}getPosts(et,_e){return this._service.xrpc.call("app.bsky.feed.getPosts",et,void 0,_e).catch(rt=>{throw rt})}getRepostedBy(et,_e){return this._service.xrpc.call("app.bsky.feed.getRepostedBy",et,void 0,_e).catch(rt=>{throw rt})}getTimeline(et,_e){return this._service.xrpc.call("app.bsky.feed.getTimeline",et,void 0,_e).catch(rt=>{throw rt})}},LikeRecord=class{constructor(et){this._service=et}async list(et){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.feed.like",...et})).data}async get(et){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.feed.like",...et})).data}async create(et,_e,rt){return _e.$type="app.bsky.feed.like",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.feed.like",...et,record:_e},{encoding:"application/json",headers:rt})).data}async delete(et,_e){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.feed.like",...et},{headers:_e})}},PostRecord=class{constructor(et){this._service=et}async list(et){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.feed.post",...et})).data}async get(et){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.feed.post",...et})).data}async create(et,_e,rt){return _e.$type="app.bsky.feed.post",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.feed.post",...et,record:_e},{encoding:"application/json",headers:rt})).data}async delete(et,_e){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.feed.post",...et},{headers:_e})}},RepostRecord=class{constructor(et){this._service=et}async list(et){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.feed.repost",...et})).data}async get(et){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.feed.repost",...et})).data}async create(et,_e,rt){return _e.$type="app.bsky.feed.repost",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.feed.repost",...et,record:_e},{encoding:"application/json",headers:rt})).data}async delete(et,_e){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.feed.repost",...et},{headers:_e})}},GraphNS=class{constructor(et){this._service=et,this.block=new BlockRecord(et),this.follow=new FollowRecord(et)}getBlocks(et,_e){return this._service.xrpc.call("app.bsky.graph.getBlocks",et,void 0,_e).catch(rt=>{throw rt})}getFollowers(et,_e){return this._service.xrpc.call("app.bsky.graph.getFollowers",et,void 0,_e).catch(rt=>{throw rt})}getFollows(et,_e){return this._service.xrpc.call("app.bsky.graph.getFollows",et,void 0,_e).catch(rt=>{throw rt})}getMutes(et,_e){return this._service.xrpc.call("app.bsky.graph.getMutes",et,void 0,_e).catch(rt=>{throw rt})}muteActor(et,_e){return this._service.xrpc.call("app.bsky.graph.muteActor",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}unmuteActor(et,_e){return this._service.xrpc.call("app.bsky.graph.unmuteActor",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}},BlockRecord=class{constructor(et){this._service=et}async list(et){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.graph.block",...et})).data}async get(et){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.graph.block",...et})).data}async create(et,_e,rt){return _e.$type="app.bsky.graph.block",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.graph.block",...et,record:_e},{encoding:"application/json",headers:rt})).data}async delete(et,_e){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.graph.block",...et},{headers:_e})}},FollowRecord=class{constructor(et){this._service=et}async list(et){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.graph.follow",...et})).data}async get(et){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.graph.follow",...et})).data}async create(et,_e,rt){return _e.$type="app.bsky.graph.follow",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.graph.follow",...et,record:_e},{encoding:"application/json",headers:rt})).data}async delete(et,_e){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.graph.follow",...et},{headers:_e})}},NotificationNS=class{constructor(et){this._service=et}getUnreadCount(et,_e){return this._service.xrpc.call("app.bsky.notification.getUnreadCount",et,void 0,_e).catch(rt=>{throw rt})}listNotifications(et,_e){return this._service.xrpc.call("app.bsky.notification.listNotifications",et,void 0,_e).catch(rt=>{throw rt})}updateSeen(et,_e){return this._service.xrpc.call("app.bsky.notification.updateSeen",_e==null?void 0:_e.qp,et,_e).catch(rt=>{throw rt})}},RichtextNS=class{constructor(et){this._service=et}},UnspeccedNS=class{constructor(et){this._service=et}getPopular(et,_e){return this._service.xrpc.call("app.bsky.unspecced.getPopular",et,void 0,_e).catch(rt=>{throw rt})}},REFRESH_SESSION="com.atproto.server.refreshSession",_AtpAgent=class{constructor(et){this.uploadBlob=(_e,rt)=>this.api.com.atproto.repo.uploadBlob(_e,rt),this.resolveHandle=(_e,rt)=>this.api.com.atproto.identity.resolveHandle(_e,rt),this.updateHandle=(_e,rt)=>this.api.com.atproto.identity.updateHandle(_e,rt),this.createModerationReport=(_e,rt)=>this.api.com.atproto.moderation.createReport(_e,rt),this.service=et.service instanceof URL?et.service:new URL(et.service),this._persistSession=et.persistSession,this._baseClient=new AtpBaseClient,this._baseClient.xrpc.fetch=this._fetch.bind(this),this.api=this._baseClient.service(et.service)}get com(){return this.api.com}static configure(et){_AtpAgent.fetch=et.fetch}get hasSession(){return!!this.session}setPersistSessionHandler(et){this._persistSession=et}async createAccount(et){var _e,rt;try{const nt=await this.api.com.atproto.server.createAccount({handle:et.handle,password:et.password,email:et.email,inviteCode:et.inviteCode});return this.session={accessJwt:nt.data.accessJwt,refreshJwt:nt.data.refreshJwt,handle:nt.data.handle,did:nt.data.did,email:et.email},nt}catch(nt){throw this.session=void 0,nt}finally{this.session?(_e=this._persistSession)==null||_e.call(this,"create",this.session):(rt=this._persistSession)==null||rt.call(this,"create-failed",void 0)}}async login(et){var _e,rt;try{const nt=await this.api.com.atproto.server.createSession({identifier:et.identifier,password:et.password});return this.session={accessJwt:nt.data.accessJwt,refreshJwt:nt.data.refreshJwt,handle:nt.data.handle,did:nt.data.did,email:nt.data.email},nt}catch(nt){throw this.session=void 0,nt}finally{this.session?(_e=this._persistSession)==null||_e.call(this,"create",this.session):(rt=this._persistSession)==null||rt.call(this,"create-failed",void 0)}}async resumeSession(et){var _e,rt;try{this.session=et;const nt=await this.api.com.atproto.server.getSession();if(!nt.success||nt.data.did!==this.session.did)throw new Error("Invalid session");return this.session.email=nt.data.email,this.session.handle=nt.data.handle,nt}catch(nt){throw this.session=void 0,nt}finally{this.session?(_e=this._persistSession)==null||_e.call(this,"create",this.session):(rt=this._persistSession)==null||rt.call(this,"create-failed",void 0)}}_addAuthHeader(et){var _e;return!et.authorization&&((_e=this.session)!=null&&_e.accessJwt)?{...et,authorization:`Bearer ${this.session.accessJwt}`}:et}async _fetch(et,_e,rt,nt){var st;if(!_AtpAgent.fetch)throw new Error("AtpAgent fetch() method not configured");await this._refreshSessionPromise;let it=await _AtpAgent.fetch(et,_e,this._addAuthHeader(rt),nt);return isErrorResponse(it,["ExpiredToken"])&&((st=this.session)!=null&&st.refreshJwt)&&(await this._refreshSession(),it=await _AtpAgent.fetch(et,_e,this._addAuthHeader(rt),nt)),it}async _refreshSession(){if(this._refreshSessionPromise)return this._refreshSessionPromise;this._refreshSessionPromise=this._refreshSessionInner();try{await this._refreshSessionPromise}finally{this._refreshSessionPromise=void 0}}async _refreshSessionInner(){var rt,nt,it;if(!_AtpAgent.fetch)throw new Error("AtpAgent fetch() method not configured");if(!((rt=this.session)!=null&&rt.refreshJwt))return;const et=new URL(this.service.origin);et.pathname=`/xrpc/${REFRESH_SESSION}`;const _e=await _AtpAgent.fetch(et.toString(),"POST",{authorization:`Bearer ${this.session.refreshJwt}`},void 0);isErrorResponse(_e,["ExpiredToken","InvalidToken"])?(this.session=void 0,(nt=this._persistSession)==null||nt.call(this,"expired",void 0)):isNewSessionObject(this._baseClient,_e.body)&&(this.session={accessJwt:_e.body.accessJwt,refreshJwt:_e.body.refreshJwt,handle:_e.body.handle,did:_e.body.did},(it=this._persistSession)==null||it.call(this,"update",this.session))}},AtpAgent=_AtpAgent;AtpAgent.fetch=defaultFetchHandler;function isErrorObject(et){return errorResponseBody.safeParse(et).success}function isErrorResponse(et,_e){return et.status!==400||!isErrorObject(et.body)?!1:typeof et.body.error=="string"&&_e.includes(et.body.error)}function isNewSessionObject(et,_e){try{return et.xrpc.lex.assertValidXrpcOutput("com.atproto.server.refreshSession",_e),!0}catch{return!1}}var encoder=new TextEncoder,decoder$1=new TextDecoder,UnicodeString=class{constructor(et){this.utf16=et,this.utf8=encoder.encode(et)}get length(){return this.utf8.byteLength}get graphemeLength(){return this._graphemeLen||(this._graphemeLen=graphemeLen(this.utf16)),this._graphemeLen}slice(et,_e){return decoder$1.decode(this.utf8.slice(et,_e))}utf16IndexToUtf8Index(et){return encoder.encode(this.utf16.slice(0,et)).byteLength}toString(){return this.utf16}},EXCESS_SPACE_RE=/[\r\n]([\u00AD\u2060\u200D\u200C\u200B\s]*[\r\n]){2,}/,REPLACEMENT_STR=`

`;function sanitizeRichText(et,_e){return _e.cleanNewlines&&(et=clean(et,EXCESS_SPACE_RE,REPLACEMENT_STR)),et}function clean(et,_e,rt){et=et.clone();let nt=et.unicodeText.utf16.match(_e);for(;nt&&typeof nt.index<"u";){const it=et.unicodeText,st=et.unicodeText.utf16IndexToUtf8Index(nt.index),ot=st+new UnicodeString(nt[0]).length;if(et.delete(st,ot),et.unicodeText.utf16===it.utf16)break;et.insert(st,rt),nt=et.unicodeText.utf16.match(_e)}return et}var tlds_default=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermögensberater","vermögensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","ελ","ευ","бг","бел","дети","ею","католик","ком","мкд","мон","москва","онлайн","орг","рус","рф","сайт","срб","укр","қаз","հայ","ישראל","קום","ابوظبي","اتصالات","ارامكو","الاردن","البحرين","الجزائر","السعودية","العليان","المغرب","امارات","ایران","بارت","بازار","بيتك","بھارت","تونس","سودان","سورية","شبكة","عراق","عرب","عمان","فلسطين","قطر","كاثوليك","كوم","مصر","مليسيا","موريتانيا","موقع","همراه","پاکستان","ڀارت","कॉम","नेट","भारत","भारतम्","भारोत","संगठन","বাংলা","ভারত","ভাৰত","ਭਾਰਤ","ભારત","ଭାରତ","இந்தியா","இலங்கை","சிங்கப்பூர்","భారత్","ಭಾರತ","ഭാരതം","ලංකා","คอม","ไทย","ລາວ","გე","みんな","アマゾン","クラウド","グーグル","コム","ストア","セール","ファッション","ポイント","世界","中信","中国","中國","中文网","亚马逊","企业","佛山","信息","健康","八卦","公司","公益","台湾","台灣","商城","商店","商标","嘉里","嘉里大酒店","在线","大拿","天主教","娱乐","家電","广东","微博","慈善","我爱你","手机","招聘","政务","政府","新加坡","新闻","时尚","書籍","机构","淡马锡","游戏","澳門","点看","移动","组织机构","网址","网店","网站","网络","联通","谷歌","购物","通販","集团","電訊盈科","飞利浦","食品","餐厅","香格里拉","香港","닷넷","닷컴","삼성","한국"];function detectFacets(et){var nt;let _e;const rt=[];{const it=/(^|\s|\()(@)([a-zA-Z0-9.-]+)(\b)/g;for(;_e=it.exec(et.utf16);){if(!isValidDomain(_e[3])&&!_e[3].endsWith(".test"))continue;const st=et.utf16.indexOf(_e[3],_e.index)-1;rt.push({$type:"app.bsky.richtext.facet",index:{byteStart:et.utf16IndexToUtf8Index(st),byteEnd:et.utf16IndexToUtf8Index(st+_e[3].length+1)},features:[{$type:"app.bsky.richtext.facet#mention",did:_e[3]}]})}}{const it=/(^|\s|\()((https?:\/\/[\S]+)|((?<domain>[a-z][a-z0-9]*(\.[a-z0-9]+)+)[\S]*))/gim;for(;_e=it.exec(et.utf16);){let st=_e[2];if(!st.startsWith("http")){const lt=(nt=_e.groups)==null?void 0:nt.domain;if(!lt||!isValidDomain(lt))continue;st=`https://${st}`}const ot=et.utf16.indexOf(_e[2],_e.index),at={start:ot,end:ot+_e[2].length};/[.,;!?]$/.test(st)&&(st=st.slice(0,-1),at.end--),/[)]$/.test(st)&&!st.includes("(")&&(st=st.slice(0,-1),at.end--),rt.push({index:{byteStart:et.utf16IndexToUtf8Index(at.start),byteEnd:et.utf16IndexToUtf8Index(at.end)},features:[{$type:"app.bsky.richtext.facet#link",uri:st}]})}}return rt.length>0?rt:void 0}function isValidDomain(et){return!!tlds_default.find(_e=>{const rt=et.lastIndexOf(_e);return rt===-1?!1:et.charAt(rt-1)==="."&&rt===et.length-_e.length})}var RichTextSegment=class{constructor(et,_e){this.text=et,this.facet=_e}get link(){var _e;const et=(_e=this.facet)==null?void 0:_e.features.find(facet_exports.isLink);if(facet_exports.isLink(et))return et}isLink(){return!!this.link}get mention(){var _e;const et=(_e=this.facet)==null?void 0:_e.features.find(facet_exports.isMention);if(facet_exports.isMention(et))return et}isMention(){return!!this.mention}},RichText=class{constructor(et,_e){var rt,nt;this.unicodeText=new UnicodeString(et.text),this.facets=et.facets,!((rt=this.facets)!=null&&rt.length)&&((nt=et.entities)!=null&&nt.length)&&(this.facets=entitiesToFacets(this.unicodeText,et.entities)),this.facets&&this.facets.sort(facetSort),_e!=null&&_e.cleanNewlines&&sanitizeRichText(this,{cleanNewlines:!0}).copyInto(this)}get text(){return this.unicodeText.toString()}get length(){return this.unicodeText.length}get graphemeLength(){return this.unicodeText.graphemeLength}clone(){return new RichText({text:this.unicodeText.utf16,facets:cloneDeep(this.facets)})}copyInto(et){et.unicodeText=this.unicodeText,et.facets=cloneDeep(this.facets)}*segments(){const et=this.facets||[];if(!et.length){yield new RichTextSegment(this.unicodeText.utf16);return}let _e=0,rt=0;do{const nt=et[rt];if(_e<nt.index.byteStart)yield new RichTextSegment(this.unicodeText.slice(_e,nt.index.byteStart));else if(_e>nt.index.byteStart){rt++;continue}if(nt.index.byteStart<nt.index.byteEnd){const it=this.unicodeText.slice(nt.index.byteStart,nt.index.byteEnd);it.trim()?yield new RichTextSegment(it,nt):yield new RichTextSegment(it)}_e=nt.index.byteEnd,rt++}while(rt<et.length);_e<this.unicodeText.length&&(yield new RichTextSegment(this.unicodeText.slice(_e,this.unicodeText.length)))}insert(et,_e){var nt;if(this.unicodeText=new UnicodeString(this.unicodeText.slice(0,et)+_e+this.unicodeText.slice(et)),!((nt=this.facets)!=null&&nt.length))return this;const rt=_e.length;for(const it of this.facets)et<=it.index.byteStart?(it.index.byteStart+=rt,it.index.byteEnd+=rt):et>=it.index.byteStart&&et<it.index.byteEnd&&(it.index.byteEnd+=rt);return this}delete(et,_e){var nt;if(this.unicodeText=new UnicodeString(this.unicodeText.slice(0,et)+this.unicodeText.slice(_e)),!((nt=this.facets)!=null&&nt.length))return this;const rt=_e-et;for(const it of this.facets)et<=it.index.byteStart&&_e>=it.index.byteEnd?(it.index.byteStart=0,it.index.byteEnd=0):et>it.index.byteEnd||(et>it.index.byteStart&&et<=it.index.byteEnd&&_e>it.index.byteEnd?it.index.byteEnd=et:et>=it.index.byteStart&&_e<=it.index.byteEnd?it.index.byteEnd-=rt:et<it.index.byteStart&&_e>=it.index.byteStart&&_e<=it.index.byteEnd?(it.index.byteStart=et,it.index.byteEnd-=rt):_e<it.index.byteStart&&(it.index.byteStart-=rt,it.index.byteEnd-=rt));return this.facets=this.facets.filter(it=>it.index.byteStart<it.index.byteEnd),this}async detectFacets(et){if(this.facets=detectFacets(this.unicodeText),this.facets){for(const _e of this.facets)for(const rt of _e.features)if(facet_exports.isMention(rt)){const nt=await et.resolveHandle({handle:rt.did}).catch(it=>{}).then(it=>it==null?void 0:it.data.did);rt.did=nt||""}this.facets.sort(facetSort)}}detectFacetsWithoutResolution(){this.facets=detectFacets(this.unicodeText),this.facets&&this.facets.sort(facetSort)}},facetSort=(et,_e)=>et.index.byteStart-_e.index.byteStart;function entitiesToFacets(et,_e){const rt=[];for(const nt of _e)nt.type==="link"?rt.push({$type:"app.bsky.richtext.facet",index:{byteStart:et.utf16IndexToUtf8Index(nt.index.start),byteEnd:et.utf16IndexToUtf8Index(nt.index.end)},features:[{$type:"app.bsky.richtext.facet#link",uri:nt.value}]}):nt.type==="mention"&&rt.push({$type:"app.bsky.richtext.facet",index:{byteStart:et.utf16IndexToUtf8Index(nt.index.start),byteEnd:et.utf16IndexToUtf8Index(nt.index.end)},features:[{$type:"app.bsky.richtext.facet#mention",did:nt.value}]});return rt}function cloneDeep(et){return typeof et>"u"?et:JSON.parse(JSON.stringify(et))}var BskyAgent=class extends AtpAgent{constructor(){super(...arguments),this.getTimeline=(et,_e)=>this.api.app.bsky.feed.getTimeline(et,_e),this.getAuthorFeed=(et,_e)=>this.api.app.bsky.feed.getAuthorFeed(et,_e),this.getPostThread=(et,_e)=>this.api.app.bsky.feed.getPostThread(et,_e),this.getPost=et=>this.api.app.bsky.feed.post.get(et),this.getPosts=(et,_e)=>this.api.app.bsky.feed.getPosts(et,_e),this.getLikes=(et,_e)=>this.api.app.bsky.feed.getLikes(et,_e),this.getRepostedBy=(et,_e)=>this.api.app.bsky.feed.getRepostedBy(et,_e),this.getFollows=(et,_e)=>this.api.app.bsky.graph.getFollows(et,_e),this.getFollowers=(et,_e)=>this.api.app.bsky.graph.getFollowers(et,_e),this.getProfile=(et,_e)=>this.api.app.bsky.actor.getProfile(et,_e),this.getProfiles=(et,_e)=>this.api.app.bsky.actor.getProfiles(et,_e),this.getSuggestions=(et,_e)=>this.api.app.bsky.actor.getSuggestions(et,_e),this.searchActors=(et,_e)=>this.api.app.bsky.actor.searchActors(et,_e),this.searchActorsTypeahead=(et,_e)=>this.api.app.bsky.actor.searchActorsTypeahead(et,_e),this.listNotifications=(et,_e)=>this.api.app.bsky.notification.listNotifications(et,_e),this.countUnreadNotifications=(et,_e)=>this.api.app.bsky.notification.getUnreadCount(et,_e)}get app(){return this.api.app}async post(et){if(!this.session)throw new Error("Not logged in");return et.createdAt=et.createdAt||new Date().toISOString(),this.api.app.bsky.feed.post.create({repo:this.session.did},et)}async deletePost(et){if(!this.session)throw new Error("Not logged in");const _e=new AtUri(et);return await this.api.app.bsky.feed.post.delete({repo:_e.hostname,rkey:_e.rkey})}async like(et,_e){if(!this.session)throw new Error("Not logged in");return await this.api.app.bsky.feed.like.create({repo:this.session.did},{subject:{uri:et,cid:_e},createdAt:new Date().toISOString()})}async deleteLike(et){if(!this.session)throw new Error("Not logged in");const _e=new AtUri(et);return await this.api.app.bsky.feed.like.delete({repo:_e.hostname,rkey:_e.rkey})}async repost(et,_e){if(!this.session)throw new Error("Not logged in");return await this.api.app.bsky.feed.repost.create({repo:this.session.did},{subject:{uri:et,cid:_e},createdAt:new Date().toISOString()})}async deleteRepost(et){if(!this.session)throw new Error("Not logged in");const _e=new AtUri(et);return await this.api.app.bsky.feed.repost.delete({repo:_e.hostname,rkey:_e.rkey})}async follow(et){if(!this.session)throw new Error("Not logged in");return await this.api.app.bsky.graph.follow.create({repo:this.session.did},{subject:et,createdAt:new Date().toISOString()})}async deleteFollow(et){if(!this.session)throw new Error("Not logged in");const _e=new AtUri(et);return await this.api.app.bsky.graph.follow.delete({repo:_e.hostname,rkey:_e.rkey})}async upsertProfile(et){if(!this.session)throw new Error("Not logged in");let _e=5;for(;_e>=0;){const rt=await this.com.atproto.repo.getRecord({repo:this.session.did,collection:"app.bsky.actor.profile",rkey:"self"}).catch(st=>{}),nt=await et(rt==null?void 0:rt.data.value);nt&&(nt.$type="app.bsky.actor.profile");const it=profile_exports.validateRecord(nt);if(!it.success)throw it.error;try{await this.com.atproto.repo.putRecord({repo:this.session.did,collection:"app.bsky.actor.profile",rkey:"self",record:nt,swapRecord:(rt==null?void 0:rt.data.cid)||null})}catch(st){if(_e>0&&st instanceof putRecord_exports.InvalidSwapError){_e--;continue}else throw st}break}}async mute(et){return this.api.app.bsky.graph.muteActor({actor:et})}async unmute(et){return this.api.app.bsky.graph.unmuteActor({actor:et})}async updateSeenNotifications(et){return et=et||new Date().toISOString(),this.api.app.bsky.notification.updateSeen({seenAt:et})}};const SESSION_LOCAL_STORAGE_KEY="arta",SERVICE_LOCAL_STORAGE_KEY="service",agent$1=new dist.BskyAgent({service:(()=>localStorage.getItem(SERVICE_LOCAL_STORAGE_KEY)||"https://bsky.social")(),persistSession:(et,_e)=>{_e&&localStorage.setItem(SESSION_LOCAL_STORAGE_KEY,JSON.stringify(_e))}});agent$1.changeService=function(et){localStorage.setItem(SERVICE_LOCAL_STORAGE_KEY,et),this.service=new URL(et),this.api=this.api._baseClient.service(et)};const handleSession=()=>{const et=localStorage.getItem(SESSION_LOCAL_STORAGE_KEY);if(et&&et!="undefined"){const _e=JSON.parse(localStorage.getItem(SESSION_LOCAL_STORAGE_KEY));_e&&agent$1.resumeSession(_e)}else return localStorage.removeItem(SESSION_LOCAL_STORAGE_KEY),null},App$1="";let keyCount=0;function atom(et,_e){const rt=`atom${++keyCount}`,nt={toString:()=>rt};return typeof et=="function"?nt.read=et:(nt.init=et,nt.read=it=>it(nt),nt.write=(it,st,ot)=>st(nt,typeof ot=="function"?ot(it(nt)):ot)),_e&&(nt.write=_e),nt}const hasInitialValue=et=>"init"in et,isActuallyWritableAtom=et=>!!et.write,cancelPromiseMap=new WeakMap,registerCancelPromise=(et,_e)=>{cancelPromiseMap.set(et,_e),et.catch(()=>{}).finally(()=>cancelPromiseMap.delete(et))},cancelPromise=(et,_e)=>{const rt=cancelPromiseMap.get(et);rt&&(cancelPromiseMap.delete(et),rt(_e))},resolvePromise=(et,_e)=>{et.status="fulfilled",et.value=_e},rejectPromise=(et,_e)=>{et.status="rejected",et.reason=_e},isEqualAtomValue=(et,_e)=>"v"in et&&"v"in _e&&Object.is(et.v,_e.v),isEqualAtomError=(et,_e)=>"e"in et&&"e"in _e&&Object.is(et.e,_e.e),hasPromiseAtomValue=et=>"v"in et&&et.v instanceof Promise,returnAtomValue=et=>{if("e"in et)throw et.e;return et.v},createStore$1=()=>{const et=new WeakMap,_e=new WeakMap,rt=new Map;let nt,it;({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&(nt=new Set,it=new Set);const st=Et=>et.get(Et),ot=(Et,Lt)=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&Object.freeze(Lt);const Nt=et.get(Et);if(et.set(Et,Lt),rt.has(Et)||rt.set(Et,Nt),Nt&&hasPromiseAtomValue(Nt)){const $t="v"in Lt?Lt.v instanceof Promise?Lt.v:Promise.resolve(Lt.v):Promise.reject(Lt.e);cancelPromise(Nt.v,$t)}},at=(Et,Lt,Nt)=>{const $t=new Map;let Mt=!1;Nt.forEach((Tt,Rt)=>{!Tt&&Rt===Et&&(Tt=Lt),Tt?($t.set(Rt,Tt),Lt.d.get(Rt)!==Tt&&(Mt=!0)):({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] atom state not found")}),(Mt||Lt.d.size!==$t.size)&&(Lt.d=$t)},lt=(Et,Lt,Nt)=>{const $t=st(Et),Mt={d:($t==null?void 0:$t.d)||new Map,v:Lt};return Nt&&at(Et,Mt,Nt),$t&&isEqualAtomValue($t,Mt)&&$t.d===Mt.d?$t:(ot(Et,Mt),Mt)},ut=(Et,Lt,Nt,$t)=>{if(Lt instanceof Promise){let Mt;const Tt=new Promise((Rt,kt)=>{let Dt=!1;Lt.then(At=>{if(!Dt){Dt=!0;const wt=st(Et),It=lt(Et,Tt,Nt);resolvePromise(Tt,At),Rt(At),(wt==null?void 0:wt.d)!==It.d&&Pt(Et,It,wt==null?void 0:wt.d)}},At=>{if(!Dt){Dt=!0;const wt=st(Et),It=lt(Et,Tt,Nt);rejectPromise(Tt,At),kt(At),(wt==null?void 0:wt.d)!==It.d&&Pt(Et,It,wt==null?void 0:wt.d)}}),Mt=At=>{Dt||(Dt=!0,At.then(wt=>resolvePromise(Tt,wt),wt=>rejectPromise(Tt,wt)),Rt(At))}});return Tt.status="pending",registerCancelPromise(Tt,Rt=>{Rt&&Mt(Rt),$t==null||$t()}),lt(Et,Tt,Nt)}return lt(Et,Lt,Nt)},ct=(Et,Lt,Nt)=>{const $t=st(Et),Mt={d:($t==null?void 0:$t.d)||new Map,e:Lt};return Nt&&at(Et,Mt,Nt),$t&&isEqualAtomError($t,Mt)&&$t.d===Mt.d?$t:(ot(Et,Mt),Mt)},dt=Et=>{const Lt=st(Et);if(Lt&&(Lt.d.forEach((Dt,At)=>{At!==Et&&!_e.has(At)&&dt(At)}),Array.from(Lt.d).every(([Dt,At])=>Dt===Et||st(Dt)===At)))return Lt;const Nt=new Map;let $t=!0;const Mt=Dt=>{if(Dt===Et){const wt=st(Dt);if(wt)return Nt.set(Dt,wt),returnAtomValue(wt);if(hasInitialValue(Dt))return Nt.set(Dt,void 0),Dt.init;throw new Error("no atom init")}const At=dt(Dt);return Nt.set(Dt,At),returnAtomValue(At)};let Tt,Rt;const kt={get signal(){return Tt||(Tt=new AbortController),Tt.signal},get setSelf(){return({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!isActuallyWritableAtom(Et)&&console.warn("setSelf function cannot be used with read-only atom"),!Rt&&isActuallyWritableAtom(Et)&&(Rt=(...Dt)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&$t&&console.warn("setSelf function cannot be called in sync"),!$t)return xt(Et,...Dt)}),Rt}};try{const Dt=Et.read(Mt,kt);return ut(Et,Dt,Nt,()=>Tt==null?void 0:Tt.abort())}catch(Dt){return ct(Et,Dt,Nt)}finally{$t=!1}},ft=Et=>returnAtomValue(dt(Et)),pt=Et=>{let Lt=_e.get(Et);return Lt||(Lt=yt(Et)),Lt},ht=(Et,Lt)=>!Lt.l.size&&(!Lt.t.size||Lt.t.size===1&&Lt.t.has(Et)),mt=Et=>{const Lt=_e.get(Et);Lt&&ht(Et,Lt)&&vt(Et)},bt=Et=>{const Lt=_e.get(Et);Lt==null||Lt.t.forEach(Nt=>{if(Nt!==Et){const $t=st(Nt),Mt=dt(Nt);(!$t||!isEqualAtomValue($t,Mt))&&bt(Nt)}})},gt=(Et,...Lt)=>{let Nt=!0;const $t=Rt=>returnAtomValue(dt(Rt)),Mt=(Rt,...kt)=>{let Dt;if(Rt===Et){if(!hasInitialValue(Rt))throw new Error("atom not writable");const At=st(Rt),wt=ut(Rt,kt[0]);(!At||!isEqualAtomValue(At,wt))&&bt(Rt)}else Dt=gt(Rt,...kt);return Nt||St(),Dt},Tt=Et.write($t,Mt,...Lt);return Nt=!1,Tt},xt=(Et,...Lt)=>{const Nt=gt(Et,...Lt);return St(),Nt},yt=(Et,Lt)=>{const Nt={t:new Set(Lt&&[Lt]),l:new Set};if(_e.set(Et,Nt),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&it.add(Et),dt(Et).d.forEach(($t,Mt)=>{const Tt=_e.get(Mt);Tt?Tt.t.add(Et):Mt!==Et&&yt(Mt,Et)}),dt(Et),isActuallyWritableAtom(Et)&&Et.onMount){const $t=Et.onMount((...Mt)=>xt(Et,...Mt));$t&&(Nt.u=$t)}return Nt},vt=Et=>{var Lt;const Nt=(Lt=_e.get(Et))==null?void 0:Lt.u;Nt&&Nt(),_e.delete(Et),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&it.delete(Et);const $t=st(Et);$t?(hasPromiseAtomValue($t)&&cancelPromise($t.v),$t.d.forEach((Mt,Tt)=>{if(Tt!==Et){const Rt=_e.get(Tt);Rt&&(Rt.t.delete(Et),ht(Tt,Rt)&&vt(Tt))}})):({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] could not find atom state to unmount",Et)},Pt=(Et,Lt,Nt)=>{const $t=new Set(Lt.d.keys());Nt==null||Nt.forEach((Mt,Tt)=>{if($t.has(Tt)){$t.delete(Tt);return}const Rt=_e.get(Tt);Rt&&(Rt.t.delete(Et),ht(Tt,Rt)&&vt(Tt))}),$t.forEach(Mt=>{const Tt=_e.get(Mt);Tt?Tt.t.add(Et):_e.has(Et)&&yt(Mt,Et)})},St=()=>{for(;rt.size;){const Et=Array.from(rt);rt.clear(),Et.forEach(([Lt,Nt])=>{const $t=st(Lt);if($t){$t.d!==(Nt==null?void 0:Nt.d)&&Pt(Lt,$t,Nt==null?void 0:Nt.d);const Mt=_e.get(Lt);Mt&&!(Nt&&!hasPromiseAtomValue(Nt)&&(isEqualAtomValue(Nt,$t)||isEqualAtomError(Nt,$t)))&&Mt.l.forEach(Tt=>Tt())}else({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] no atom state to flush")})}({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&nt.forEach(Et=>Et("state"))},Ot=(Et,Lt)=>{const Nt=pt(Et);St();const $t=Nt.l;return $t.add(Lt),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&nt.forEach(Mt=>Mt("sub")),()=>{$t.delete(Lt),mt(Et),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&nt.forEach(Mt=>Mt("unsub"))}};return({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"?{get:ft,set:xt,sub:Ot,dev_subscribe_store:Et=>(nt.add(Et),()=>{nt.delete(Et)}),dev_get_mounted_atoms:()=>it.values(),dev_get_atom_state:Et=>et.get(Et),dev_get_mounted:Et=>_e.get(Et),dev_restore_atoms:Et=>{for(const[Lt,Nt]of Et)hasInitialValue(Lt)&&(ut(Lt,Nt),bt(Lt));St()}}:{get:ft,set:xt,sub:Ot}};let defaultStore;const getDefaultStore=()=>(defaultStore||(defaultStore=createStore$1()),defaultStore),StoreContext=reactExports.createContext(void 0),useStore=et=>{const _e=reactExports.useContext(StoreContext);return(et==null?void 0:et.store)||_e||getDefaultStore()},isPromise=et=>et instanceof Promise,use=React.use||(et=>{if(et.status==="pending")throw et;if(et.status==="fulfilled")return et.value;throw et.status==="rejected"?et.reason:(et.status="pending",et.then(_e=>{et.status="fulfilled",et.value=_e},_e=>{et.status="rejected",et.reason=_e}),et)});function useAtomValue(et,_e){const rt=useStore(_e),[[nt,it,st],ot]=reactExports.useReducer(ut=>{const ct=rt.get(et);return Object.is(ut[0],ct)&&ut[1]===rt&&ut[2]===et?ut:[ct,rt,et]},void 0,()=>[rt.get(et),rt,et]);let at=nt;(it!==rt||st!==et)&&(ot(),at=rt.get(et));const lt=_e==null?void 0:_e.delay;return reactExports.useEffect(()=>{const ut=rt.sub(et,()=>{if(typeof lt=="number"){setTimeout(ot,lt);return}ot()});return ot(),ut},[rt,et,lt]),reactExports.useDebugValue(at),isPromise(at)?use(at):at}function useSetAtom(et,_e){const rt=useStore(_e);return reactExports.useCallback((...it)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!("write"in et))throw new Error("not writable atom");return rt.set(et,...it)},[rt,et])}function useAtom(et,_e){return[useAtomValue(et,_e),useSetAtom(et,_e)]}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(et){(function(){var _e={}.hasOwnProperty;function rt(){for(var nt=[],it=0;it<arguments.length;it++){var st=arguments[it];if(st){var ot=typeof st;if(ot==="string"||ot==="number")nt.push(st);else if(Array.isArray(st)){if(st.length){var at=rt.apply(null,st);at&&nt.push(at)}}else if(ot==="object"){if(st.toString!==Object.prototype.toString&&!st.toString.toString().includes("[native code]")){nt.push(st.toString());continue}for(var lt in st)_e.call(st,lt)&&st[lt]&&nt.push(lt)}}}return nt.join(" ")}et.exports?(rt.default=rt,et.exports=rt):window.classNames=rt})()})(classnames);var classnamesExports=classnames.exports;const cn=getDefaultExportFromCjs(classnamesExports);var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function et(nt,it,st,ot,at,lt){if(lt!==ReactPropTypesSecret){var ut=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ut.name="Invariant Violation",ut}}et.isRequired=et;function _e(){return et}var rt={array:et,bigint:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:_e,element:et,elementType:et,instanceOf:_e,node:et,objectOf:_e,oneOf:_e,oneOfType:_e,shape:_e,exact:_e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rt.PropTypes=rt,rt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var canUseDOM$1=!!(typeof window<"u"&&window.document&&window.document.createElement),_createClass$6=function(){function et(_e,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(_e,it.key,it)}}return function(_e,rt,nt){return rt&&et(_e.prototype,rt),nt&&et(_e,nt),_e}}();function _classCallCheck$6(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$5(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$5(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var Portal$3=function(et){_inherits$5(_e,et);function _e(){return _classCallCheck$6(this,_e),_possibleConstructorReturn$5(this,(_e.__proto__||Object.getPrototypeOf(_e)).apply(this,arguments))}return _createClass$6(_e,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return canUseDOM$1?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),ReactDOM.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),_e}(React.Component);Portal$3.propTypes={children:PropTypes.node.isRequired,node:PropTypes.any};const Portalv4=Portal$3;var _createClass$5=function(){function et(_e,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(_e,it.key,it)}}return function(_e,rt,nt){return rt&&et(_e.prototype,rt),nt&&et(_e,nt),_e}}();function _classCallCheck$5(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$4(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$4(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var Portal$2=function(et){_inherits$4(_e,et);function _e(){return _classCallCheck$5(this,_e),_possibleConstructorReturn$4(this,(_e.__proto__||Object.getPrototypeOf(_e)).apply(this,arguments))}return _createClass$5(_e,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(nt){this.renderPortal()}},{key:"componentWillUnmount",value:function(){ReactDOM.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(nt){!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var it=this.props.children;typeof this.props.children.type=="function"&&(it=React.cloneElement(this.props.children)),this.portal=ReactDOM.unstable_renderSubtreeIntoContainer(this,it,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),_e}(React.Component);const LegacyPortal=Portal$2;Portal$2.propTypes={children:PropTypes.node.isRequired,node:PropTypes.any};var Portal=void 0;ReactDOM.createPortal?Portal=Portalv4:Portal=LegacyPortal;const Portal$1=Portal,newAtom=atom({show:!1,cid:null,post:null,quotePost:null}),userAtom=atom(null),ArrowIcon="/assets/back-b19dc910.svg";function BackButton(et){const _e=useNavigate();return jsxs("button",{type:"button",title:"Go Back",onClick:()=>_e(-1),className:"back-button",children:[jsx("img",{src:ArrowIcon}),jsx("strong",{children:"Back"})]})}var lib$1={},slider={},innerSlider={},initialState={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var _e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},rt=_e;et.default=rt})(initialState);var FUNC_ERROR_TEXT="Expected a function",NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(et,_e,rt){var nt,it,st,ot,at,lt,ut=0,ct=!1,dt=!1,ft=!0;if(typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT);_e=toNumber(_e)||0,isObject$2(rt)&&(ct=!!rt.leading,dt="maxWait"in rt,st=dt?nativeMax(toNumber(rt.maxWait)||0,_e):st,ft="trailing"in rt?!!rt.trailing:ft);function pt(St){var Ot=nt,Et=it;return nt=it=void 0,ut=St,ot=et.apply(Et,Ot),ot}function ht(St){return ut=St,at=setTimeout(gt,_e),ct?pt(St):ot}function mt(St){var Ot=St-lt,Et=St-ut,Lt=_e-Ot;return dt?nativeMin(Lt,st-Et):Lt}function bt(St){var Ot=St-lt,Et=St-ut;return lt===void 0||Ot>=_e||Ot<0||dt&&Et>=st}function gt(){var St=now();if(bt(St))return xt(St);at=setTimeout(gt,mt(St))}function xt(St){return at=void 0,ft&&nt?pt(St):(nt=it=void 0,ot)}function yt(){at!==void 0&&clearTimeout(at),ut=0,nt=lt=it=at=void 0}function vt(){return at===void 0?ot:xt(now())}function Pt(){var St=now(),Ot=bt(St);if(nt=arguments,it=this,lt=St,Ot){if(at===void 0)return ht(lt);if(dt)return at=setTimeout(gt,_e),pt(lt)}return at===void 0&&(at=setTimeout(gt,_e)),ot}return Pt.cancel=yt,Pt.flush=vt,Pt}function isObject$2(et){var _e=typeof et;return!!et&&(_e=="object"||_e=="function")}function isObjectLike(et){return!!et&&typeof et=="object"}function isSymbol(et){return typeof et=="symbol"||isObjectLike(et)&&objectToString.call(et)==symbolTag}function toNumber(et){if(typeof et=="number")return et;if(isSymbol(et))return NAN;if(isObject$2(et)){var _e=typeof et.valueOf=="function"?et.valueOf():et;et=isObject$2(_e)?_e+"":_e}if(typeof et!="string")return et===0?et:+et;et=et.replace(reTrim,"");var rt=reIsBinary.test(et);return rt||reIsOctal.test(et)?freeParseInt(et.slice(2),rt?2:8):reIsBadHex.test(et)?NAN:+et}var lodash_debounce=debounce,innerSliderUtils={};Object.defineProperty(innerSliderUtils,"__esModule",{value:!0});innerSliderUtils.checkSpecKeys=innerSliderUtils.checkNavigable=innerSliderUtils.changeSlide=innerSliderUtils.canUseDOM=innerSliderUtils.canGoNext=void 0;innerSliderUtils.clamp=clamp;innerSliderUtils.swipeStart=innerSliderUtils.swipeMove=innerSliderUtils.swipeEnd=innerSliderUtils.slidesOnRight=innerSliderUtils.slidesOnLeft=innerSliderUtils.slideHandler=innerSliderUtils.siblingDirection=innerSliderUtils.safePreventDefault=innerSliderUtils.lazyStartIndex=innerSliderUtils.lazySlidesOnRight=innerSliderUtils.lazySlidesOnLeft=innerSliderUtils.lazyEndIndex=innerSliderUtils.keyHandler=innerSliderUtils.initializedState=innerSliderUtils.getWidth=innerSliderUtils.getTrackLeft=innerSliderUtils.getTrackCSS=innerSliderUtils.getTrackAnimateCSS=innerSliderUtils.getTotalSlides=innerSliderUtils.getSwipeDirection=innerSliderUtils.getSlideCount=innerSliderUtils.getRequiredLazySlides=innerSliderUtils.getPreClones=innerSliderUtils.getPostClones=innerSliderUtils.getOnDemandLazySlides=innerSliderUtils.getNavigableIndexes=innerSliderUtils.getHeight=innerSliderUtils.extractObject=void 0;var _react$4=_interopRequireDefault$4(reactExports);function _interopRequireDefault$4(et){return et&&et.__esModule?et:{default:et}}function ownKeys$5(et,_e){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$4(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$5(Object(rt),!0).forEach(function(nt){_defineProperty$5(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$5(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$5(et,_e,rt){return _e in et?Object.defineProperty(et,_e,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=rt,et}function clamp(et,_e,rt){return Math.max(_e,Math.min(et,rt))}var safePreventDefault=function(_e){var rt=["onTouchStart","onTouchMove","onWheel"];rt.includes(_e._reactName)||_e.preventDefault()};innerSliderUtils.safePreventDefault=safePreventDefault;var getOnDemandLazySlides=function(_e){for(var rt=[],nt=lazyStartIndex(_e),it=lazyEndIndex(_e),st=nt;st<it;st++)_e.lazyLoadedList.indexOf(st)<0&&rt.push(st);return rt};innerSliderUtils.getOnDemandLazySlides=getOnDemandLazySlides;var getRequiredLazySlides=function(_e){for(var rt=[],nt=lazyStartIndex(_e),it=lazyEndIndex(_e),st=nt;st<it;st++)rt.push(st);return rt};innerSliderUtils.getRequiredLazySlides=getRequiredLazySlides;var lazyStartIndex=function(_e){return _e.currentSlide-lazySlidesOnLeft(_e)};innerSliderUtils.lazyStartIndex=lazyStartIndex;var lazyEndIndex=function(_e){return _e.currentSlide+lazySlidesOnRight(_e)};innerSliderUtils.lazyEndIndex=lazyEndIndex;var lazySlidesOnLeft=function(_e){return _e.centerMode?Math.floor(_e.slidesToShow/2)+(parseInt(_e.centerPadding)>0?1:0):0};innerSliderUtils.lazySlidesOnLeft=lazySlidesOnLeft;var lazySlidesOnRight=function(_e){return _e.centerMode?Math.floor((_e.slidesToShow-1)/2)+1+(parseInt(_e.centerPadding)>0?1:0):_e.slidesToShow};innerSliderUtils.lazySlidesOnRight=lazySlidesOnRight;var getWidth=function(_e){return _e&&_e.offsetWidth||0};innerSliderUtils.getWidth=getWidth;var getHeight=function(_e){return _e&&_e.offsetHeight||0};innerSliderUtils.getHeight=getHeight;var getSwipeDirection=function(_e){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,nt,it,st,ot;return nt=_e.startX-_e.curX,it=_e.startY-_e.curY,st=Math.atan2(it,nt),ot=Math.round(st*180/Math.PI),ot<0&&(ot=360-Math.abs(ot)),ot<=45&&ot>=0||ot<=360&&ot>=315?"left":ot>=135&&ot<=225?"right":rt===!0?ot>=35&&ot<=135?"up":"down":"vertical"};innerSliderUtils.getSwipeDirection=getSwipeDirection;var canGoNext=function(_e){var rt=!0;return _e.infinite||(_e.centerMode&&_e.currentSlide>=_e.slideCount-1||_e.slideCount<=_e.slidesToShow||_e.currentSlide>=_e.slideCount-_e.slidesToShow)&&(rt=!1),rt};innerSliderUtils.canGoNext=canGoNext;var extractObject=function(_e,rt){var nt={};return rt.forEach(function(it){return nt[it]=_e[it]}),nt};innerSliderUtils.extractObject=extractObject;var initializedState=function(_e){var rt=_react$4.default.Children.count(_e.children),nt=_e.listRef,it=Math.ceil(getWidth(nt)),st=_e.trackRef&&_e.trackRef.node,ot=Math.ceil(getWidth(st)),at;if(_e.vertical)at=it;else{var lt=_e.centerMode&&parseInt(_e.centerPadding)*2;typeof _e.centerPadding=="string"&&_e.centerPadding.slice(-1)==="%"&&(lt*=it/100),at=Math.ceil((it-lt)/_e.slidesToShow)}var ut=nt&&getHeight(nt.querySelector('[data-index="0"]')),ct=ut*_e.slidesToShow,dt=_e.currentSlide===void 0?_e.initialSlide:_e.currentSlide;_e.rtl&&_e.currentSlide===void 0&&(dt=rt-1-_e.initialSlide);var ft=_e.lazyLoadedList||[],pt=getOnDemandLazySlides(_objectSpread$4(_objectSpread$4({},_e),{},{currentSlide:dt,lazyLoadedList:ft}));ft=ft.concat(pt);var ht={slideCount:rt,slideWidth:at,listWidth:it,trackWidth:ot,currentSlide:dt,slideHeight:ut,listHeight:ct,lazyLoadedList:ft};return _e.autoplaying===null&&_e.autoplay&&(ht.autoplaying="playing"),ht};innerSliderUtils.initializedState=initializedState;var slideHandler=function(_e){var rt=_e.waitForAnimate,nt=_e.animating,it=_e.fade,st=_e.infinite,ot=_e.index,at=_e.slideCount,lt=_e.lazyLoad,ut=_e.currentSlide,ct=_e.centerMode,dt=_e.slidesToScroll,ft=_e.slidesToShow,pt=_e.useCSS,ht=_e.lazyLoadedList;if(rt&&nt)return{};var mt=ot,bt,gt,xt,yt={},vt={},Pt=st?ot:clamp(ot,0,at-1);if(it){if(!st&&(ot<0||ot>=at))return{};ot<0?mt=ot+at:ot>=at&&(mt=ot-at),lt&&ht.indexOf(mt)<0&&(ht=ht.concat(mt)),yt={animating:!0,currentSlide:mt,lazyLoadedList:ht,targetSlide:mt},vt={animating:!1,targetSlide:mt}}else bt=mt,mt<0?(bt=mt+at,st?at%dt!==0&&(bt=at-at%dt):bt=0):!canGoNext(_e)&&mt>ut?mt=bt=ut:ct&&mt>=at?(mt=st?at:at-1,bt=st?0:at-1):mt>=at&&(bt=mt-at,st?at%dt!==0&&(bt=0):bt=at-ft),!st&&mt+ft>=at&&(bt=at-ft),gt=getTrackLeft(_objectSpread$4(_objectSpread$4({},_e),{},{slideIndex:mt})),xt=getTrackLeft(_objectSpread$4(_objectSpread$4({},_e),{},{slideIndex:bt})),st||(gt===xt&&(mt=bt),gt=xt),lt&&(ht=ht.concat(getOnDemandLazySlides(_objectSpread$4(_objectSpread$4({},_e),{},{currentSlide:mt})))),pt?(yt={animating:!0,currentSlide:bt,trackStyle:getTrackAnimateCSS(_objectSpread$4(_objectSpread$4({},_e),{},{left:gt})),lazyLoadedList:ht,targetSlide:Pt},vt={animating:!1,currentSlide:bt,trackStyle:getTrackCSS(_objectSpread$4(_objectSpread$4({},_e),{},{left:xt})),swipeLeft:null,targetSlide:Pt}):yt={currentSlide:bt,trackStyle:getTrackCSS(_objectSpread$4(_objectSpread$4({},_e),{},{left:xt})),lazyLoadedList:ht,targetSlide:Pt};return{state:yt,nextState:vt}};innerSliderUtils.slideHandler=slideHandler;var changeSlide=function(_e,rt){var nt,it,st,ot,at,lt=_e.slidesToScroll,ut=_e.slidesToShow,ct=_e.slideCount,dt=_e.currentSlide,ft=_e.targetSlide,pt=_e.lazyLoad,ht=_e.infinite;if(ot=ct%lt!==0,nt=ot?0:(ct-dt)%lt,rt.message==="previous")st=nt===0?lt:ut-nt,at=dt-st,pt&&!ht&&(it=dt-st,at=it===-1?ct-1:it),ht||(at=ft-lt);else if(rt.message==="next")st=nt===0?lt:nt,at=dt+st,pt&&!ht&&(at=(dt+lt)%ct+nt),ht||(at=ft+lt);else if(rt.message==="dots")at=rt.index*rt.slidesToScroll;else if(rt.message==="children"){if(at=rt.index,ht){var mt=siblingDirection(_objectSpread$4(_objectSpread$4({},_e),{},{targetSlide:at}));at>rt.currentSlide&&mt==="left"?at=at-ct:at<rt.currentSlide&&mt==="right"&&(at=at+ct)}}else rt.message==="index"&&(at=Number(rt.index));return at};innerSliderUtils.changeSlide=changeSlide;var keyHandler=function(_e,rt,nt){return _e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!rt?"":_e.keyCode===37?nt?"next":"previous":_e.keyCode===39?nt?"previous":"next":""};innerSliderUtils.keyHandler=keyHandler;var swipeStart=function(_e,rt,nt){return _e.target.tagName==="IMG"&&safePreventDefault(_e),!rt||!nt&&_e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:_e.touches?_e.touches[0].pageX:_e.clientX,startY:_e.touches?_e.touches[0].pageY:_e.clientY,curX:_e.touches?_e.touches[0].pageX:_e.clientX,curY:_e.touches?_e.touches[0].pageY:_e.clientY}}};innerSliderUtils.swipeStart=swipeStart;var swipeMove=function(_e,rt){var nt=rt.scrolling,it=rt.animating,st=rt.vertical,ot=rt.swipeToSlide,at=rt.verticalSwiping,lt=rt.rtl,ut=rt.currentSlide,ct=rt.edgeFriction,dt=rt.edgeDragged,ft=rt.onEdge,pt=rt.swiped,ht=rt.swiping,mt=rt.slideCount,bt=rt.slidesToScroll,gt=rt.infinite,xt=rt.touchObject,yt=rt.swipeEvent,vt=rt.listHeight,Pt=rt.listWidth;if(!nt){if(it)return safePreventDefault(_e);st&&ot&&at&&safePreventDefault(_e);var St,Ot={},Et=getTrackLeft(rt);xt.curX=_e.touches?_e.touches[0].pageX:_e.clientX,xt.curY=_e.touches?_e.touches[0].pageY:_e.clientY,xt.swipeLength=Math.round(Math.sqrt(Math.pow(xt.curX-xt.startX,2)));var Lt=Math.round(Math.sqrt(Math.pow(xt.curY-xt.startY,2)));if(!at&&!ht&&Lt>10)return{scrolling:!0};at&&(xt.swipeLength=Lt);var Nt=(lt?-1:1)*(xt.curX>xt.startX?1:-1);at&&(Nt=xt.curY>xt.startY?1:-1);var $t=Math.ceil(mt/bt),Mt=getSwipeDirection(rt.touchObject,at),Tt=xt.swipeLength;return gt||(ut===0&&(Mt==="right"||Mt==="down")||ut+1>=$t&&(Mt==="left"||Mt==="up")||!canGoNext(rt)&&(Mt==="left"||Mt==="up"))&&(Tt=xt.swipeLength*ct,dt===!1&&ft&&(ft(Mt),Ot.edgeDragged=!0)),!pt&&yt&&(yt(Mt),Ot.swiped=!0),st?St=Et+Tt*(vt/Pt)*Nt:lt?St=Et-Tt*Nt:St=Et+Tt*Nt,at&&(St=Et+Tt*Nt),Ot=_objectSpread$4(_objectSpread$4({},Ot),{},{touchObject:xt,swipeLeft:St,trackStyle:getTrackCSS(_objectSpread$4(_objectSpread$4({},rt),{},{left:St}))}),Math.abs(xt.curX-xt.startX)<Math.abs(xt.curY-xt.startY)*.8||xt.swipeLength>10&&(Ot.swiping=!0,safePreventDefault(_e)),Ot}};innerSliderUtils.swipeMove=swipeMove;var swipeEnd=function(_e,rt){var nt=rt.dragging,it=rt.swipe,st=rt.touchObject,ot=rt.listWidth,at=rt.touchThreshold,lt=rt.verticalSwiping,ut=rt.listHeight,ct=rt.swipeToSlide,dt=rt.scrolling,ft=rt.onSwipe,pt=rt.targetSlide,ht=rt.currentSlide,mt=rt.infinite;if(!nt)return it&&safePreventDefault(_e),{};var bt=lt?ut/at:ot/at,gt=getSwipeDirection(st,lt),xt={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(dt||!st.swipeLength)return xt;if(st.swipeLength>bt){safePreventDefault(_e),ft&&ft(gt);var yt,vt,Pt=mt?ht:pt;switch(gt){case"left":case"up":vt=Pt+getSlideCount(rt),yt=ct?checkNavigable(rt,vt):vt,xt.currentDirection=0;break;case"right":case"down":vt=Pt-getSlideCount(rt),yt=ct?checkNavigable(rt,vt):vt,xt.currentDirection=1;break;default:yt=Pt}xt.triggerSlideHandler=yt}else{var St=getTrackLeft(rt);xt.trackStyle=getTrackAnimateCSS(_objectSpread$4(_objectSpread$4({},rt),{},{left:St}))}return xt};innerSliderUtils.swipeEnd=swipeEnd;var getNavigableIndexes=function(_e){for(var rt=_e.infinite?_e.slideCount*2:_e.slideCount,nt=_e.infinite?_e.slidesToShow*-1:0,it=_e.infinite?_e.slidesToShow*-1:0,st=[];nt<rt;)st.push(nt),nt=it+_e.slidesToScroll,it+=Math.min(_e.slidesToScroll,_e.slidesToShow);return st};innerSliderUtils.getNavigableIndexes=getNavigableIndexes;var checkNavigable=function(_e,rt){var nt=getNavigableIndexes(_e),it=0;if(rt>nt[nt.length-1])rt=nt[nt.length-1];else for(var st in nt){if(rt<nt[st]){rt=it;break}it=nt[st]}return rt};innerSliderUtils.checkNavigable=checkNavigable;var getSlideCount=function(_e){var rt=_e.centerMode?_e.slideWidth*Math.floor(_e.slidesToShow/2):0;if(_e.swipeToSlide){var nt,it=_e.listRef,st=it.querySelectorAll&&it.querySelectorAll(".slick-slide")||[];if(Array.from(st).every(function(lt){if(_e.vertical){if(lt.offsetTop+getHeight(lt)/2>_e.swipeLeft*-1)return nt=lt,!1}else if(lt.offsetLeft-rt+getWidth(lt)/2>_e.swipeLeft*-1)return nt=lt,!1;return!0}),!nt)return 0;var ot=_e.rtl===!0?_e.slideCount-_e.currentSlide:_e.currentSlide,at=Math.abs(nt.dataset.index-ot)||1;return at}else return _e.slidesToScroll};innerSliderUtils.getSlideCount=getSlideCount;var checkSpecKeys=function(_e,rt){return rt.reduce(function(nt,it){return nt&&_e.hasOwnProperty(it)},!0)?null:console.error("Keys Missing:",_e)};innerSliderUtils.checkSpecKeys=checkSpecKeys;var getTrackCSS=function(_e){checkSpecKeys(_e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var rt,nt,it=_e.slideCount+2*_e.slidesToShow;_e.vertical?nt=it*_e.slideHeight:rt=getTotalSlides(_e)*_e.slideWidth;var st={opacity:1,transition:"",WebkitTransition:""};if(_e.useTransform){var ot=_e.vertical?"translate3d(0px, "+_e.left+"px, 0px)":"translate3d("+_e.left+"px, 0px, 0px)",at=_e.vertical?"translate3d(0px, "+_e.left+"px, 0px)":"translate3d("+_e.left+"px, 0px, 0px)",lt=_e.vertical?"translateY("+_e.left+"px)":"translateX("+_e.left+"px)";st=_objectSpread$4(_objectSpread$4({},st),{},{WebkitTransform:ot,transform:at,msTransform:lt})}else _e.vertical?st.top=_e.left:st.left=_e.left;return _e.fade&&(st={opacity:1}),rt&&(st.width=rt),nt&&(st.height=nt),window&&!window.addEventListener&&window.attachEvent&&(_e.vertical?st.marginTop=_e.left+"px":st.marginLeft=_e.left+"px"),st};innerSliderUtils.getTrackCSS=getTrackCSS;var getTrackAnimateCSS=function(_e){checkSpecKeys(_e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var rt=getTrackCSS(_e);return _e.useTransform?(rt.WebkitTransition="-webkit-transform "+_e.speed+"ms "+_e.cssEase,rt.transition="transform "+_e.speed+"ms "+_e.cssEase):_e.vertical?rt.transition="top "+_e.speed+"ms "+_e.cssEase:rt.transition="left "+_e.speed+"ms "+_e.cssEase,rt};innerSliderUtils.getTrackAnimateCSS=getTrackAnimateCSS;var getTrackLeft=function(_e){if(_e.unslick)return 0;checkSpecKeys(_e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var rt=_e.slideIndex,nt=_e.trackRef,it=_e.infinite,st=_e.centerMode,ot=_e.slideCount,at=_e.slidesToShow,lt=_e.slidesToScroll,ut=_e.slideWidth,ct=_e.listWidth,dt=_e.variableWidth,ft=_e.slideHeight,pt=_e.fade,ht=_e.vertical,mt=0,bt,gt,xt=0;if(pt||_e.slideCount===1)return 0;var yt=0;if(it?(yt=-getPreClones(_e),ot%lt!==0&&rt+lt>ot&&(yt=-(rt>ot?at-(rt-ot):ot%lt)),st&&(yt+=parseInt(at/2))):(ot%lt!==0&&rt+lt>ot&&(yt=at-ot%lt),st&&(yt=parseInt(at/2))),mt=yt*ut,xt=yt*ft,ht?bt=rt*ft*-1+xt:bt=rt*ut*-1+mt,dt===!0){var vt,Pt=nt&&nt.node;if(vt=rt+getPreClones(_e),gt=Pt&&Pt.childNodes[vt],bt=gt?gt.offsetLeft*-1:0,st===!0){vt=it?rt+getPreClones(_e):rt,gt=Pt&&Pt.children[vt],bt=0;for(var St=0;St<vt;St++)bt-=Pt&&Pt.children[St]&&Pt.children[St].offsetWidth;bt-=parseInt(_e.centerPadding),bt+=gt&&(ct-gt.offsetWidth)/2}}return bt};innerSliderUtils.getTrackLeft=getTrackLeft;var getPreClones=function(_e){return _e.unslick||!_e.infinite?0:_e.variableWidth?_e.slideCount:_e.slidesToShow+(_e.centerMode?1:0)};innerSliderUtils.getPreClones=getPreClones;var getPostClones=function(_e){return _e.unslick||!_e.infinite?0:_e.slideCount};innerSliderUtils.getPostClones=getPostClones;var getTotalSlides=function(_e){return _e.slideCount===1?1:getPreClones(_e)+_e.slideCount+getPostClones(_e)};innerSliderUtils.getTotalSlides=getTotalSlides;var siblingDirection=function(_e){return _e.targetSlide>_e.currentSlide?_e.targetSlide>_e.currentSlide+slidesOnRight(_e)?"left":"right":_e.targetSlide<_e.currentSlide-slidesOnLeft(_e)?"right":"left"};innerSliderUtils.siblingDirection=siblingDirection;var slidesOnRight=function(_e){var rt=_e.slidesToShow,nt=_e.centerMode,it=_e.rtl,st=_e.centerPadding;if(nt){var ot=(rt-1)/2+1;return parseInt(st)>0&&(ot+=1),it&&rt%2===0&&(ot+=1),ot}return it?0:rt-1};innerSliderUtils.slidesOnRight=slidesOnRight;var slidesOnLeft=function(_e){var rt=_e.slidesToShow,nt=_e.centerMode,it=_e.rtl,st=_e.centerPadding;if(nt){var ot=(rt-1)/2+1;return parseInt(st)>0&&(ot+=1),!it&&rt%2===0&&(ot+=1),ot}return it?rt-1:0};innerSliderUtils.slidesOnLeft=slidesOnLeft;var canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};innerSliderUtils.canUseDOM=canUseDOM;var track={};function _typeof$3(et){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$3(et)}Object.defineProperty(track,"__esModule",{value:!0});track.Track=void 0;var _react$3=_interopRequireDefault$3(reactExports),_classnames$3=_interopRequireDefault$3(classnamesExports),_innerSliderUtils$3=innerSliderUtils;function _interopRequireDefault$3(et){return et&&et.__esModule?et:{default:et}}function _extends$3(){return _extends$3=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$3.apply(this,arguments)}function _classCallCheck$4(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(et,_e){for(var rt=0;rt<_e.length;rt++){var nt=_e[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}function _createClass$4(et,_e,rt){return _e&&_defineProperties$4(et.prototype,_e),rt&&_defineProperties$4(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _inherits$3(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),_e&&_setPrototypeOf$3(et,_e)}function _setPrototypeOf$3(et,_e){return _setPrototypeOf$3=Object.setPrototypeOf||function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$3(et,_e)}function _createSuper$3(et){var _e=_isNativeReflectConstruct$3();return function(){var nt=_getPrototypeOf$3(et),it;if(_e){var st=_getPrototypeOf$3(this).constructor;it=Reflect.construct(nt,arguments,st)}else it=nt.apply(this,arguments);return _possibleConstructorReturn$3(this,it)}}function _possibleConstructorReturn$3(et,_e){if(_e&&(_typeof$3(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(et)}function _assertThisInitialized$3(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$3(et){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf:function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$3(et)}function ownKeys$4(et,_e){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$3(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$4(Object(rt),!0).forEach(function(nt){_defineProperty$4(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$4(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$4(et,_e,rt){return _e in et?Object.defineProperty(et,_e,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=rt,et}var getSlideClasses=function(_e){var rt,nt,it,st,ot;_e.rtl?ot=_e.slideCount-1-_e.index:ot=_e.index,it=ot<0||ot>=_e.slideCount,_e.centerMode?(st=Math.floor(_e.slidesToShow/2),nt=(ot-_e.currentSlide)%_e.slideCount===0,ot>_e.currentSlide-st-1&&ot<=_e.currentSlide+st&&(rt=!0)):rt=_e.currentSlide<=ot&&ot<_e.currentSlide+_e.slidesToShow;var at;_e.targetSlide<0?at=_e.targetSlide+_e.slideCount:_e.targetSlide>=_e.slideCount?at=_e.targetSlide-_e.slideCount:at=_e.targetSlide;var lt=ot===at;return{"slick-slide":!0,"slick-active":rt,"slick-center":nt,"slick-cloned":it,"slick-current":lt}},getSlideStyle=function(_e){var rt={};return(_e.variableWidth===void 0||_e.variableWidth===!1)&&(rt.width=_e.slideWidth),_e.fade&&(rt.position="relative",_e.vertical?rt.top=-_e.index*parseInt(_e.slideHeight):rt.left=-_e.index*parseInt(_e.slideWidth),rt.opacity=_e.currentSlide===_e.index?1:0,_e.useCSS&&(rt.transition="opacity "+_e.speed+"ms "+_e.cssEase+", visibility "+_e.speed+"ms "+_e.cssEase)),rt},getKey=function(_e,rt){return _e.key||rt},renderSlides=function(_e){var rt,nt=[],it=[],st=[],ot=_react$3.default.Children.count(_e.children),at=(0,_innerSliderUtils$3.lazyStartIndex)(_e),lt=(0,_innerSliderUtils$3.lazyEndIndex)(_e);return _react$3.default.Children.forEach(_e.children,function(ut,ct){var dt,ft={message:"children",index:ct,slidesToScroll:_e.slidesToScroll,currentSlide:_e.currentSlide};!_e.lazyLoad||_e.lazyLoad&&_e.lazyLoadedList.indexOf(ct)>=0?dt=ut:dt=_react$3.default.createElement("div",null);var pt=getSlideStyle(_objectSpread$3(_objectSpread$3({},_e),{},{index:ct})),ht=dt.props.className||"",mt=getSlideClasses(_objectSpread$3(_objectSpread$3({},_e),{},{index:ct}));if(nt.push(_react$3.default.cloneElement(dt,{key:"original"+getKey(dt,ct),"data-index":ct,className:(0,_classnames$3.default)(mt,ht),tabIndex:"-1","aria-hidden":!mt["slick-active"],style:_objectSpread$3(_objectSpread$3({outline:"none"},dt.props.style||{}),pt),onClick:function(xt){dt.props&&dt.props.onClick&&dt.props.onClick(xt),_e.focusOnSelect&&_e.focusOnSelect(ft)}})),_e.infinite&&_e.fade===!1){var bt=ot-ct;bt<=(0,_innerSliderUtils$3.getPreClones)(_e)&&ot!==_e.slidesToShow&&(rt=-bt,rt>=at&&(dt=ut),mt=getSlideClasses(_objectSpread$3(_objectSpread$3({},_e),{},{index:rt})),it.push(_react$3.default.cloneElement(dt,{key:"precloned"+getKey(dt,rt),"data-index":rt,tabIndex:"-1",className:(0,_classnames$3.default)(mt,ht),"aria-hidden":!mt["slick-active"],style:_objectSpread$3(_objectSpread$3({},dt.props.style||{}),pt),onClick:function(xt){dt.props&&dt.props.onClick&&dt.props.onClick(xt),_e.focusOnSelect&&_e.focusOnSelect(ft)}}))),ot!==_e.slidesToShow&&(rt=ot+ct,rt<lt&&(dt=ut),mt=getSlideClasses(_objectSpread$3(_objectSpread$3({},_e),{},{index:rt})),st.push(_react$3.default.cloneElement(dt,{key:"postcloned"+getKey(dt,rt),"data-index":rt,tabIndex:"-1",className:(0,_classnames$3.default)(mt,ht),"aria-hidden":!mt["slick-active"],style:_objectSpread$3(_objectSpread$3({},dt.props.style||{}),pt),onClick:function(xt){dt.props&&dt.props.onClick&&dt.props.onClick(xt),_e.focusOnSelect&&_e.focusOnSelect(ft)}})))}}),_e.rtl?it.concat(nt,st).reverse():it.concat(nt,st)},Track=function(et){_inherits$3(rt,et);var _e=_createSuper$3(rt);function rt(){var nt;_classCallCheck$4(this,rt);for(var it=arguments.length,st=new Array(it),ot=0;ot<it;ot++)st[ot]=arguments[ot];return nt=_e.call.apply(_e,[this].concat(st)),_defineProperty$4(_assertThisInitialized$3(nt),"node",null),_defineProperty$4(_assertThisInitialized$3(nt),"handleRef",function(at){nt.node=at}),nt}return _createClass$4(rt,[{key:"render",value:function(){var it=renderSlides(this.props),st=this.props,ot=st.onMouseEnter,at=st.onMouseOver,lt=st.onMouseLeave,ut={onMouseEnter:ot,onMouseOver:at,onMouseLeave:lt};return _react$3.default.createElement("div",_extends$3({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},ut),it)}}]),rt}(_react$3.default.PureComponent);track.Track=Track;var dots={};function _typeof$2(et){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$2(et)}Object.defineProperty(dots,"__esModule",{value:!0});dots.Dots=void 0;var _react$2=_interopRequireDefault$2(reactExports),_classnames$2=_interopRequireDefault$2(classnamesExports),_innerSliderUtils$2=innerSliderUtils;function _interopRequireDefault$2(et){return et&&et.__esModule?et:{default:et}}function ownKeys$3(et,_e){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$2(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$3(Object(rt),!0).forEach(function(nt){_defineProperty$3(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$3(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$3(et,_e,rt){return _e in et?Object.defineProperty(et,_e,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=rt,et}function _classCallCheck$3(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(et,_e){for(var rt=0;rt<_e.length;rt++){var nt=_e[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}function _createClass$3(et,_e,rt){return _e&&_defineProperties$3(et.prototype,_e),rt&&_defineProperties$3(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _inherits$2(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),_e&&_setPrototypeOf$2(et,_e)}function _setPrototypeOf$2(et,_e){return _setPrototypeOf$2=Object.setPrototypeOf||function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$2(et,_e)}function _createSuper$2(et){var _e=_isNativeReflectConstruct$2();return function(){var nt=_getPrototypeOf$2(et),it;if(_e){var st=_getPrototypeOf$2(this).constructor;it=Reflect.construct(nt,arguments,st)}else it=nt.apply(this,arguments);return _possibleConstructorReturn$2(this,it)}}function _possibleConstructorReturn$2(et,_e){if(_e&&(_typeof$2(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(et)}function _assertThisInitialized$2(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$2(et){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf:function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$2(et)}var getDotCount=function(_e){var rt;return _e.infinite?rt=Math.ceil(_e.slideCount/_e.slidesToScroll):rt=Math.ceil((_e.slideCount-_e.slidesToShow)/_e.slidesToScroll)+1,rt},Dots=function(et){_inherits$2(rt,et);var _e=_createSuper$2(rt);function rt(){return _classCallCheck$3(this,rt),_e.apply(this,arguments)}return _createClass$3(rt,[{key:"clickHandler",value:function(it,st){st.preventDefault(),this.props.clickHandler(it)}},{key:"render",value:function(){for(var it=this.props,st=it.onMouseEnter,ot=it.onMouseOver,at=it.onMouseLeave,lt=it.infinite,ut=it.slidesToScroll,ct=it.slidesToShow,dt=it.slideCount,ft=it.currentSlide,pt=getDotCount({slideCount:dt,slidesToScroll:ut,slidesToShow:ct,infinite:lt}),ht={onMouseEnter:st,onMouseOver:ot,onMouseLeave:at},mt=[],bt=0;bt<pt;bt++){var gt=(bt+1)*ut-1,xt=lt?gt:(0,_innerSliderUtils$2.clamp)(gt,0,dt-1),yt=xt-(ut-1),vt=lt?yt:(0,_innerSliderUtils$2.clamp)(yt,0,dt-1),Pt=(0,_classnames$2.default)({"slick-active":lt?ft>=vt&&ft<=xt:ft===vt}),St={message:"dots",index:bt,slidesToScroll:ut,currentSlide:ft},Ot=this.clickHandler.bind(this,St);mt=mt.concat(_react$2.default.createElement("li",{key:bt,className:Pt},_react$2.default.cloneElement(this.props.customPaging(bt),{onClick:Ot})))}return _react$2.default.cloneElement(this.props.appendDots(mt),_objectSpread$2({className:this.props.dotsClass},ht))}}]),rt}(_react$2.default.PureComponent);dots.Dots=Dots;var arrows={};function _typeof$1(et){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$1(et)}Object.defineProperty(arrows,"__esModule",{value:!0});arrows.PrevArrow=arrows.NextArrow=void 0;var _react$1=_interopRequireDefault$1(reactExports),_classnames$1=_interopRequireDefault$1(classnamesExports),_innerSliderUtils$1=innerSliderUtils;function _interopRequireDefault$1(et){return et&&et.__esModule?et:{default:et}}function _extends$2(){return _extends$2=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$2.apply(this,arguments)}function ownKeys$2(et,_e){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$1(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$2(Object(rt),!0).forEach(function(nt){_defineProperty$2(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$2(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$2(et,_e,rt){return _e in et?Object.defineProperty(et,_e,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=rt,et}function _classCallCheck$2(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(et,_e){for(var rt=0;rt<_e.length;rt++){var nt=_e[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}function _createClass$2(et,_e,rt){return _e&&_defineProperties$2(et.prototype,_e),rt&&_defineProperties$2(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _inherits$1(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),_e&&_setPrototypeOf$1(et,_e)}function _setPrototypeOf$1(et,_e){return _setPrototypeOf$1=Object.setPrototypeOf||function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$1(et,_e)}function _createSuper$1(et){var _e=_isNativeReflectConstruct$1();return function(){var nt=_getPrototypeOf$1(et),it;if(_e){var st=_getPrototypeOf$1(this).constructor;it=Reflect.construct(nt,arguments,st)}else it=nt.apply(this,arguments);return _possibleConstructorReturn$1(this,it)}}function _possibleConstructorReturn$1(et,_e){if(_e&&(_typeof$1(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(et)}function _assertThisInitialized$1(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(et){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$1(et)}var PrevArrow=function(et){_inherits$1(rt,et);var _e=_createSuper$1(rt);function rt(){return _classCallCheck$2(this,rt),_e.apply(this,arguments)}return _createClass$2(rt,[{key:"clickHandler",value:function(it,st){st&&st.preventDefault(),this.props.clickHandler(it,st)}},{key:"render",value:function(){var it={"slick-arrow":!0,"slick-prev":!0},st=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(it["slick-disabled"]=!0,st=null);var ot={key:"0","data-role":"none",className:(0,_classnames$1.default)(it),style:{display:"block"},onClick:st},at={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},lt;return this.props.prevArrow?lt=_react$1.default.cloneElement(this.props.prevArrow,_objectSpread$1(_objectSpread$1({},ot),at)):lt=_react$1.default.createElement("button",_extends$2({key:"0",type:"button"},ot)," ","Previous"),lt}}]),rt}(_react$1.default.PureComponent);arrows.PrevArrow=PrevArrow;var NextArrow=function(et){_inherits$1(rt,et);var _e=_createSuper$1(rt);function rt(){return _classCallCheck$2(this,rt),_e.apply(this,arguments)}return _createClass$2(rt,[{key:"clickHandler",value:function(it,st){st&&st.preventDefault(),this.props.clickHandler(it,st)}},{key:"render",value:function(){var it={"slick-arrow":!0,"slick-next":!0},st=this.clickHandler.bind(this,{message:"next"});(0,_innerSliderUtils$1.canGoNext)(this.props)||(it["slick-disabled"]=!0,st=null);var ot={key:"1","data-role":"none",className:(0,_classnames$1.default)(it),style:{display:"block"},onClick:st},at={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},lt;return this.props.nextArrow?lt=_react$1.default.cloneElement(this.props.nextArrow,_objectSpread$1(_objectSpread$1({},ot),at)):lt=_react$1.default.createElement("button",_extends$2({key:"1",type:"button"},ot)," ","Next"),lt}}]),rt}(_react$1.default.PureComponent);arrows.NextArrow=NextArrow;var MapShim=function(){if(typeof Map<"u")return Map;function et(_e,rt){var nt=-1;return _e.some(function(it,st){return it[0]===rt?(nt=st,!0):!1}),nt}return function(){function _e(){this.__entries__=[]}return Object.defineProperty(_e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),_e.prototype.get=function(rt){var nt=et(this.__entries__,rt),it=this.__entries__[nt];return it&&it[1]},_e.prototype.set=function(rt,nt){var it=et(this.__entries__,rt);~it?this.__entries__[it][1]=nt:this.__entries__.push([rt,nt])},_e.prototype.delete=function(rt){var nt=this.__entries__,it=et(nt,rt);~it&&nt.splice(it,1)},_e.prototype.has=function(rt){return!!~et(this.__entries__,rt)},_e.prototype.clear=function(){this.__entries__.splice(0)},_e.prototype.forEach=function(rt,nt){nt===void 0&&(nt=null);for(var it=0,st=this.__entries__;it<st.length;it++){var ot=st[it];rt.call(nt,ot[1],ot[0])}},_e}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(et){return setTimeout(function(){return et(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(et,_e){var rt=!1,nt=!1,it=0;function st(){rt&&(rt=!1,et()),nt&&at()}function ot(){requestAnimationFrame$1(st)}function at(){var lt=Date.now();if(rt){if(lt-it<trailingTimeout)return;nt=!0}else rt=!0,nt=!1,setTimeout(ot,_e);it=lt}return at}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function et(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return et.prototype.addObserver=function(_e){~this.observers_.indexOf(_e)||this.observers_.push(_e),this.connected_||this.connect_()},et.prototype.removeObserver=function(_e){var rt=this.observers_,nt=rt.indexOf(_e);~nt&&rt.splice(nt,1),!rt.length&&this.connected_&&this.disconnect_()},et.prototype.refresh=function(){var _e=this.updateObservers_();_e&&this.refresh()},et.prototype.updateObservers_=function(){var _e=this.observers_.filter(function(rt){return rt.gatherActive(),rt.hasActive()});return _e.forEach(function(rt){return rt.broadcastActive()}),_e.length>0},et.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},et.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},et.prototype.onTransitionEnd_=function(_e){var rt=_e.propertyName,nt=rt===void 0?"":rt,it=transitionKeys.some(function(st){return!!~nt.indexOf(st)});it&&this.refresh()},et.getInstance=function(){return this.instance_||(this.instance_=new et),this.instance_},et.instance_=null,et}(),defineConfigurable=function(et,_e){for(var rt=0,nt=Object.keys(_e);rt<nt.length;rt++){var it=nt[rt];Object.defineProperty(et,it,{value:_e[it],enumerable:!1,writable:!1,configurable:!0})}return et},getWindowOf=function(et){var _e=et&&et.ownerDocument&&et.ownerDocument.defaultView;return _e||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(et){return parseFloat(et)||0}function getBordersSize(et){for(var _e=[],rt=1;rt<arguments.length;rt++)_e[rt-1]=arguments[rt];return _e.reduce(function(nt,it){var st=et["border-"+it+"-width"];return nt+toFloat(st)},0)}function getPaddings(et){for(var _e=["top","right","bottom","left"],rt={},nt=0,it=_e;nt<it.length;nt++){var st=it[nt],ot=et["padding-"+st];rt[st]=toFloat(ot)}return rt}function getSVGContentRect(et){var _e=et.getBBox();return createRectInit(0,0,_e.width,_e.height)}function getHTMLElementContentRect(et){var _e=et.clientWidth,rt=et.clientHeight;if(!_e&&!rt)return emptyRect;var nt=getWindowOf(et).getComputedStyle(et),it=getPaddings(nt),st=it.left+it.right,ot=it.top+it.bottom,at=toFloat(nt.width),lt=toFloat(nt.height);if(nt.boxSizing==="border-box"&&(Math.round(at+st)!==_e&&(at-=getBordersSize(nt,"left","right")+st),Math.round(lt+ot)!==rt&&(lt-=getBordersSize(nt,"top","bottom")+ot)),!isDocumentElement(et)){var ut=Math.round(at+st)-_e,ct=Math.round(lt+ot)-rt;Math.abs(ut)!==1&&(at-=ut),Math.abs(ct)!==1&&(lt-=ct)}return createRectInit(it.left,it.top,at,lt)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(et){return et instanceof getWindowOf(et).SVGGraphicsElement}:function(et){return et instanceof getWindowOf(et).SVGElement&&typeof et.getBBox=="function"}}();function isDocumentElement(et){return et===getWindowOf(et).document.documentElement}function getContentRect(et){return isBrowser?isSVGGraphicsElement(et)?getSVGContentRect(et):getHTMLElementContentRect(et):emptyRect}function createReadOnlyRect(et){var _e=et.x,rt=et.y,nt=et.width,it=et.height,st=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,ot=Object.create(st.prototype);return defineConfigurable(ot,{x:_e,y:rt,width:nt,height:it,top:rt,right:_e+nt,bottom:it+rt,left:_e}),ot}function createRectInit(et,_e,rt,nt){return{x:et,y:_e,width:rt,height:nt}}var ResizeObservation=function(){function et(_e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=_e}return et.prototype.isActive=function(){var _e=getContentRect(this.target);return this.contentRect_=_e,_e.width!==this.broadcastWidth||_e.height!==this.broadcastHeight},et.prototype.broadcastRect=function(){var _e=this.contentRect_;return this.broadcastWidth=_e.width,this.broadcastHeight=_e.height,_e},et}(),ResizeObserverEntry=function(){function et(_e,rt){var nt=createReadOnlyRect(rt);defineConfigurable(this,{target:_e,contentRect:nt})}return et}(),ResizeObserverSPI=function(){function et(_e,rt,nt){if(this.activeObservations_=[],this.observations_=new MapShim,typeof _e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=_e,this.controller_=rt,this.callbackCtx_=nt}return et.prototype.observe=function(_e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(_e instanceof getWindowOf(_e).Element))throw new TypeError('parameter 1 is not of type "Element".');var rt=this.observations_;rt.has(_e)||(rt.set(_e,new ResizeObservation(_e)),this.controller_.addObserver(this),this.controller_.refresh())}},et.prototype.unobserve=function(_e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(_e instanceof getWindowOf(_e).Element))throw new TypeError('parameter 1 is not of type "Element".');var rt=this.observations_;rt.has(_e)&&(rt.delete(_e),rt.size||this.controller_.removeObserver(this))}},et.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},et.prototype.gatherActive=function(){var _e=this;this.clearActive(),this.observations_.forEach(function(rt){rt.isActive()&&_e.activeObservations_.push(rt)})},et.prototype.broadcastActive=function(){if(this.hasActive()){var _e=this.callbackCtx_,rt=this.activeObservations_.map(function(nt){return new ResizeObserverEntry(nt.target,nt.broadcastRect())});this.callback_.call(_e,rt,_e),this.clearActive()}},et.prototype.clearActive=function(){this.activeObservations_.splice(0)},et.prototype.hasActive=function(){return this.activeObservations_.length>0},et}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver=function(){function et(_e){if(!(this instanceof et))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var rt=ResizeObserverController.getInstance(),nt=new ResizeObserverSPI(_e,rt,this);observers.set(this,nt)}return et}();["observe","unobserve","disconnect"].forEach(function(et){ResizeObserver.prototype[et]=function(){var _e;return(_e=observers.get(this))[et].apply(_e,arguments)}});var index$1=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver}();const ResizeObserver_es=Object.freeze(Object.defineProperty({__proto__:null,default:index$1},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(ResizeObserver_es);Object.defineProperty(innerSlider,"__esModule",{value:!0});innerSlider.InnerSlider=void 0;var _react=_interopRequireDefault(reactExports),_initialState=_interopRequireDefault(initialState),_lodash=_interopRequireDefault(lodash_debounce),_classnames=_interopRequireDefault(classnamesExports),_innerSliderUtils=innerSliderUtils,_track=track,_dots=dots,_arrows=arrows,_resizeObserverPolyfill=_interopRequireDefault(require$$8);function _interopRequireDefault(et){return et&&et.__esModule?et:{default:et}}function _typeof(et){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof(et)}function _extends$1(){return _extends$1=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$1.apply(this,arguments)}function _objectWithoutProperties(et,_e){if(et==null)return{};var rt=_objectWithoutPropertiesLoose(et,_e),nt,it;if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(et);for(it=0;it<st.length;it++)nt=st[it],!(_e.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose(et,_e){if(et==null)return{};var rt={},nt=Object.keys(et),it,st;for(st=0;st<nt.length;st++)it=nt[st],!(_e.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function ownKeys$1(et,_e){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(rt),!0).forEach(function(nt){_defineProperty$1(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$1(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$1(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(et,_e){for(var rt=0;rt<_e.length;rt++){var nt=_e[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}function _createClass$1(et,_e,rt){return _e&&_defineProperties$1(et.prototype,_e),rt&&_defineProperties$1(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _inherits(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),_e&&_setPrototypeOf(et,_e)}function _setPrototypeOf(et,_e){return _setPrototypeOf=Object.setPrototypeOf||function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf(et,_e)}function _createSuper(et){var _e=_isNativeReflectConstruct();return function(){var nt=_getPrototypeOf(et),it;if(_e){var st=_getPrototypeOf(this).constructor;it=Reflect.construct(nt,arguments,st)}else it=nt.apply(this,arguments);return _possibleConstructorReturn(this,it)}}function _possibleConstructorReturn(et,_e){if(_e&&(_typeof(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(et)}function _assertThisInitialized(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(et){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf(et)}function _defineProperty$1(et,_e,rt){return _e in et?Object.defineProperty(et,_e,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=rt,et}var InnerSlider=function(et){_inherits(rt,et);var _e=_createSuper(rt);function rt(nt){var it;_classCallCheck$1(this,rt),it=_e.call(this,nt),_defineProperty$1(_assertThisInitialized(it),"listRefHandler",function(ot){return it.list=ot}),_defineProperty$1(_assertThisInitialized(it),"trackRefHandler",function(ot){return it.track=ot}),_defineProperty$1(_assertThisInitialized(it),"adaptHeight",function(){if(it.props.adaptiveHeight&&it.list){var ot=it.list.querySelector('[data-index="'.concat(it.state.currentSlide,'"]'));it.list.style.height=(0,_innerSliderUtils.getHeight)(ot)+"px"}}),_defineProperty$1(_assertThisInitialized(it),"componentDidMount",function(){if(it.props.onInit&&it.props.onInit(),it.props.lazyLoad){var ot=(0,_innerSliderUtils.getOnDemandLazySlides)(_objectSpread(_objectSpread({},it.props),it.state));ot.length>0&&(it.setState(function(lt){return{lazyLoadedList:lt.lazyLoadedList.concat(ot)}}),it.props.onLazyLoad&&it.props.onLazyLoad(ot))}var at=_objectSpread({listRef:it.list,trackRef:it.track},it.props);it.updateState(at,!0,function(){it.adaptHeight(),it.props.autoplay&&it.autoPlay("update")}),it.props.lazyLoad==="progressive"&&(it.lazyLoadTimer=setInterval(it.progressiveLazyLoad,1e3)),it.ro=new _resizeObserverPolyfill.default(function(){it.state.animating?(it.onWindowResized(!1),it.callbackTimers.push(setTimeout(function(){return it.onWindowResized()},it.props.speed))):it.onWindowResized()}),it.ro.observe(it.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(lt){lt.onfocus=it.props.pauseOnFocus?it.onSlideFocus:null,lt.onblur=it.props.pauseOnFocus?it.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",it.onWindowResized):window.attachEvent("onresize",it.onWindowResized)}),_defineProperty$1(_assertThisInitialized(it),"componentWillUnmount",function(){it.animationEndCallback&&clearTimeout(it.animationEndCallback),it.lazyLoadTimer&&clearInterval(it.lazyLoadTimer),it.callbackTimers.length&&(it.callbackTimers.forEach(function(ot){return clearTimeout(ot)}),it.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",it.onWindowResized):window.detachEvent("onresize",it.onWindowResized),it.autoplayTimer&&clearInterval(it.autoplayTimer),it.ro.disconnect()}),_defineProperty$1(_assertThisInitialized(it),"componentDidUpdate",function(ot){if(it.checkImagesLoad(),it.props.onReInit&&it.props.onReInit(),it.props.lazyLoad){var at=(0,_innerSliderUtils.getOnDemandLazySlides)(_objectSpread(_objectSpread({},it.props),it.state));at.length>0&&(it.setState(function(ct){return{lazyLoadedList:ct.lazyLoadedList.concat(at)}}),it.props.onLazyLoad&&it.props.onLazyLoad(at))}it.adaptHeight();var lt=_objectSpread(_objectSpread({listRef:it.list,trackRef:it.track},it.props),it.state),ut=it.didPropsChange(ot);ut&&it.updateState(lt,ut,function(){it.state.currentSlide>=_react.default.Children.count(it.props.children)&&it.changeSlide({message:"index",index:_react.default.Children.count(it.props.children)-it.props.slidesToShow,currentSlide:it.state.currentSlide}),it.props.autoplay?it.autoPlay("update"):it.pause("paused")})}),_defineProperty$1(_assertThisInitialized(it),"onWindowResized",function(ot){it.debouncedResize&&it.debouncedResize.cancel(),it.debouncedResize=(0,_lodash.default)(function(){return it.resizeWindow(ot)},50),it.debouncedResize()}),_defineProperty$1(_assertThisInitialized(it),"resizeWindow",function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,at=!!(it.track&&it.track.node);if(at){var lt=_objectSpread(_objectSpread({listRef:it.list,trackRef:it.track},it.props),it.state);it.updateState(lt,ot,function(){it.props.autoplay?it.autoPlay("update"):it.pause("paused")}),it.setState({animating:!1}),clearTimeout(it.animationEndCallback),delete it.animationEndCallback}}),_defineProperty$1(_assertThisInitialized(it),"updateState",function(ot,at,lt){var ut=(0,_innerSliderUtils.initializedState)(ot);ot=_objectSpread(_objectSpread(_objectSpread({},ot),ut),{},{slideIndex:ut.currentSlide});var ct=(0,_innerSliderUtils.getTrackLeft)(ot);ot=_objectSpread(_objectSpread({},ot),{},{left:ct});var dt=(0,_innerSliderUtils.getTrackCSS)(ot);(at||_react.default.Children.count(it.props.children)!==_react.default.Children.count(ot.children))&&(ut.trackStyle=dt),it.setState(ut,lt)}),_defineProperty$1(_assertThisInitialized(it),"ssrInit",function(){if(it.props.variableWidth){var ot=0,at=0,lt=[],ut=(0,_innerSliderUtils.getPreClones)(_objectSpread(_objectSpread(_objectSpread({},it.props),it.state),{},{slideCount:it.props.children.length})),ct=(0,_innerSliderUtils.getPostClones)(_objectSpread(_objectSpread(_objectSpread({},it.props),it.state),{},{slideCount:it.props.children.length}));it.props.children.forEach(function(Ot){lt.push(Ot.props.style.width),ot+=Ot.props.style.width});for(var dt=0;dt<ut;dt++)at+=lt[lt.length-1-dt],ot+=lt[lt.length-1-dt];for(var ft=0;ft<ct;ft++)ot+=lt[ft];for(var pt=0;pt<it.state.currentSlide;pt++)at+=lt[pt];var ht={width:ot+"px",left:-at+"px"};if(it.props.centerMode){var mt="".concat(lt[it.state.currentSlide],"px");ht.left="calc(".concat(ht.left," + (100% - ").concat(mt,") / 2 ) ")}return{trackStyle:ht}}var bt=_react.default.Children.count(it.props.children),gt=_objectSpread(_objectSpread(_objectSpread({},it.props),it.state),{},{slideCount:bt}),xt=(0,_innerSliderUtils.getPreClones)(gt)+(0,_innerSliderUtils.getPostClones)(gt)+bt,yt=100/it.props.slidesToShow*xt,vt=100/xt,Pt=-vt*((0,_innerSliderUtils.getPreClones)(gt)+it.state.currentSlide)*yt/100;it.props.centerMode&&(Pt+=(100-vt*yt/100)/2);var St={width:yt+"%",left:Pt+"%"};return{slideWidth:vt+"%",trackStyle:St}}),_defineProperty$1(_assertThisInitialized(it),"checkImagesLoad",function(){var ot=it.list&&it.list.querySelectorAll&&it.list.querySelectorAll(".slick-slide img")||[],at=ot.length,lt=0;Array.prototype.forEach.call(ot,function(ut){var ct=function(){return++lt&&lt>=at&&it.onWindowResized()};if(!ut.onclick)ut.onclick=function(){return ut.parentNode.focus()};else{var dt=ut.onclick;ut.onclick=function(){dt(),ut.parentNode.focus()}}ut.onload||(it.props.lazyLoad?ut.onload=function(){it.adaptHeight(),it.callbackTimers.push(setTimeout(it.onWindowResized,it.props.speed))}:(ut.onload=ct,ut.onerror=function(){ct(),it.props.onLazyLoadError&&it.props.onLazyLoadError()}))})}),_defineProperty$1(_assertThisInitialized(it),"progressiveLazyLoad",function(){for(var ot=[],at=_objectSpread(_objectSpread({},it.props),it.state),lt=it.state.currentSlide;lt<it.state.slideCount+(0,_innerSliderUtils.getPostClones)(at);lt++)if(it.state.lazyLoadedList.indexOf(lt)<0){ot.push(lt);break}for(var ut=it.state.currentSlide-1;ut>=-(0,_innerSliderUtils.getPreClones)(at);ut--)if(it.state.lazyLoadedList.indexOf(ut)<0){ot.push(ut);break}ot.length>0?(it.setState(function(ct){return{lazyLoadedList:ct.lazyLoadedList.concat(ot)}}),it.props.onLazyLoad&&it.props.onLazyLoad(ot)):it.lazyLoadTimer&&(clearInterval(it.lazyLoadTimer),delete it.lazyLoadTimer)}),_defineProperty$1(_assertThisInitialized(it),"slideHandler",function(ot){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,lt=it.props,ut=lt.asNavFor,ct=lt.beforeChange,dt=lt.onLazyLoad,ft=lt.speed,pt=lt.afterChange,ht=it.state.currentSlide,mt=(0,_innerSliderUtils.slideHandler)(_objectSpread(_objectSpread(_objectSpread({index:ot},it.props),it.state),{},{trackRef:it.track,useCSS:it.props.useCSS&&!at})),bt=mt.state,gt=mt.nextState;if(bt){ct&&ct(ht,bt.currentSlide);var xt=bt.lazyLoadedList.filter(function(yt){return it.state.lazyLoadedList.indexOf(yt)<0});dt&&xt.length>0&&dt(xt),!it.props.waitForAnimate&&it.animationEndCallback&&(clearTimeout(it.animationEndCallback),pt&&pt(ht),delete it.animationEndCallback),it.setState(bt,function(){ut&&it.asNavForIndex!==ot&&(it.asNavForIndex=ot,ut.innerSlider.slideHandler(ot)),gt&&(it.animationEndCallback=setTimeout(function(){var yt=gt.animating,vt=_objectWithoutProperties(gt,["animating"]);it.setState(vt,function(){it.callbackTimers.push(setTimeout(function(){return it.setState({animating:yt})},10)),pt&&pt(bt.currentSlide),delete it.animationEndCallback})},ft))})}}),_defineProperty$1(_assertThisInitialized(it),"changeSlide",function(ot){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,lt=_objectSpread(_objectSpread({},it.props),it.state),ut=(0,_innerSliderUtils.changeSlide)(lt,ot);if(!(ut!==0&&!ut)&&(at===!0?it.slideHandler(ut,at):it.slideHandler(ut),it.props.autoplay&&it.autoPlay("update"),it.props.focusOnSelect)){var ct=it.list.querySelectorAll(".slick-current");ct[0]&&ct[0].focus()}}),_defineProperty$1(_assertThisInitialized(it),"clickHandler",function(ot){it.clickable===!1&&(ot.stopPropagation(),ot.preventDefault()),it.clickable=!0}),_defineProperty$1(_assertThisInitialized(it),"keyHandler",function(ot){var at=(0,_innerSliderUtils.keyHandler)(ot,it.props.accessibility,it.props.rtl);at!==""&&it.changeSlide({message:at})}),_defineProperty$1(_assertThisInitialized(it),"selectHandler",function(ot){it.changeSlide(ot)}),_defineProperty$1(_assertThisInitialized(it),"disableBodyScroll",function(){var ot=function(lt){lt=lt||window.event,lt.preventDefault&&lt.preventDefault(),lt.returnValue=!1};window.ontouchmove=ot}),_defineProperty$1(_assertThisInitialized(it),"enableBodyScroll",function(){window.ontouchmove=null}),_defineProperty$1(_assertThisInitialized(it),"swipeStart",function(ot){it.props.verticalSwiping&&it.disableBodyScroll();var at=(0,_innerSliderUtils.swipeStart)(ot,it.props.swipe,it.props.draggable);at!==""&&it.setState(at)}),_defineProperty$1(_assertThisInitialized(it),"swipeMove",function(ot){var at=(0,_innerSliderUtils.swipeMove)(ot,_objectSpread(_objectSpread(_objectSpread({},it.props),it.state),{},{trackRef:it.track,listRef:it.list,slideIndex:it.state.currentSlide}));at&&(at.swiping&&(it.clickable=!1),it.setState(at))}),_defineProperty$1(_assertThisInitialized(it),"swipeEnd",function(ot){var at=(0,_innerSliderUtils.swipeEnd)(ot,_objectSpread(_objectSpread(_objectSpread({},it.props),it.state),{},{trackRef:it.track,listRef:it.list,slideIndex:it.state.currentSlide}));if(at){var lt=at.triggerSlideHandler;delete at.triggerSlideHandler,it.setState(at),lt!==void 0&&(it.slideHandler(lt),it.props.verticalSwiping&&it.enableBodyScroll())}}),_defineProperty$1(_assertThisInitialized(it),"touchEnd",function(ot){it.swipeEnd(ot),it.clickable=!0}),_defineProperty$1(_assertThisInitialized(it),"slickPrev",function(){it.callbackTimers.push(setTimeout(function(){return it.changeSlide({message:"previous"})},0))}),_defineProperty$1(_assertThisInitialized(it),"slickNext",function(){it.callbackTimers.push(setTimeout(function(){return it.changeSlide({message:"next"})},0))}),_defineProperty$1(_assertThisInitialized(it),"slickGoTo",function(ot){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ot=Number(ot),isNaN(ot))return"";it.callbackTimers.push(setTimeout(function(){return it.changeSlide({message:"index",index:ot,currentSlide:it.state.currentSlide},at)},0))}),_defineProperty$1(_assertThisInitialized(it),"play",function(){var ot;if(it.props.rtl)ot=it.state.currentSlide-it.props.slidesToScroll;else if((0,_innerSliderUtils.canGoNext)(_objectSpread(_objectSpread({},it.props),it.state)))ot=it.state.currentSlide+it.props.slidesToScroll;else return!1;it.slideHandler(ot)}),_defineProperty$1(_assertThisInitialized(it),"autoPlay",function(ot){it.autoplayTimer&&clearInterval(it.autoplayTimer);var at=it.state.autoplaying;if(ot==="update"){if(at==="hovered"||at==="focused"||at==="paused")return}else if(ot==="leave"){if(at==="paused"||at==="focused")return}else if(ot==="blur"&&(at==="paused"||at==="hovered"))return;it.autoplayTimer=setInterval(it.play,it.props.autoplaySpeed+50),it.setState({autoplaying:"playing"})}),_defineProperty$1(_assertThisInitialized(it),"pause",function(ot){it.autoplayTimer&&(clearInterval(it.autoplayTimer),it.autoplayTimer=null);var at=it.state.autoplaying;ot==="paused"?it.setState({autoplaying:"paused"}):ot==="focused"?(at==="hovered"||at==="playing")&&it.setState({autoplaying:"focused"}):at==="playing"&&it.setState({autoplaying:"hovered"})}),_defineProperty$1(_assertThisInitialized(it),"onDotsOver",function(){return it.props.autoplay&&it.pause("hovered")}),_defineProperty$1(_assertThisInitialized(it),"onDotsLeave",function(){return it.props.autoplay&&it.state.autoplaying==="hovered"&&it.autoPlay("leave")}),_defineProperty$1(_assertThisInitialized(it),"onTrackOver",function(){return it.props.autoplay&&it.pause("hovered")}),_defineProperty$1(_assertThisInitialized(it),"onTrackLeave",function(){return it.props.autoplay&&it.state.autoplaying==="hovered"&&it.autoPlay("leave")}),_defineProperty$1(_assertThisInitialized(it),"onSlideFocus",function(){return it.props.autoplay&&it.pause("focused")}),_defineProperty$1(_assertThisInitialized(it),"onSlideBlur",function(){return it.props.autoplay&&it.state.autoplaying==="focused"&&it.autoPlay("blur")}),_defineProperty$1(_assertThisInitialized(it),"render",function(){var ot=(0,_classnames.default)("slick-slider",it.props.className,{"slick-vertical":it.props.vertical,"slick-initialized":!0}),at=_objectSpread(_objectSpread({},it.props),it.state),lt=(0,_innerSliderUtils.extractObject)(at,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),ut=it.props.pauseOnHover;lt=_objectSpread(_objectSpread({},lt),{},{onMouseEnter:ut?it.onTrackOver:null,onMouseLeave:ut?it.onTrackLeave:null,onMouseOver:ut?it.onTrackOver:null,focusOnSelect:it.props.focusOnSelect&&it.clickable?it.selectHandler:null});var ct;if(it.props.dots===!0&&it.state.slideCount>=it.props.slidesToShow){var dt=(0,_innerSliderUtils.extractObject)(at,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ft=it.props.pauseOnDotsHover;dt=_objectSpread(_objectSpread({},dt),{},{clickHandler:it.changeSlide,onMouseEnter:ft?it.onDotsLeave:null,onMouseOver:ft?it.onDotsOver:null,onMouseLeave:ft?it.onDotsLeave:null}),ct=_react.default.createElement(_dots.Dots,dt)}var pt,ht,mt=(0,_innerSliderUtils.extractObject)(at,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);mt.clickHandler=it.changeSlide,it.props.arrows&&(pt=_react.default.createElement(_arrows.PrevArrow,mt),ht=_react.default.createElement(_arrows.NextArrow,mt));var bt=null;it.props.vertical&&(bt={height:it.state.listHeight});var gt=null;it.props.vertical===!1?it.props.centerMode===!0&&(gt={padding:"0px "+it.props.centerPadding}):it.props.centerMode===!0&&(gt={padding:it.props.centerPadding+" 0px"});var xt=_objectSpread(_objectSpread({},bt),gt),yt=it.props.touchMove,vt={className:"slick-list",style:xt,onClick:it.clickHandler,onMouseDown:yt?it.swipeStart:null,onMouseMove:it.state.dragging&&yt?it.swipeMove:null,onMouseUp:yt?it.swipeEnd:null,onMouseLeave:it.state.dragging&&yt?it.swipeEnd:null,onTouchStart:yt?it.swipeStart:null,onTouchMove:it.state.dragging&&yt?it.swipeMove:null,onTouchEnd:yt?it.touchEnd:null,onTouchCancel:it.state.dragging&&yt?it.swipeEnd:null,onKeyDown:it.props.accessibility?it.keyHandler:null},Pt={className:ot,dir:"ltr",style:it.props.style};return it.props.unslick&&(vt={className:"slick-list"},Pt={className:ot}),_react.default.createElement("div",Pt,it.props.unslick?"":pt,_react.default.createElement("div",_extends$1({ref:it.listRefHandler},vt),_react.default.createElement(_track.Track,_extends$1({ref:it.trackRefHandler},lt),it.props.children)),it.props.unslick?"":ht,it.props.unslick?"":ct)}),it.list=null,it.track=null,it.state=_objectSpread(_objectSpread({},_initialState.default),{},{currentSlide:it.props.initialSlide,slideCount:_react.default.Children.count(it.props.children)}),it.callbackTimers=[],it.clickable=!0,it.debouncedResize=null;var st=it.ssrInit();return it.state=_objectSpread(_objectSpread({},it.state),st),it}return _createClass$1(rt,[{key:"didPropsChange",value:function(it){for(var st=!1,ot=0,at=Object.keys(this.props);ot<at.length;ot++){var lt=at[ot];if(!it.hasOwnProperty(lt)){st=!0;break}if(!(_typeof(it[lt])==="object"||typeof it[lt]=="function")&&it[lt]!==this.props[lt]){st=!0;break}}return st||_react.default.Children.count(this.props.children)!==_react.default.Children.count(it.children)}}]),rt}(_react.default.Component);innerSlider.InnerSlider=InnerSlider;var camel2hyphen$1=function(et){return et.replace(/[A-Z]/g,function(_e){return"-"+_e.toLowerCase()}).toLowerCase()},camel2hyphen_1=camel2hyphen$1,camel2hyphen=camel2hyphen_1,isDimension=function(et){var _e=/[height|width]$/;return _e.test(et)},obj2mq=function(et){var _e="",rt=Object.keys(et);return rt.forEach(function(nt,it){var st=et[nt];nt=camel2hyphen(nt),isDimension(nt)&&typeof st=="number"&&(st=st+"px"),st===!0?_e+=nt:st===!1?_e+="not "+nt:_e+="("+nt+": "+st+")",it<rt.length-1&&(_e+=" and ")}),_e},json2mq=function(et){var _e="";return typeof et=="string"?et:et instanceof Array?(et.forEach(function(rt,nt){_e+=obj2mq(rt),nt<et.length-1&&(_e+=", ")}),_e):obj2mq(et)},json2mq_1=json2mq,defaultProps={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var _e=rt(reactExports);function rt(st){return st&&st.__esModule?st:{default:st}}var nt={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(ot){return _e.default.createElement("ul",{style:{display:"block"}},ot)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(ot){return _e.default.createElement("button",null,ot+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},it=nt;et.default=it})(defaultProps);var QueryHandler_1,hasRequiredQueryHandler;function requireQueryHandler(){if(hasRequiredQueryHandler)return QueryHandler_1;hasRequiredQueryHandler=1;function et(_e){this.options=_e,!_e.deferSetup&&this.setup()}return et.prototype={constructor:et,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(_e){return this.options===_e||this.options.match===_e}},QueryHandler_1=et,QueryHandler_1}var Util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return Util;hasRequiredUtil=1;function et(nt,it){var st=0,ot=nt.length,at;for(st;st<ot&&(at=it(nt[st],st),at!==!1);st++);}function _e(nt){return Object.prototype.toString.apply(nt)==="[object Array]"}function rt(nt){return typeof nt=="function"}return Util={isFunction:rt,isArray:_e,each:et},Util}var MediaQuery_1,hasRequiredMediaQuery;function requireMediaQuery(){if(hasRequiredMediaQuery)return MediaQuery_1;hasRequiredMediaQuery=1;var et=requireQueryHandler(),_e=requireUtil().each;function rt(nt,it){this.query=nt,this.isUnconditional=it,this.handlers=[],this.mql=window.matchMedia(nt);var st=this;this.listener=function(ot){st.mql=ot.currentTarget||ot,st.assess()},this.mql.addListener(this.listener)}return rt.prototype={constuctor:rt,addHandler:function(nt){var it=new et(nt);this.handlers.push(it),this.matches()&&it.on()},removeHandler:function(nt){var it=this.handlers;_e(it,function(st,ot){if(st.equals(nt))return st.destroy(),!it.splice(ot,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){_e(this.handlers,function(nt){nt.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var nt=this.matches()?"on":"off";_e(this.handlers,function(it){it[nt]()})}},MediaQuery_1=rt,MediaQuery_1}var MediaQueryDispatch_1,hasRequiredMediaQueryDispatch;function requireMediaQueryDispatch(){if(hasRequiredMediaQueryDispatch)return MediaQueryDispatch_1;hasRequiredMediaQueryDispatch=1;var et=requireMediaQuery(),_e=requireUtil(),rt=_e.each,nt=_e.isFunction,it=_e.isArray;function st(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return st.prototype={constructor:st,register:function(ot,at,lt){var ut=this.queries,ct=lt&&this.browserIsIncapable;return ut[ot]||(ut[ot]=new et(ot,ct)),nt(at)&&(at={match:at}),it(at)||(at=[at]),rt(at,function(dt){nt(dt)&&(dt={match:dt}),ut[ot].addHandler(dt)}),this},unregister:function(ot,at){var lt=this.queries[ot];return lt&&(at?lt.removeHandler(at):(lt.clear(),delete this.queries[ot])),this}},MediaQueryDispatch_1=st,MediaQueryDispatch_1}var src$2,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src$2;hasRequiredSrc=1;var et=requireMediaQueryDispatch();return src$2=new et,src$2}(function(et){function _e(Et){return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Lt){return typeof Lt}:function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt},_e(Et)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var rt=at(reactExports),nt=innerSlider,it=at(json2mq_1),st=at(defaultProps),ot=innerSliderUtils;function at(Et){return Et&&Et.__esModule?Et:{default:Et}}function lt(){return lt=Object.assign||function(Et){for(var Lt=1;Lt<arguments.length;Lt++){var Nt=arguments[Lt];for(var $t in Nt)Object.prototype.hasOwnProperty.call(Nt,$t)&&(Et[$t]=Nt[$t])}return Et},lt.apply(this,arguments)}function ut(Et,Lt){var Nt=Object.keys(Et);if(Object.getOwnPropertySymbols){var $t=Object.getOwnPropertySymbols(Et);Lt&&($t=$t.filter(function(Mt){return Object.getOwnPropertyDescriptor(Et,Mt).enumerable})),Nt.push.apply(Nt,$t)}return Nt}function ct(Et){for(var Lt=1;Lt<arguments.length;Lt++){var Nt=arguments[Lt]!=null?arguments[Lt]:{};Lt%2?ut(Object(Nt),!0).forEach(function($t){Pt(Et,$t,Nt[$t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(Nt)):ut(Object(Nt)).forEach(function($t){Object.defineProperty(Et,$t,Object.getOwnPropertyDescriptor(Nt,$t))})}return Et}function dt(Et,Lt){if(!(Et instanceof Lt))throw new TypeError("Cannot call a class as a function")}function ft(Et,Lt){for(var Nt=0;Nt<Lt.length;Nt++){var $t=Lt[Nt];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(Et,$t.key,$t)}}function pt(Et,Lt,Nt){return Lt&&ft(Et.prototype,Lt),Nt&&ft(Et,Nt),Object.defineProperty(Et,"prototype",{writable:!1}),Et}function ht(Et,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Super expression must either be null or a function");Et.prototype=Object.create(Lt&&Lt.prototype,{constructor:{value:Et,writable:!0,configurable:!0}}),Object.defineProperty(Et,"prototype",{writable:!1}),Lt&&mt(Et,Lt)}function mt(Et,Lt){return mt=Object.setPrototypeOf||function($t,Mt){return $t.__proto__=Mt,$t},mt(Et,Lt)}function bt(Et){var Lt=yt();return function(){var $t=vt(Et),Mt;if(Lt){var Tt=vt(this).constructor;Mt=Reflect.construct($t,arguments,Tt)}else Mt=$t.apply(this,arguments);return gt(this,Mt)}}function gt(Et,Lt){if(Lt&&(_e(Lt)==="object"||typeof Lt=="function"))return Lt;if(Lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(Et)}function xt(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}function yt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(Et){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(Nt){return Nt.__proto__||Object.getPrototypeOf(Nt)},vt(Et)}function Pt(Et,Lt,Nt){return Lt in Et?Object.defineProperty(Et,Lt,{value:Nt,enumerable:!0,configurable:!0,writable:!0}):Et[Lt]=Nt,Et}var St=(0,ot.canUseDOM)()&&requireSrc(),Ot=function(Et){ht(Nt,Et);var Lt=bt(Nt);function Nt($t){var Mt;return dt(this,Nt),Mt=Lt.call(this,$t),Pt(xt(Mt),"innerSliderRefHandler",function(Tt){return Mt.innerSlider=Tt}),Pt(xt(Mt),"slickPrev",function(){return Mt.innerSlider.slickPrev()}),Pt(xt(Mt),"slickNext",function(){return Mt.innerSlider.slickNext()}),Pt(xt(Mt),"slickGoTo",function(Tt){var Rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Mt.innerSlider.slickGoTo(Tt,Rt)}),Pt(xt(Mt),"slickPause",function(){return Mt.innerSlider.pause("paused")}),Pt(xt(Mt),"slickPlay",function(){return Mt.innerSlider.autoPlay("play")}),Mt.state={breakpoint:null},Mt._responsiveMediaHandlers=[],Mt}return pt(Nt,[{key:"media",value:function(Mt,Tt){St.register(Mt,Tt),this._responsiveMediaHandlers.push({query:Mt,handler:Tt})}},{key:"componentDidMount",value:function(){var Mt=this;if(this.props.responsive){var Tt=this.props.responsive.map(function(kt){return kt.breakpoint});Tt.sort(function(kt,Dt){return kt-Dt}),Tt.forEach(function(kt,Dt){var At;Dt===0?At=(0,it.default)({minWidth:0,maxWidth:kt}):At=(0,it.default)({minWidth:Tt[Dt-1]+1,maxWidth:kt}),(0,ot.canUseDOM)()&&Mt.media(At,function(){Mt.setState({breakpoint:kt})})});var Rt=(0,it.default)({minWidth:Tt.slice(-1)[0]});(0,ot.canUseDOM)()&&this.media(Rt,function(){Mt.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(Mt){St.unregister(Mt.query,Mt.handler)})}},{key:"render",value:function(){var Mt=this,Tt,Rt;this.state.breakpoint?(Rt=this.props.responsive.filter(function(Kt){return Kt.breakpoint===Mt.state.breakpoint}),Tt=Rt[0].settings==="unslick"?"unslick":ct(ct(ct({},st.default),this.props),Rt[0].settings)):Tt=ct(ct({},st.default),this.props),Tt.centerMode&&(Tt.slidesToScroll>1,Tt.slidesToScroll=1),Tt.fade&&(Tt.slidesToShow>1,Tt.slidesToScroll>1,Tt.slidesToShow=1,Tt.slidesToScroll=1);var kt=rt.default.Children.toArray(this.props.children);kt=kt.filter(function(Kt){return typeof Kt=="string"?!!Kt.trim():!!Kt}),Tt.variableWidth&&(Tt.rows>1||Tt.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Tt.variableWidth=!1);for(var Dt=[],At=null,wt=0;wt<kt.length;wt+=Tt.rows*Tt.slidesPerRow){for(var It=[],Bt=wt;Bt<wt+Tt.rows*Tt.slidesPerRow;Bt+=Tt.slidesPerRow){for(var Ct=[],Ut=Bt;Ut<Bt+Tt.slidesPerRow&&(Tt.variableWidth&&kt[Ut].props.style&&(At=kt[Ut].props.style.width),!(Ut>=kt.length));Ut+=1)Ct.push(rt.default.cloneElement(kt[Ut],{key:100*wt+10*Bt+Ut,tabIndex:-1,style:{width:"".concat(100/Tt.slidesPerRow,"%"),display:"inline-block"}}));It.push(rt.default.createElement("div",{key:10*wt+Bt},Ct))}Tt.variableWidth?Dt.push(rt.default.createElement("div",{key:wt,style:{width:At}},It)):Dt.push(rt.default.createElement("div",{key:wt},It))}if(Tt==="unslick"){var jt="regular slider "+(this.props.className||"");return rt.default.createElement("div",{className:jt},kt)}else Dt.length<=Tt.slidesToShow&&(Tt.unslick=!0);return rt.default.createElement(nt.InnerSlider,lt({style:this.props.style,ref:this.innerSliderRefHandler},Tt),Dt)}}]),Nt}(rt.default.Component);et.default=Ot})(slider);(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var _e=rt(slider);function rt(it){return it&&it.__esModule?it:{default:it}}var nt=_e.default;et.default=nt})(lib$1);const Slider=getDefaultExportFromCjs(lib$1),lightboxAtom=atom({show:!1,images:[],isFleet:!1,meta:null});function Loading(et){const{isColored:_e,isSmall:rt}=et;return jsx("span",{className:cn("loader",{colored:_e,small:rt})})}const lightbox="_lightbox_70hvp_1",backdrop$1="_backdrop_70hvp_13",content="_content_70hvp_22",fleetContent="_fleetContent_70hvp_65",styles$c={lightbox,backdrop:backdrop$1,content,fleetContent};function Lightbox(et){var ut,ct;const[_e,rt]=useAtom(lightboxAtom),[nt,it]=reactExports.useState(!1),st=useQueryClient(),ot=dt=>{dt.preventDefault(),dt.stopPropagation(),rt(ft=>({...ft,show:!1,isFleet:!1,meta:null}))},at={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},lt=async(dt,ft)=>{dt.preventDefault(),dt.stopPropagation(),it(!0);const pt=_e.meta.data[ft].uri.split("/").pop();if((await agent$1.com.atproto.repo.deleteRecord({collection:"app.bsky.actor.profile",repo:_e.meta.user.did,rkey:pt})).success){it(!1);let mt=[..._e.images];mt.splice(ft,1),mt.length?rt(bt=>{let gt=[...bt.meta];return gt.splice(ft,1),{...bt,images:mt,meta:gt}}):rt(bt=>({...bt,images:mt,show:!1,meta:null})),st.invalidateQueries("fleets")}};return _e.show?jsx(Portal$1,{children:jsxs("div",{className:styles$c.lightbox,children:[jsx("div",{className:styles$c.backdrop,onClick:ot}),jsx("div",{className:cn(styles$c.content,{[styles$c.fleetContent]:_e.isFleet}),children:_e.images.length>1?jsx(Slider,{...at,children:(ut=_e.images)==null?void 0:ut.map((dt,ft)=>jsxs("div",{onClick:ot,children:[_e.isFleet?jsx("span",{onClick:pt=>lt(pt,ft),children:nt?jsx(Loading,{isColored:!0}):"Remove"}):"",jsx("img",{src:dt.fullsize||dt,alt:""})]},ft))}):(ct=_e.images)==null?void 0:ct.map((dt,ft)=>jsxs("div",{onClick:ot,children:[_e.isFleet?jsx("span",{onClick:pt=>lt(pt,ft),children:nt?jsx(Loading,{isColored:!0}):"Remove"}):"",jsx("img",{src:dt.fullsize||dt,alt:""})]},ft))})]})}):null}const AvatarPlaceholder="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADdgAAA3YBfdWCzAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA1XSURBVHic7Z1rjFXVFcd/axhGBXEUxVoFqlUeNjUtLUOpgJWH2BItoi0lNaZ8bvrFRDTil34hE7DGNDH9rDFUtAICqemgIGRAkbGVaiM6E9Qq2vgAxQHjA1n9sPe9c+ZyH+e99xnOL9m5k8m5Z//3Wuvuc84+e68tqspIQ0QmAFNsmQpcCYwHxgHn2s/K3wDHgUFbKn8fBQ4B/cAAMKCqH+XXinyQogeAiHQC84D5wFxgGtCZUXXHgDeAPcBzQK+qHsuorlwoXACIyGhgIbAA4/QZwChHcr4BXsYEw05gh6p+7UhLLAoTACIyB7gdWA5c6FhOI44ATwDrVXWvazFh8DoARGQqcAfG8Vc4lhOVt4D1wKOq2u9aTCO8DAARmQXcCywFxLGcpCiwBehW1f2uxdTiVQCIyCKM4xe41pIROzGB8KxrIRW8CAARWQysAWa61pITLwH3qep210KcBoCITAYeBG51JsItm4A7VfUdVwLaXFQqIh0isho4yJnrfDBtPygiq0Wkw4WA3HsAe53/C2aUrmSIAeD3ed8f5NYDiEi7iKwFtlM6vx5TgO0islZE2vOqNJceQEQmARuAazOvbGTwPLBCVd/NuqLMewARuRk4QOn8KFwLHLC2y5TMAkAMa4GtmDdxJdEYD2y1l4TMBsMyuQTYFzYPA79N/eRnJn8FVmbxoin1ABCRsZjn28WpnrhkO3Crqp5I86SpBoCIXAQ8DXSldtKSIH3AElX9OK0TphYAdlTvGcwMnJLs6AduSGv0MJUAsL/8vZTOz4t+YE4aPUHipwB7zX+a0vl5MhV42to+EYkCwN7tb6K85rugC9hkfRCb2AFgn00fprzbd8li4OFE4wSqGqsAazGzXcrivqyN68dYN4F2iHJr5C+WZMkvVXVb1C9FDgD7YucA5fCubxwFfhj1BVKkewD7mnIDpfN9ZDywIeqr5KjvnddQ7Ld6XwDvAe8HPgEuBS4LfJ7tRF1yrsX46J7Q34hw07cIOIX7G56o5V3gIeAGYHSIdo62xz5kv+taf9RyClgU2q8hnd+BGX1y3bgoZTPQFffuOND2Lnsu1+2JUvqBjjQDYLUHjQpbdgOzkzq+jg1m23O7bl/YsjqVAAAmAyc8aFCr8imwLG3H17HHMluX6/a2KieAyWkEwEYPGtOqDADTs3Z+wCbTbZ2u292qbEwUAJihRteNaFV2ABfk5fyAbS6wdbtuf6uyOEkA9HnQgFbOb8/b+QH7tBcgCPpiBQDmsc+1+GZlAAe//AY9ge+Xg4aPhc0a5nNkf0qO1/wQQTAdv28Md0QKAGCWB6Kblczv9mMEwTIP7NKszIoSAD4PfOx27ewmQeDzOMHmeppPexto07K8jr+ZOX6qqvtci6iHiMwGXnCtowGKuWwOS1dT723gHfjr/Kd8dT6A1faUax0NEIxvh/+zTg/wJv4mZJqlqn2uRTRDRLoA73IBWd5S1e8G/zGsB7Cp2Hx1/mHfnQ9gNR52raMBV1gfV6m9BNyeo5iobHEtIAI+ax3m42oA2OnFy3OXEx6fjVqLz1qXB6eSB3uAhfibgfMLYJdrERHYhdHsIxdifA0MDwCfc/O9pwXKwWu1vudaRxOqvg4GwHwHQsLyfutDvMNnzVVft0E15foMZ3Ja4/OvqRE+a55hfV7tAebhLuV6GHz+NTXCZ82jMD6vBoDP3X9JNsyHoQCY61BIGC51LSAGvmueC0MBMM2hkDBc5lpADHzXPA2gzW6wlNUeO2nh+6+pHr5r7hSRCW0UI23rZUkTIeSJ1ep7DwAwpSgBcDZwvWsREbieYqwvnNJGcXL7LHUtIAJF0Tq1DbOpYhEoilGhOFqvbKM4a/0n2skWXmM1TnStIyTj2zBbqBaF1a4FhKAIGiuMa2No/9wicIudeOklVtstrnVE4Nyi9QBgspP5is/a6jGuiAFwnYgscy2iFqvpOtc6IjJOgC8xGUCKxDFMEojXXQsBEJHpwD78H1Gt5Ssn28alQCewTUQucC3EathG8ZwPmJdBx12LiMlVwJN57rBVi637SauliBxvAwZdq0jAAqDHRU9g6+zB77mUrRgsegCAccB+ex3OBVvXfortfLABUNRLQJCrgH15PB3YOvZR3G4/SOEvAUE6Mfnzd2cxWCQis0VkN2Z/hELe8NVhsA2TZHgkcR3wgohsTuPdgYh0ichmzLLvoj3nt+JoO3DItYqMuAUzdHwYs1RrC7Cr1QITO5njeswbvaUU58VOHA4J8DvMzh8jnWOY3L//rikAP6gpkxg53XwzVgomw/Re10pS5m1gD9BrPweiLi2zPcEUzOzZefbz8lRVumeOABOAD10rSciHmAGZXmCPqmayPl9EJjIUEL8CLs6inhy5uJLcyOcUZ83KLmAFITNjp5wQqsPWvcsDO8Qpn1azhAEveiAobPkE+DNwteusYIFguNpq+sQD+4QtLwYD4AEPBLUqg8DdwBjXDm8SCGOsxkEP7NWqPBAMgJs8ENSsPA5MdO3gCIEw0Wp2bbdm5aZgAHQCJz0QVVsOAgtdOzRBICy0bXBtx9pyEuisBoAV61Nm8C8xXWnLPX58L5g9iO62bXJt10qpZhAPTgh5Dj/4AJivquu0QGlhGqGqX6vqOsxy7A9c67FUfR0MgJ0OhNRyALPR0/OuhaSNbVMXpo2uGfJ1TVf1Me66pb/h8R1+ipeEMbatruz8MYFLa7UHsN3tE9ECKRUU+COwXFU/d1B/rtg2Lse0WR1IeGLYpbUmOueQf0Sucv2rdNgbrHJg7znDNNQR9WaOYh5w7QTXhXwH4d6srb/etPD1df6XBeuBu3Kqy2fuIl+bD8PVhhE9wM06Ah7z0sC+et4G3JhhNUqYDSPsAVkmO+4DbiudP4S1xW0Y22TFllrnQ50eAEBEZmHeEKbNceD7qvrfDM5deETkO8B/yGbF9k9U9bSNLOouDbMHZjEwtKp0fmOsbVZlcOqd9ZwPDXoAABFZBDyTpgjMBoYunn0Lg4gI8CzpLjq5QVWfrVtfM3+ISB8wMwUBx4FrVPXtFM414hGRy4FXSedS8JKqNpwe32p18H0pCAC4p3R+eKyt7knpdE192LQHABCRjcCtCQTsBeaVXX807KWgFzM6G5dNqnpb03pCBMBkzKSGMTFF/FxVe2J+94xGRG4E/hHz659j5k2+0+yglgki7AnWxBRxoHR+fKzt4r4+XtPK+RCiBwAQkQ7M82nUtLIrVPXxiN8pCSAivwE2RPzaAGa85auW5w97abaPhdsJP0R8CJimqt+EPL6kDiIyCniD8BldFVjc6LGvltA5guwJ7w97PHB/6fzkWBtGtXso50OEHgCqOXF2Y9YTNuMr4GJVPRb65CUNsRs8fUjrbG7PAz9T1ZNhzx0pS5g98Qpa5xToAB4TkbOinL/kdKwNH6O1849i7rlCOx8iBgCAqr4LrAxx6C8wGTuKloPQG6ztNmFs2YqV1jeRiJUnUFW3AetCHLoE2FgGQXSszTZibNiKddYn0UkwlUkwM0zCTEXaCpzlevpVUQpwlrVZGNuux97LxaorodDRmNk9YYS+AFzi2ri+F+ASa6swNu0h4eqpSE8B9RCRsZiVJmESMh0GlqrqvxJVOkIRkR9hZmOFyUvUh1lBdSJJnYlzBVsBS4DTphvVYSLQKyK/TlrvSMPapJdwzu8HliR1PpDsElDTdU3GjFiF6bpOAd04yOzhW8E83nVbm4Sx3RvA5NTqT7kxF2FSqIadp/4qMNO1Exw6f6a1QVh77QcuSlVDBo0aS/gbQ8WsVe/mDHpKwNzldxMtJ0MPMDZ1LRk1cDThHxEr5TXMxBHnDsrY+fNsW6PYZj0Z5UrIsqGC2UMnSkMV+Dsww7WjMrDHDNu2qPZYS4LnfGcBEGj4zcCRiI0+hVlCPd2141Jo/3TblrA3eZVyBLN6Klt9ORlhEmZuYNToPwk8itkfyLkzI7Z5ttUeJ/fSXmBSLjpzNEi77c6i/hIq5RXgD8D5rp3bpI3nW42vxGzjKWuj9tw0OzDSIsxARhwDKWay4yOYN2TneOD0c6yWR6y2uO3qxyycyVV/4qHgONg3XXdh5qzHnW0MJvNWL+YRqUdVX01BXktE5BrMSt4bMXf1SeY9fI6ZdPsnDTGHL22cBEC1cjPl/EGSrTsI8j/gn5hp7K/Zz4Oq+llMfedh0sBeDXzPfv4Y+HYqas27/js1xOzdrHAaAFURIosxv4I0lqHV431MirbPMPsGfBYoAOfVlE7gW8ClGel5CbhPVbdndP7QeBEAFezM43sp/m5cjdgJdGuESZtZ41UAVLD5Ce7FbNmSZaaSPFDMK95ubbBE2yVeBkAFm67mDuB24ArHcqLyFmYI91Gtk5nDF7wOgCAiMgcTCMuBCx3LacQRTK7F9apaiG14ChMAFWxCpYWY+4T5mDH2UY7kfAO8jJkRtRPYoQXLfVS4AKjFLpqYhwmGucA0stvx6xhmQsYejNN7teCLXwofAPUQkQmYhaxTgKmYdXXjgXGYrBvjAn+DyWAyaEvl76OY9Y39mMWWA6r6UX6tyIf/AzT9MAy9EPfHAAAAAElFTkSuQmCC",PinIcon="/assets/pin-cc9b09a3.svg",RepostFillIcon="/assets/repost-fill-ad478ace.svg";function convertURIToBinary(et){let _e=";base64,",rt=et.indexOf(_e)+_e.length,nt=et.substring(rt),it=window.atob(nt),st=it.length,ot=new Uint8Array(new ArrayBuffer(st));for(let at=0;at<st;at++)ot[at]=it.charCodeAt(at);return ot}const intervals=[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60},{label:"second",seconds:1}];function timeSince(et){const _e=Math.floor((Date.now()-et.getTime())/1e3),rt=intervals.find(it=>it.seconds<_e);if(!rt)return;const nt=Math.floor(_e/rt.seconds);return`${nt} ${rt.label}${nt!==1?"s":""} ago`}const linkFromPost=(et,_e=null)=>{var rt,nt,it;return!et&&!_e?"":_e?`/blue/${_e==null?void 0:_e.split("/")[2]}/${_e==null?void 0:_e.split("/")[(_e==null?void 0:_e.split("/").length)-1]}`:`/blue/${(rt=et==null?void 0:et.uri)==null?void 0:rt.split("/")[2]}/${(it=et==null?void 0:et.uri)==null?void 0:it.split("/")[((nt=et==null?void 0:et.uri)==null?void 0:nt.split("/").length)-1]}`};function renderMarkdown(et){var nt;if(!et||!et.length)return[];const _e=new dist.RichText({text:et});_e.detectFacets(agent$1);let rt=[];for(const it of _e.segments())it.isLink()?rt.push(jsx("a",{href:(nt=it.link)==null?void 0:nt.uri,className:"text-primary",target:"_blank",children:it.text})):it.isMention()?rt.push(jsx(Link$1,{className:"text-primary",to:`/user/${it.text.substring(1,it.text.length)}`,children:it.text})):rt.push(it.text);return rt}var wavesurfer={exports:{}};/*!
 * wavesurfer.js 6.6.3 (2023-04-04)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(et,_e){(function(nt,it){et.exports=it()})(self,()=>(()=>{var rt={"./src/drawer.canvasentry.js":(ot,at,lt)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ut=dt(lt("./src/util/style.js")),ct=dt(lt("./src/util/get-id.js"));function dt(yt){return yt&&yt.__esModule?yt:{default:yt}}function ft(yt){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},ft(yt)}function pt(yt,vt){if(!(yt instanceof vt))throw new TypeError("Cannot call a class as a function")}function ht(yt,vt){for(var Pt=0;Pt<vt.length;Pt++){var St=vt[Pt];St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty(yt,bt(St.key),St)}}function mt(yt,vt,Pt){return vt&&ht(yt.prototype,vt),Pt&&ht(yt,Pt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function bt(yt){var vt=gt(yt,"string");return ft(vt)==="symbol"?vt:String(vt)}function gt(yt,vt){if(ft(yt)!=="object"||yt===null)return yt;var Pt=yt[Symbol.toPrimitive];if(Pt!==void 0){var St=Pt.call(yt,vt||"default");if(ft(St)!=="object")return St;throw new TypeError("@@toPrimitive must return a primitive value.")}return(vt==="string"?String:Number)(yt)}var xt=function(){function yt(){pt(this,yt),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,ct.default)(typeof this.constructor.name<"u"?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}return mt(yt,[{key:"initWave",value:function(Pt){this.wave=Pt,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(Pt){this.progress=Pt,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(Pt,St,Ot,Et){this.start=this.wave.offsetLeft/St||0,this.end=this.start+Pt/St,this.wave.width=Ot,this.wave.height=Et;var Lt={width:Pt+"px"};(0,ut.default)(this.wave,Lt),this.hasProgressCanvas&&(this.progress.width=Ot,this.progress.height=Et,(0,ut.default)(this.progress,Lt))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(Pt,St){this.waveCtx.fillStyle=this.getFillStyle(this.waveCtx,Pt),this.hasProgressCanvas&&(this.progressCtx.fillStyle=this.getFillStyle(this.progressCtx,St))}},{key:"getFillStyle",value:function(Pt,St){if(typeof St=="string"||St instanceof CanvasGradient)return St;var Ot=Pt.createLinearGradient(0,0,0,Pt.canvas.height);return St.forEach(function(Et,Lt){return Ot.addColorStop(Lt/St.length,Et)}),Ot}},{key:"applyCanvasTransforms",value:function(Pt){Pt&&(this.waveCtx.setTransform(0,1,1,0,0,0),this.hasProgressCanvas&&this.progressCtx.setTransform(0,1,1,0,0,0))}},{key:"fillRects",value:function(Pt,St,Ot,Et,Lt){this.fillRectToContext(this.waveCtx,Pt,St,Ot,Et,Lt),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,Pt,St,Ot,Et,Lt)}},{key:"fillRectToContext",value:function(Pt,St,Ot,Et,Lt,Nt){Pt&&(Nt?this.drawRoundedRect(Pt,St,Ot,Et,Lt,Nt):Pt.fillRect(St,Ot,Et,Lt))}},{key:"drawRoundedRect",value:function(Pt,St,Ot,Et,Lt,Nt){Lt!==0&&(Lt<0&&(Lt*=-1,Ot-=Lt),Pt.beginPath(),Pt.moveTo(St+Nt,Ot),Pt.lineTo(St+Et-Nt,Ot),Pt.quadraticCurveTo(St+Et,Ot,St+Et,Ot+Nt),Pt.lineTo(St+Et,Ot+Lt-Nt),Pt.quadraticCurveTo(St+Et,Ot+Lt,St+Et-Nt,Ot+Lt),Pt.lineTo(St+Nt,Ot+Lt),Pt.quadraticCurveTo(St,Ot+Lt,St,Ot+Lt-Nt),Pt.lineTo(St,Ot+Nt),Pt.quadraticCurveTo(St,Ot,St+Nt,Ot),Pt.closePath(),Pt.fill())}},{key:"drawLines",value:function(Pt,St,Ot,Et,Lt,Nt){this.drawLineToContext(this.waveCtx,Pt,St,Ot,Et,Lt,Nt),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,Pt,St,Ot,Et,Lt,Nt)}},{key:"drawLineToContext",value:function(Pt,St,Ot,Et,Lt,Nt,$t){if(Pt){var Mt=St.length/2,Tt=Math.round(Mt*this.start),Rt=Math.round(Mt*this.end)+1,kt=Tt,Dt=Rt,At=this.wave.width/(Dt-kt-1),wt=Et+Lt,It=Ot/Et;Pt.beginPath(),Pt.moveTo((kt-Tt)*At,wt),Pt.lineTo((kt-Tt)*At,wt-Math.round((St[2*kt]||0)/It));var Bt,Ct,Ut;for(Bt=kt;Bt<Dt;Bt++)Ct=St[2*Bt]||0,Ut=Math.round(Ct/It),Pt.lineTo((Bt-Tt)*At+this.halfPixel,wt-Ut);var jt=Dt-1;for(jt;jt>=kt;jt--)Ct=St[2*jt+1]||0,Ut=Math.round(Ct/It),Pt.lineTo((jt-Tt)*At+this.halfPixel,wt-Ut);Pt.lineTo((kt-Tt)*At,wt-Math.round((St[2*kt+1]||0)/It)),Pt.closePath(),Pt.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(Pt,St,Ot){var Et=this;if(Ot==="blob")return new Promise(function(Lt){Et.wave.toBlob(Lt,Pt,St)});if(Ot==="dataURL")return this.wave.toDataURL(Pt,St)}}]),yt}();at.default=xt,ot.exports=at.default},"./src/drawer.js":(ot,at,lt)=>{function ut(Nt){return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($t){return typeof $t}:function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},ut(Nt)}Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ct=ft(lt("./src/util/index.js"));function dt(Nt){if(typeof WeakMap!="function")return null;var $t=new WeakMap,Mt=new WeakMap;return(dt=function(Rt){return Rt?Mt:$t})(Nt)}function ft(Nt,$t){if(!$t&&Nt&&Nt.__esModule)return Nt;if(Nt===null||ut(Nt)!=="object"&&typeof Nt!="function")return{default:Nt};var Mt=dt($t);if(Mt&&Mt.has(Nt))return Mt.get(Nt);var Tt={},Rt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var kt in Nt)if(kt!=="default"&&Object.prototype.hasOwnProperty.call(Nt,kt)){var Dt=Rt?Object.getOwnPropertyDescriptor(Nt,kt):null;Dt&&(Dt.get||Dt.set)?Object.defineProperty(Tt,kt,Dt):Tt[kt]=Nt[kt]}return Tt.default=Nt,Mt&&Mt.set(Nt,Tt),Tt}function pt(Nt,$t){if(!(Nt instanceof $t))throw new TypeError("Cannot call a class as a function")}function ht(Nt,$t){for(var Mt=0;Mt<$t.length;Mt++){var Tt=$t[Mt];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(Nt,bt(Tt.key),Tt)}}function mt(Nt,$t,Mt){return $t&&ht(Nt.prototype,$t),Mt&&ht(Nt,Mt),Object.defineProperty(Nt,"prototype",{writable:!1}),Nt}function bt(Nt){var $t=gt(Nt,"string");return ut($t)==="symbol"?$t:String($t)}function gt(Nt,$t){if(ut(Nt)!=="object"||Nt===null)return Nt;var Mt=Nt[Symbol.toPrimitive];if(Mt!==void 0){var Tt=Mt.call(Nt,$t||"default");if(ut(Tt)!=="object")return Tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($t==="string"?String:Number)(Nt)}function xt(Nt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create($t&&$t.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),Object.defineProperty(Nt,"prototype",{writable:!1}),$t&&yt(Nt,$t)}function yt(Nt,$t){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Tt,Rt){return Tt.__proto__=Rt,Tt},yt(Nt,$t)}function vt(Nt){var $t=Ot();return function(){var Tt=Et(Nt),Rt;if($t){var kt=Et(this).constructor;Rt=Reflect.construct(Tt,arguments,kt)}else Rt=Tt.apply(this,arguments);return Pt(this,Rt)}}function Pt(Nt,$t){if($t&&(ut($t)==="object"||typeof $t=="function"))return $t;if($t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return St(Nt)}function St(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}function Ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Et(Nt){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Mt){return Mt.__proto__||Object.getPrototypeOf(Mt)},Et(Nt)}var Lt=function(Nt){xt(Mt,Nt);var $t=vt(Mt);function Mt(Tt,Rt){var kt;return pt(this,Mt),kt=$t.call(this),kt.container=ct.withOrientation(Tt,Rt.vertical),kt.params=Rt,kt.width=0,kt.height=Rt.height*kt.params.pixelRatio,kt.lastPos=0,kt.wrapper=null,kt}return mt(Mt,[{key:"style",value:function(Rt,kt){return ct.style(Rt,kt)}},{key:"createWrapper",value:function(){this.wrapper=ct.withOrientation(this.container.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",cursor:this.params.hideCursor?"none":"auto",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(Rt,kt){!kt&&Rt.preventDefault();var Dt=ct.withOrientation(Rt.targetTouches?Rt.targetTouches[0]:Rt,this.params.vertical).clientX,At=this.wrapper.getBoundingClientRect(),wt=this.width,It=this.getWidth(),Bt=this.getProgressPixels(At,Dt),Ct;return!this.params.fillParent&&wt<It?Ct=Bt*(this.params.pixelRatio/wt)||0:Ct=(Bt+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,ct.clamp(Ct,0,1)}},{key:"getProgressPixels",value:function(Rt,kt){return this.params.rtl?Rt.right-kt:kt-Rt.left}},{key:"setupWrapperEvents",value:function(){var Rt=this;this.wrapper.addEventListener("click",function(kt){var Dt=ct.withOrientation(kt,Rt.params.vertical),At=Rt.wrapper.offsetHeight-Rt.wrapper.clientHeight;if(At!==0){var wt=Rt.wrapper.getBoundingClientRect();if(Dt.clientY>=wt.bottom-At)return}Rt.params.interact&&Rt.fireEvent("click",kt,Rt.handleEvent(kt))}),this.wrapper.addEventListener("dblclick",function(kt){Rt.params.interact&&Rt.fireEvent("dblclick",kt,Rt.handleEvent(kt))}),this.wrapper.addEventListener("scroll",function(kt){return Rt.fireEvent("scroll",kt)})}},{key:"drawPeaks",value:function(Rt,kt,Dt,At){this.setWidth(kt)||this.clearWave(),this.params.barWidth?this.drawBars(Rt,0,Dt,At):this.drawWave(Rt,0,Dt,At)}},{key:"resetScroll",value:function(){this.wrapper!==null&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(Rt){var kt=this.wrapper.scrollWidth*Rt;this.recenterOnPosition(kt,!0)}},{key:"recenterOnPosition",value:function(Rt,kt){var Dt=this.wrapper.scrollLeft,At=~~(this.wrapper.clientWidth/2),wt=this.wrapper.scrollWidth-this.wrapper.clientWidth,It=Rt-At,Bt=It-Dt;if(wt!=0){if(!kt&&-At<=Bt&&Bt<At){var Ct=this.params.autoCenterRate;Ct/=At,Ct*=wt,Bt=Math.max(-Ct,Math.min(Ct,Bt)),It=Dt+Bt}It=Math.max(0,Math.min(wt,It)),It!=Dt&&(this.wrapper.scrollLeft=It)}}},{key:"getScrollX",value:function(){var Rt=0;if(this.wrapper){var kt=this.params.pixelRatio;if(Rt=Math.round(this.wrapper.scrollLeft*kt),this.params.scrollParent){var Dt=~~(this.wrapper.scrollWidth*kt-this.getWidth());Rt=Math.min(Dt,Math.max(0,Rt))}}return Rt}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(Rt){if(this.width==Rt)return!1;if(this.width=Rt,this.params.fillParent||this.params.scrollParent)this.style(this.wrapper,{width:""});else{var kt=~~(this.width/this.params.pixelRatio)+"px";this.style(this.wrapper,{width:kt})}return this.updateSize(),!0}},{key:"setHeight",value:function(Rt){return Rt==this.height?!1:(this.height=Rt,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(Rt){var kt=1/this.params.pixelRatio,Dt=Math.round(Rt*this.width)*kt;if(Dt<this.lastPos||Dt-this.lastPos>=kt){if(this.lastPos=Dt,this.params.scrollParent&&this.params.autoCenter){var At=~~(this.wrapper.scrollWidth*Rt);this.recenterOnPosition(At,this.params.autoCenterImmediately)}this.updateProgress(Dt)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container.domElement&&this.container.removeChild(this.wrapper.domElement),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(Rt,kt,Dt,At){}},{key:"drawWave",value:function(Rt,kt,Dt,At){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(Rt){}}]),Mt}(ct.Observer);at.default=Lt,ot.exports=at.default},"./src/drawer.multicanvas.js":(ot,at,lt)=>{function ut(Tt){return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},ut(Tt)}Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ct=mt(lt("./src/drawer.js")),dt=ht(lt("./src/util/index.js")),ft=mt(lt("./src/drawer.canvasentry.js"));function pt(Tt){if(typeof WeakMap!="function")return null;var Rt=new WeakMap,kt=new WeakMap;return(pt=function(At){return At?kt:Rt})(Tt)}function ht(Tt,Rt){if(!Rt&&Tt&&Tt.__esModule)return Tt;if(Tt===null||ut(Tt)!=="object"&&typeof Tt!="function")return{default:Tt};var kt=pt(Rt);if(kt&&kt.has(Tt))return kt.get(Tt);var Dt={},At=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var wt in Tt)if(wt!=="default"&&Object.prototype.hasOwnProperty.call(Tt,wt)){var It=At?Object.getOwnPropertyDescriptor(Tt,wt):null;It&&(It.get||It.set)?Object.defineProperty(Dt,wt,It):Dt[wt]=Tt[wt]}return Dt.default=Tt,kt&&kt.set(Tt,Dt),Dt}function mt(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}function bt(Tt,Rt){if(!(Tt instanceof Rt))throw new TypeError("Cannot call a class as a function")}function gt(Tt,Rt){for(var kt=0;kt<Rt.length;kt++){var Dt=Rt[kt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(Tt,yt(Dt.key),Dt)}}function xt(Tt,Rt,kt){return Rt&&gt(Tt.prototype,Rt),kt&&gt(Tt,kt),Object.defineProperty(Tt,"prototype",{writable:!1}),Tt}function yt(Tt){var Rt=vt(Tt,"string");return ut(Rt)==="symbol"?Rt:String(Rt)}function vt(Tt,Rt){if(ut(Tt)!=="object"||Tt===null)return Tt;var kt=Tt[Symbol.toPrimitive];if(kt!==void 0){var Dt=kt.call(Tt,Rt||"default");if(ut(Dt)!=="object")return Dt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Rt==="string"?String:Number)(Tt)}function Pt(Tt,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Super expression must either be null or a function");Tt.prototype=Object.create(Rt&&Rt.prototype,{constructor:{value:Tt,writable:!0,configurable:!0}}),Object.defineProperty(Tt,"prototype",{writable:!1}),Rt&&St(Tt,Rt)}function St(Tt,Rt){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Dt,At){return Dt.__proto__=At,Dt},St(Tt,Rt)}function Ot(Tt){var Rt=Nt();return function(){var Dt=$t(Tt),At;if(Rt){var wt=$t(this).constructor;At=Reflect.construct(Dt,arguments,wt)}else At=Dt.apply(this,arguments);return Et(this,At)}}function Et(Tt,Rt){if(Rt&&(ut(Rt)==="object"||typeof Rt=="function"))return Rt;if(Rt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lt(Tt)}function Lt(Tt){if(Tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tt}function Nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $t(Tt){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(kt){return kt.__proto__||Object.getPrototypeOf(kt)},$t(Tt)}var Mt=function(Tt){Pt(kt,Tt);var Rt=Ot(kt);function kt(Dt,At){var wt;return bt(this,kt),wt=Rt.call(this,Dt,At),wt.maxCanvasWidth=At.maxCanvasWidth,wt.maxCanvasElementWidth=Math.round(At.maxCanvasWidth/At.pixelRatio),wt.hasProgressCanvas=At.waveColor!=At.progressColor,wt.halfPixel=.5/At.pixelRatio,wt.canvases=[],wt.progressWave=null,wt.EntryClass=ft.default,wt.canvasContextAttributes=At.drawingContextAttributes,wt.overlap=2*Math.ceil(At.pixelRatio/2),wt.barRadius=At.barRadius||0,wt.vertical=At.vertical,wt}return xt(kt,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=dt.withOrientation(this.wrapper.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.progressWave,{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"}),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var At=this,wt=Math.round(this.width/this.params.pixelRatio),It=Math.ceil(wt/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<It;)this.addCanvas();for(;this.canvases.length>It;)this.removeCanvas();var Bt=this.maxCanvasWidth+this.overlap,Ct=this.canvases.length-1;this.canvases.forEach(function(Ut,jt){jt==Ct&&(Bt=At.width-At.maxCanvasWidth*Ct),At.updateDimensions(Ut,Bt,At.height),Ut.clearWave()})}},{key:"addCanvas",value:function(){var At=new this.EntryClass;At.canvasContextAttributes=this.canvasContextAttributes,At.hasProgressCanvas=this.hasProgressCanvas,At.halfPixel=this.halfPixel;var wt=this.maxCanvasElementWidth*this.canvases.length,It=dt.withOrientation(this.wrapper.appendChild(document.createElement("canvas")),this.params.vertical);if(this.style(It,{position:"absolute",zIndex:2,left:wt+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}),At.initWave(It),this.hasProgressCanvas){var Bt=dt.withOrientation(this.progressWave.appendChild(document.createElement("canvas")),this.params.vertical);this.style(Bt,{position:"absolute",left:wt+"px",top:0,bottom:0,height:"100%"}),At.initProgress(Bt)}this.canvases.push(At)}},{key:"removeCanvas",value:function(){var At=this.canvases[this.canvases.length-1];At.wave.parentElement.removeChild(At.wave.domElement),this.hasProgressCanvas&&At.progress.parentElement.removeChild(At.progress.domElement),At&&(At.destroy(),At=null),this.canvases.pop()}},{key:"updateDimensions",value:function(At,wt,It){var Bt=Math.round(wt/this.params.pixelRatio),Ct=Math.round(this.width/this.params.pixelRatio);At.updateDimensions(Bt,Ct,wt,It),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var At=this;dt.frame(function(){At.canvases.forEach(function(wt){return wt.clearWave()})})()}},{key:"drawBars",value:function(At,wt,It,Bt){var Ct=this;return this.prepareDraw(At,wt,It,Bt,function(Ut){var jt=Ut.absmax,Kt=Ut.hasMinVals;Ut.height;var Vt=Ut.offsetY,qt=Ut.halfH,Wt=Ut.peaks,Gt=Ut.channelIndex;if(It!==void 0){var rr=Kt?2:1,fr=Wt.length/rr,ir=Ct.params.barWidth*Ct.params.pixelRatio,cr=Ct.params.barGap===null?Math.max(Ct.params.pixelRatio,~~(ir/2)):Math.max(Ct.params.pixelRatio,Ct.params.barGap*Ct.params.pixelRatio),dr=ir+cr,lr=fr/Ct.width,_r=It,Sr=Bt,ur=_r;for(ur;ur<Sr;ur+=dr){var Er=0,yr=Math.floor(ur*lr)*rr,Ar=Math.floor((ur+dr)*lr)*rr;do{var Cr=Math.abs(Wt[yr]);Cr>Er&&(Er=Cr),yr+=rr}while(yr<Ar);var vr=Math.round(Er/jt*qt);Ct.params.barMinHeight&&(vr=Math.max(vr,Ct.params.barMinHeight)),Ct.fillRect(ur+Ct.halfPixel,qt-vr+Vt,ir+Ct.halfPixel,vr*2,Ct.barRadius,Gt)}}})}},{key:"drawWave",value:function(At,wt,It,Bt){var Ct=this;return this.prepareDraw(At,wt,It,Bt,function(Ut){var jt=Ut.absmax,Kt=Ut.hasMinVals;Ut.height;var Vt=Ut.offsetY,qt=Ut.halfH,Wt=Ut.peaks,Gt=Ut.channelIndex;if(!Kt){var rr=[],fr=Wt.length,ir=0;for(ir;ir<fr;ir++)rr[2*ir]=Wt[ir],rr[2*ir+1]=-Wt[ir];Wt=rr}It!==void 0&&Ct.drawLine(Wt,jt,qt,Vt,It,Bt,Gt),Ct.fillRect(0,qt+Vt-Ct.halfPixel,Ct.width,Ct.halfPixel,Ct.barRadius,Gt)})}},{key:"drawLine",value:function(At,wt,It,Bt,Ct,Ut,jt){var Kt=this,Vt=this.params.splitChannelsOptions.channelColors[jt]||{},qt=Vt.waveColor,Wt=Vt.progressColor;this.canvases.forEach(function(Gt,rr){Kt.setFillStyles(Gt,qt,Wt),Kt.applyCanvasTransforms(Gt,Kt.params.vertical),Gt.drawLines(At,wt,It,Bt,Ct,Ut)})}},{key:"fillRect",value:function(At,wt,It,Bt,Ct,Ut){var jt=Math.floor(At/this.maxCanvasWidth),Kt=Math.min(Math.ceil((At+It)/this.maxCanvasWidth)+1,this.canvases.length),Vt=jt;for(Vt;Vt<Kt;Vt++){var qt=this.canvases[Vt],Wt=Vt*this.maxCanvasWidth,Gt={x1:Math.max(At,Vt*this.maxCanvasWidth),y1:wt,x2:Math.min(At+It,Vt*this.maxCanvasWidth+qt.wave.width),y2:wt+Bt};if(Gt.x1<Gt.x2){var rr=this.params.splitChannelsOptions.channelColors[Ut]||{},fr=rr.waveColor,ir=rr.progressColor;this.setFillStyles(qt,fr,ir),this.applyCanvasTransforms(qt,this.params.vertical),qt.fillRects(Gt.x1-Wt,Gt.y1,Gt.x2-Gt.x1,Gt.y2-Gt.y1,Ct)}}}},{key:"hideChannel",value:function(At){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(At)}},{key:"prepareDraw",value:function(At,wt,It,Bt,Ct,Ut,jt){var Kt=this;return dt.frame(function(){if(At[0]instanceof Array){var Vt=At;if(Kt.params.splitChannels){var qt=Vt.filter(function(dr,lr){return!Kt.hideChannel(lr)});Kt.params.splitChannelsOptions.overlay||Kt.setHeight(Math.max(qt.length,1)*Kt.params.height*Kt.params.pixelRatio);var Wt;return Kt.params.splitChannelsOptions&&Kt.params.splitChannelsOptions.relativeNormalization&&(Wt=dt.max(Vt.map(function(dr){return dt.absMax(dr)}))),Vt.forEach(function(dr,lr){return Kt.prepareDraw(dr,lr,It,Bt,Ct,qt.indexOf(dr),Wt)})}At=Vt[0]}if(!Kt.hideChannel(wt)){var Gt=1/Kt.params.barHeight;Kt.params.normalize&&(Gt=jt===void 0?dt.absMax(At):jt);var rr=[].some.call(At,function(dr){return dr<0}),fr=Kt.params.height*Kt.params.pixelRatio,ir=fr/2,cr=fr*Ut||0;return Kt.params.splitChannelsOptions&&Kt.params.splitChannelsOptions.overlay&&(cr=0),Ct({absmax:Gt,hasMinVals:rr,height:fr,offsetY:cr,halfH:ir,peaks:At,channelIndex:wt})}})()}},{key:"setFillStyles",value:function(At){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.params.waveColor,It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.params.progressColor;At.setFillStyles(wt,It)}},{key:"applyCanvasTransforms",value:function(At){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;At.applyCanvasTransforms(wt)}},{key:"getImage",value:function(At,wt,It){if(It==="blob")return Promise.all(this.canvases.map(function(Ct){return Ct.getImage(At,wt,It)}));if(It==="dataURL"){var Bt=this.canvases.map(function(Ct){return Ct.getImage(At,wt,It)});return Bt.length>1?Bt:Bt[0]}}},{key:"updateProgress",value:function(At){this.style(this.progressWave,{width:At+"px"})}}]),kt}(ct.default);at.default=Mt,ot.exports=at.default},"./src/mediaelement-webaudio.js":(ot,at,lt)=>{function ut($t){return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt},ut($t)}Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ct=dt(lt("./src/mediaelement.js"));function dt($t){return $t&&$t.__esModule?$t:{default:$t}}function ft($t,Mt){if(!($t instanceof Mt))throw new TypeError("Cannot call a class as a function")}function pt($t,Mt){for(var Tt=0;Tt<Mt.length;Tt++){var Rt=Mt[Tt];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty($t,mt(Rt.key),Rt)}}function ht($t,Mt,Tt){return Mt&&pt($t.prototype,Mt),Tt&&pt($t,Tt),Object.defineProperty($t,"prototype",{writable:!1}),$t}function mt($t){var Mt=bt($t,"string");return ut(Mt)==="symbol"?Mt:String(Mt)}function bt($t,Mt){if(ut($t)!=="object"||$t===null)return $t;var Tt=$t[Symbol.toPrimitive];if(Tt!==void 0){var Rt=Tt.call($t,Mt||"default");if(ut(Rt)!=="object")return Rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Mt==="string"?String:Number)($t)}function gt(){return typeof Reflect<"u"&&Reflect.get?gt=Reflect.get.bind():gt=function(Mt,Tt,Rt){var kt=xt(Mt,Tt);if(kt){var Dt=Object.getOwnPropertyDescriptor(kt,Tt);return Dt.get?Dt.get.call(arguments.length<3?Mt:Rt):Dt.value}},gt.apply(this,arguments)}function xt($t,Mt){for(;!Object.prototype.hasOwnProperty.call($t,Mt)&&($t=Lt($t),$t!==null););return $t}function yt($t,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function");$t.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:$t,writable:!0,configurable:!0}}),Object.defineProperty($t,"prototype",{writable:!1}),Mt&&vt($t,Mt)}function vt($t,Mt){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Rt,kt){return Rt.__proto__=kt,Rt},vt($t,Mt)}function Pt($t){var Mt=Et();return function(){var Rt=Lt($t),kt;if(Mt){var Dt=Lt(this).constructor;kt=Reflect.construct(Rt,arguments,Dt)}else kt=Rt.apply(this,arguments);return St(this,kt)}}function St($t,Mt){if(Mt&&(ut(Mt)==="object"||typeof Mt=="function"))return Mt;if(Mt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ot($t)}function Ot($t){if($t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $t}function Et(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lt($t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)},Lt($t)}var Nt=function($t){yt(Tt,$t);var Mt=Pt(Tt);function Tt(Rt){var kt;return ft(this,Tt),kt=Mt.call(this,Rt),kt.params=Rt,kt.sourceMediaElement=null,kt}return ht(Tt,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(kt,Dt,At){gt(Lt(Tt.prototype),"_load",this).call(this,kt,Dt,At),this.createMediaElementSource(kt)}},{key:"createMediaElementSource",value:function(kt){this.sourceMediaElement=this.ac.createMediaElementSource(kt),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(kt,Dt){return this.resumeAudioContext(),gt(Lt(Tt.prototype),"play",this).call(this,kt,Dt)}},{key:"destroy",value:function(){gt(Lt(Tt.prototype),"destroy",this).call(this),this.destroyWebAudio()}}]),Tt}(ct.default);at.default=Nt,ot.exports=at.default},"./src/mediaelement.js":(ot,at,lt)=>{function ut(Rt){return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kt){return typeof kt}:function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt},ut(Rt)}Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ct=ht(lt("./src/webaudio.js")),dt=pt(lt("./src/util/index.js"));function ft(Rt){if(typeof WeakMap!="function")return null;var kt=new WeakMap,Dt=new WeakMap;return(ft=function(wt){return wt?Dt:kt})(Rt)}function pt(Rt,kt){if(!kt&&Rt&&Rt.__esModule)return Rt;if(Rt===null||ut(Rt)!=="object"&&typeof Rt!="function")return{default:Rt};var Dt=ft(kt);if(Dt&&Dt.has(Rt))return Dt.get(Rt);var At={},wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var It in Rt)if(It!=="default"&&Object.prototype.hasOwnProperty.call(Rt,It)){var Bt=wt?Object.getOwnPropertyDescriptor(Rt,It):null;Bt&&(Bt.get||Bt.set)?Object.defineProperty(At,It,Bt):At[It]=Rt[It]}return At.default=Rt,Dt&&Dt.set(Rt,At),At}function ht(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function mt(Rt,kt){if(!(Rt instanceof kt))throw new TypeError("Cannot call a class as a function")}function bt(Rt,kt){for(var Dt=0;Dt<kt.length;Dt++){var At=kt[Dt];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(Rt,xt(At.key),At)}}function gt(Rt,kt,Dt){return kt&&bt(Rt.prototype,kt),Dt&&bt(Rt,Dt),Object.defineProperty(Rt,"prototype",{writable:!1}),Rt}function xt(Rt){var kt=yt(Rt,"string");return ut(kt)==="symbol"?kt:String(kt)}function yt(Rt,kt){if(ut(Rt)!=="object"||Rt===null)return Rt;var Dt=Rt[Symbol.toPrimitive];if(Dt!==void 0){var At=Dt.call(Rt,kt||"default");if(ut(At)!=="object")return At;throw new TypeError("@@toPrimitive must return a primitive value.")}return(kt==="string"?String:Number)(Rt)}function vt(){return typeof Reflect<"u"&&Reflect.get?vt=Reflect.get.bind():vt=function(kt,Dt,At){var wt=Pt(kt,Dt);if(wt){var It=Object.getOwnPropertyDescriptor(wt,Dt);return It.get?It.get.call(arguments.length<3?kt:At):It.value}},vt.apply(this,arguments)}function Pt(Rt,kt){for(;!Object.prototype.hasOwnProperty.call(Rt,kt)&&(Rt=Mt(Rt),Rt!==null););return Rt}function St(Rt,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function");Rt.prototype=Object.create(kt&&kt.prototype,{constructor:{value:Rt,writable:!0,configurable:!0}}),Object.defineProperty(Rt,"prototype",{writable:!1}),kt&&Ot(Rt,kt)}function Ot(Rt,kt){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,wt){return At.__proto__=wt,At},Ot(Rt,kt)}function Et(Rt){var kt=$t();return function(){var At=Mt(Rt),wt;if(kt){var It=Mt(this).constructor;wt=Reflect.construct(At,arguments,It)}else wt=At.apply(this,arguments);return Lt(this,wt)}}function Lt(Rt,kt){if(kt&&(ut(kt)==="object"||typeof kt=="function"))return kt;if(kt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nt(Rt)}function Nt(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}function $t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mt(Rt){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Dt){return Dt.__proto__||Object.getPrototypeOf(Dt)},Mt(Rt)}var Tt=function(Rt){St(Dt,Rt);var kt=Et(Dt);function Dt(At){var wt;return mt(this,Dt),wt=kt.call(this,At),wt.params=At,wt.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},wt.mediaType=At.mediaType.toLowerCase(),wt.elementPosition=At.elementPosition,wt.peaks=null,wt.playbackRate=1,wt.volume=1,wt.isMuted=!1,wt.buffer=null,wt.onPlayEnd=null,wt.mediaListeners={},wt}return gt(Dt,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var wt=this;this.mediaListeners.error=function(){wt.fireEvent("error","Error loading media element")},this.mediaListeners.waiting=function(){wt.fireEvent("waiting")},this.mediaListeners.canplay=function(){wt.fireEvent("canplay")},this.mediaListeners.ended=function(){wt.fireEvent("finish")},this.mediaListeners.play=function(){wt.fireEvent("play")},this.mediaListeners.pause=function(){wt.fireEvent("pause")},this.mediaListeners.seeked=function(It){wt.fireEvent("seek")},this.mediaListeners.volumechange=function(It){wt.isMuted=wt.media.muted,wt.isMuted?wt.volume=0:wt.volume=wt.media.volume,wt.fireEvent("volume")},Object.keys(this.mediaListeners).forEach(function(It){wt.media.removeEventListener(It,wt.mediaListeners[It]),wt.media.addEventListener(It,wt.mediaListeners[It])})}},{key:"createTimer",value:function(){var wt=this,It=function Bt(){wt.isPaused()||(wt.fireEvent("audioprocess",wt.getCurrentTime()),dt.frame(Bt)())};this.on("play",It),this.on("pause",function(){wt.fireEvent("audioprocess",wt.getCurrentTime())})}},{key:"load",value:function(wt,It,Bt,Ct){var Ut=document.createElement(this.mediaType);Ut.controls=this.params.mediaControls,Ut.autoplay=this.params.autoplay||!1,Ut.preload=Ct??"auto",Ut.src=wt,Ut.style.width="100%";var jt=It.querySelector(this.mediaType);jt&&It.removeChild(jt),It.appendChild(Ut),this._load(Ut,Bt,Ct)}},{key:"loadElt",value:function(wt,It){wt.controls=this.params.mediaControls,wt.autoplay=this.params.autoplay||!1,this._load(wt,It,wt.preload)}},{key:"_load",value:function(wt,It,Bt){if(!(wt instanceof HTMLMediaElement)||typeof wt.addEventListener>"u")throw new Error("media parameter is not a valid media element");typeof wt.load=="function"&&!(It&&Bt=="none")&&wt.load(),this.media=wt,this._setupMediaListeners(),this.peaks=It,this.onPlayEnd=null,this.buffer=null,this.isMuted=wt.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var wt=(this.buffer||this.media).duration;return wt>=1/0&&(wt=this.media.seekable.end(0)),wt}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(wt){this.playbackRate=wt||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(wt){wt!=null&&!isNaN(wt)&&(this.media.currentTime=wt),this.clearPlayEnd()}},{key:"play",value:function(wt,It){this.seekTo(wt);var Bt=this.media.play();return It&&this.setPlayEnd(It),Bt}},{key:"pause",value:function(){var wt;return this.media&&(wt=this.media.pause()),this.clearPlayEnd(),wt}},{key:"setPlayEnd",value:function(wt){var It=this;this.clearPlayEnd(),this._onPlayEnd=function(Bt){Bt>=wt&&(It.pause(),It.seekTo(wt))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(wt,It,Bt){return this.buffer?vt(Mt(Dt.prototype),"getPeaks",this).call(this,wt,It,Bt):this.peaks||[]}},{key:"setSinkId",value:function(wt){return wt?this.media.setSinkId?this.media.setSinkId(wt):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+wt))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(wt){this.volume=wt,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(wt){this.isMuted=this.media.muted=wt}},{key:"destroy",value:function(){var wt=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach(function(It){wt.media&&wt.media.removeEventListener(It,wt.mediaListeners[It])}),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),Dt}(ct.default);at.default=Tt,ot.exports=at.default},"./src/peakcache.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;function lt(mt){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt},lt(mt)}function ut(mt,bt){if(!(mt instanceof bt))throw new TypeError("Cannot call a class as a function")}function ct(mt,bt){for(var gt=0;gt<bt.length;gt++){var xt=bt[gt];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(mt,ft(xt.key),xt)}}function dt(mt,bt,gt){return bt&&ct(mt.prototype,bt),gt&&ct(mt,gt),Object.defineProperty(mt,"prototype",{writable:!1}),mt}function ft(mt){var bt=pt(mt,"string");return lt(bt)==="symbol"?bt:String(bt)}function pt(mt,bt){if(lt(mt)!=="object"||mt===null)return mt;var gt=mt[Symbol.toPrimitive];if(gt!==void 0){var xt=gt.call(mt,bt||"default");if(lt(xt)!=="object")return xt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(bt==="string"?String:Number)(mt)}var ht=function(){function mt(){ut(this,mt),this.clearPeakCache()}return dt(mt,[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(gt,xt,yt){gt!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=gt);for(var vt=[],Pt=0;Pt<this.peakCacheRanges.length&&this.peakCacheRanges[Pt]<xt;)Pt++;for(Pt%2==0&&vt.push(xt);Pt<this.peakCacheRanges.length&&this.peakCacheRanges[Pt]<=yt;)vt.push(this.peakCacheRanges[Pt]),Pt++;Pt%2==0&&vt.push(yt),vt=vt.filter(function(Ot,Et,Lt){return Et==0?Ot!=Lt[Et+1]:Et==Lt.length-1?Ot!=Lt[Et-1]:Ot!=Lt[Et-1]&&Ot!=Lt[Et+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(vt),this.peakCacheRanges=this.peakCacheRanges.sort(function(Ot,Et){return Ot-Et}).filter(function(Ot,Et,Lt){return Et==0?Ot!=Lt[Et+1]:Et==Lt.length-1?Ot!=Lt[Et-1]:Ot!=Lt[Et-1]&&Ot!=Lt[Et+1]});var St=[];for(Pt=0;Pt<vt.length;Pt+=2)St.push([vt[Pt],vt[Pt+1]]);return St}},{key:"getCacheRanges",value:function(){var gt=[],xt;for(xt=0;xt<this.peakCacheRanges.length;xt+=2)gt.push([this.peakCacheRanges[xt],this.peakCacheRanges[xt+1]]);return gt}}]),mt}();at.default=ht,ot.exports=at.default},"./src/util/absMax.js":(ot,at,lt)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=ft;var ut=dt(lt("./src/util/max.js")),ct=dt(lt("./src/util/min.js"));function dt(pt){return pt&&pt.__esModule?pt:{default:pt}}function ft(pt){var ht=(0,ut.default)(pt),mt=(0,ct.default)(pt);return-mt>ht?-mt:ht}ot.exports=at.default},"./src/util/clamp.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=lt;function lt(ut,ct,dt){return Math.min(Math.max(ct,ut),dt)}ot.exports=at.default},"./src/util/fetch.js":(ot,at,lt)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=xt;var ut=ct(lt("./src/util/observer.js"));function ct(yt){return yt&&yt.__esModule?yt:{default:yt}}function dt(yt){return dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},dt(yt)}function ft(yt,vt){if(!(yt instanceof vt))throw new TypeError("Cannot call a class as a function")}function pt(yt,vt){for(var Pt=0;Pt<vt.length;Pt++){var St=vt[Pt];St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty(yt,mt(St.key),St)}}function ht(yt,vt,Pt){return vt&&pt(yt.prototype,vt),Pt&&pt(yt,Pt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function mt(yt){var vt=bt(yt,"string");return dt(vt)==="symbol"?vt:String(vt)}function bt(yt,vt){if(dt(yt)!=="object"||yt===null)return yt;var Pt=yt[Symbol.toPrimitive];if(Pt!==void 0){var St=Pt.call(yt,vt||"default");if(dt(St)!=="object")return St;throw new TypeError("@@toPrimitive must return a primitive value.")}return(vt==="string"?String:Number)(yt)}var gt=function(){function yt(vt,Pt,St){ft(this,yt),this.instance=vt,this.instance._reader=St.body.getReader(),this.total=parseInt(Pt,10),this.loaded=0}return ht(yt,[{key:"start",value:function(Pt){var St=this,Ot=function Et(){St.instance._reader.read().then(function(Lt){var Nt=Lt.done,$t=Lt.value;if(Nt){St.total===0&&St.instance.onProgress.call(St.instance,{loaded:St.loaded,total:St.total,lengthComputable:!1}),Pt.close();return}St.loaded+=$t.byteLength,St.instance.onProgress.call(St.instance,{loaded:St.loaded,total:St.total,lengthComputable:St.total!==0}),Pt.enqueue($t),Et()}).catch(function(Lt){Pt.error(Lt)})};Ot()}}]),yt}();function xt(yt){if(yt){if(!yt.url)throw new Error("fetch url missing")}else throw new Error("fetch options missing");var vt=new ut.default,Pt=new Headers,St=new Request(yt.url);vt.controller=new AbortController,yt&&yt.requestHeaders&&yt.requestHeaders.forEach(function(Lt){Pt.append(Lt.key,Lt.value)});var Ot=yt.responseType||"json",Et={method:yt.method||"GET",headers:Pt,mode:yt.mode||"cors",credentials:yt.credentials||"same-origin",cache:yt.cache||"default",redirect:yt.redirect||"follow",referrer:yt.referrer||"client",signal:vt.controller.signal};return fetch(St,Et).then(function(Lt){vt.response=Lt;var Nt=!0;Lt.body||(Nt=!1);var $t=Lt.headers.get("content-length");return $t===null&&(Nt=!1),Nt?(vt.onProgress=function(Mt){vt.fireEvent("progress",Mt)},new Response(new ReadableStream(new gt(vt,$t,Lt)),Et)):Lt}).then(function(Lt){var Nt;if(Lt.ok)switch(Ot){case"arraybuffer":return Lt.arrayBuffer();case"json":return Lt.json();case"blob":return Lt.blob();case"text":return Lt.text();default:Nt="Unknown responseType: "+Ot;break}throw Nt||(Nt="HTTP error status: "+Lt.status),new Error(Nt)}).then(function(Lt){vt.fireEvent("success",Lt)}).catch(function(Lt){vt.fireEvent("error",Lt)}),vt.fetchRequest=St,vt}ot.exports=at.default},"./src/util/frame.js":(ot,at,lt)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=dt;var ut=ct(lt("./src/util/request-animation-frame.js"));function ct(ft){return ft&&ft.__esModule?ft:{default:ft}}function dt(ft){return function(){for(var pt=arguments.length,ht=new Array(pt),mt=0;mt<pt;mt++)ht[mt]=arguments[mt];return(0,ut.default)(function(){return ft.apply(void 0,ht)})}}ot.exports=at.default},"./src/util/get-id.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=lt;function lt(ut){return ut===void 0&&(ut="wavesurfer_"),ut+Math.random().toString(32).substring(2)}ot.exports=at.default},"./src/util/index.js":(ot,at,lt)=>{Object.defineProperty(at,"__esModule",{value:!0}),Object.defineProperty(at,"Observer",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(at,"absMax",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(at,"clamp",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(at,"debounce",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(at,"fetchFile",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(at,"frame",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(at,"getId",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(at,"ignoreSilenceMode",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(at,"max",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(at,"min",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(at,"preventClick",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(at,"requestAnimationFrame",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(at,"style",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(at,"withOrientation",{enumerable:!0,get:function(){return Pt.default}});var ut=Ot(lt("./src/util/get-id.js")),ct=Ot(lt("./src/util/max.js")),dt=Ot(lt("./src/util/min.js")),ft=Ot(lt("./src/util/absMax.js")),pt=Ot(lt("./src/util/observer.js")),ht=Ot(lt("./src/util/style.js")),mt=Ot(lt("./src/util/request-animation-frame.js")),bt=Ot(lt("./src/util/frame.js")),gt=Ot(lt("./node_modules/debounce/index.js")),xt=Ot(lt("./src/util/prevent-click.js")),yt=Ot(lt("./src/util/fetch.js")),vt=Ot(lt("./src/util/clamp.js")),Pt=Ot(lt("./src/util/orientation.js")),St=Ot(lt("./src/util/silence-mode.js"));function Ot(Et){return Et&&Et.__esModule?Et:{default:Et}}},"./src/util/max.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=lt;function lt(ut){var ct=-1/0;return Object.keys(ut).forEach(function(dt){ut[dt]>ct&&(ct=ut[dt])}),ct}ot.exports=at.default},"./src/util/min.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=lt;function lt(ut){var ct=1/0;return Object.keys(ut).forEach(function(dt){ut[dt]<ct&&(ct=ut[dt])}),ct}ot.exports=at.default},"./src/util/observer.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;function lt(mt){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt},lt(mt)}function ut(mt,bt){if(!(mt instanceof bt))throw new TypeError("Cannot call a class as a function")}function ct(mt,bt){for(var gt=0;gt<bt.length;gt++){var xt=bt[gt];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(mt,ft(xt.key),xt)}}function dt(mt,bt,gt){return bt&&ct(mt.prototype,bt),gt&&ct(mt,gt),Object.defineProperty(mt,"prototype",{writable:!1}),mt}function ft(mt){var bt=pt(mt,"string");return lt(bt)==="symbol"?bt:String(bt)}function pt(mt,bt){if(lt(mt)!=="object"||mt===null)return mt;var gt=mt[Symbol.toPrimitive];if(gt!==void 0){var xt=gt.call(mt,bt||"default");if(lt(xt)!=="object")return xt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(bt==="string"?String:Number)(mt)}var ht=function(){function mt(){ut(this,mt),this._disabledEventEmissions=[],this.handlers=null}return dt(mt,[{key:"on",value:function(gt,xt){var yt=this;this.handlers||(this.handlers={});var vt=this.handlers[gt];return vt||(vt=this.handlers[gt]=[]),vt.push(xt),{name:gt,callback:xt,un:function(St,Ot){return yt.un(St,Ot)}}}},{key:"un",value:function(gt,xt){if(this.handlers){var yt=this.handlers[gt],vt;if(yt)if(xt)for(vt=yt.length-1;vt>=0;vt--)yt[vt]==xt&&yt.splice(vt,1);else yt.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(gt,xt){var yt=this,vt=function Pt(){for(var St=arguments.length,Ot=new Array(St),Et=0;Et<St;Et++)Ot[Et]=arguments[Et];xt.apply(yt,Ot),setTimeout(function(){yt.un(gt,Pt)},0)};return this.on(gt,vt)}},{key:"setDisabledEventEmissions",value:function(gt){this._disabledEventEmissions=gt}},{key:"_isDisabledEventEmission",value:function(gt){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(gt)}},{key:"fireEvent",value:function(gt){for(var xt=arguments.length,yt=new Array(xt>1?xt-1:0),vt=1;vt<xt;vt++)yt[vt-1]=arguments[vt];if(!(!this.handlers||this._isDisabledEventEmission(gt))){var Pt=this.handlers[gt];Pt&&Pt.forEach(function(St){St.apply(void 0,yt)})}}}]),mt}();at.default=ht,ot.exports=at.default},"./src/util/orientation.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=dt;var lt={width:"height",height:"width",overflowX:"overflowY",overflowY:"overflowX",clientWidth:"clientHeight",clientHeight:"clientWidth",clientX:"clientY",clientY:"clientX",scrollWidth:"scrollHeight",scrollLeft:"scrollTop",offsetLeft:"offsetTop",offsetTop:"offsetLeft",offsetHeight:"offsetWidth",offsetWidth:"offsetHeight",left:"top",right:"bottom",top:"left",bottom:"right",borderRightStyle:"borderBottomStyle",borderRightWidth:"borderBottomWidth",borderRightColor:"borderBottomColor"};function ut(ft,pt){return Object.prototype.hasOwnProperty.call(lt,ft)&&pt?lt[ft]:ft}var ct=Symbol("isProxy");function dt(ft,pt){return ft[ct]?ft:new Proxy(ft,{get:function(mt,bt,gt){if(bt===ct)return!0;if(bt==="domElement")return mt;if(bt==="style")return dt(mt.style,pt);if(bt==="canvas")return dt(mt.canvas,pt);if(bt==="getBoundingClientRect")return function(){return dt(mt.getBoundingClientRect.apply(mt,arguments),pt)};if(bt==="getContext")return function(){return dt(mt.getContext.apply(mt,arguments),pt)};var xt=mt[ut(bt,pt)];return typeof xt=="function"?xt.bind(mt):xt},set:function(mt,bt,gt){return mt[ut(bt,pt)]=gt,!0}})}ot.exports=at.default},"./src/util/prevent-click.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=ut;function lt(ct){ct.stopPropagation(),document.body.removeEventListener("click",lt,!0)}function ut(ct){document.body.addEventListener("click",lt,!0)}ot.exports=at.default},"./src/util/request-animation-frame.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var lt=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(ut,ct){return setTimeout(ut,1e3/60)}).bind(window);at.default=lt,ot.exports=at.default},"./src/util/silence-mode.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=lt;function lt(){var ut=new AudioContext,ct=ut.createBufferSource();ct.buffer=ut.createBuffer(1,1,44100),ct.connect(ut.destination),ct.start();var dt="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",ft=document.createElement("div");ft.innerHTML='<audio x-webkit-airplay="deny"></audio>';var pt=ft.children.item(0);pt.src=dt,pt.preload="auto",pt.type="audio/mpeg",pt.disableRemotePlayback=!0,pt.play(),pt.remove(),ft.remove()}ot.exports=at.default},"./src/util/style.js":(ot,at)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=lt;function lt(ut,ct){return Object.keys(ct).forEach(function(dt){ut.style[dt]!==ct[dt]&&(ut.style[dt]=ct[dt])}),ut}ot.exports=at.default},"./src/wavesurfer.js":(ot,at,lt)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ut=gt(lt("./src/util/index.js")),ct=mt(lt("./src/drawer.multicanvas.js")),dt=mt(lt("./src/webaudio.js")),ft=mt(lt("./src/mediaelement.js")),pt=mt(lt("./src/peakcache.js")),ht=mt(lt("./src/mediaelement-webaudio.js"));function mt(At){return At&&At.__esModule?At:{default:At}}function bt(At){if(typeof WeakMap!="function")return null;var wt=new WeakMap,It=new WeakMap;return(bt=function(Ct){return Ct?It:wt})(At)}function gt(At,wt){if(!wt&&At&&At.__esModule)return At;if(At===null||Nt(At)!=="object"&&typeof At!="function")return{default:At};var It=bt(wt);if(It&&It.has(At))return It.get(At);var Bt={},Ct=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ut in At)if(Ut!=="default"&&Object.prototype.hasOwnProperty.call(At,Ut)){var jt=Ct?Object.getOwnPropertyDescriptor(At,Ut):null;jt&&(jt.get||jt.set)?Object.defineProperty(Bt,Ut,jt):Bt[Ut]=At[Ut]}return Bt.default=At,It&&It.set(At,Bt),Bt}function xt(At,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");At.prototype=Object.create(wt&&wt.prototype,{constructor:{value:At,writable:!0,configurable:!0}}),Object.defineProperty(At,"prototype",{writable:!1}),wt&&yt(At,wt)}function yt(At,wt){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Bt,Ct){return Bt.__proto__=Ct,Bt},yt(At,wt)}function vt(At){var wt=Ot();return function(){var Bt=Et(At),Ct;if(wt){var Ut=Et(this).constructor;Ct=Reflect.construct(Bt,arguments,Ut)}else Ct=Bt.apply(this,arguments);return Pt(this,Ct)}}function Pt(At,wt){if(wt&&(Nt(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return St(At)}function St(At){if(At===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return At}function Ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Et(At){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(It){return It.__proto__||Object.getPrototypeOf(It)},Et(At)}function Lt(At,wt,It){return wt=Rt(wt),wt in At?Object.defineProperty(At,wt,{value:It,enumerable:!0,configurable:!0,writable:!0}):At[wt]=It,At}function Nt(At){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt},Nt(At)}function $t(At,wt){if(!(At instanceof wt))throw new TypeError("Cannot call a class as a function")}function Mt(At,wt){for(var It=0;It<wt.length;It++){var Bt=wt[It];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(At,Rt(Bt.key),Bt)}}function Tt(At,wt,It){return wt&&Mt(At.prototype,wt),It&&Mt(At,It),Object.defineProperty(At,"prototype",{writable:!1}),At}function Rt(At){var wt=kt(At,"string");return Nt(wt)==="symbol"?wt:String(wt)}function kt(At,wt){if(Nt(At)!=="object"||At===null)return At;var It=At[Symbol.toPrimitive];if(It!==void 0){var Bt=It.call(At,wt||"default");if(Nt(Bt)!=="object")return Bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(wt==="string"?String:Number)(At)}var Dt=function(At){xt(It,At);var wt=vt(It);function It(Bt){var Ct;if($t(this,It),Ct=wt.call(this),Lt(St(Ct),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,hideCursor:!1,ignoreSilenceMode:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:ct.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[],relativeNormalization:!1,splitDragSelection:!1},vertical:!1,waveColor:"#999",xhr:{}}),Lt(St(Ct),"backends",{MediaElement:ft.default,WebAudio:dt.default,MediaElementWebAudio:ht.default}),Lt(St(Ct),"util",ut),Ct.params=Object.assign({},Ct.defaultParams,Bt),Ct.params.splitChannelsOptions=Object.assign({},Ct.defaultParams.splitChannelsOptions,Bt.splitChannelsOptions),Ct.container=typeof Bt.container=="string"?document.querySelector(Ct.params.container):Ct.params.container,!Ct.container)throw new Error("Container element not found");if(Ct.params.mediaContainer==null?Ct.mediaContainer=Ct.container:typeof Ct.params.mediaContainer=="string"?Ct.mediaContainer=document.querySelector(Ct.params.mediaContainer):Ct.mediaContainer=Ct.params.mediaContainer,!Ct.mediaContainer)throw new Error("Media Container element not found");if(Ct.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(Ct.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(Ct.params.rtl===!0&&(Ct.params.vertical===!0?ut.style(Ct.container,{transform:"rotateX(180deg)"}):ut.style(Ct.container,{transform:"rotateY(180deg)"})),Ct.params.backgroundColor&&Ct.setBackgroundColor(Ct.params.backgroundColor),Ct.savedVolume=0,Ct.isMuted=!1,Ct.tmpEvents=[],Ct.currentRequest=null,Ct.arraybuffer=null,Ct.drawer=null,Ct.backend=null,Ct.peakCache=null,typeof Ct.params.renderer!="function")throw new Error("Renderer parameter is invalid");Ct.Drawer=Ct.params.renderer,Ct.params.backend=="AudioElement"&&(Ct.params.backend="MediaElement"),(Ct.params.backend=="WebAudio"||Ct.params.backend==="MediaElementWebAudio")&&!dt.default.prototype.supportsWebAudio.call(null)&&(Ct.params.backend="MediaElement"),Ct.Backend=Ct.backends[Ct.params.backend],Ct.initialisedPluginList={},Ct.isDestroyed=!1,Ct.isReady=!1;var Ut=0;return Ct._onResize=ut.debounce(function(){Ct.drawer.wrapper&&Ut!=Ct.drawer.wrapper.clientWidth&&!Ct.params.scrollParent&&(Ut=Ct.drawer.wrapper.clientWidth,Ut&&Ct.drawer.fireEvent("redraw"))},typeof Ct.params.responsive=="number"?Ct.params.responsive:100),Pt(Ct,St(Ct))}return Tt(It,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(Ct){var Ut=this;return Ct.forEach(function(jt){return Ut.addPlugin(jt)}),Ct.forEach(function(jt){jt.deferInit||Ut.initPlugin(jt.name)}),this.fireEvent("plugins-registered",Ct),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(Ct){var Ut=this;if(!Ct.name)throw new Error("Plugin does not have a name!");if(!Ct.instance)throw new Error("Plugin ".concat(Ct.name," does not have an instance property!"));Ct.staticProps&&Object.keys(Ct.staticProps).forEach(function(Vt){Ut[Vt]=Ct.staticProps[Vt]});var jt=Ct.instance,Kt=Object.getOwnPropertyNames(ut.Observer.prototype);return Kt.forEach(function(Vt){jt.prototype[Vt]=ut.Observer.prototype[Vt]}),this[Ct.name]=new jt(Ct.params||{},this),this.fireEvent("plugin-added",Ct.name),this}},{key:"initPlugin",value:function(Ct){if(!this[Ct])throw new Error("Plugin ".concat(Ct," has not been added yet!"));return this.initialisedPluginList[Ct]&&this.destroyPlugin(Ct),this[Ct].init(),this.initialisedPluginList[Ct]=!0,this.fireEvent("plugin-initialised",Ct),this}},{key:"destroyPlugin",value:function(Ct){if(!this[Ct])throw new Error("Plugin ".concat(Ct," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[Ct])throw new Error("Plugin ".concat(Ct," is not active and cannot be destroyed!"));if(typeof this[Ct].destroy!="function")throw new Error("Plugin ".concat(Ct," does not have a destroy function!"));return this[Ct].destroy(),delete this.initialisedPluginList[Ct],this.fireEvent("plugin-destroyed",Ct),this}},{key:"destroyAllPlugins",value:function(){var Ct=this;Object.keys(this.initialisedPluginList).forEach(function(Ut){return Ct.destroyPlugin(Ut)})}},{key:"createDrawer",value:function(){var Ct=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),this.params.responsive!==!1&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",function(){Ct.drawBuffer(),Ct.drawer.progress(Ct.backend.getPlayedPercents())}),this.drawer.on("click",function(Ut,jt){setTimeout(function(){return Ct.seekTo(jt)},0)}),this.drawer.on("scroll",function(Ut){Ct.params.partialRender&&Ct.drawBuffer(),Ct.fireEvent("scroll",Ut)})}},{key:"createBackend",value:function(){var Ct=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",function(){Ct.drawer.progress(Ct.backend.getPlayedPercents()),Ct.fireEvent("finish")}),this.backend.on("play",function(){return Ct.fireEvent("play")}),this.backend.on("pause",function(){return Ct.fireEvent("pause")}),this.backend.on("audioprocess",function(Ut){Ct.drawer.progress(Ct.backend.getPlayedPercents()),Ct.fireEvent("audioprocess",Ut)}),(this.params.backend==="MediaElement"||this.params.backend==="MediaElementWebAudio")&&(this.backend.on("seek",function(){Ct.drawer.progress(Ct.backend.getPlayedPercents())}),this.backend.on("volume",function(){var Ut=Ct.getVolume();Ct.fireEvent("volume",Ut),Ct.backend.isMuted!==Ct.isMuted&&(Ct.isMuted=Ct.backend.isMuted,Ct.fireEvent("mute",Ct.isMuted))}))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new pt.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(Ct){Ct>=this.getDuration()?this.seekTo(1):this.seekTo(Ct/this.getDuration())}},{key:"play",value:function(Ct,Ut){var jt=this;return this.params.ignoreSilenceMode&&ut.ignoreSilenceMode(),this.fireEvent("interaction",function(){return jt.play(Ct,Ut)}),this.backend.play(Ct,Ut)}},{key:"setPlayEnd",value:function(Ct){this.backend.setPlayEnd(Ct)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(Ct){this.skip(-Ct||-this.params.skipLength)}},{key:"skipForward",value:function(Ct){this.skip(Ct||this.params.skipLength)}},{key:"skip",value:function(Ct){var Ut=this.getDuration()||1,jt=this.getCurrentTime()||0;jt=Math.max(0,Math.min(Ut,jt+(Ct||0))),this.seekAndCenter(jt/Ut)}},{key:"seekAndCenter",value:function(Ct){this.seekTo(Ct),this.drawer.recenter(Ct)}},{key:"seekTo",value:function(Ct){var Ut=this;if(typeof Ct!="number"||!isFinite(Ct)||Ct<0||Ct>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",function(){return Ut.seekTo(Ct)});var jt=this.params.backend==="WebAudio",Kt=this.backend.isPaused();jt&&!Kt&&this.backend.pause();var Vt=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(Ct*this.getDuration()),this.drawer.progress(Ct),jt&&!Kt&&this.backend.play(),this.params.scrollParent=Vt,this.fireEvent("seek",Ct)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(Ct){return this.backend.setSinkId(Ct)}},{key:"setVolume",value:function(Ct){if(this.isMuted===!0){this.savedVolume=Ct;return}this.backend.setVolume(Ct),this.fireEvent("volume",Ct)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(Ct){this.backend.setPlaybackRate(Ct)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(Ct){if(Ct===this.isMuted){this.fireEvent("mute",this.isMuted);return}this.backend.setMute?(this.backend.setMute(Ct),this.isMuted=Ct):Ct?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[Ct]?this.params.splitChannelsOptions.channelColors[Ct].waveColor:this.params.waveColor}},{key:"setWaveColor",value:function(Ct){var Ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.params.splitChannelsOptions.channelColors[Ut]?this.params.splitChannelsOptions.channelColors[Ut].waveColor=Ct:this.params.waveColor=Ct,this.drawBuffer()}},{key:"getProgressColor",value:function(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[Ct]?this.params.splitChannelsOptions.channelColors[Ct].progressColor:this.params.progressColor}},{key:"setProgressColor",value:function(Ct,Ut){this.params.splitChannelsOptions.channelColors[Ut]?this.params.splitChannelsOptions.channelColors[Ut].progressColor=Ct:this.params.progressColor=Ct,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(Ct){this.params.backgroundColor=Ct,ut.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(Ct){this.params.cursorColor=Ct,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(Ct){this.params.height=Ct,this.drawer.setHeight(Ct*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(Ct){this.params.splitChannelsOptions.filterChannels=Ct,this.drawBuffer()}},{key:"drawBuffer",value:function(){var Ct=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),Ut=this.drawer.getWidth(),jt=Ct,Kt=0,Vt=Math.max(Kt+Ut,jt);this.params.fillParent&&(!this.params.scrollParent||Ct<Ut)&&(jt=Ut,Kt=0,Vt=jt);var qt;if(this.params.partialRender){var Wt=this.peakCache.addRangeToPeakCache(jt,Kt,Vt),Gt;for(Gt=0;Gt<Wt.length;Gt++)qt=this.backend.getPeaks(jt,Wt[Gt][0],Wt[Gt][1]),this.drawer.drawPeaks(qt,jt,Wt[Gt][0],Wt[Gt][1])}else qt=this.backend.getPeaks(jt,Kt,Vt),this.drawer.drawPeaks(qt,jt,Kt,Vt);this.fireEvent("redraw",qt,jt)}},{key:"zoom",value:function(Ct){Ct?(this.params.minPxPerSec=Ct,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",Ct)}},{key:"loadArrayBuffer",value:function(Ct){var Ut=this;this.decodeArrayBuffer(Ct,function(jt){Ut.isDestroyed||Ut.loadDecodedBuffer(jt)})}},{key:"loadDecodedBuffer",value:function(Ct){this.backend.load(Ct),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(Ct){var Ut=this,jt=new FileReader;jt.addEventListener("progress",function(Kt){return Ut.onProgress(Kt)}),jt.addEventListener("load",function(Kt){return Ut.loadArrayBuffer(Kt.target.result)}),jt.addEventListener("error",function(){return Ut.fireEvent("error","Error reading file")}),jt.readAsArrayBuffer(Ct),this.empty()}},{key:"load",value:function(Ct,Ut,jt,Kt){if(!Ct)throw new Error("url parameter cannot be empty");if(this.empty(),jt){var Vt={"Preload is not 'auto', 'none' or 'metadata'":["auto","metadata","none"].indexOf(jt)===-1,"Peaks are not provided":!Ut,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend)===-1,"Url is not of type string":typeof Ct!="string"},qt=Object.keys(Vt).filter(function(Wt){return Vt[Wt]});qt.length&&(console.warn(`Preload parameter of wavesurfer.load will be ignored because:
	- `+qt.join(`
	- `)),jt=null)}switch(this.params.backend==="WebAudio"&&Ct instanceof HTMLMediaElement&&(Ct=Ct.src),this.params.backend){case"WebAudio":return this.loadBuffer(Ct,Ut,Kt);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(Ct,Ut,jt,Kt)}}},{key:"loadBuffer",value:function(Ct,Ut,jt){var Kt=this,Vt=function(Wt){return Wt&&Kt.tmpEvents.push(Kt.once("ready",Wt)),Kt.getArrayBuffer(Ct,function(Gt){return Kt.loadArrayBuffer(Gt)})};if(Ut)this.backend.setPeaks(Ut,jt),this.drawBuffer(),this.fireEvent("waveform-ready"),this.tmpEvents.push(this.once("interaction",Vt));else return Vt()}},{key:"loadMediaElement",value:function(Ct,Ut,jt,Kt){var Vt=this,qt=Ct;if(typeof Ct=="string")this.backend.load(qt,this.mediaContainer,Ut,jt);else{var Wt=Ct;this.backend.loadElt(Wt,Ut),qt=Wt.src}this.tmpEvents.push(this.backend.once("canplay",function(){Vt.backend.destroyed||(Vt.drawBuffer(),Vt.isReady=!0,Vt.fireEvent("ready"))}),this.backend.once("error",function(Gt){return Vt.fireEvent("error",Gt)})),Ut&&(this.backend.setPeaks(Ut,Kt),this.drawBuffer(),this.fireEvent("waveform-ready")),(!Ut||this.params.forceDecode)&&this.backend.supportsWebAudio()&&this.getArrayBuffer(qt,function(Gt){Vt.decodeArrayBuffer(Gt,function(rr){Vt.backend.buffer=rr,Vt.backend.setPeaks(null),Vt.drawBuffer(),Vt.fireEvent("waveform-ready")})})}},{key:"decodeArrayBuffer",value:function(Ct,Ut){var jt=this;this.isDestroyed||(this.arraybuffer=Ct,this.backend.decodeArrayBuffer(Ct,function(Kt){!jt.isDestroyed&&jt.arraybuffer==Ct&&(Ut(Kt),jt.arraybuffer=null)},function(){return jt.fireEvent("error","Error decoding audiobuffer")}))}},{key:"getArrayBuffer",value:function(Ct,Ut){var jt=this,Kt=Object.assign({url:Ct,responseType:"arraybuffer"},this.params.xhr),Vt=ut.fetchFile(Kt);return this.currentRequest=Vt,this.tmpEvents.push(Vt.on("progress",function(qt){jt.onProgress(qt)}),Vt.on("success",function(qt){Ut(qt),jt.currentRequest=null}),Vt.on("error",function(qt){jt.fireEvent("error",qt),jt.currentRequest=null})),Vt}},{key:"onProgress",value:function(Ct){var Ut;Ct.lengthComputable?Ut=Ct.loaded/Ct.total:Ut=Ct.loaded/(Ct.loaded+1e6),this.fireEvent("loading",Math.round(Ut*100),Ct.target)}},{key:"exportPCM",value:function(Ct,Ut,jt,Kt,Vt){Ct=Ct||1024,Kt=Kt||0,Ut=Ut||1e4,jt=jt||!1;var qt=this.backend.getPeaks(Ct,Kt,Vt),Wt=[].map.call(qt,function(Gt){return Math.round(Gt*Ut)/Ut});return new Promise(function(Gt,rr){if(!jt){var fr=new Blob([JSON.stringify(Wt)],{type:"application/json;charset=utf-8"}),ir=URL.createObjectURL(fr);window.open(ir),URL.revokeObjectURL(ir)}Gt(Wt)})}},{key:"exportImage",value:function(Ct,Ut,jt){return Ct||(Ct="image/png"),Ut||(Ut=1),jt||(jt="dataURL"),this.drawer.getImage(Ct,Ut,jt)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch(function(Ct){}),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach(function(Ct){return Ct.un()})}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.params.responsive!==!1&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&(this.backend.destroy(),this.backend=null),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}],[{key:"create",value:function(Ct){var Ut=new It(Ct);return Ut.init()}}]),It}(ut.Observer);at.default=Dt,Lt(Dt,"VERSION","6.6.3"),Lt(Dt,"util",ut),ot.exports=at.default},"./src/webaudio.js":(ot,at,lt)=>{Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ut=dt(lt("./src/util/index.js"));function ct(Rt){if(typeof WeakMap!="function")return null;var kt=new WeakMap,Dt=new WeakMap;return(ct=function(wt){return wt?Dt:kt})(Rt)}function dt(Rt,kt){if(!kt&&Rt&&Rt.__esModule)return Rt;if(Rt===null||ft(Rt)!=="object"&&typeof Rt!="function")return{default:Rt};var Dt=ct(kt);if(Dt&&Dt.has(Rt))return Dt.get(Rt);var At={},wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var It in Rt)if(It!=="default"&&Object.prototype.hasOwnProperty.call(Rt,It)){var Bt=wt?Object.getOwnPropertyDescriptor(Rt,It):null;Bt&&(Bt.get||Bt.set)?Object.defineProperty(At,It,Bt):At[It]=Rt[It]}return At.default=Rt,Dt&&Dt.set(Rt,At),At}function ft(Rt){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kt){return typeof kt}:function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt},ft(Rt)}function pt(Rt,kt){if(!(Rt instanceof kt))throw new TypeError("Cannot call a class as a function")}function ht(Rt,kt){for(var Dt=0;Dt<kt.length;Dt++){var At=kt[Dt];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(Rt,Et(At.key),At)}}function mt(Rt,kt,Dt){return kt&&ht(Rt.prototype,kt),Dt&&ht(Rt,Dt),Object.defineProperty(Rt,"prototype",{writable:!1}),Rt}function bt(Rt,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function");Rt.prototype=Object.create(kt&&kt.prototype,{constructor:{value:Rt,writable:!0,configurable:!0}}),Object.defineProperty(Rt,"prototype",{writable:!1}),kt&&gt(Rt,kt)}function gt(Rt,kt){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(At,wt){return At.__proto__=wt,At},gt(Rt,kt)}function xt(Rt){var kt=Pt();return function(){var At=St(Rt),wt;if(kt){var It=St(this).constructor;wt=Reflect.construct(At,arguments,It)}else wt=At.apply(this,arguments);return yt(this,wt)}}function yt(Rt,kt){if(kt&&(ft(kt)==="object"||typeof kt=="function"))return kt;if(kt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vt(Rt)}function vt(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}function Pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function St(Rt){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Dt){return Dt.__proto__||Object.getPrototypeOf(Dt)},St(Rt)}function Ot(Rt,kt,Dt){return kt=Et(kt),kt in Rt?Object.defineProperty(Rt,kt,{value:Dt,enumerable:!0,configurable:!0,writable:!0}):Rt[kt]=Dt,Rt}function Et(Rt){var kt=Lt(Rt,"string");return ft(kt)==="symbol"?kt:String(kt)}function Lt(Rt,kt){if(ft(Rt)!=="object"||Rt===null)return Rt;var Dt=Rt[Symbol.toPrimitive];if(Dt!==void 0){var At=Dt.call(Rt,kt||"default");if(ft(At)!=="object")return At;throw new TypeError("@@toPrimitive must return a primitive value.")}return(kt==="string"?String:Number)(Rt)}var Nt="playing",$t="paused",Mt="finished",Tt=function(Rt){bt(Dt,Rt);var kt=xt(Dt);function Dt(At){var wt,It,Bt;return pt(this,Dt),Bt=kt.call(this),Ot(vt(Bt),"audioContext",null),Ot(vt(Bt),"stateBehaviors",(wt={},Ot(wt,Nt,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var Ut=this.getDuration();return this.getCurrentTime()/Ut||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),Ot(wt,$t,{init:function(){},getPlayedPercents:function(){var Ut=this.getDuration();return this.getCurrentTime()/Ut||0},getCurrentTime:function(){return this.startPosition}}),Ot(wt,Mt,{init:function(){this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),wt)),Bt.params=At,Bt.ac=At.audioContext||(Bt.supportsWebAudio()?Bt.getAudioContext():{}),Bt.lastPlay=Bt.ac.currentTime,Bt.startPosition=0,Bt.scheduledPause=null,Bt.states=(It={},Ot(It,Nt,Object.create(Bt.stateBehaviors[Nt])),Ot(It,$t,Object.create(Bt.stateBehaviors[$t])),Ot(It,Mt,Object.create(Bt.stateBehaviors[Mt])),It),Bt.buffer=null,Bt.filters=[],Bt.gainNode=null,Bt.mergedPeaks=null,Bt.offlineAc=null,Bt.peaks=null,Bt.playbackRate=1,Bt.analyser=null,Bt.scriptNode=null,Bt.source=null,Bt.splitPeaks=[],Bt.state=null,Bt.explicitDuration=At.duration,Bt.sinkStreamDestination=null,Bt.sinkAudioElement=null,Bt.destroyed=!1,Bt}return mt(Dt,[{key:"supportsWebAudio",value:function(){return!!(window.AudioContext||window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(wt){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,wt)),window.WaveSurferOfflineAudioContext}},{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState($t),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach(function(wt){wt&&wt.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(wt){this.state!==this.states[wt]&&(this.state=this.states[wt],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var wt=arguments.length,It=new Array(wt),Bt=0;Bt<wt;Bt++)It[Bt]=arguments[Bt];this.setFilters(It)}},{key:"setFilters",value:function(wt){this.disconnectFilters(),wt&&wt.length&&(this.filters=wt,this.analyser.disconnect(),wt.reduce(function(It,Bt){return It.connect(Bt),Bt},this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor&&(this.scriptNode=this.params.audioScriptProcessor,this.scriptNode.connect(this.ac.destination))}},{key:"addOnAudioProcess",value:function(){var wt=this,It=function Bt(){var Ct=wt.getCurrentTime();Ct>=wt.getDuration()&&wt.state!==wt.states[Mt]?(wt.setState(Mt),wt.fireEvent("pause")):Ct>=wt.scheduledPause&&wt.state!==wt.states[$t]?wt.pause():wt.state===wt.states[Nt]&&(wt.fireEvent("audioprocess",Ct),ut.frame(Bt)())};It()}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(wt){return wt?(this.sinkAudioElement||(this.sinkAudioElement=new window.Audio,this.sinkAudioElement.autoplay=!0),this.sinkAudioElement.setSinkId?(this.sinkStreamDestination||(this.sinkStreamDestination=this.ac.createMediaStreamDestination()),this.gainNode.disconnect(),this.gainNode.connect(this.sinkStreamDestination),this.sinkAudioElement.srcObject=this.sinkStreamDestination.stream,this.sinkAudioElement.setSinkId(wt)):Promise.reject(new Error("setSinkId is not supported in your browser"))):Promise.reject(new Error("Invalid deviceId: "+wt))}},{key:"setVolume",value:function(wt){this.gainNode.gain.setValueAtTime(wt,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(wt,It,Bt){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),"webkitAudioContext"in window?this.offlineAc.decodeAudioData(wt,function(Ct){return It(Ct)},Bt):this.offlineAc.decodeAudioData(wt).then(function(Ct){return It(Ct)}).catch(function(Ct){return Bt(Ct)})}},{key:"setPeaks",value:function(wt,It){It!=null&&(this.explicitDuration=It),this.peaks=wt}},{key:"setLength",value:function(wt){if(!(this.mergedPeaks&&wt==2*this.mergedPeaks.length-1+2)){this.splitPeaks=[],this.mergedPeaks=[];var It=this.buffer?this.buffer.numberOfChannels:1,Bt;for(Bt=0;Bt<It;Bt++)this.splitPeaks[Bt]=[],this.splitPeaks[Bt][2*(wt-1)]=0,this.splitPeaks[Bt][2*(wt-1)+1]=0;this.mergedPeaks[2*(wt-1)]=0,this.mergedPeaks[2*(wt-1)+1]=0}}},{key:"getPeaks",value:function(wt,It,Bt){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(It=It||0,Bt=Bt||wt-1,this.setLength(wt),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var Ct=this.createBuffer(1,4096,this.sampleRate);this.buffer=Ct.buffer}var Ut=this.buffer.length/wt,jt=~~(Ut/10)||1,Kt=this.buffer.numberOfChannels,Vt;for(Vt=0;Vt<Kt;Vt++){var qt=this.splitPeaks[Vt],Wt=this.buffer.getChannelData(Vt),Gt=void 0;for(Gt=It;Gt<=Bt;Gt++){var rr=~~(Gt*Ut),fr=~~(rr+Ut),ir=Wt[rr],cr=ir,dr=void 0;for(dr=rr;dr<fr;dr+=jt){var lr=Wt[dr];lr>cr&&(cr=lr),lr<ir&&(ir=lr)}qt[2*Gt]=cr,qt[2*Gt+1]=ir,(Vt==0||cr>this.mergedPeaks[2*Gt])&&(this.mergedPeaks[2*Gt]=cr),(Vt==0||ir<this.mergedPeaks[2*Gt+1])&&(this.mergedPeaks[2*Gt+1]=ir)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode&&this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&(typeof this.ac.close=="function"&&this.ac.state!="closed"&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null),this.sinkStreamDestination&&(this.sinkAudioElement.pause(),this.sinkAudioElement.srcObject=null,this.sinkStreamDestination.disconnect(),this.sinkStreamDestination=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(wt){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=wt,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.setPlaybackRate(this.playbackRate),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){this.ac.state=="suspended"&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states[Nt]}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(wt,It){if(this.buffer)return this.scheduledPause=null,wt==null&&(wt=this.getCurrentTime(),wt>=this.getDuration()&&(wt=0)),It==null&&(It=this.getDuration()),this.startPosition=wt,this.lastPlay=this.ac.currentTime,this.state===this.states[Mt]&&this.setState($t),{start:wt,end:It}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(wt,It){if(this.buffer){this.createSource();var Bt=this.seekTo(wt,It);wt=Bt.start,It=Bt.end,this.scheduledPause=It,this.source.start(0,wt),this.resumeAudioContext(),this.setState(Nt),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime();try{this.source&&this.source.stop(0)}catch{}this.setState($t),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(wt){this.playbackRate=wt||1,this.source&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime)}},{key:"setPlayEnd",value:function(wt){this.scheduledPause=wt}}]),Dt}(ut.Observer);at.default=Tt,ot.exports=at.default},"./node_modules/debounce/index.js":ot=>{function at(lt,ut,ct){var dt,ft,pt,ht,mt;ut==null&&(ut=100);function bt(){var xt=Date.now()-ht;xt<ut&&xt>=0?dt=setTimeout(bt,ut-xt):(dt=null,ct||(mt=lt.apply(pt,ft),pt=ft=null))}var gt=function(){pt=this,ft=arguments,ht=Date.now();var xt=ct&&!dt;return dt||(dt=setTimeout(bt,ut)),xt&&(mt=lt.apply(pt,ft),pt=ft=null),mt};return gt.clear=function(){dt&&(clearTimeout(dt),dt=null)},gt.flush=function(){dt&&(mt=lt.apply(pt,ft),pt=ft=null,clearTimeout(dt),dt=null)},gt}at.debounce=at,ot.exports=at}},nt={};function it(ot){var at=nt[ot];if(at!==void 0)return at.exports;var lt=nt[ot]={exports:{}};return rt[ot](lt,lt.exports,it),lt.exports}var st=it("./src/wavesurfer.js");return st})())})(wavesurfer);var wavesurferExports=wavesurfer.exports;const WaveSurfer=getDefaultExportFromCjs(wavesurferExports),CloseIcon="/assets/close-77e6a59b.svg",PauseIcon="/assets/pause-199faf79.svg",PlayIcon="/assets/play-96b9ef93.svg",container="_container_6sdjd_1",wave="_wave_6sdjd_14",play="_play_6sdjd_19",remove$6="_remove_6sdjd_28",length$2="_length_6sdjd_47",styles$b={container,wave,play,remove:remove$6,length:length$2};function Wave(et){const{audioUrl:_e,onRemove:rt}=et,[nt,it]=reactExports.useState(!1),st=reactExports.useRef(null),ot=reactExports.useRef(null),at=reactExports.useRef(null),[lt,ut]=reactExports.useState(null),ct=()=>{st.current&&st.current.destroy(),st.current=WaveSurfer.create({barWidth:3,barRadius:3,barGap:2,barMinHeight:2,cursorWidth:1,container:at.current,backend:"WebAudio",height:60,progressColor:"#00a3ff",responsive:!0,waveColor:"#C4C4C4",cursorColor:"transparent"}),st.current.load(ot.current),st.current.on("interaction ",ft=>{ft.preventDefault(),ft.stopPropagation()}),st.current.on("finish",()=>it(!1)),st.current.on("ready",()=>{ut({total:st.current.getDuration()})})};reactExports.useEffect(()=>{!ot.current||!at.current||ct()},[_e]);const dt=ft=>{ft.preventDefault(),ft.stopPropagation(),it(pt=>(pt?st.current.pause():st.current.play(),!pt))};return jsxs("div",{className:styles$b.container,children:[rt?jsx("div",{className:styles$b.remove,onClick:rt,children:jsx("img",{src:CloseIcon,alt:""})}):"",jsx("div",{className:styles$b.play,onClick:dt,children:jsx("img",{src:nt?PauseIcon:PlayIcon,alt:""})}),jsx("div",{ref:at,className:styles$b.wave}),lt?jsxs("div",{className:styles$b.length,children:[lt.total.toFixed(1),"s"]}):"",jsx("audio",{src:_e,ref:ot})]})}const blue="_blue_c2rn8_1",firehose="_firehose_c2rn8_26",avatar$5="_avatar_c2rn8_26",header$2="_header_c2rn8_30",body="_body_c2rn8_33",footer$2="_footer_c2rn8_37",stats="_stats_c2rn8_142",isReply="_isReply_c2rn8_160",parent="_parent_c2rn8_180",like="_like_c2rn8_205",repost="_repost_c2rn8_206",icon$1="_icon_c2rn8_219",single="_single_c2rn8_235",external="_external_c2rn8_273",externalImage="_externalImage_c2rn8_289",image="_image_c2rn8_306",multipleImage="_multipleImage_c2rn8_316",fourImages="_fourImages_c2rn8_322",record="_record_c2rn8_344",recordHeader="_recordHeader_c2rn8_356",recordAvatar="_recordAvatar_c2rn8_370",recordBody="_recordBody_c2rn8_386",reasonRepost="_reasonRepost_c2rn8_391",pin="_pin_c2rn8_418",deleted="_deleted_c2rn8_442",comments="_comments_c2rn8_455",repostDropdown="_repostDropdown_c2rn8_459",repostBackdrop="_repostBackdrop_c2rn8_484",more$1="_more_c2rn8_493",styles$a={blue,firehose,avatar:avatar$5,header:header$2,body,footer:footer$2,stats,isReply,parent,like,repost,icon:icon$1,single,external,externalImage,image,multipleImage,fourImages,record,recordHeader,recordAvatar,recordBody,reasonRepost,pin,deleted,comments,repostDropdown,repostBackdrop,more:more$1},CommentsIcon="/assets/comments-716da6dc.svg";function Comments(et){const{post:_e}=et,[rt,nt]=useAtom(newAtom),it=st=>{st.preventDefault(),st.stopPropagation(),nt({show:!0,cid:_e.cid,post:_e})};return jsx(Fragment$1,{children:jsxs("div",{className:styles$a.comments,onClick:it,children:[jsx("div",{className:styles$a.icon,children:jsx("img",{src:CommentsIcon,alt:""})}),_e.replyCount?jsx("span",{children:_e.replyCount}):""]})})}function External(et){const{embed:_e}=et;return jsxs(Link$1,{target:"_blank",title:_e.external.title,to:_e.external.uri,className:styles$a.external,children:[_e.external.thumb?jsx("div",{className:styles$a.externalImage,children:jsx("img",{src:_e.external.thumb,alt:""})}):"",jsxs("div",{className:styles$a.externalDetail,children:[jsx("h4",{children:_e.external.title||_e.external.uri}),jsx("p",{children:_e.external.description})]})]})}function Image$2(et){var st,ot,at,lt,ut,ct,dt,ft;const{embed:_e}=et,rt=(ot=(_e==null?void 0:_e.images)||((st=_e==null?void 0:_e.media)==null?void 0:st.images))==null?void 0:ot.filter(pt=>(pt==null?void 0:pt.image)instanceof dist.BlobRef);if(rt&&rt.length)return null;const nt=useSetAtom(lightboxAtom),it=()=>{nt({images:_e.images||_e.media.images,show:!0})};return jsx(Fragment$1,{children:jsx("div",{className:cn(styles$a.image,{[styles$a.multipleImage]:((lt=_e.images||((at=_e.media)==null?void 0:at.images))==null?void 0:lt.length)>1,[styles$a.fourImages]:((ct=_e.images||((ut=_e.media)==null?void 0:ut.images))==null?void 0:ct.length)==4}),children:(ft=_e.images||((dt=_e.media)==null?void 0:dt.images))==null?void 0:ft.map((pt,ht)=>jsx("div",{children:jsx("img",{onClick:it,src:pt.thumb?pt.thumb:pt.image,alt:pt.alt})},ht))})})}function Record(et){var dt,ft,pt,ht;const{author:_e,uri:rt,isQuote:nt,isNotif:it,post:st}=et;let ot=nt||(dt=et.embed.record)!=null&&dt.author?et.embed:et.embed.record;const at=_e||((ft=ot==null?void 0:ot.record)==null?void 0:ft.author)||(ot==null?void 0:ot.author),lt=rt||((pt=ot==null?void 0:ot.record)==null?void 0:pt.uri)||ot.uri,ut=useNavigate(),ct=mt=>{if(it)return!0;mt.preventDefault(),mt.stopPropagation(),mt.target.tagName!="IMG"&&(mt.ctrlKey||mt.button==1?window.open("/#"+linkFromPost(ot.record),"_blank"):ut(linkFromPost(ot.record)))};return ot&&lt&&at?jsxs("div",{onClick:ct,onMouseDown:ct,className:styles$a.record,children:[jsxs("div",{className:styles$a.recordHeader,children:[jsx("div",{className:styles$a.recordAvatar,children:jsx("img",{src:(at==null?void 0:at.avatar)||AvatarPlaceholder,alt:at==null?void 0:at.displayName})}),jsxs("div",{children:[jsx("p",{className:"font-weight-bold",children:at==null?void 0:at.displayName}),jsx("span",{className:"text-grey",children:at==null?void 0:at.handle})]})]}),jsx("div",{className:styles$a.recordBody,children:jsx("p",{className:"my-0",dir:"auto",children:(ht=ot.record.value||ot.record)==null?void 0:ht.text})}),nt?"":dist.AppBskyEmbedImages.isView(ot.record.embeds[0])?jsx(Image$2,{embed:ot.record.embeds[0]}):""]}):null}const HeartFillIcon="/assets/like-fill-14a81da3.svg",HeartIcon="/assets/like-791a9b05.svg";function Like(et){var dt,ft,pt;const{post:_e}=et,[rt,nt]=reactExports.useState(typeof((dt=_e.viewer)==null?void 0:dt.like)<"u"),[it,st]=reactExports.useState(((ft=_e.viewer)==null?void 0:ft.like)||""),[ot,at]=reactExports.useState(_e.likeCount),[lt,ut]=reactExports.useState(!1);reactExports.useEffect(()=>{var ht,mt;at(_e.likeCount),nt((ht=_e.viewer)==null?void 0:ht.like),st((mt=_e.viewer)==null?void 0:mt.like)},[_e.likeCount,(pt=_e.viewer)==null?void 0:pt.like]);const ct=reactExports.useCallback(async ht=>{if(ht.preventDefault(),ht.stopPropagation(),lt)return;nt(bt=>!bt),ut(!0);const mt=ot;if(rt){at(bt=>bt-1);try{const bt=await agent$1.deleteLike(it);ut(!1)}catch(bt){console.error(bt),at(mt)}}else{at(mt+1);try{const bt=await agent$1.like(_e.uri,_e.cid);st(bt.uri),ut(!1)}catch(bt){console.error(bt),at(mt)}}},[rt,ot,it,lt]);return jsxs("button",{className:styles$a.like,children:[jsx("div",{className:styles$a.icon,onClick:ct,children:jsx("img",{src:rt?HeartFillIcon:HeartIcon,alt:""})}),ot?jsx("span",{children:ot}):""]})}let e={data:""},t=et=>typeof window=="object"?((et?et.querySelector("#_goober"):window._goober)||Object.assign((et||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:et||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(et,_e)=>{let rt="",nt="",it="";for(let st in et){let ot=et[st];st[0]=="@"?st[1]=="i"?rt=st+" "+ot+";":nt+=st[1]=="f"?o(ot,st):st+"{"+o(ot,st[1]=="k"?"":_e)+"}":typeof ot=="object"?nt+=o(ot,_e?_e.replace(/([^,])+/g,at=>st.replace(/(^:.*)|([^,])+/g,lt=>/&/.test(lt)?lt.replace(/&/g,at):at?at+" "+lt:lt)):st):ot!=null&&(st=/^--/.test(st)?st:st.replace(/[A-Z]/g,"-$&").toLowerCase(),it+=o.p?o.p(st,ot):st+":"+ot+";")}return rt+(_e&&it?_e+"{"+it+"}":it)+nt},c={},s=et=>{if(typeof et=="object"){let _e="";for(let rt in et)_e+=rt+s(et[rt]);return _e}return et},i$1=(et,_e,rt,nt,it)=>{let st=s(et),ot=c[st]||(c[st]=(lt=>{let ut=0,ct=11;for(;ut<lt.length;)ct=101*ct+lt.charCodeAt(ut++)>>>0;return"go"+ct})(st));if(!c[ot]){let lt=st!==et?et:(ut=>{let ct,dt,ft=[{}];for(;ct=l.exec(ut.replace(a,""));)ct[4]?ft.shift():ct[3]?(dt=ct[3].replace(n$1," ").trim(),ft.unshift(ft[0][dt]=ft[0][dt]||{})):ft[0][ct[1]]=ct[2].replace(n$1," ").trim();return ft[0]})(et);c[ot]=o(it?{["@keyframes "+ot]:lt}:lt,rt?"":"."+ot)}let at=rt&&c.g?c.g:null;return rt&&(c.g=c[ot]),((lt,ut,ct,dt)=>{dt?ut.data=ut.data.replace(dt,lt):ut.data.indexOf(lt)===-1&&(ut.data=ct?lt+ut.data:ut.data+lt)})(c[ot],_e,nt,at),ot},p=(et,_e,rt)=>et.reduce((nt,it,st)=>{let ot=_e[st];if(ot&&ot.call){let at=ot(rt),lt=at&&at.props&&at.props.className||/^go/.test(at)&&at;ot=lt?"."+lt:at&&typeof at=="object"?at.props?"":o(at,""):at===!1?"":at}return nt+it+(ot??"")},"");function u$1(et){let _e=this||{},rt=et.call?et(_e.p):et;return i$1(rt.unshift?rt.raw?p(rt,[].slice.call(arguments,1),_e.p):rt.reduce((nt,it)=>Object.assign(nt,it&&it.call?it(_e.p):it),{}):rt,t(_e.target),_e.g,_e.o,_e.k)}let d,f,g;u$1.bind({g:1});let h$1=u$1.bind({k:1});function m(et,_e,rt,nt){o.p=_e,d=et,f=rt,g=nt}function j(et,_e){let rt=this||{};return function(){let nt=arguments;function it(st,ot){let at=Object.assign({},st),lt=at.className||it.className;rt.p=Object.assign({theme:f&&f()},at),rt.o=/ *go\d+/.test(lt),at.className=u$1.apply(rt,nt)+(lt?" "+lt:""),_e&&(at.ref=ot);let ut=et;return et[0]&&(ut=at.as||et,delete at.as),g&&ut[0]&&g(at),d(ut,at)}return _e?_e(it):it}}var W=et=>typeof et=="function",T=(et,_e)=>W(et)?et(_e):et,U=(()=>{let et=0;return()=>(++et).toString()})(),b=(()=>{let et;return()=>{if(et===void 0&&typeof window<"u"){let _e=matchMedia("(prefers-reduced-motion: reduce)");et=!_e||_e.matches}return et}})(),Q=20,S=new Map,X=1e3,$=et=>{if(S.has(et))return;let _e=setTimeout(()=>{S.delete(et),u({type:4,toastId:et})},X);S.set(et,_e)},J=et=>{let _e=S.get(et);_e&&clearTimeout(_e)},v=(et,_e)=>{switch(_e.type){case 0:return{...et,toasts:[_e.toast,...et.toasts].slice(0,Q)};case 1:return _e.toast.id&&J(_e.toast.id),{...et,toasts:et.toasts.map(st=>st.id===_e.toast.id?{...st,..._e.toast}:st)};case 2:let{toast:rt}=_e;return et.toasts.find(st=>st.id===rt.id)?v(et,{type:1,toast:rt}):v(et,{type:0,toast:rt});case 3:let{toastId:nt}=_e;return nt?$(nt):et.toasts.forEach(st=>{$(st.id)}),{...et,toasts:et.toasts.map(st=>st.id===nt||nt===void 0?{...st,visible:!1}:st)};case 4:return _e.toastId===void 0?{...et,toasts:[]}:{...et,toasts:et.toasts.filter(st=>st.id!==_e.toastId)};case 5:return{...et,pausedAt:_e.time};case 6:let it=_e.time-(et.pausedAt||0);return{...et,pausedAt:void 0,toasts:et.toasts.map(st=>({...st,pauseDuration:st.pauseDuration+it}))}}},A=[],P={toasts:[],pausedAt:void 0},u=et=>{P=v(P,et),A.forEach(_e=>{_e(P)})},Y={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},I=(et={})=>{let[_e,rt]=reactExports.useState(P);reactExports.useEffect(()=>(A.push(rt),()=>{let it=A.indexOf(rt);it>-1&&A.splice(it,1)}),[_e]);let nt=_e.toasts.map(it=>{var st,ot;return{...et,...et[it.type],...it,duration:it.duration||((st=et[it.type])==null?void 0:st.duration)||(et==null?void 0:et.duration)||Y[it.type],style:{...et.style,...(ot=et[it.type])==null?void 0:ot.style,...it.style}}});return{..._e,toasts:nt}},G=(et,_e="blank",rt)=>({createdAt:Date.now(),visible:!0,type:_e,ariaProps:{role:"status","aria-live":"polite"},message:et,pauseDuration:0,...rt,id:(rt==null?void 0:rt.id)||U()}),h=et=>(_e,rt)=>{let nt=G(_e,et,rt);return u({type:2,toast:nt}),nt.id},n=(et,_e)=>h("blank")(et,_e);n.error=h("error");n.success=h("success");n.loading=h("loading");n.custom=h("custom");n.dismiss=et=>{u({type:3,toastId:et})};n.remove=et=>u({type:4,toastId:et});n.promise=(et,_e,rt)=>{let nt=n.loading(_e.loading,{...rt,...rt==null?void 0:rt.loading});return et.then(it=>(n.success(T(_e.success,it),{id:nt,...rt,...rt==null?void 0:rt.success}),it)).catch(it=>{n.error(T(_e.error,it),{id:nt,...rt,...rt==null?void 0:rt.error})}),et};var Z=(et,_e)=>{u({type:1,toast:{id:et,height:_e}})},ee=()=>{u({type:5,time:Date.now()})},D=et=>{let{toasts:_e,pausedAt:rt}=I(et);reactExports.useEffect(()=>{if(rt)return;let st=Date.now(),ot=_e.map(at=>{if(at.duration===1/0)return;let lt=(at.duration||0)+at.pauseDuration-(st-at.createdAt);if(lt<0){at.visible&&n.dismiss(at.id);return}return setTimeout(()=>n.dismiss(at.id),lt)});return()=>{ot.forEach(at=>at&&clearTimeout(at))}},[_e,rt]);let nt=reactExports.useCallback(()=>{rt&&u({type:6,time:Date.now()})},[rt]),it=reactExports.useCallback((st,ot)=>{let{reverseOrder:at=!1,gutter:lt=8,defaultPosition:ut}=ot||{},ct=_e.filter(pt=>(pt.position||ut)===(st.position||ut)&&pt.height),dt=ct.findIndex(pt=>pt.id===st.id),ft=ct.filter((pt,ht)=>ht<dt&&pt.visible).length;return ct.filter(pt=>pt.visible).slice(...at?[ft+1]:[0,ft]).reduce((pt,ht)=>pt+(ht.height||0)+lt,0)},[_e]);return{toasts:_e,handlers:{updateHeight:Z,startPause:ee,endPause:nt,calculateOffset:it}}},oe=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re=h$1`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se=h$1`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${et=>et.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${et=>et.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne=h$1`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${et=>et.secondary||"#e0e0e0"};
  border-right-color: ${et=>et.primary||"#616161"};
  animation: ${ne} 1s linear infinite;
`,pe=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de=h$1`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,w=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${et=>et.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${et=>et.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue=j("div")`
  position: absolute;
`,le=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Te=h$1`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fe=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Te} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:et})=>{let{icon:_e,type:rt,iconTheme:nt}=et;return _e!==void 0?typeof _e=="string"?reactExports.createElement(fe,null,_e):_e:rt==="blank"?null:reactExports.createElement(le,null,reactExports.createElement(V,{...nt}),rt!=="loading"&&reactExports.createElement(ue,null,rt==="error"?reactExports.createElement(_,{...nt}):reactExports.createElement(w,{...nt})))},ye=et=>`
0% {transform: translate3d(0,${et*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=et=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${et*-150}%,-1px) scale(.6); opacity:0;}
`,he="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(et,_e)=>{let rt=et.includes("top")?1:-1,[nt,it]=b()?[he,xe]:[ye(rt),ge(rt)];return{animation:_e?`${h$1(nt)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$1(it)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F=reactExports.memo(({toast:et,position:_e,style:rt,children:nt})=>{let it=et.height?Ae(et.position||_e||"top-center",et.visible):{opacity:0},st=reactExports.createElement(M,{toast:et}),ot=reactExports.createElement(Se,{...et.ariaProps},T(et.message,et));return reactExports.createElement(be,{className:et.className,style:{...it,...rt,...et.style}},typeof nt=="function"?nt({icon:st,message:ot}):reactExports.createElement(reactExports.Fragment,null,st,ot))});m(reactExports.createElement);var Ee=({id:et,className:_e,style:rt,onHeightUpdate:nt,children:it})=>{let st=reactExports.useCallback(ot=>{if(ot){let at=()=>{let lt=ot.getBoundingClientRect().height;nt(et,lt)};at(),new MutationObserver(at).observe(ot,{subtree:!0,childList:!0,characterData:!0})}},[et,nt]);return reactExports.createElement("div",{ref:st,className:_e,style:rt},it)},Re=(et,_e)=>{let rt=et.includes("top"),nt=rt?{top:0}:{bottom:0},it=et.includes("center")?{justifyContent:"center"}:et.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:b()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${_e*(rt?1:-1)}px)`,...nt,...it}},ve=u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,O=16,Ie=({reverseOrder:et,position:_e="top-center",toastOptions:rt,gutter:nt,children:it,containerStyle:st,containerClassName:ot})=>{let{toasts:at,handlers:lt}=D(rt);return reactExports.createElement("div",{style:{position:"fixed",zIndex:9999,top:O,left:O,right:O,bottom:O,pointerEvents:"none",...st},className:ot,onMouseEnter:lt.startPause,onMouseLeave:lt.endPause},at.map(ut=>{let ct=ut.position||_e,dt=lt.calculateOffset(ut,{reverseOrder:et,gutter:nt,defaultPosition:_e}),ft=Re(ct,dt);return reactExports.createElement(Ee,{id:ut.id,key:ut.id,onHeightUpdate:lt.updateHeight,className:ut.visible?ve:"",style:ft},ut.type==="custom"?T(ut.message,ut):it?it(ut):reactExports.createElement(F,{toast:ut,position:ct}))}))},_t=n;const CopyIcon="/assets/copy-541cddaf.svg",DeleteIcon="/assets/delete-ccf62ee2.svg",MoreIcon="/assets/dots-30f922cf.svg";function More$1(et){var xt;const _e=useAtomValue(userAtom),{post:rt,setDeleted:nt,isPin:it}=et,[st,ot]=reactExports.useState(!1),[at,lt]=reactExports.useState(!1),[ut,ct]=reactExports.useState(!1),dt=useQueryClient(),ft=yt=>{yt.preventDefault(),yt.stopPropagation(),ot(vt=>!vt)},pt=async yt=>{yt.preventDefault(),yt.stopPropagation(),lt(!0);try{const vt=await agent$1.deletePost(rt.uri);nt(!0)}catch(vt){console.error(vt)}},ht=yt=>{yt.preventDefault(),yt.stopPropagation();const vt=linkFromPost(rt);navigator.clipboard.writeText(`https://kite.black/#${vt}`),ot(!1)},mt=yt=>{var Ot,Et;yt.preventDefault(),yt.stopPropagation();const vt=(Ot=rt==null?void 0:rt.uri)==null?void 0:Ot.split("/"),Pt=vt[vt.length-1],St=`https://staging.bsky.app/profile/${(Et=rt==null?void 0:rt.author)==null?void 0:Et.handle}/post/${Pt}`;navigator.clipboard.writeText(St),ot(!1)},bt=yt=>{var Ot,Et;yt.preventDefault(),yt.stopPropagation();const vt=(Ot=rt==null?void 0:rt.uri)==null?void 0:Ot.split("/"),Pt=vt[vt.length-1],St=`https://psky.app/profile/${(Et=rt==null?void 0:rt.author)==null?void 0:Et.handle}/post/${Pt}`;navigator.clipboard.writeText(St),ot(!1)},gt=async yt=>{yt.preventDefault(),yt.stopPropagation(),ct(!0);try{const vt=await agent$1.upsertProfile(Pt=>(Pt=Pt||{},{...Pt,kitePinPost:it?void 0:rt.uri}));dt.invalidateQueries([_e==null?void 0:_e.did,_e==null?void 0:_e.handle]),dt.invalidateQueries(["pin-post",_e==null?void 0:_e.did]),dt.invalidateQueries(["pin-post",_e==null?void 0:_e.handle]),n(it?"Post Unpinned!":"Pin Post Updated!")}catch(vt){console.error(vt)}ct(!1)};return jsxs(Fragment$1,{children:[jsxs("button",{title:"",className:styles$a.more,type:"button",onClick:ft,children:[jsx("div",{className:styles$a.moreIcon,children:jsx("img",{src:MoreIcon,alt:"More"})}),st?jsxs("div",{className:styles$a.repostDropdown,onClick:yt=>yt.stopPropagation(),children:[((xt=rt.author)==null?void 0:xt.did)==(_e==null?void 0:_e.did)?jsxs(Fragment$1,{children:[jsxs("p",{className:"font-weight-bold",onClick:gt,children:[ut?jsx(Loading,{isColored:!0}):jsx("img",{src:PinIcon,alt:""}),it?jsx("span",{children:"Unpin Post"}):jsx("span",{children:"Pin Post"})]}),jsxs("p",{className:"font-weight-bold",onClick:pt,children:[at?jsx(Loading,{isColored:!0}):jsx("img",{src:DeleteIcon,alt:""}),jsx("span",{children:"Delete Post"})]})]}):"",jsxs("p",{className:"font-weight-bold",onClick:ht,children:[jsx("img",{src:CopyIcon,alt:"Copy"}),jsx("span",{children:"Copy Kite URL"})]}),jsxs("p",{className:"font-weight-bold",onClick:mt,children:[jsx("img",{src:CopyIcon,alt:"Copy"}),jsx("span",{children:"Copy Bsky URL"})]}),jsxs("p",{className:"font-weight-bold",onClick:bt,children:[jsx("img",{src:CopyIcon,alt:"Copy"}),jsx("span",{children:"Copy Psky URL"})]})]}):""]}),st?jsx(Portal$1,{children:jsx("div",{className:styles$a.repostBackdrop,onClick:ft})}):""]})}const QuoteIcon="/assets/quote-2653d51b.svg",RepostIcon="/assets/repost-1a5f44be.svg";function Repost(et){var bt,gt,xt;const{post:_e}=et,rt=useSetAtom(newAtom),[nt,it]=reactExports.useState(!1),[st,ot]=reactExports.useState(typeof((bt=_e.viewer)==null?void 0:bt.repost)<"u"),[at,lt]=reactExports.useState(_e.repostCount),[ut,ct]=reactExports.useState(((gt=_e.viewer)==null?void 0:gt.repost)||""),[dt,ft]=reactExports.useState(!1);reactExports.useEffect(()=>{var yt,vt;lt(_e.repostCount),ot((yt=_e.viewer)==null?void 0:yt.repost),ct((vt=_e.viewer)==null?void 0:vt.repost)},[_e.repostCount,(xt=_e.viewer)==null?void 0:xt.repost]);const pt=reactExports.useCallback(async yt=>{if(yt.preventDefault(),yt.stopPropagation(),dt)return;const vt=st,Pt=at;if(it(!1),ft(!0),ot(St=>!St),vt)try{lt(Pt-1);const St=await agent$1.deleteRepost(ut);ft(!1)}catch(St){console.error(St),lt(Pt)}else try{lt(Pt+1);const St=await agent$1.repost(_e.uri,_e.cid);ft(!1),ct(St.uri)}catch(St){console.error(St),lt(Pt)}},[st,at,ut,dt]),ht=yt=>{yt.preventDefault(),yt.stopPropagation(),it(vt=>!vt)},mt=yt=>{yt.preventDefault(),yt.stopPropagation(),it(!1),rt({show:!0,quotePost:_e})};return jsxs(Fragment$1,{children:[jsxs("button",{className:styles$a.repost,type:"button",children:[jsx("div",{className:styles$a.icon,onClick:ht,children:jsx("img",{src:st||nt?RepostFillIcon:RepostIcon,alt:""})}),at>0?jsx("span",{children:at}):"",nt?jsxs("div",{className:styles$a.repostDropdown,children:[jsxs("p",{className:"font-weight-bold",onClick:pt,children:[jsx("img",{src:RepostIcon,alt:""}),jsx("span",{children:"Repost"})]}),jsxs("p",{className:"font-weight-bold",onClick:mt,children:[jsx("img",{src:QuoteIcon,alt:""}),jsx("span",{children:"Quote"})]})]}):""]}),nt?jsx(Portal$1,{children:jsx("div",{className:styles$a.repostBackdrop,onClick:ht})}):""]})}function Modal(et){const{children:_e,onClose:rt,className:nt,onScrollEnd:it}=et,st=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!it||!st.current)return;let ot=!1;const at=async lt=>{const{scrollHeight:ut,scrollTop:ct,clientHeight:dt}=lt.target;!ot&&ut-ct<=dt*1.2&&(ot=!0,await it(),ot=!1)};return st.current.addEventListener("scroll",at),()=>{st.current&&st.current.removeEventListener("scroll",at)}},[it,st.current]),jsxs("div",{className:cn("modal",nt),children:[jsx("div",{className:"modal-backdrop",onClick:rt}),jsx("div",{className:"modal-content",ref:st,children:_e})]})}const right$3="_right_2tgfb_1",suggested="_suggested_2tgfb_21",inSkyline="_inSkyline_2tgfb_35",user$1="_user_2tgfb_44",avatar$4="_avatar_2tgfb_50",userRight="_userRight_2tgfb_95",tag="_tag_2tgfb_109",copy$1="_copy_2tgfb_119",styles$9={right:right$3,suggested,inSkyline,user:user$1,avatar:avatar$4,userRight,tag,copy:copy$1};function User$1(et){const{user:_e,hideFollowIndicator:rt,className:nt}=et;return useNavigate(),jsxs(Link$1,{to:`/user/${_e.handle}`,className:cn("user",styles$9.user,nt),children:[jsx("div",{className:styles$9.avatar,children:jsx("img",{src:_e.avatar||AvatarPlaceholder,alt:""})}),jsxs("div",{className:styles$9.userRight,children:[jsx("p",{className:"font-weight-bold",children:_e.displayName}),jsxs("span",{children:["@",_e.handle]}),_e.viewer.followedBy&&!rt?jsx("span",{className:styles$9.tag,children:"Follows You"}):""]})]})}function Stats$1(et){const{post:_e}=et,[rt,nt]=reactExports.useState({show:!1,type:null,loading:!1}),{data:it,isLoading:st,fetchNextPage:ot,hasNextPage:at,isFetchingNextPage:lt}=useInfiniteQuery(["reposts",_e.uri],({pageParam:vt})=>ut(vt),{enabled:rt.show&&rt.type=="repost",getNextPageParam:(vt,Pt)=>vt.data.cursor??void 0}),ut=async vt=>await agent$1.getRepostedBy({uri:_e.uri,cursor:vt}),{data:ct,isLoading:dt,fetchNextPage:ft,hasNextPage:pt,isFetchingNextPage:ht}=useInfiniteQuery(["likes",_e.uri],({pageParam:vt})=>mt(vt),{enabled:rt.show&&rt.type=="likes",getNextPageParam:(vt,Pt)=>vt.data.cursor??void 0}),mt=async vt=>await agent$1.getLikes({uri:_e.uri,cursor:vt}),bt=vt=>{vt.preventDefault(),vt.stopPropagation(),nt({show:!0,type:"repost",loading:!0})},gt=vt=>{vt.preventDefault(),vt.stopPropagation(),nt({show:!0,type:"likes",loading:!0})},xt=async()=>{if(at&&!lt)return await ot()},yt=async()=>{if(pt&&!ht)return await ft()};return jsxs(Fragment$1,{children:[jsxs("div",{className:styles$a.stats,children:[jsxs("div",{onClick:gt,children:[_e.likeCount," Likes"]}),jsxs("div",{onClick:bt,children:[_e.repostCount," Reposts"]})]}),rt.show?jsx(Portal$1,{children:jsxs(Modal,{onScrollEnd:()=>rt.type=="repost"?xt():yt(),className:"repost-modal",onClose:()=>nt({show:!1,type:null}),children:[jsx("h1",{children:rt.type=="repost"?"Reposts":"Likes"}),rt.type=="repost"?st?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):it==null?void 0:it.pages.map(vt=>vt.data.repostedBy).flat().map(vt=>jsx(User$1,{user:vt},vt.did)):dt?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):ct==null?void 0:ct.pages.map(vt=>vt.data.likes).flat().map(vt=>jsx(User$1,{user:vt.actor},vt.did))]})}):""]})}function Blue(et){var Et,Lt;const{post:_e,isReply:rt,isParent:nt,isSingle:it,reason:st,className:ot,isCompose:at,firehose:lt,isPin:ut}=et,ct=reactExports.useRef(null),[dt,ft]=reactExports.useState(null),[pt,ht]=reactExports.useState(!1);if(!_e)return jsx("div",{ref:ct,className:cn(styles$a.blue,styles$a.deleted,ot,{[styles$a.isReply]:rt,[styles$a.parent]:nt,[styles$a.single]:it}),children:jsx("p",{children:"This Post Is Deleted"})});const mt=useNavigate(),bt=_e==null?void 0:_e.embed,gt=_e==null?void 0:_e.author;useAtomValue(userAtom);const[xt,yt]=reactExports.useState([]),vt=()=>{var Nt,$t,Mt;if((Nt=_e.record)!=null&&Nt.kiteText){const Tt=renderMarkdown(($t=_e==null?void 0:_e.record)==null?void 0:$t.kiteText);yt(Tt)}else{const Tt=renderMarkdown((Mt=_e==null?void 0:_e.record)==null?void 0:Mt.text);yt(Tt)}},Pt=()=>{it&&ct.current.scrollIntoView({behavior:"auto",inline:"start"})};reactExports.useEffect(()=>{vt(),Pt()},[]);const St=Nt=>{Nt.preventDefault(),Nt.stopPropagation();const $t=`/user/${_e.author.handle}`;Nt.ctrlKey||Nt.button==1?window.open("/#"+$t,"_blank"):mt($t)},Ot=(Nt,$t=null)=>{if(!(Nt.button==0&&Nt.target!=ct.current&&$t)){if(lt)return Nt.ctrlKey||Nt.button==1?window.open(`/#/blue/${_e.author.handle}/${_e.id}`,"_blank"):mt(`/blue/${_e.author.handle}/${_e.id}`);if(Nt.target.tagName!="A"&&Nt.target.tagName!="IMG"){if(it)return Nt.preventDefault();Nt.ctrlKey||Nt.button==1?window.open("/#"+linkFromPost(_e),"_blank"):mt(linkFromPost(_e))}}};return reactExports.useEffect(()=>{var Tt,Rt;if(!((Tt=_e.record)!=null&&Tt.kiteAudio))return;let Nt=convertURIToBinary((Rt=_e.record)==null?void 0:Rt.kiteAudio),$t=new Blob([Nt],{type:"audio/ogg"}),Mt=URL.createObjectURL($t);ft(Mt)},[(Et=_e.record)==null?void 0:Et.kiteAudio]),pt?null:_e?jsx(Fragment$1,{children:jsxs("div",{ref:ct,className:cn(styles$a.blue,ot,{[styles$a.isReply]:rt,[styles$a.parent]:nt,[styles$a.single]:it,[styles$a.firehose]:lt}),onClick:Ot,onMouseDown:Nt=>Ot(Nt,!0),children:[st?jsx("div",{className:styles$a.reasonRepost,children:jsxs("div",{children:[jsx("img",{src:RepostFillIcon,alt:"Repost"}),"Reposted By ",st.by.displayName]})}):"",ut?jsxs("div",{className:styles$a.pin,children:[jsx("img",{src:PinIcon,alt:"Pin"}),jsx("span",{children:"Pinned Post"})]}):"",jsx("div",{className:styles$a.avatar,onClick:St,onMouseDown:St,children:jsx("img",{src:gt.avatar||AvatarPlaceholder})}),jsxs("div",{className:styles$a.body,children:[jsxs("div",{className:styles$a.header,children:[jsxs("div",{children:[jsx("strong",{onClick:St,children:gt.displayName}),jsxs("span",{onClick:St,children:["@",gt.handle]})]}),_e.indexedAt?jsx("span",{children:timeSince(new Date(_e.indexedAt))}):""]}),jsx("div",{dir:"auto",style:{whiteSpace:"pre-wrap"},children:xt?[...xt.map((Nt,$t)=>jsx(React.Fragment,{children:Nt},$t))]:jsx("p",{children:(Lt=_e==null?void 0:_e.record)==null?void 0:Lt.text})}),dt?jsx(Wave,{audioUrl:dt}):"",at||lt?"":jsxs(Fragment$1,{children:[bt?jsxs("div",{children:[bt.external?jsx(External,{embed:bt}):"",bt.images?jsx(Image$2,{embed:bt}):"",bt.media?jsx(Image$2,{embed:bt}):"",bt.record?jsx(Record,{embed:bt}):""]}):"",it?jsx(Stats$1,{post:_e}):"",jsxs("div",{className:styles$a.footer,children:[jsx(Comments,{post:_e}),jsx(Repost,{post:_e}),jsx(Like,{post:_e}),jsx(More$1,{isPin:ut,post:_e,setDeleted:ht})]})]})]})]})}):jsx("p",{children:"Not Found"})}function OrderedMap(et){this.content=et}OrderedMap.prototype={constructor:OrderedMap,find:function(et){for(var _e=0;_e<this.content.length;_e+=2)if(this.content[_e]===et)return _e;return-1},get:function(et){var _e=this.find(et);return _e==-1?void 0:this.content[_e+1]},update:function(et,_e,rt){var nt=rt&&rt!=et?this.remove(rt):this,it=nt.find(et),st=nt.content.slice();return it==-1?st.push(rt||et,_e):(st[it+1]=_e,rt&&(st[it]=rt)),new OrderedMap(st)},remove:function(et){var _e=this.find(et);if(_e==-1)return this;var rt=this.content.slice();return rt.splice(_e,2),new OrderedMap(rt)},addToStart:function(et,_e){return new OrderedMap([et,_e].concat(this.remove(et).content))},addToEnd:function(et,_e){var rt=this.remove(et).content.slice();return rt.push(et,_e),new OrderedMap(rt)},addBefore:function(et,_e,rt){var nt=this.remove(_e),it=nt.content.slice(),st=nt.find(et);return it.splice(st==-1?it.length:st,0,_e,rt),new OrderedMap(it)},forEach:function(et){for(var _e=0;_e<this.content.length;_e+=2)et(this.content[_e],this.content[_e+1])},prepend:function(et){return et=OrderedMap.from(et),et.size?new OrderedMap(et.content.concat(this.subtract(et).content)):this},append:function(et){return et=OrderedMap.from(et),et.size?new OrderedMap(this.subtract(et).content.concat(et.content)):this},subtract:function(et){var _e=this;et=OrderedMap.from(et);for(var rt=0;rt<et.content.length;rt+=2)_e=_e.remove(et.content[rt]);return _e},toObject:function(){var et={};return this.forEach(function(_e,rt){et[_e]=rt}),et},get size(){return this.content.length>>1}};OrderedMap.from=function(et){if(et instanceof OrderedMap)return et;var _e=[];if(et)for(var rt in et)_e.push(rt,et[rt]);return new OrderedMap(_e)};function findDiffStart(et,_e,rt){for(let nt=0;;nt++){if(nt==et.childCount||nt==_e.childCount)return et.childCount==_e.childCount?null:rt;let it=et.child(nt),st=_e.child(nt);if(it==st){rt+=it.nodeSize;continue}if(!it.sameMarkup(st))return rt;if(it.isText&&it.text!=st.text){for(let ot=0;it.text[ot]==st.text[ot];ot++)rt++;return rt}if(it.content.size||st.content.size){let ot=findDiffStart(it.content,st.content,rt+1);if(ot!=null)return ot}rt+=it.nodeSize}}function findDiffEnd(et,_e,rt,nt){for(let it=et.childCount,st=_e.childCount;;){if(it==0||st==0)return it==st?null:{a:rt,b:nt};let ot=et.child(--it),at=_e.child(--st),lt=ot.nodeSize;if(ot==at){rt-=lt,nt-=lt;continue}if(!ot.sameMarkup(at))return{a:rt,b:nt};if(ot.isText&&ot.text!=at.text){let ut=0,ct=Math.min(ot.text.length,at.text.length);for(;ut<ct&&ot.text[ot.text.length-ut-1]==at.text[at.text.length-ut-1];)ut++,rt--,nt--;return{a:rt,b:nt}}if(ot.content.size||at.content.size){let ut=findDiffEnd(ot.content,at.content,rt-1,nt-1);if(ut)return ut}rt-=lt,nt-=lt}}class Fragment{constructor(_e,rt){if(this.content=_e,this.size=rt||0,rt==null)for(let nt=0;nt<_e.length;nt++)this.size+=_e[nt].nodeSize}nodesBetween(_e,rt,nt,it=0,st){for(let ot=0,at=0;at<rt;ot++){let lt=this.content[ot],ut=at+lt.nodeSize;if(ut>_e&&nt(lt,it+at,st||null,ot)!==!1&&lt.content.size){let ct=at+1;lt.nodesBetween(Math.max(0,_e-ct),Math.min(lt.content.size,rt-ct),nt,it+ct)}at=ut}}descendants(_e){this.nodesBetween(0,this.size,_e)}textBetween(_e,rt,nt,it){let st="",ot=!0;return this.nodesBetween(_e,rt,(at,lt)=>{at.isText?(st+=at.text.slice(Math.max(_e,lt)-lt,rt-lt),ot=!nt):at.isLeaf?(it?st+=typeof it=="function"?it(at):it:at.type.spec.leafText&&(st+=at.type.spec.leafText(at)),ot=!nt):!ot&&at.isBlock&&(st+=nt,ot=!0)},0),st}append(_e){if(!_e.size)return this;if(!this.size)return _e;let rt=this.lastChild,nt=_e.firstChild,it=this.content.slice(),st=0;for(rt.isText&&rt.sameMarkup(nt)&&(it[it.length-1]=rt.withText(rt.text+nt.text),st=1);st<_e.content.length;st++)it.push(_e.content[st]);return new Fragment(it,this.size+_e.size)}cut(_e,rt=this.size){if(_e==0&&rt==this.size)return this;let nt=[],it=0;if(rt>_e)for(let st=0,ot=0;ot<rt;st++){let at=this.content[st],lt=ot+at.nodeSize;lt>_e&&((ot<_e||lt>rt)&&(at.isText?at=at.cut(Math.max(0,_e-ot),Math.min(at.text.length,rt-ot)):at=at.cut(Math.max(0,_e-ot-1),Math.min(at.content.size,rt-ot-1))),nt.push(at),it+=at.nodeSize),ot=lt}return new Fragment(nt,it)}cutByIndex(_e,rt){return _e==rt?Fragment.empty:_e==0&&rt==this.content.length?this:new Fragment(this.content.slice(_e,rt))}replaceChild(_e,rt){let nt=this.content[_e];if(nt==rt)return this;let it=this.content.slice(),st=this.size+rt.nodeSize-nt.nodeSize;return it[_e]=rt,new Fragment(it,st)}addToStart(_e){return new Fragment([_e].concat(this.content),this.size+_e.nodeSize)}addToEnd(_e){return new Fragment(this.content.concat(_e),this.size+_e.nodeSize)}eq(_e){if(this.content.length!=_e.content.length)return!1;for(let rt=0;rt<this.content.length;rt++)if(!this.content[rt].eq(_e.content[rt]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(_e){let rt=this.content[_e];if(!rt)throw new RangeError("Index "+_e+" out of range for "+this);return rt}maybeChild(_e){return this.content[_e]||null}forEach(_e){for(let rt=0,nt=0;rt<this.content.length;rt++){let it=this.content[rt];_e(it,nt,rt),nt+=it.nodeSize}}findDiffStart(_e,rt=0){return findDiffStart(this,_e,rt)}findDiffEnd(_e,rt=this.size,nt=_e.size){return findDiffEnd(this,_e,rt,nt)}findIndex(_e,rt=-1){if(_e==0)return retIndex(0,_e);if(_e==this.size)return retIndex(this.content.length,_e);if(_e>this.size||_e<0)throw new RangeError(`Position ${_e} outside of fragment (${this})`);for(let nt=0,it=0;;nt++){let st=this.child(nt),ot=it+st.nodeSize;if(ot>=_e)return ot==_e||rt>0?retIndex(nt+1,ot):retIndex(nt,it);it=ot}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(_e=>_e.toJSON()):null}static fromJSON(_e,rt){if(!rt)return Fragment.empty;if(!Array.isArray(rt))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(rt.map(_e.nodeFromJSON))}static fromArray(_e){if(!_e.length)return Fragment.empty;let rt,nt=0;for(let it=0;it<_e.length;it++){let st=_e[it];nt+=st.nodeSize,it&&st.isText&&_e[it-1].sameMarkup(st)?(rt||(rt=_e.slice(0,it)),rt[rt.length-1]=st.withText(rt[rt.length-1].text+st.text)):rt&&rt.push(st)}return new Fragment(rt||_e,nt)}static from(_e){if(!_e)return Fragment.empty;if(_e instanceof Fragment)return _e;if(Array.isArray(_e))return this.fromArray(_e);if(_e.attrs)return new Fragment([_e],_e.nodeSize);throw new RangeError("Can not convert "+_e+" to a Fragment"+(_e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(et,_e){return found.index=et,found.offset=_e,found}function compareDeep(et,_e){if(et===_e)return!0;if(!(et&&typeof et=="object")||!(_e&&typeof _e=="object"))return!1;let rt=Array.isArray(et);if(Array.isArray(_e)!=rt)return!1;if(rt){if(et.length!=_e.length)return!1;for(let nt=0;nt<et.length;nt++)if(!compareDeep(et[nt],_e[nt]))return!1}else{for(let nt in et)if(!(nt in _e)||!compareDeep(et[nt],_e[nt]))return!1;for(let nt in _e)if(!(nt in et))return!1}return!0}let Mark$1=class jr{constructor(_e,rt){this.type=_e,this.attrs=rt}addToSet(_e){let rt,nt=!1;for(let it=0;it<_e.length;it++){let st=_e[it];if(this.eq(st))return _e;if(this.type.excludes(st.type))rt||(rt=_e.slice(0,it));else{if(st.type.excludes(this.type))return _e;!nt&&st.type.rank>this.type.rank&&(rt||(rt=_e.slice(0,it)),rt.push(this),nt=!0),rt&&rt.push(st)}}return rt||(rt=_e.slice()),nt||rt.push(this),rt}removeFromSet(_e){for(let rt=0;rt<_e.length;rt++)if(this.eq(_e[rt]))return _e.slice(0,rt).concat(_e.slice(rt+1));return _e}isInSet(_e){for(let rt=0;rt<_e.length;rt++)if(this.eq(_e[rt]))return!0;return!1}eq(_e){return this==_e||this.type==_e.type&&compareDeep(this.attrs,_e.attrs)}toJSON(){let _e={type:this.type.name};for(let rt in this.attrs){_e.attrs=this.attrs;break}return _e}static fromJSON(_e,rt){if(!rt)throw new RangeError("Invalid input for Mark.fromJSON");let nt=_e.marks[rt.type];if(!nt)throw new RangeError(`There is no mark type ${rt.type} in this schema`);return nt.create(rt.attrs)}static sameSet(_e,rt){if(_e==rt)return!0;if(_e.length!=rt.length)return!1;for(let nt=0;nt<_e.length;nt++)if(!_e[nt].eq(rt[nt]))return!1;return!0}static setFrom(_e){if(!_e||Array.isArray(_e)&&_e.length==0)return jr.none;if(_e instanceof jr)return[_e];let rt=_e.slice();return rt.sort((nt,it)=>nt.type.rank-it.type.rank),rt}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(_e,rt,nt){this.content=_e,this.openStart=rt,this.openEnd=nt}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(_e,rt){let nt=insertInto(this.content,_e+this.openStart,rt);return nt&&new Slice(nt,this.openStart,this.openEnd)}removeBetween(_e,rt){return new Slice(removeRange(this.content,_e+this.openStart,rt+this.openStart),this.openStart,this.openEnd)}eq(_e){return this.content.eq(_e.content)&&this.openStart==_e.openStart&&this.openEnd==_e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let _e={content:this.content.toJSON()};return this.openStart>0&&(_e.openStart=this.openStart),this.openEnd>0&&(_e.openEnd=this.openEnd),_e}static fromJSON(_e,rt){if(!rt)return Slice.empty;let nt=rt.openStart||0,it=rt.openEnd||0;if(typeof nt!="number"||typeof it!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(_e,rt.content),nt,it)}static maxOpen(_e,rt=!0){let nt=0,it=0;for(let st=_e.firstChild;st&&!st.isLeaf&&(rt||!st.type.spec.isolating);st=st.firstChild)nt++;for(let st=_e.lastChild;st&&!st.isLeaf&&(rt||!st.type.spec.isolating);st=st.lastChild)it++;return new Slice(_e,nt,it)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(et,_e,rt){let{index:nt,offset:it}=et.findIndex(_e),st=et.maybeChild(nt),{index:ot,offset:at}=et.findIndex(rt);if(it==_e||st.isText){if(at!=rt&&!et.child(ot).isText)throw new RangeError("Removing non-flat range");return et.cut(0,_e).append(et.cut(rt))}if(nt!=ot)throw new RangeError("Removing non-flat range");return et.replaceChild(nt,st.copy(removeRange(st.content,_e-it-1,rt-it-1)))}function insertInto(et,_e,rt,nt){let{index:it,offset:st}=et.findIndex(_e),ot=et.maybeChild(it);if(st==_e||ot.isText)return nt&&!nt.canReplace(it,it,rt)?null:et.cut(0,_e).append(rt).append(et.cut(_e));let at=insertInto(ot.content,_e-st-1,rt);return at&&et.replaceChild(it,ot.copy(at))}function replace(et,_e,rt){if(rt.openStart>et.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(et.depth-rt.openStart!=_e.depth-rt.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(et,_e,rt,0)}function replaceOuter(et,_e,rt,nt){let it=et.index(nt),st=et.node(nt);if(it==_e.index(nt)&&nt<et.depth-rt.openStart){let ot=replaceOuter(et,_e,rt,nt+1);return st.copy(st.content.replaceChild(it,ot))}else if(rt.content.size)if(!rt.openStart&&!rt.openEnd&&et.depth==nt&&_e.depth==nt){let ot=et.parent,at=ot.content;return close(ot,at.cut(0,et.parentOffset).append(rt.content).append(at.cut(_e.parentOffset)))}else{let{start:ot,end:at}=prepareSliceForReplace(rt,et);return close(st,replaceThreeWay(et,ot,at,_e,nt))}else return close(st,replaceTwoWay(et,_e,nt))}function checkJoin(et,_e){if(!_e.type.compatibleContent(et.type))throw new ReplaceError("Cannot join "+_e.type.name+" onto "+et.type.name)}function joinable$1(et,_e,rt){let nt=et.node(rt);return checkJoin(nt,_e.node(rt)),nt}function addNode(et,_e){let rt=_e.length-1;rt>=0&&et.isText&&et.sameMarkup(_e[rt])?_e[rt]=et.withText(_e[rt].text+et.text):_e.push(et)}function addRange(et,_e,rt,nt){let it=(_e||et).node(rt),st=0,ot=_e?_e.index(rt):it.childCount;et&&(st=et.index(rt),et.depth>rt?st++:et.textOffset&&(addNode(et.nodeAfter,nt),st++));for(let at=st;at<ot;at++)addNode(it.child(at),nt);_e&&_e.depth==rt&&_e.textOffset&&addNode(_e.nodeBefore,nt)}function close(et,_e){return et.type.checkContent(_e),et.copy(_e)}function replaceThreeWay(et,_e,rt,nt,it){let st=et.depth>it&&joinable$1(et,_e,it+1),ot=nt.depth>it&&joinable$1(rt,nt,it+1),at=[];return addRange(null,et,it,at),st&&ot&&_e.index(it)==rt.index(it)?(checkJoin(st,ot),addNode(close(st,replaceThreeWay(et,_e,rt,nt,it+1)),at)):(st&&addNode(close(st,replaceTwoWay(et,_e,it+1)),at),addRange(_e,rt,it,at),ot&&addNode(close(ot,replaceTwoWay(rt,nt,it+1)),at)),addRange(nt,null,it,at),new Fragment(at)}function replaceTwoWay(et,_e,rt){let nt=[];if(addRange(null,et,rt,nt),et.depth>rt){let it=joinable$1(et,_e,rt+1);addNode(close(it,replaceTwoWay(et,_e,rt+1)),nt)}return addRange(_e,null,rt,nt),new Fragment(nt)}function prepareSliceForReplace(et,_e){let rt=_e.depth-et.openStart,it=_e.node(rt).copy(et.content);for(let st=rt-1;st>=0;st--)it=_e.node(st).copy(Fragment.from(it));return{start:it.resolveNoCache(et.openStart+rt),end:it.resolveNoCache(it.content.size-et.openEnd-rt)}}class ResolvedPos{constructor(_e,rt,nt){this.pos=_e,this.path=rt,this.parentOffset=nt,this.depth=rt.length/3-1}resolveDepth(_e){return _e==null?this.depth:_e<0?this.depth+_e:_e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(_e){return this.path[this.resolveDepth(_e)*3]}index(_e){return this.path[this.resolveDepth(_e)*3+1]}indexAfter(_e){return _e=this.resolveDepth(_e),this.index(_e)+(_e==this.depth&&!this.textOffset?0:1)}start(_e){return _e=this.resolveDepth(_e),_e==0?0:this.path[_e*3-1]+1}end(_e){return _e=this.resolveDepth(_e),this.start(_e)+this.node(_e).content.size}before(_e){if(_e=this.resolveDepth(_e),!_e)throw new RangeError("There is no position before the top-level node");return _e==this.depth+1?this.pos:this.path[_e*3-1]}after(_e){if(_e=this.resolveDepth(_e),!_e)throw new RangeError("There is no position after the top-level node");return _e==this.depth+1?this.pos:this.path[_e*3-1]+this.path[_e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let _e=this.parent,rt=this.index(this.depth);if(rt==_e.childCount)return null;let nt=this.pos-this.path[this.path.length-1],it=_e.child(rt);return nt?_e.child(rt).cut(nt):it}get nodeBefore(){let _e=this.index(this.depth),rt=this.pos-this.path[this.path.length-1];return rt?this.parent.child(_e).cut(0,rt):_e==0?null:this.parent.child(_e-1)}posAtIndex(_e,rt){rt=this.resolveDepth(rt);let nt=this.path[rt*3],it=rt==0?0:this.path[rt*3-1]+1;for(let st=0;st<_e;st++)it+=nt.child(st).nodeSize;return it}marks(){let _e=this.parent,rt=this.index();if(_e.content.size==0)return Mark$1.none;if(this.textOffset)return _e.child(rt).marks;let nt=_e.maybeChild(rt-1),it=_e.maybeChild(rt);if(!nt){let at=nt;nt=it,it=at}let st=nt.marks;for(var ot=0;ot<st.length;ot++)st[ot].type.spec.inclusive===!1&&(!it||!st[ot].isInSet(it.marks))&&(st=st[ot--].removeFromSet(st));return st}marksAcross(_e){let rt=this.parent.maybeChild(this.index());if(!rt||!rt.isInline)return null;let nt=rt.marks,it=_e.parent.maybeChild(_e.index());for(var st=0;st<nt.length;st++)nt[st].type.spec.inclusive===!1&&(!it||!nt[st].isInSet(it.marks))&&(nt=nt[st--].removeFromSet(nt));return nt}sharedDepth(_e){for(let rt=this.depth;rt>0;rt--)if(this.start(rt)<=_e&&this.end(rt)>=_e)return rt;return 0}blockRange(_e=this,rt){if(_e.pos<this.pos)return _e.blockRange(this);for(let nt=this.depth-(this.parent.inlineContent||this.pos==_e.pos?1:0);nt>=0;nt--)if(_e.pos<=this.end(nt)&&(!rt||rt(this.node(nt))))return new NodeRange(this,_e,nt);return null}sameParent(_e){return this.pos-this.parentOffset==_e.pos-_e.parentOffset}max(_e){return _e.pos>this.pos?_e:this}min(_e){return _e.pos<this.pos?_e:this}toString(){let _e="";for(let rt=1;rt<=this.depth;rt++)_e+=(_e?"/":"")+this.node(rt).type.name+"_"+this.index(rt-1);return _e+":"+this.parentOffset}static resolve(_e,rt){if(!(rt>=0&&rt<=_e.content.size))throw new RangeError("Position "+rt+" out of range");let nt=[],it=0,st=rt;for(let ot=_e;;){let{index:at,offset:lt}=ot.content.findIndex(st),ut=st-lt;if(nt.push(ot,at,it+lt),!ut||(ot=ot.child(at),ot.isText))break;st=ut-1,it+=lt+1}return new ResolvedPos(rt,nt,st)}static resolveCached(_e,rt){for(let it=0;it<resolveCache.length;it++){let st=resolveCache[it];if(st.pos==rt&&st.doc==_e)return st}let nt=resolveCache[resolveCachePos]=ResolvedPos.resolve(_e,rt);return resolveCachePos=(resolveCachePos+1)%resolveCacheSize,nt}}let resolveCache=[],resolveCachePos=0,resolveCacheSize=12;class NodeRange{constructor(_e,rt,nt){this.$from=_e,this.$to=rt,this.depth=nt}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$1=class Kr{constructor(_e,rt,nt,it=Mark$1.none){this.type=_e,this.attrs=rt,this.marks=it,this.content=nt||Fragment.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(_e){return this.content.child(_e)}maybeChild(_e){return this.content.maybeChild(_e)}forEach(_e){this.content.forEach(_e)}nodesBetween(_e,rt,nt,it=0){this.content.nodesBetween(_e,rt,nt,it,this)}descendants(_e){this.nodesBetween(0,this.content.size,_e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(_e,rt,nt,it){return this.content.textBetween(_e,rt,nt,it)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(_e){return this==_e||this.sameMarkup(_e)&&this.content.eq(_e.content)}sameMarkup(_e){return this.hasMarkup(_e.type,_e.attrs,_e.marks)}hasMarkup(_e,rt,nt){return this.type==_e&&compareDeep(this.attrs,rt||_e.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,nt||Mark$1.none)}copy(_e=null){return _e==this.content?this:new Kr(this.type,this.attrs,_e,this.marks)}mark(_e){return _e==this.marks?this:new Kr(this.type,this.attrs,this.content,_e)}cut(_e,rt=this.content.size){return _e==0&&rt==this.content.size?this:this.copy(this.content.cut(_e,rt))}slice(_e,rt=this.content.size,nt=!1){if(_e==rt)return Slice.empty;let it=this.resolve(_e),st=this.resolve(rt),ot=nt?0:it.sharedDepth(rt),at=it.start(ot),ut=it.node(ot).content.cut(it.pos-at,st.pos-at);return new Slice(ut,it.depth-ot,st.depth-ot)}replace(_e,rt,nt){return replace(this.resolve(_e),this.resolve(rt),nt)}nodeAt(_e){for(let rt=this;;){let{index:nt,offset:it}=rt.content.findIndex(_e);if(rt=rt.maybeChild(nt),!rt)return null;if(it==_e||rt.isText)return rt;_e-=it+1}}childAfter(_e){let{index:rt,offset:nt}=this.content.findIndex(_e);return{node:this.content.maybeChild(rt),index:rt,offset:nt}}childBefore(_e){if(_e==0)return{node:null,index:0,offset:0};let{index:rt,offset:nt}=this.content.findIndex(_e);if(nt<_e)return{node:this.content.child(rt),index:rt,offset:nt};let it=this.content.child(rt-1);return{node:it,index:rt-1,offset:nt-it.nodeSize}}resolve(_e){return ResolvedPos.resolveCached(this,_e)}resolveNoCache(_e){return ResolvedPos.resolve(this,_e)}rangeHasMark(_e,rt,nt){let it=!1;return rt>_e&&this.nodesBetween(_e,rt,st=>(nt.isInSet(st.marks)&&(it=!0),!it)),it}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let _e=this.type.name;return this.content.size&&(_e+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,_e)}contentMatchAt(_e){let rt=this.type.contentMatch.matchFragment(this.content,0,_e);if(!rt)throw new Error("Called contentMatchAt on a node with invalid content");return rt}canReplace(_e,rt,nt=Fragment.empty,it=0,st=nt.childCount){let ot=this.contentMatchAt(_e).matchFragment(nt,it,st),at=ot&&ot.matchFragment(this.content,rt);if(!at||!at.validEnd)return!1;for(let lt=it;lt<st;lt++)if(!this.type.allowsMarks(nt.child(lt).marks))return!1;return!0}canReplaceWith(_e,rt,nt,it){if(it&&!this.type.allowsMarks(it))return!1;let st=this.contentMatchAt(_e).matchType(nt),ot=st&&st.matchFragment(this.content,rt);return ot?ot.validEnd:!1}canAppend(_e){return _e.content.size?this.canReplace(this.childCount,this.childCount,_e.content):this.type.compatibleContent(_e.type)}check(){this.type.checkContent(this.content);let _e=Mark$1.none;for(let rt=0;rt<this.marks.length;rt++)_e=this.marks[rt].addToSet(_e);if(!Mark$1.sameSet(_e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(rt=>rt.type.name)}`);this.content.forEach(rt=>rt.check())}toJSON(){let _e={type:this.type.name};for(let rt in this.attrs){_e.attrs=this.attrs;break}return this.content.size&&(_e.content=this.content.toJSON()),this.marks.length&&(_e.marks=this.marks.map(rt=>rt.toJSON())),_e}static fromJSON(_e,rt){if(!rt)throw new RangeError("Invalid input for Node.fromJSON");let nt=null;if(rt.marks){if(!Array.isArray(rt.marks))throw new RangeError("Invalid mark data for Node.fromJSON");nt=rt.marks.map(_e.markFromJSON)}if(rt.type=="text"){if(typeof rt.text!="string")throw new RangeError("Invalid text node in JSON");return _e.text(rt.text,nt)}let it=Fragment.fromJSON(_e,rt.content);return _e.nodeType(rt.type).create(rt.attrs,it,nt)}};Node$1.prototype.text=void 0;class TextNode extends Node$1{constructor(_e,rt,nt,it){if(super(_e,rt,null,it),!nt)throw new RangeError("Empty text nodes are not allowed");this.text=nt}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(_e,rt){return this.text.slice(_e,rt)}get nodeSize(){return this.text.length}mark(_e){return _e==this.marks?this:new TextNode(this.type,this.attrs,this.text,_e)}withText(_e){return _e==this.text?this:new TextNode(this.type,this.attrs,_e,this.marks)}cut(_e=0,rt=this.text.length){return _e==0&&rt==this.text.length?this:this.withText(this.text.slice(_e,rt))}eq(_e){return this.sameMarkup(_e)&&this.text==_e.text}toJSON(){let _e=super.toJSON();return _e.text=this.text,_e}}function wrapMarks(et,_e){for(let rt=et.length-1;rt>=0;rt--)_e=et[rt].type.name+"("+_e+")";return _e}class ContentMatch{constructor(_e){this.validEnd=_e,this.next=[],this.wrapCache=[]}static parse(_e,rt){let nt=new TokenStream(_e,rt);if(nt.next==null)return ContentMatch.empty;let it=parseExpr(nt);nt.next&&nt.err("Unexpected trailing text");let st=dfa(nfa(it));return checkForDeadEnds(st,nt),st}matchType(_e){for(let rt=0;rt<this.next.length;rt++)if(this.next[rt].type==_e)return this.next[rt].next;return null}matchFragment(_e,rt=0,nt=_e.childCount){let it=this;for(let st=rt;it&&st<nt;st++)it=it.matchType(_e.child(st).type);return it}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let _e=0;_e<this.next.length;_e++){let{type:rt}=this.next[_e];if(!(rt.isText||rt.hasRequiredAttrs()))return rt}return null}compatible(_e){for(let rt=0;rt<this.next.length;rt++)for(let nt=0;nt<_e.next.length;nt++)if(this.next[rt].type==_e.next[nt].type)return!0;return!1}fillBefore(_e,rt=!1,nt=0){let it=[this];function st(ot,at){let lt=ot.matchFragment(_e,nt);if(lt&&(!rt||lt.validEnd))return Fragment.from(at.map(ut=>ut.createAndFill()));for(let ut=0;ut<ot.next.length;ut++){let{type:ct,next:dt}=ot.next[ut];if(!(ct.isText||ct.hasRequiredAttrs())&&it.indexOf(dt)==-1){it.push(dt);let ft=st(dt,at.concat(ct));if(ft)return ft}}return null}return st(this,[])}findWrapping(_e){for(let nt=0;nt<this.wrapCache.length;nt+=2)if(this.wrapCache[nt]==_e)return this.wrapCache[nt+1];let rt=this.computeWrapping(_e);return this.wrapCache.push(_e,rt),rt}computeWrapping(_e){let rt=Object.create(null),nt=[{match:this,type:null,via:null}];for(;nt.length;){let it=nt.shift(),st=it.match;if(st.matchType(_e)){let ot=[];for(let at=it;at.type;at=at.via)ot.push(at.type);return ot.reverse()}for(let ot=0;ot<st.next.length;ot++){let{type:at,next:lt}=st.next[ot];!at.isLeaf&&!at.hasRequiredAttrs()&&!(at.name in rt)&&(!it.type||lt.validEnd)&&(nt.push({match:at.contentMatch,type:at,via:it}),rt[at.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(_e){if(_e>=this.next.length)throw new RangeError(`There's no ${_e}th edge in this content match`);return this.next[_e]}toString(){let _e=[];function rt(nt){_e.push(nt);for(let it=0;it<nt.next.length;it++)_e.indexOf(nt.next[it].next)==-1&&rt(nt.next[it].next)}return rt(this),_e.map((nt,it)=>{let st=it+(nt.validEnd?"*":" ")+" ";for(let ot=0;ot<nt.next.length;ot++)st+=(ot?", ":"")+nt.next[ot].type.name+"->"+_e.indexOf(nt.next[ot].next);return st}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(_e,rt){this.string=_e,this.nodeTypes=rt,this.inline=null,this.pos=0,this.tokens=_e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(_e){return this.next==_e&&(this.pos++||!0)}err(_e){throw new SyntaxError(_e+" (in content expression '"+this.string+"')")}}function parseExpr(et){let _e=[];do _e.push(parseExprSeq(et));while(et.eat("|"));return _e.length==1?_e[0]:{type:"choice",exprs:_e}}function parseExprSeq(et){let _e=[];do _e.push(parseExprSubscript(et));while(et.next&&et.next!=")"&&et.next!="|");return _e.length==1?_e[0]:{type:"seq",exprs:_e}}function parseExprSubscript(et){let _e=parseExprAtom(et);for(;;)if(et.eat("+"))_e={type:"plus",expr:_e};else if(et.eat("*"))_e={type:"star",expr:_e};else if(et.eat("?"))_e={type:"opt",expr:_e};else if(et.eat("{"))_e=parseExprRange(et,_e);else break;return _e}function parseNum(et){/\D/.test(et.next)&&et.err("Expected number, got '"+et.next+"'");let _e=Number(et.next);return et.pos++,_e}function parseExprRange(et,_e){let rt=parseNum(et),nt=rt;return et.eat(",")&&(et.next!="}"?nt=parseNum(et):nt=-1),et.eat("}")||et.err("Unclosed braced range"),{type:"range",min:rt,max:nt,expr:_e}}function resolveName(et,_e){let rt=et.nodeTypes,nt=rt[_e];if(nt)return[nt];let it=[];for(let st in rt){let ot=rt[st];ot.groups.indexOf(_e)>-1&&it.push(ot)}return it.length==0&&et.err("No node type or group '"+_e+"' found"),it}function parseExprAtom(et){if(et.eat("(")){let _e=parseExpr(et);return et.eat(")")||et.err("Missing closing paren"),_e}else if(/\W/.test(et.next))et.err("Unexpected token '"+et.next+"'");else{let _e=resolveName(et,et.next).map(rt=>(et.inline==null?et.inline=rt.isInline:et.inline!=rt.isInline&&et.err("Mixing inline and block content"),{type:"name",value:rt}));return et.pos++,_e.length==1?_e[0]:{type:"choice",exprs:_e}}}function nfa(et){let _e=[[]];return it(st(et,0),rt()),_e;function rt(){return _e.push([])-1}function nt(ot,at,lt){let ut={term:lt,to:at};return _e[ot].push(ut),ut}function it(ot,at){ot.forEach(lt=>lt.to=at)}function st(ot,at){if(ot.type=="choice")return ot.exprs.reduce((lt,ut)=>lt.concat(st(ut,at)),[]);if(ot.type=="seq")for(let lt=0;;lt++){let ut=st(ot.exprs[lt],at);if(lt==ot.exprs.length-1)return ut;it(ut,at=rt())}else if(ot.type=="star"){let lt=rt();return nt(at,lt),it(st(ot.expr,lt),lt),[nt(lt)]}else if(ot.type=="plus"){let lt=rt();return it(st(ot.expr,at),lt),it(st(ot.expr,lt),lt),[nt(lt)]}else{if(ot.type=="opt")return[nt(at)].concat(st(ot.expr,at));if(ot.type=="range"){let lt=at;for(let ut=0;ut<ot.min;ut++){let ct=rt();it(st(ot.expr,lt),ct),lt=ct}if(ot.max==-1)it(st(ot.expr,lt),lt);else for(let ut=ot.min;ut<ot.max;ut++){let ct=rt();nt(lt,ct),it(st(ot.expr,lt),ct),lt=ct}return[nt(lt)]}else{if(ot.type=="name")return[nt(at,void 0,ot.value)];throw new Error("Unknown expr type")}}}}function cmp(et,_e){return _e-et}function nullFrom(et,_e){let rt=[];return nt(_e),rt.sort(cmp);function nt(it){let st=et[it];if(st.length==1&&!st[0].term)return nt(st[0].to);rt.push(it);for(let ot=0;ot<st.length;ot++){let{term:at,to:lt}=st[ot];!at&&rt.indexOf(lt)==-1&&nt(lt)}}}function dfa(et){let _e=Object.create(null);return rt(nullFrom(et,0));function rt(nt){let it=[];nt.forEach(ot=>{et[ot].forEach(({term:at,to:lt})=>{if(!at)return;let ut;for(let ct=0;ct<it.length;ct++)it[ct][0]==at&&(ut=it[ct][1]);nullFrom(et,lt).forEach(ct=>{ut||it.push([at,ut=[]]),ut.indexOf(ct)==-1&&ut.push(ct)})})});let st=_e[nt.join(",")]=new ContentMatch(nt.indexOf(et.length-1)>-1);for(let ot=0;ot<it.length;ot++){let at=it[ot][1].sort(cmp);st.next.push({type:it[ot][0],next:_e[at.join(",")]||rt(at)})}return st}}function checkForDeadEnds(et,_e){for(let rt=0,nt=[et];rt<nt.length;rt++){let it=nt[rt],st=!it.validEnd,ot=[];for(let at=0;at<it.next.length;at++){let{type:lt,next:ut}=it.next[at];ot.push(lt.name),st&&!(lt.isText||lt.hasRequiredAttrs())&&(st=!1),nt.indexOf(ut)==-1&&nt.push(ut)}st&&_e.err("Only non-generatable nodes ("+ot.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(et){let _e=Object.create(null);for(let rt in et){let nt=et[rt];if(!nt.hasDefault)return null;_e[rt]=nt.default}return _e}function computeAttrs(et,_e){let rt=Object.create(null);for(let nt in et){let it=_e&&_e[nt];if(it===void 0){let st=et[nt];if(st.hasDefault)it=st.default;else throw new RangeError("No value supplied for attribute "+nt)}rt[nt]=it}return rt}function initAttrs(et){let _e=Object.create(null);if(et)for(let rt in et)_e[rt]=new Attribute(et[rt]);return _e}let NodeType$1=class Gr{constructor(_e,rt,nt){this.name=_e,this.schema=rt,this.spec=nt,this.markSet=null,this.groups=nt.group?nt.group.split(" "):[],this.attrs=initAttrs(nt.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(nt.inline||_e=="text"),this.isText=_e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let _e in this.attrs)if(this.attrs[_e].isRequired)return!0;return!1}compatibleContent(_e){return this==_e||this.contentMatch.compatible(_e.contentMatch)}computeAttrs(_e){return!_e&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,_e)}create(_e=null,rt,nt){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$1(this,this.computeAttrs(_e),Fragment.from(rt),Mark$1.setFrom(nt))}createChecked(_e=null,rt,nt){return rt=Fragment.from(rt),this.checkContent(rt),new Node$1(this,this.computeAttrs(_e),rt,Mark$1.setFrom(nt))}createAndFill(_e=null,rt,nt){if(_e=this.computeAttrs(_e),rt=Fragment.from(rt),rt.size){let ot=this.contentMatch.fillBefore(rt);if(!ot)return null;rt=ot.append(rt)}let it=this.contentMatch.matchFragment(rt),st=it&&it.fillBefore(Fragment.empty,!0);return st?new Node$1(this,_e,rt.append(st),Mark$1.setFrom(nt)):null}validContent(_e){let rt=this.contentMatch.matchFragment(_e);if(!rt||!rt.validEnd)return!1;for(let nt=0;nt<_e.childCount;nt++)if(!this.allowsMarks(_e.child(nt).marks))return!1;return!0}checkContent(_e){if(!this.validContent(_e))throw new RangeError(`Invalid content for node ${this.name}: ${_e.toString().slice(0,50)}`)}allowsMarkType(_e){return this.markSet==null||this.markSet.indexOf(_e)>-1}allowsMarks(_e){if(this.markSet==null)return!0;for(let rt=0;rt<_e.length;rt++)if(!this.allowsMarkType(_e[rt].type))return!1;return!0}allowedMarks(_e){if(this.markSet==null)return _e;let rt;for(let nt=0;nt<_e.length;nt++)this.allowsMarkType(_e[nt].type)?rt&&rt.push(_e[nt]):rt||(rt=_e.slice(0,nt));return rt?rt.length?rt:Mark$1.none:_e}static compile(_e,rt){let nt=Object.create(null);_e.forEach((st,ot)=>nt[st]=new Gr(st,rt,ot));let it=rt.spec.topNode||"doc";if(!nt[it])throw new RangeError("Schema is missing its top node type ('"+it+"')");if(!nt.text)throw new RangeError("Every schema needs a 'text' type");for(let st in nt.text.attrs)throw new RangeError("The text node type should not have attributes");return nt}};class Attribute{constructor(_e){this.hasDefault=Object.prototype.hasOwnProperty.call(_e,"default"),this.default=_e.default}get isRequired(){return!this.hasDefault}}class MarkType{constructor(_e,rt,nt,it){this.name=_e,this.rank=rt,this.schema=nt,this.spec=it,this.attrs=initAttrs(it.attrs),this.excluded=null;let st=defaultAttrs(this.attrs);this.instance=st?new Mark$1(this,st):null}create(_e=null){return!_e&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,_e))}static compile(_e,rt){let nt=Object.create(null),it=0;return _e.forEach((st,ot)=>nt[st]=new MarkType(st,it++,rt,ot)),nt}removeFromSet(_e){for(var rt=0;rt<_e.length;rt++)_e[rt].type==this&&(_e=_e.slice(0,rt).concat(_e.slice(rt+1)),rt--);return _e}isInSet(_e){for(let rt=0;rt<_e.length;rt++)if(_e[rt].type==this)return _e[rt]}excludes(_e){return this.excluded.indexOf(_e)>-1}}class Schema{constructor(_e){this.cached=Object.create(null);let rt=this.spec={};for(let it in _e)rt[it]=_e[it];rt.nodes=OrderedMap.from(_e.nodes),rt.marks=OrderedMap.from(_e.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let nt=Object.create(null);for(let it in this.nodes){if(it in this.marks)throw new RangeError(it+" can not be both a node and a mark");let st=this.nodes[it],ot=st.spec.content||"",at=st.spec.marks;st.contentMatch=nt[ot]||(nt[ot]=ContentMatch.parse(ot,this.nodes)),st.inlineContent=st.contentMatch.inlineContent,st.markSet=at=="_"?null:at?gatherMarks(this,at.split(" ")):at==""||!st.inlineContent?[]:null}for(let it in this.marks){let st=this.marks[it],ot=st.spec.excludes;st.excluded=ot==null?[st]:ot==""?[]:gatherMarks(this,ot.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(_e,rt=null,nt,it){if(typeof _e=="string")_e=this.nodeType(_e);else if(_e instanceof NodeType$1){if(_e.schema!=this)throw new RangeError("Node type from different schema used ("+_e.name+")")}else throw new RangeError("Invalid node type: "+_e);return _e.createChecked(rt,nt,it)}text(_e,rt){let nt=this.nodes.text;return new TextNode(nt,nt.defaultAttrs,_e,Mark$1.setFrom(rt))}mark(_e,rt){return typeof _e=="string"&&(_e=this.marks[_e]),_e.create(rt)}nodeFromJSON(_e){return Node$1.fromJSON(this,_e)}markFromJSON(_e){return Mark$1.fromJSON(this,_e)}nodeType(_e){let rt=this.nodes[_e];if(!rt)throw new RangeError("Unknown node type: "+_e);return rt}}function gatherMarks(et,_e){let rt=[];for(let nt=0;nt<_e.length;nt++){let it=_e[nt],st=et.marks[it],ot=st;if(st)rt.push(st);else for(let at in et.marks){let lt=et.marks[at];(it=="_"||lt.spec.group&&lt.spec.group.split(" ").indexOf(it)>-1)&&rt.push(ot=lt)}if(!ot)throw new SyntaxError("Unknown mark type: '"+_e[nt]+"'")}return rt}class DOMParser{constructor(_e,rt){this.schema=_e,this.rules=rt,this.tags=[],this.styles=[],rt.forEach(nt=>{nt.tag?this.tags.push(nt):nt.style&&this.styles.push(nt)}),this.normalizeLists=!this.tags.some(nt=>{if(!/^(ul|ol)\b/.test(nt.tag)||!nt.node)return!1;let it=_e.nodes[nt.node];return it.contentMatch.matchType(it)})}parse(_e,rt={}){let nt=new ParseContext(this,rt,!1);return nt.addAll(_e,rt.from,rt.to),nt.finish()}parseSlice(_e,rt={}){let nt=new ParseContext(this,rt,!0);return nt.addAll(_e,rt.from,rt.to),Slice.maxOpen(nt.finish())}matchTag(_e,rt,nt){for(let it=nt?this.tags.indexOf(nt)+1:0;it<this.tags.length;it++){let st=this.tags[it];if(matches(_e,st.tag)&&(st.namespace===void 0||_e.namespaceURI==st.namespace)&&(!st.context||rt.matchesContext(st.context))){if(st.getAttrs){let ot=st.getAttrs(_e);if(ot===!1)continue;st.attrs=ot||void 0}return st}}}matchStyle(_e,rt,nt,it){for(let st=it?this.styles.indexOf(it)+1:0;st<this.styles.length;st++){let ot=this.styles[st],at=ot.style;if(!(at.indexOf(_e)!=0||ot.context&&!nt.matchesContext(ot.context)||at.length>_e.length&&(at.charCodeAt(_e.length)!=61||at.slice(_e.length+1)!=rt))){if(ot.getAttrs){let lt=ot.getAttrs(rt);if(lt===!1)continue;ot.attrs=lt||void 0}return ot}}}static schemaRules(_e){let rt=[];function nt(it){let st=it.priority==null?50:it.priority,ot=0;for(;ot<rt.length;ot++){let at=rt[ot];if((at.priority==null?50:at.priority)<st)break}rt.splice(ot,0,it)}for(let it in _e.marks){let st=_e.marks[it].spec.parseDOM;st&&st.forEach(ot=>{nt(ot=copy(ot)),ot.mark||ot.ignore||ot.clearMark||(ot.mark=it)})}for(let it in _e.nodes){let st=_e.nodes[it].spec.parseDOM;st&&st.forEach(ot=>{nt(ot=copy(ot)),ot.node||ot.ignore||ot.mark||(ot.node=it)})}return rt}static fromSchema(_e){return _e.cached.domParser||(_e.cached.domParser=new DOMParser(_e,DOMParser.schemaRules(_e)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(et,_e,rt){return _e!=null?(_e?OPT_PRESERVE_WS:0)|(_e==="full"?OPT_PRESERVE_WS_FULL:0):et&&et.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:rt&~OPT_OPEN_LEFT}class NodeContext{constructor(_e,rt,nt,it,st,ot,at){this.type=_e,this.attrs=rt,this.marks=nt,this.pendingMarks=it,this.solid=st,this.options=at,this.content=[],this.activeMarks=Mark$1.none,this.stashMarks=[],this.match=ot||(at&OPT_OPEN_LEFT?null:_e.contentMatch)}findWrapping(_e){if(!this.match){if(!this.type)return[];let rt=this.type.contentMatch.fillBefore(Fragment.from(_e));if(rt)this.match=this.type.contentMatch.matchFragment(rt);else{let nt=this.type.contentMatch,it;return(it=nt.findWrapping(_e.type))?(this.match=nt,it):null}}return this.match.findWrapping(_e.type)}finish(_e){if(!(this.options&OPT_PRESERVE_WS)){let nt=this.content[this.content.length-1],it;if(nt&&nt.isText&&(it=/[ \t\r\n\u000c]+$/.exec(nt.text))){let st=nt;nt.text.length==it[0].length?this.content.pop():this.content[this.content.length-1]=st.withText(st.text.slice(0,st.text.length-it[0].length))}}let rt=Fragment.from(this.content);return!_e&&this.match&&(rt=rt.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,rt,this.marks):rt}popFromStashMark(_e){for(let rt=this.stashMarks.length-1;rt>=0;rt--)if(_e.eq(this.stashMarks[rt]))return this.stashMarks.splice(rt,1)[0]}applyPending(_e){for(let rt=0,nt=this.pendingMarks;rt<nt.length;rt++){let it=nt[rt];(this.type?this.type.allowsMarkType(it.type):markMayApply(it.type,_e))&&!it.isInSet(this.activeMarks)&&(this.activeMarks=it.addToSet(this.activeMarks),this.pendingMarks=it.removeFromSet(this.pendingMarks))}}inlineContext(_e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:_e.parentNode&&!blockTags.hasOwnProperty(_e.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(_e,rt,nt){this.parser=_e,this.options=rt,this.isOpen=nt,this.open=0;let it=rt.topNode,st,ot=wsOptionsFor(null,rt.preserveWhitespace,0)|(nt?OPT_OPEN_LEFT:0);it?st=new NodeContext(it.type,it.attrs,Mark$1.none,Mark$1.none,!0,rt.topMatch||it.type.contentMatch,ot):nt?st=new NodeContext(null,null,Mark$1.none,Mark$1.none,!0,null,ot):st=new NodeContext(_e.schema.topNodeType,null,Mark$1.none,Mark$1.none,!0,null,ot),this.nodes=[st],this.find=rt.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(_e){if(_e.nodeType==3)this.addTextNode(_e);else if(_e.nodeType==1){let rt=_e.getAttribute("style");if(!rt)this.addElement(_e);else{let nt=this.readStyles(parseStyles(rt));if(!nt)return;let[it,st]=nt,ot=this.top;for(let at=0;at<st.length;at++)this.removePendingMark(st[at],ot);for(let at=0;at<it.length;at++)this.addPendingMark(it[at]);this.addElement(_e);for(let at=0;at<it.length;at++)this.removePendingMark(it[at],ot);for(let at=0;at<st.length;at++)this.addPendingMark(st[at])}}}addTextNode(_e){let rt=_e.nodeValue,nt=this.top;if(nt.options&OPT_PRESERVE_WS_FULL||nt.inlineContext(_e)||/[^ \t\r\n\u000c]/.test(rt)){if(nt.options&OPT_PRESERVE_WS)nt.options&OPT_PRESERVE_WS_FULL?rt=rt.replace(/\r\n?/g,`
`):rt=rt.replace(/\r?\n|\r/g," ");else if(rt=rt.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(rt)&&this.open==this.nodes.length-1){let it=nt.content[nt.content.length-1],st=_e.previousSibling;(!it||st&&st.nodeName=="BR"||it.isText&&/[ \t\r\n\u000c]$/.test(it.text))&&(rt=rt.slice(1))}rt&&this.insertNode(this.parser.schema.text(rt)),this.findInText(_e)}else this.findInside(_e)}addElement(_e,rt){let nt=_e.nodeName.toLowerCase(),it;listTags.hasOwnProperty(nt)&&this.parser.normalizeLists&&normalizeList(_e);let st=this.options.ruleFromNode&&this.options.ruleFromNode(_e)||(it=this.parser.matchTag(_e,this,rt));if(st?st.ignore:ignoreTags.hasOwnProperty(nt))this.findInside(_e),this.ignoreFallback(_e);else if(!st||st.skip||st.closeParent){st&&st.closeParent?this.open=Math.max(0,this.open-1):st&&st.skip.nodeType&&(_e=st.skip);let ot,at=this.top,lt=this.needsBlock;if(blockTags.hasOwnProperty(nt))at.content.length&&at.content[0].isInline&&this.open&&(this.open--,at=this.top),ot=!0,at.type||(this.needsBlock=!0);else if(!_e.firstChild){this.leafFallback(_e);return}this.addAll(_e),ot&&this.sync(at),this.needsBlock=lt}else this.addElementByRule(_e,st,st.consuming===!1?it:void 0)}leafFallback(_e){_e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(_e.ownerDocument.createTextNode(`
`))}ignoreFallback(_e){_e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(_e){let rt=Mark$1.none,nt=Mark$1.none;e:for(let it=0;it<_e.length;it+=2)for(let st=void 0;;){let ot=this.parser.matchStyle(_e[it],_e[it+1],this,st);if(!ot)continue e;if(ot.ignore)return null;if(ot.clearMark?this.top.pendingMarks.forEach(at=>{ot.clearMark(at)&&(nt=at.addToSet(nt))}):rt=this.parser.schema.marks[ot.mark].create(ot.attrs).addToSet(rt),ot.consuming===!1)st=ot;else break}return[rt,nt]}addElementByRule(_e,rt,nt){let it,st,ot;rt.node?(st=this.parser.schema.nodes[rt.node],st.isLeaf?this.insertNode(st.create(rt.attrs))||this.leafFallback(_e):it=this.enter(st,rt.attrs||null,rt.preserveWhitespace)):(ot=this.parser.schema.marks[rt.mark].create(rt.attrs),this.addPendingMark(ot));let at=this.top;if(st&&st.isLeaf)this.findInside(_e);else if(nt)this.addElement(_e,nt);else if(rt.getContent)this.findInside(_e),rt.getContent(_e,this.parser.schema).forEach(lt=>this.insertNode(lt));else{let lt=_e;typeof rt.contentElement=="string"?lt=_e.querySelector(rt.contentElement):typeof rt.contentElement=="function"?lt=rt.contentElement(_e):rt.contentElement&&(lt=rt.contentElement),this.findAround(_e,lt,!0),this.addAll(lt)}it&&this.sync(at)&&this.open--,ot&&this.removePendingMark(ot,at)}addAll(_e,rt,nt){let it=rt||0;for(let st=rt?_e.childNodes[rt]:_e.firstChild,ot=nt==null?null:_e.childNodes[nt];st!=ot;st=st.nextSibling,++it)this.findAtPoint(_e,it),this.addDOM(st);this.findAtPoint(_e,it)}findPlace(_e){let rt,nt;for(let it=this.open;it>=0;it--){let st=this.nodes[it],ot=st.findWrapping(_e);if(ot&&(!rt||rt.length>ot.length)&&(rt=ot,nt=st,!ot.length)||st.solid)break}if(!rt)return!1;this.sync(nt);for(let it=0;it<rt.length;it++)this.enterInner(rt[it],null,!1);return!0}insertNode(_e){if(_e.isInline&&this.needsBlock&&!this.top.type){let rt=this.textblockFromContext();rt&&this.enterInner(rt)}if(this.findPlace(_e)){this.closeExtra();let rt=this.top;rt.applyPending(_e.type),rt.match&&(rt.match=rt.match.matchType(_e.type));let nt=rt.activeMarks;for(let it=0;it<_e.marks.length;it++)(!rt.type||rt.type.allowsMarkType(_e.marks[it].type))&&(nt=_e.marks[it].addToSet(nt));return rt.content.push(_e.mark(nt)),!0}return!1}enter(_e,rt,nt){let it=this.findPlace(_e.create(rt));return it&&this.enterInner(_e,rt,!0,nt),it}enterInner(_e,rt=null,nt=!1,it){this.closeExtra();let st=this.top;st.applyPending(_e),st.match=st.match&&st.match.matchType(_e);let ot=wsOptionsFor(_e,it,st.options);st.options&OPT_OPEN_LEFT&&st.content.length==0&&(ot|=OPT_OPEN_LEFT),this.nodes.push(new NodeContext(_e,rt,st.activeMarks,st.pendingMarks,nt,null,ot)),this.open++}closeExtra(_e=!1){let rt=this.nodes.length-1;if(rt>this.open){for(;rt>this.open;rt--)this.nodes[rt-1].content.push(this.nodes[rt].finish(_e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(_e){for(let rt=this.open;rt>=0;rt--)if(this.nodes[rt]==_e)return this.open=rt,!0;return!1}get currentPos(){this.closeExtra();let _e=0;for(let rt=this.open;rt>=0;rt--){let nt=this.nodes[rt].content;for(let it=nt.length-1;it>=0;it--)_e+=nt[it].nodeSize;rt&&_e++}return _e}findAtPoint(_e,rt){if(this.find)for(let nt=0;nt<this.find.length;nt++)this.find[nt].node==_e&&this.find[nt].offset==rt&&(this.find[nt].pos=this.currentPos)}findInside(_e){if(this.find)for(let rt=0;rt<this.find.length;rt++)this.find[rt].pos==null&&_e.nodeType==1&&_e.contains(this.find[rt].node)&&(this.find[rt].pos=this.currentPos)}findAround(_e,rt,nt){if(_e!=rt&&this.find)for(let it=0;it<this.find.length;it++)this.find[it].pos==null&&_e.nodeType==1&&_e.contains(this.find[it].node)&&rt.compareDocumentPosition(this.find[it].node)&(nt?2:4)&&(this.find[it].pos=this.currentPos)}findInText(_e){if(this.find)for(let rt=0;rt<this.find.length;rt++)this.find[rt].node==_e&&(this.find[rt].pos=this.currentPos-(_e.nodeValue.length-this.find[rt].offset))}matchesContext(_e){if(_e.indexOf("|")>-1)return _e.split(/\s*\|\s*/).some(this.matchesContext,this);let rt=_e.split("/"),nt=this.options.context,it=!this.isOpen&&(!nt||nt.parent.type==this.nodes[0].type),st=-(nt?nt.depth+1:0)+(it?0:1),ot=(at,lt)=>{for(;at>=0;at--){let ut=rt[at];if(ut==""){if(at==rt.length-1||at==0)continue;for(;lt>=st;lt--)if(ot(at-1,lt))return!0;return!1}else{let ct=lt>0||lt==0&&it?this.nodes[lt].type:nt&&lt>=st?nt.node(lt-st).type:null;if(!ct||ct.name!=ut&&ct.groups.indexOf(ut)==-1)return!1;lt--}}return!0};return ot(rt.length-1,this.open)}textblockFromContext(){let _e=this.options.context;if(_e)for(let rt=_e.depth;rt>=0;rt--){let nt=_e.node(rt).contentMatchAt(_e.indexAfter(rt)).defaultType;if(nt&&nt.isTextblock&&nt.defaultAttrs)return nt}for(let rt in this.parser.schema.nodes){let nt=this.parser.schema.nodes[rt];if(nt.isTextblock&&nt.defaultAttrs)return nt}}addPendingMark(_e){let rt=findSameMarkInSet(_e,this.top.pendingMarks);rt&&this.top.stashMarks.push(rt),this.top.pendingMarks=_e.addToSet(this.top.pendingMarks)}removePendingMark(_e,rt){for(let nt=this.open;nt>=0;nt--){let it=this.nodes[nt];if(it.pendingMarks.lastIndexOf(_e)>-1)it.pendingMarks=_e.removeFromSet(it.pendingMarks);else{it.activeMarks=_e.removeFromSet(it.activeMarks);let ot=it.popFromStashMark(_e);ot&&it.type&&it.type.allowsMarkType(ot.type)&&(it.activeMarks=ot.addToSet(it.activeMarks))}if(it==rt)break}}}function normalizeList(et){for(let _e=et.firstChild,rt=null;_e;_e=_e.nextSibling){let nt=_e.nodeType==1?_e.nodeName.toLowerCase():null;nt&&listTags.hasOwnProperty(nt)&&rt?(rt.appendChild(_e),_e=rt):nt=="li"?rt=_e:nt&&(rt=null)}}function matches(et,_e){return(et.matches||et.msMatchesSelector||et.webkitMatchesSelector||et.mozMatchesSelector).call(et,_e)}function parseStyles(et){let _e=/\s*([\w-]+)\s*:\s*([^;]+)/g,rt,nt=[];for(;rt=_e.exec(et);)nt.push(rt[1],rt[2].trim());return nt}function copy(et){let _e={};for(let rt in et)_e[rt]=et[rt];return _e}function markMayApply(et,_e){let rt=_e.schema.nodes;for(let nt in rt){let it=rt[nt];if(!it.allowsMarkType(et))continue;let st=[],ot=at=>{st.push(at);for(let lt=0;lt<at.edgeCount;lt++){let{type:ut,next:ct}=at.edge(lt);if(ut==_e||st.indexOf(ct)<0&&ot(ct))return!0}};if(ot(it.contentMatch))return!0}}function findSameMarkInSet(et,_e){for(let rt=0;rt<_e.length;rt++)if(et.eq(_e[rt]))return _e[rt]}class DOMSerializer{constructor(_e,rt){this.nodes=_e,this.marks=rt}serializeFragment(_e,rt={},nt){nt||(nt=doc$3(rt).createDocumentFragment());let it=nt,st=[];return _e.forEach(ot=>{if(st.length||ot.marks.length){let at=0,lt=0;for(;at<st.length&&lt<ot.marks.length;){let ut=ot.marks[lt];if(!this.marks[ut.type.name]){lt++;continue}if(!ut.eq(st[at][0])||ut.type.spec.spanning===!1)break;at++,lt++}for(;at<st.length;)it=st.pop()[1];for(;lt<ot.marks.length;){let ut=ot.marks[lt++],ct=this.serializeMark(ut,ot.isInline,rt);ct&&(st.push([ut,it]),it.appendChild(ct.dom),it=ct.contentDOM||ct.dom)}}it.appendChild(this.serializeNodeInner(ot,rt))}),nt}serializeNodeInner(_e,rt){let{dom:nt,contentDOM:it}=DOMSerializer.renderSpec(doc$3(rt),this.nodes[_e.type.name](_e));if(it){if(_e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(_e.content,rt,it)}return nt}serializeNode(_e,rt={}){let nt=this.serializeNodeInner(_e,rt);for(let it=_e.marks.length-1;it>=0;it--){let st=this.serializeMark(_e.marks[it],_e.isInline,rt);st&&((st.contentDOM||st.dom).appendChild(nt),nt=st.dom)}return nt}serializeMark(_e,rt,nt={}){let it=this.marks[_e.type.name];return it&&DOMSerializer.renderSpec(doc$3(nt),it(_e,rt))}static renderSpec(_e,rt,nt=null){if(typeof rt=="string")return{dom:_e.createTextNode(rt)};if(rt.nodeType!=null)return{dom:rt};if(rt.dom&&rt.dom.nodeType!=null)return rt;let it=rt[0],st=it.indexOf(" ");st>0&&(nt=it.slice(0,st),it=it.slice(st+1));let ot,at=nt?_e.createElementNS(nt,it):_e.createElement(it),lt=rt[1],ut=1;if(lt&&typeof lt=="object"&&lt.nodeType==null&&!Array.isArray(lt)){ut=2;for(let ct in lt)if(lt[ct]!=null){let dt=ct.indexOf(" ");dt>0?at.setAttributeNS(ct.slice(0,dt),ct.slice(dt+1),lt[ct]):at.setAttribute(ct,lt[ct])}}for(let ct=ut;ct<rt.length;ct++){let dt=rt[ct];if(dt===0){if(ct<rt.length-1||ct>ut)throw new RangeError("Content hole must be the only child of its parent node");return{dom:at,contentDOM:at}}else{let{dom:ft,contentDOM:pt}=DOMSerializer.renderSpec(_e,dt,nt);if(at.appendChild(ft),pt){if(ot)throw new RangeError("Multiple content holes");ot=pt}}}return{dom:at,contentDOM:ot}}static fromSchema(_e){return _e.cached.domSerializer||(_e.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(_e),this.marksFromSchema(_e)))}static nodesFromSchema(_e){let rt=gatherToDOM(_e.nodes);return rt.text||(rt.text=nt=>nt.text),rt}static marksFromSchema(_e){return gatherToDOM(_e.marks)}}function gatherToDOM(et){let _e={};for(let rt in et){let nt=et[rt].spec.toDOM;nt&&(_e[rt]=nt)}return _e}function doc$3(et){return et.document||window.document}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(et,_e){return et+_e*factor16}function recoverIndex(et){return et&lower16}function recoverOffset(et){return(et-(et&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(_e,rt,nt){this.pos=_e,this.delInfo=rt,this.recover=nt}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(_e,rt=!1){if(this.ranges=_e,this.inverted=rt,!_e.length&&StepMap.empty)return StepMap.empty}recover(_e){let rt=0,nt=recoverIndex(_e);if(!this.inverted)for(let it=0;it<nt;it++)rt+=this.ranges[it*3+2]-this.ranges[it*3+1];return this.ranges[nt*3]+rt+recoverOffset(_e)}mapResult(_e,rt=1){return this._map(_e,rt,!1)}map(_e,rt=1){return this._map(_e,rt,!0)}_map(_e,rt,nt){let it=0,st=this.inverted?2:1,ot=this.inverted?1:2;for(let at=0;at<this.ranges.length;at+=3){let lt=this.ranges[at]-(this.inverted?it:0);if(lt>_e)break;let ut=this.ranges[at+st],ct=this.ranges[at+ot],dt=lt+ut;if(_e<=dt){let ft=ut?_e==lt?-1:_e==dt?1:rt:rt,pt=lt+it+(ft<0?0:ct);if(nt)return pt;let ht=_e==(rt<0?lt:dt)?null:makeRecover(at/3,_e-lt),mt=_e==lt?DEL_AFTER:_e==dt?DEL_BEFORE:DEL_ACROSS;return(rt<0?_e!=lt:_e!=dt)&&(mt|=DEL_SIDE),new MapResult(pt,mt,ht)}it+=ct-ut}return nt?_e+it:new MapResult(_e+it,0,null)}touches(_e,rt){let nt=0,it=recoverIndex(rt),st=this.inverted?2:1,ot=this.inverted?1:2;for(let at=0;at<this.ranges.length;at+=3){let lt=this.ranges[at]-(this.inverted?nt:0);if(lt>_e)break;let ut=this.ranges[at+st],ct=lt+ut;if(_e<=ct&&at==it*3)return!0;nt+=this.ranges[at+ot]-ut}return!1}forEach(_e){let rt=this.inverted?2:1,nt=this.inverted?1:2;for(let it=0,st=0;it<this.ranges.length;it+=3){let ot=this.ranges[it],at=ot-(this.inverted?st:0),lt=ot+(this.inverted?0:st),ut=this.ranges[it+rt],ct=this.ranges[it+nt];_e(at,at+ut,lt,lt+ct),st+=ct-ut}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(_e){return _e==0?StepMap.empty:new StepMap(_e<0?[0,-_e,0]:[0,0,_e])}}StepMap.empty=new StepMap([]);class Mapping{constructor(_e=[],rt,nt=0,it=_e.length){this.maps=_e,this.mirror=rt,this.from=nt,this.to=it}slice(_e=0,rt=this.maps.length){return new Mapping(this.maps,this.mirror,_e,rt)}copy(){return new Mapping(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(_e,rt){this.to=this.maps.push(_e),rt!=null&&this.setMirror(this.maps.length-1,rt)}appendMapping(_e){for(let rt=0,nt=this.maps.length;rt<_e.maps.length;rt++){let it=_e.getMirror(rt);this.appendMap(_e.maps[rt],it!=null&&it<rt?nt+it:void 0)}}getMirror(_e){if(this.mirror){for(let rt=0;rt<this.mirror.length;rt++)if(this.mirror[rt]==_e)return this.mirror[rt+(rt%2?-1:1)]}}setMirror(_e,rt){this.mirror||(this.mirror=[]),this.mirror.push(_e,rt)}appendMappingInverted(_e){for(let rt=_e.maps.length-1,nt=this.maps.length+_e.maps.length;rt>=0;rt--){let it=_e.getMirror(rt);this.appendMap(_e.maps[rt].invert(),it!=null&&it>rt?nt-it-1:void 0)}}invert(){let _e=new Mapping;return _e.appendMappingInverted(this),_e}map(_e,rt=1){if(this.mirror)return this._map(_e,rt,!0);for(let nt=this.from;nt<this.to;nt++)_e=this.maps[nt].map(_e,rt);return _e}mapResult(_e,rt=1){return this._map(_e,rt,!1)}_map(_e,rt,nt){let it=0;for(let st=this.from;st<this.to;st++){let ot=this.maps[st],at=ot.mapResult(_e,rt);if(at.recover!=null){let lt=this.getMirror(st);if(lt!=null&&lt>st&&lt<this.to){st=lt,_e=this.maps[lt].recover(at.recover);continue}}it|=at.delInfo,_e=at.pos}return nt?_e:new MapResult(_e,it,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(_e){return null}static fromJSON(_e,rt){if(!rt||!rt.stepType)throw new RangeError("Invalid input for Step.fromJSON");let nt=stepsByID[rt.stepType];if(!nt)throw new RangeError(`No step type ${rt.stepType} defined`);return nt.fromJSON(_e,rt)}static jsonID(_e,rt){if(_e in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+_e);return stepsByID[_e]=rt,rt.prototype.jsonID=_e,rt}}class StepResult{constructor(_e,rt){this.doc=_e,this.failed=rt}static ok(_e){return new StepResult(_e,null)}static fail(_e){return new StepResult(null,_e)}static fromReplace(_e,rt,nt,it){try{return StepResult.ok(_e.replace(rt,nt,it))}catch(st){if(st instanceof ReplaceError)return StepResult.fail(st.message);throw st}}}function mapFragment(et,_e,rt){let nt=[];for(let it=0;it<et.childCount;it++){let st=et.child(it);st.content.size&&(st=st.copy(mapFragment(st.content,_e,st))),st.isInline&&(st=_e(st,rt,it)),nt.push(st)}return Fragment.fromArray(nt)}class AddMarkStep extends Step{constructor(_e,rt,nt){super(),this.from=_e,this.to=rt,this.mark=nt}apply(_e){let rt=_e.slice(this.from,this.to),nt=_e.resolve(this.from),it=nt.node(nt.sharedDepth(this.to)),st=new Slice(mapFragment(rt.content,(ot,at)=>!ot.isAtom||!at.type.allowsMarkType(this.mark.type)?ot:ot.mark(this.mark.addToSet(ot.marks)),it),rt.openStart,rt.openEnd);return StepResult.fromReplace(_e,this.from,this.to,st)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(_e){let rt=_e.mapResult(this.from,1),nt=_e.mapResult(this.to,-1);return rt.deleted&&nt.deleted||rt.pos>=nt.pos?null:new AddMarkStep(rt.pos,nt.pos,this.mark)}merge(_e){return _e instanceof AddMarkStep&&_e.mark.eq(this.mark)&&this.from<=_e.to&&this.to>=_e.from?new AddMarkStep(Math.min(this.from,_e.from),Math.max(this.to,_e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(_e,rt){if(typeof rt.from!="number"||typeof rt.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(rt.from,rt.to,_e.markFromJSON(rt.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(_e,rt,nt){super(),this.from=_e,this.to=rt,this.mark=nt}apply(_e){let rt=_e.slice(this.from,this.to),nt=new Slice(mapFragment(rt.content,it=>it.mark(this.mark.removeFromSet(it.marks)),_e),rt.openStart,rt.openEnd);return StepResult.fromReplace(_e,this.from,this.to,nt)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(_e){let rt=_e.mapResult(this.from,1),nt=_e.mapResult(this.to,-1);return rt.deleted&&nt.deleted||rt.pos>=nt.pos?null:new RemoveMarkStep(rt.pos,nt.pos,this.mark)}merge(_e){return _e instanceof RemoveMarkStep&&_e.mark.eq(this.mark)&&this.from<=_e.to&&this.to>=_e.from?new RemoveMarkStep(Math.min(this.from,_e.from),Math.max(this.to,_e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(_e,rt){if(typeof rt.from!="number"||typeof rt.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(rt.from,rt.to,_e.markFromJSON(rt.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(_e,rt){super(),this.pos=_e,this.mark=rt}apply(_e){let rt=_e.nodeAt(this.pos);if(!rt)return StepResult.fail("No node at mark step's position");let nt=rt.type.create(rt.attrs,null,this.mark.addToSet(rt.marks));return StepResult.fromReplace(_e,this.pos,this.pos+1,new Slice(Fragment.from(nt),0,rt.isLeaf?0:1))}invert(_e){let rt=_e.nodeAt(this.pos);if(rt){let nt=this.mark.addToSet(rt.marks);if(nt.length==rt.marks.length){for(let it=0;it<rt.marks.length;it++)if(!rt.marks[it].isInSet(nt))return new AddNodeMarkStep(this.pos,rt.marks[it]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(_e){let rt=_e.mapResult(this.pos,1);return rt.deletedAfter?null:new AddNodeMarkStep(rt.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(_e,rt){if(typeof rt.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(rt.pos,_e.markFromJSON(rt.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(_e,rt){super(),this.pos=_e,this.mark=rt}apply(_e){let rt=_e.nodeAt(this.pos);if(!rt)return StepResult.fail("No node at mark step's position");let nt=rt.type.create(rt.attrs,null,this.mark.removeFromSet(rt.marks));return StepResult.fromReplace(_e,this.pos,this.pos+1,new Slice(Fragment.from(nt),0,rt.isLeaf?0:1))}invert(_e){let rt=_e.nodeAt(this.pos);return!rt||!this.mark.isInSet(rt.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(_e){let rt=_e.mapResult(this.pos,1);return rt.deletedAfter?null:new RemoveNodeMarkStep(rt.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(_e,rt){if(typeof rt.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(rt.pos,_e.markFromJSON(rt.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(_e,rt,nt,it=!1){super(),this.from=_e,this.to=rt,this.slice=nt,this.structure=it}apply(_e){return this.structure&&contentBetween(_e,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(_e,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(_e){return new ReplaceStep(this.from,this.from+this.slice.size,_e.slice(this.from,this.to))}map(_e){let rt=_e.mapResult(this.from,1),nt=_e.mapResult(this.to,-1);return rt.deletedAcross&&nt.deletedAcross?null:new ReplaceStep(rt.pos,Math.max(rt.pos,nt.pos),this.slice)}merge(_e){if(!(_e instanceof ReplaceStep)||_e.structure||this.structure)return null;if(this.from+this.slice.size==_e.from&&!this.slice.openEnd&&!_e.slice.openStart){let rt=this.slice.size+_e.slice.size==0?Slice.empty:new Slice(this.slice.content.append(_e.slice.content),this.slice.openStart,_e.slice.openEnd);return new ReplaceStep(this.from,this.to+(_e.to-_e.from),rt,this.structure)}else if(_e.to==this.from&&!this.slice.openStart&&!_e.slice.openEnd){let rt=this.slice.size+_e.slice.size==0?Slice.empty:new Slice(_e.slice.content.append(this.slice.content),_e.slice.openStart,this.slice.openEnd);return new ReplaceStep(_e.from,this.to,rt,this.structure)}else return null}toJSON(){let _e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(_e.slice=this.slice.toJSON()),this.structure&&(_e.structure=!0),_e}static fromJSON(_e,rt){if(typeof rt.from!="number"||typeof rt.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(rt.from,rt.to,Slice.fromJSON(_e,rt.slice),!!rt.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(_e,rt,nt,it,st,ot,at=!1){super(),this.from=_e,this.to=rt,this.gapFrom=nt,this.gapTo=it,this.slice=st,this.insert=ot,this.structure=at}apply(_e){if(this.structure&&(contentBetween(_e,this.from,this.gapFrom)||contentBetween(_e,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let rt=_e.slice(this.gapFrom,this.gapTo);if(rt.openStart||rt.openEnd)return StepResult.fail("Gap is not a flat range");let nt=this.slice.insertAt(this.insert,rt.content);return nt?StepResult.fromReplace(_e,this.from,this.to,nt):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(_e){let rt=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+rt,this.from+this.insert,this.from+this.insert+rt,_e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(_e){let rt=_e.mapResult(this.from,1),nt=_e.mapResult(this.to,-1),it=_e.map(this.gapFrom,-1),st=_e.map(this.gapTo,1);return rt.deletedAcross&&nt.deletedAcross||it<rt.pos||st>nt.pos?null:new ReplaceAroundStep(rt.pos,nt.pos,it,st,this.slice,this.insert,this.structure)}toJSON(){let _e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(_e.slice=this.slice.toJSON()),this.structure&&(_e.structure=!0),_e}static fromJSON(_e,rt){if(typeof rt.from!="number"||typeof rt.to!="number"||typeof rt.gapFrom!="number"||typeof rt.gapTo!="number"||typeof rt.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(rt.from,rt.to,rt.gapFrom,rt.gapTo,Slice.fromJSON(_e,rt.slice),rt.insert,!!rt.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(et,_e,rt){let nt=et.resolve(_e),it=rt-_e,st=nt.depth;for(;it>0&&st>0&&nt.indexAfter(st)==nt.node(st).childCount;)st--,it--;if(it>0){let ot=nt.node(st).maybeChild(nt.indexAfter(st));for(;it>0;){if(!ot||ot.isLeaf)return!0;ot=ot.firstChild,it--}}return!1}function addMark(et,_e,rt,nt){let it=[],st=[],ot,at;et.doc.nodesBetween(_e,rt,(lt,ut,ct)=>{if(!lt.isInline)return;let dt=lt.marks;if(!nt.isInSet(dt)&&ct.type.allowsMarkType(nt.type)){let ft=Math.max(ut,_e),pt=Math.min(ut+lt.nodeSize,rt),ht=nt.addToSet(dt);for(let mt=0;mt<dt.length;mt++)dt[mt].isInSet(ht)||(ot&&ot.to==ft&&ot.mark.eq(dt[mt])?ot.to=pt:it.push(ot=new RemoveMarkStep(ft,pt,dt[mt])));at&&at.to==ft?at.to=pt:st.push(at=new AddMarkStep(ft,pt,nt))}}),it.forEach(lt=>et.step(lt)),st.forEach(lt=>et.step(lt))}function removeMark(et,_e,rt,nt){let it=[],st=0;et.doc.nodesBetween(_e,rt,(ot,at)=>{if(!ot.isInline)return;st++;let lt=null;if(nt instanceof MarkType){let ut=ot.marks,ct;for(;ct=nt.isInSet(ut);)(lt||(lt=[])).push(ct),ut=ct.removeFromSet(ut)}else nt?nt.isInSet(ot.marks)&&(lt=[nt]):lt=ot.marks;if(lt&&lt.length){let ut=Math.min(at+ot.nodeSize,rt);for(let ct=0;ct<lt.length;ct++){let dt=lt[ct],ft;for(let pt=0;pt<it.length;pt++){let ht=it[pt];ht.step==st-1&&dt.eq(it[pt].style)&&(ft=ht)}ft?(ft.to=ut,ft.step=st):it.push({style:dt,from:Math.max(at,_e),to:ut,step:st})}}}),it.forEach(ot=>et.step(new RemoveMarkStep(ot.from,ot.to,ot.style)))}function clearIncompatible(et,_e,rt,nt=rt.contentMatch){let it=et.doc.nodeAt(_e),st=[],ot=_e+1;for(let at=0;at<it.childCount;at++){let lt=it.child(at),ut=ot+lt.nodeSize,ct=nt.matchType(lt.type);if(!ct)st.push(new ReplaceStep(ot,ut,Slice.empty));else{nt=ct;for(let dt=0;dt<lt.marks.length;dt++)rt.allowsMarkType(lt.marks[dt].type)||et.step(new RemoveMarkStep(ot,ut,lt.marks[dt]))}ot=ut}if(!nt.validEnd){let at=nt.fillBefore(Fragment.empty,!0);et.replace(ot,ot,new Slice(at,0,0))}for(let at=st.length-1;at>=0;at--)et.step(st[at])}function canCut(et,_e,rt){return(_e==0||et.canReplace(_e,et.childCount))&&(rt==et.childCount||et.canReplace(0,rt))}function liftTarget(et){let rt=et.parent.content.cutByIndex(et.startIndex,et.endIndex);for(let nt=et.depth;;--nt){let it=et.$from.node(nt),st=et.$from.index(nt),ot=et.$to.indexAfter(nt);if(nt<et.depth&&it.canReplace(st,ot,rt))return nt;if(nt==0||it.type.spec.isolating||!canCut(it,st,ot))break}return null}function lift$2(et,_e,rt){let{$from:nt,$to:it,depth:st}=_e,ot=nt.before(st+1),at=it.after(st+1),lt=ot,ut=at,ct=Fragment.empty,dt=0;for(let ht=st,mt=!1;ht>rt;ht--)mt||nt.index(ht)>0?(mt=!0,ct=Fragment.from(nt.node(ht).copy(ct)),dt++):lt--;let ft=Fragment.empty,pt=0;for(let ht=st,mt=!1;ht>rt;ht--)mt||it.after(ht+1)<it.end(ht)?(mt=!0,ft=Fragment.from(it.node(ht).copy(ft)),pt++):ut++;et.step(new ReplaceAroundStep(lt,ut,ot,at,new Slice(ct.append(ft),dt,pt),ct.size-dt,!0))}function findWrapping(et,_e,rt=null,nt=et){let it=findWrappingOutside(et,_e),st=it&&findWrappingInside(nt,_e);return st?it.map(withAttrs).concat({type:_e,attrs:rt}).concat(st.map(withAttrs)):null}function withAttrs(et){return{type:et,attrs:null}}function findWrappingOutside(et,_e){let{parent:rt,startIndex:nt,endIndex:it}=et,st=rt.contentMatchAt(nt).findWrapping(_e);if(!st)return null;let ot=st.length?st[0]:_e;return rt.canReplaceWith(nt,it,ot)?st:null}function findWrappingInside(et,_e){let{parent:rt,startIndex:nt,endIndex:it}=et,st=rt.child(nt),ot=_e.contentMatch.findWrapping(st.type);if(!ot)return null;let lt=(ot.length?ot[ot.length-1]:_e).contentMatch;for(let ut=nt;lt&&ut<it;ut++)lt=lt.matchType(rt.child(ut).type);return!lt||!lt.validEnd?null:ot}function wrap(et,_e,rt){let nt=Fragment.empty;for(let ot=rt.length-1;ot>=0;ot--){if(nt.size){let at=rt[ot].type.contentMatch.matchFragment(nt);if(!at||!at.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}nt=Fragment.from(rt[ot].type.create(rt[ot].attrs,nt))}let it=_e.start,st=_e.end;et.step(new ReplaceAroundStep(it,st,it,st,new Slice(nt,0,0),rt.length,!0))}function setBlockType$1(et,_e,rt,nt,it){if(!nt.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let st=et.steps.length;et.doc.nodesBetween(_e,rt,(ot,at)=>{if(ot.isTextblock&&!ot.hasMarkup(nt,it)&&canChangeType(et.doc,et.mapping.slice(st).map(at),nt)){et.clearIncompatible(et.mapping.slice(st).map(at,1),nt);let lt=et.mapping.slice(st),ut=lt.map(at,1),ct=lt.map(at+ot.nodeSize,1);return et.step(new ReplaceAroundStep(ut,ct,ut+1,ct-1,new Slice(Fragment.from(nt.create(it,null,ot.marks)),0,0),1,!0)),!1}})}function canChangeType(et,_e,rt){let nt=et.resolve(_e),it=nt.index();return nt.parent.canReplaceWith(it,it+1,rt)}function setNodeMarkup(et,_e,rt,nt,it){let st=et.doc.nodeAt(_e);if(!st)throw new RangeError("No node at given position");rt||(rt=st.type);let ot=rt.create(nt,null,it||st.marks);if(st.isLeaf)return et.replaceWith(_e,_e+st.nodeSize,ot);if(!rt.validContent(st.content))throw new RangeError("Invalid content for node type "+rt.name);et.step(new ReplaceAroundStep(_e,_e+st.nodeSize,_e+1,_e+st.nodeSize-1,new Slice(Fragment.from(ot),0,0),1,!0))}function canSplit(et,_e,rt=1,nt){let it=et.resolve(_e),st=it.depth-rt,ot=nt&&nt[nt.length-1]||it.parent;if(st<0||it.parent.type.spec.isolating||!it.parent.canReplace(it.index(),it.parent.childCount)||!ot.type.validContent(it.parent.content.cutByIndex(it.index(),it.parent.childCount)))return!1;for(let ut=it.depth-1,ct=rt-2;ut>st;ut--,ct--){let dt=it.node(ut),ft=it.index(ut);if(dt.type.spec.isolating)return!1;let pt=dt.content.cutByIndex(ft,dt.childCount),ht=nt&&nt[ct]||dt;if(ht!=dt&&(pt=pt.replaceChild(0,ht.type.create(ht.attrs))),!dt.canReplace(ft+1,dt.childCount)||!ht.type.validContent(pt))return!1}let at=it.indexAfter(st),lt=nt&&nt[0];return it.node(st).canReplaceWith(at,at,lt?lt.type:it.node(st+1).type)}function split(et,_e,rt=1,nt){let it=et.doc.resolve(_e),st=Fragment.empty,ot=Fragment.empty;for(let at=it.depth,lt=it.depth-rt,ut=rt-1;at>lt;at--,ut--){st=Fragment.from(it.node(at).copy(st));let ct=nt&&nt[ut];ot=Fragment.from(ct?ct.type.create(ct.attrs,ot):it.node(at).copy(ot))}et.step(new ReplaceStep(_e,_e,new Slice(st.append(ot),rt,rt),!0))}function canJoin(et,_e){let rt=et.resolve(_e),nt=rt.index();return joinable(rt.nodeBefore,rt.nodeAfter)&&rt.parent.canReplace(nt,nt+1)}function joinable(et,_e){return!!(et&&_e&&!et.isLeaf&&et.canAppend(_e))}function joinPoint(et,_e,rt=-1){let nt=et.resolve(_e);for(let it=nt.depth;;it--){let st,ot,at=nt.index(it);if(it==nt.depth?(st=nt.nodeBefore,ot=nt.nodeAfter):rt>0?(st=nt.node(it+1),at++,ot=nt.node(it).maybeChild(at)):(st=nt.node(it).maybeChild(at-1),ot=nt.node(it+1)),st&&!st.isTextblock&&joinable(st,ot)&&nt.node(it).canReplace(at,at+1))return _e;if(it==0)break;_e=rt<0?nt.before(it):nt.after(it)}}function join(et,_e,rt){let nt=new ReplaceStep(_e-rt,_e+rt,Slice.empty,!0);et.step(nt)}function insertPoint(et,_e,rt){let nt=et.resolve(_e);if(nt.parent.canReplaceWith(nt.index(),nt.index(),rt))return _e;if(nt.parentOffset==0)for(let it=nt.depth-1;it>=0;it--){let st=nt.index(it);if(nt.node(it).canReplaceWith(st,st,rt))return nt.before(it+1);if(st>0)return null}if(nt.parentOffset==nt.parent.content.size)for(let it=nt.depth-1;it>=0;it--){let st=nt.indexAfter(it);if(nt.node(it).canReplaceWith(st,st,rt))return nt.after(it+1);if(st<nt.node(it).childCount)return null}return null}function dropPoint(et,_e,rt){let nt=et.resolve(_e);if(!rt.content.size)return _e;let it=rt.content;for(let st=0;st<rt.openStart;st++)it=it.firstChild.content;for(let st=1;st<=(rt.openStart==0&&rt.size?2:1);st++)for(let ot=nt.depth;ot>=0;ot--){let at=ot==nt.depth?0:nt.pos<=(nt.start(ot+1)+nt.end(ot+1))/2?-1:1,lt=nt.index(ot)+(at>0?1:0),ut=nt.node(ot),ct=!1;if(st==1)ct=ut.canReplace(lt,lt,it);else{let dt=ut.contentMatchAt(lt).findWrapping(it.firstChild.type);ct=dt&&ut.canReplaceWith(lt,lt,dt[0])}if(ct)return at==0?nt.pos:at<0?nt.before(ot+1):nt.after(ot+1)}return null}function replaceStep(et,_e,rt=_e,nt=Slice.empty){if(_e==rt&&!nt.size)return null;let it=et.resolve(_e),st=et.resolve(rt);return fitsTrivially(it,st,nt)?new ReplaceStep(_e,rt,nt):new Fitter(it,st,nt).fit()}function fitsTrivially(et,_e,rt){return!rt.openStart&&!rt.openEnd&&et.start()==_e.start()&&et.parent.canReplace(et.index(),_e.index(),rt.content)}class Fitter{constructor(_e,rt,nt){this.$from=_e,this.$to=rt,this.unplaced=nt,this.frontier=[],this.placed=Fragment.empty;for(let it=0;it<=_e.depth;it++){let st=_e.node(it);this.frontier.push({type:st.type,match:st.contentMatchAt(_e.indexAfter(it))})}for(let it=_e.depth;it>0;it--)this.placed=Fragment.from(_e.node(it).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let ut=this.findFittable();ut?this.placeNodes(ut):this.openMore()||this.dropNode()}let _e=this.mustMoveInline(),rt=this.placed.size-this.depth-this.$from.depth,nt=this.$from,it=this.close(_e<0?this.$to:nt.doc.resolve(_e));if(!it)return null;let st=this.placed,ot=nt.depth,at=it.depth;for(;ot&&at&&st.childCount==1;)st=st.firstChild.content,ot--,at--;let lt=new Slice(st,ot,at);return _e>-1?new ReplaceAroundStep(nt.pos,_e,this.$to.pos,this.$to.end(),lt,rt):lt.size||nt.pos!=this.$to.pos?new ReplaceStep(nt.pos,it.pos,lt):null}findFittable(){let _e=this.unplaced.openStart;for(let rt=this.unplaced.content,nt=0,it=this.unplaced.openEnd;nt<_e;nt++){let st=rt.firstChild;if(rt.childCount>1&&(it=0),st.type.spec.isolating&&it<=nt){_e=nt;break}rt=st.content}for(let rt=1;rt<=2;rt++)for(let nt=rt==1?_e:this.unplaced.openStart;nt>=0;nt--){let it,st=null;nt?(st=contentAt(this.unplaced.content,nt-1).firstChild,it=st.content):it=this.unplaced.content;let ot=it.firstChild;for(let at=this.depth;at>=0;at--){let{type:lt,match:ut}=this.frontier[at],ct,dt=null;if(rt==1&&(ot?ut.matchType(ot.type)||(dt=ut.fillBefore(Fragment.from(ot),!1)):st&&lt.compatibleContent(st.type)))return{sliceDepth:nt,frontierDepth:at,parent:st,inject:dt};if(rt==2&&ot&&(ct=ut.findWrapping(ot.type)))return{sliceDepth:nt,frontierDepth:at,parent:st,wrap:ct};if(st&&ut.matchType(st.type))break}}}openMore(){let{content:_e,openStart:rt,openEnd:nt}=this.unplaced,it=contentAt(_e,rt);return!it.childCount||it.firstChild.isLeaf?!1:(this.unplaced=new Slice(_e,rt+1,Math.max(nt,it.size+rt>=_e.size-nt?rt+1:0)),!0)}dropNode(){let{content:_e,openStart:rt,openEnd:nt}=this.unplaced,it=contentAt(_e,rt);if(it.childCount<=1&&rt>0){let st=_e.size-rt<=rt+it.size;this.unplaced=new Slice(dropFromFragment(_e,rt-1,1),rt-1,st?rt-1:nt)}else this.unplaced=new Slice(dropFromFragment(_e,rt,1),rt,nt)}placeNodes({sliceDepth:_e,frontierDepth:rt,parent:nt,inject:it,wrap:st}){for(;this.depth>rt;)this.closeFrontierNode();if(st)for(let mt=0;mt<st.length;mt++)this.openFrontierNode(st[mt]);let ot=this.unplaced,at=nt?nt.content:ot.content,lt=ot.openStart-_e,ut=0,ct=[],{match:dt,type:ft}=this.frontier[rt];if(it){for(let mt=0;mt<it.childCount;mt++)ct.push(it.child(mt));dt=dt.matchFragment(it)}let pt=at.size+_e-(ot.content.size-ot.openEnd);for(;ut<at.childCount;){let mt=at.child(ut),bt=dt.matchType(mt.type);if(!bt)break;ut++,(ut>1||lt==0||mt.content.size)&&(dt=bt,ct.push(closeNodeStart(mt.mark(ft.allowedMarks(mt.marks)),ut==1?lt:0,ut==at.childCount?pt:-1)))}let ht=ut==at.childCount;ht||(pt=-1),this.placed=addToFragment(this.placed,rt,Fragment.from(ct)),this.frontier[rt].match=dt,ht&&pt<0&&nt&&nt.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let mt=0,bt=at;mt<pt;mt++){let gt=bt.lastChild;this.frontier.push({type:gt.type,match:gt.contentMatchAt(gt.childCount)}),bt=gt.content}this.unplaced=ht?_e==0?Slice.empty:new Slice(dropFromFragment(ot.content,_e-1,1),_e-1,pt<0?ot.openEnd:_e-1):new Slice(dropFromFragment(ot.content,_e,ut),ot.openStart,ot.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let _e=this.frontier[this.depth],rt;if(!_e.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,_e.type,_e.match,!1)||this.$to.depth==this.depth&&(rt=this.findCloseLevel(this.$to))&&rt.depth==this.depth)return-1;let{depth:nt}=this.$to,it=this.$to.after(nt);for(;nt>1&&it==this.$to.end(--nt);)++it;return it}findCloseLevel(_e){e:for(let rt=Math.min(this.depth,_e.depth);rt>=0;rt--){let{match:nt,type:it}=this.frontier[rt],st=rt<_e.depth&&_e.end(rt+1)==_e.pos+(_e.depth-(rt+1)),ot=contentAfterFits(_e,rt,it,nt,st);if(ot){for(let at=rt-1;at>=0;at--){let{match:lt,type:ut}=this.frontier[at],ct=contentAfterFits(_e,at,ut,lt,!0);if(!ct||ct.childCount)continue e}return{depth:rt,fit:ot,move:st?_e.doc.resolve(_e.after(rt+1)):_e}}}}close(_e){let rt=this.findCloseLevel(_e);if(!rt)return null;for(;this.depth>rt.depth;)this.closeFrontierNode();rt.fit.childCount&&(this.placed=addToFragment(this.placed,rt.depth,rt.fit)),_e=rt.move;for(let nt=rt.depth+1;nt<=_e.depth;nt++){let it=_e.node(nt),st=it.type.contentMatch.fillBefore(it.content,!0,_e.index(nt));this.openFrontierNode(it.type,it.attrs,st)}return _e}openFrontierNode(_e,rt=null,nt){let it=this.frontier[this.depth];it.match=it.match.matchType(_e),this.placed=addToFragment(this.placed,this.depth,Fragment.from(_e.create(rt,nt))),this.frontier.push({type:_e,match:_e.contentMatch})}closeFrontierNode(){let rt=this.frontier.pop().match.fillBefore(Fragment.empty,!0);rt.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,rt))}}function dropFromFragment(et,_e,rt){return _e==0?et.cutByIndex(rt,et.childCount):et.replaceChild(0,et.firstChild.copy(dropFromFragment(et.firstChild.content,_e-1,rt)))}function addToFragment(et,_e,rt){return _e==0?et.append(rt):et.replaceChild(et.childCount-1,et.lastChild.copy(addToFragment(et.lastChild.content,_e-1,rt)))}function contentAt(et,_e){for(let rt=0;rt<_e;rt++)et=et.firstChild.content;return et}function closeNodeStart(et,_e,rt){if(_e<=0)return et;let nt=et.content;return _e>1&&(nt=nt.replaceChild(0,closeNodeStart(nt.firstChild,_e-1,nt.childCount==1?rt-1:0))),_e>0&&(nt=et.type.contentMatch.fillBefore(nt).append(nt),rt<=0&&(nt=nt.append(et.type.contentMatch.matchFragment(nt).fillBefore(Fragment.empty,!0)))),et.copy(nt)}function contentAfterFits(et,_e,rt,nt,it){let st=et.node(_e),ot=it?et.indexAfter(_e):et.index(_e);if(ot==st.childCount&&!rt.compatibleContent(st.type))return null;let at=nt.fillBefore(st.content,!0,ot);return at&&!invalidMarks(rt,st.content,ot)?at:null}function invalidMarks(et,_e,rt){for(let nt=rt;nt<_e.childCount;nt++)if(!et.allowsMarks(_e.child(nt).marks))return!0;return!1}function definesContent(et){return et.spec.defining||et.spec.definingForContent}function replaceRange(et,_e,rt,nt){if(!nt.size)return et.deleteRange(_e,rt);let it=et.doc.resolve(_e),st=et.doc.resolve(rt);if(fitsTrivially(it,st,nt))return et.step(new ReplaceStep(_e,rt,nt));let ot=coveredDepths(it,et.doc.resolve(rt));ot[ot.length-1]==0&&ot.pop();let at=-(it.depth+1);ot.unshift(at);for(let ft=it.depth,pt=it.pos-1;ft>0;ft--,pt--){let ht=it.node(ft).type.spec;if(ht.defining||ht.definingAsContext||ht.isolating)break;ot.indexOf(ft)>-1?at=ft:it.before(ft)==pt&&ot.splice(1,0,-ft)}let lt=ot.indexOf(at),ut=[],ct=nt.openStart;for(let ft=nt.content,pt=0;;pt++){let ht=ft.firstChild;if(ut.push(ht),pt==nt.openStart)break;ft=ht.content}for(let ft=ct-1;ft>=0;ft--){let pt=ut[ft].type,ht=definesContent(pt);if(ht&&it.node(lt).type!=pt)ct=ft;else if(ht||!pt.isTextblock)break}for(let ft=nt.openStart;ft>=0;ft--){let pt=(ft+ct+1)%(nt.openStart+1),ht=ut[pt];if(ht)for(let mt=0;mt<ot.length;mt++){let bt=ot[(mt+lt)%ot.length],gt=!0;bt<0&&(gt=!1,bt=-bt);let xt=it.node(bt-1),yt=it.index(bt-1);if(xt.canReplaceWith(yt,yt,ht.type,ht.marks))return et.replace(it.before(bt),gt?st.after(bt):rt,new Slice(closeFragment(nt.content,0,nt.openStart,pt),pt,nt.openEnd))}}let dt=et.steps.length;for(let ft=ot.length-1;ft>=0&&(et.replace(_e,rt,nt),!(et.steps.length>dt));ft--){let pt=ot[ft];pt<0||(_e=it.before(pt),rt=st.after(pt))}}function closeFragment(et,_e,rt,nt,it){if(_e<rt){let st=et.firstChild;et=et.replaceChild(0,st.copy(closeFragment(st.content,_e+1,rt,nt,st)))}if(_e>nt){let st=it.contentMatchAt(0),ot=st.fillBefore(et).append(et);et=ot.append(st.matchFragment(ot).fillBefore(Fragment.empty,!0))}return et}function replaceRangeWith(et,_e,rt,nt){if(!nt.isInline&&_e==rt&&et.doc.resolve(_e).parent.content.size){let it=insertPoint(et.doc,_e,nt.type);it!=null&&(_e=rt=it)}et.replaceRange(_e,rt,new Slice(Fragment.from(nt),0,0))}function deleteRange$1(et,_e,rt){let nt=et.doc.resolve(_e),it=et.doc.resolve(rt),st=coveredDepths(nt,it);for(let ot=0;ot<st.length;ot++){let at=st[ot],lt=ot==st.length-1;if(lt&&at==0||nt.node(at).type.contentMatch.validEnd)return et.delete(nt.start(at),it.end(at));if(at>0&&(lt||nt.node(at-1).canReplace(nt.index(at-1),it.indexAfter(at-1))))return et.delete(nt.before(at),it.after(at))}for(let ot=1;ot<=nt.depth&&ot<=it.depth;ot++)if(_e-nt.start(ot)==nt.depth-ot&&rt>nt.end(ot)&&it.end(ot)-rt!=it.depth-ot)return et.delete(nt.before(ot),rt);et.delete(_e,rt)}function coveredDepths(et,_e){let rt=[],nt=Math.min(et.depth,_e.depth);for(let it=nt;it>=0;it--){let st=et.start(it);if(st<et.pos-(et.depth-it)||_e.end(it)>_e.pos+(_e.depth-it)||et.node(it).type.spec.isolating||_e.node(it).type.spec.isolating)break;(st==_e.start(it)||it==et.depth&&it==_e.depth&&et.parent.inlineContent&&_e.parent.inlineContent&&it&&_e.start(it-1)==st-1)&&rt.push(it)}return rt}class AttrStep extends Step{constructor(_e,rt,nt){super(),this.pos=_e,this.attr=rt,this.value=nt}apply(_e){let rt=_e.nodeAt(this.pos);if(!rt)return StepResult.fail("No node at attribute step's position");let nt=Object.create(null);for(let st in rt.attrs)nt[st]=rt.attrs[st];nt[this.attr]=this.value;let it=rt.type.create(nt,null,rt.marks);return StepResult.fromReplace(_e,this.pos,this.pos+1,new Slice(Fragment.from(it),0,rt.isLeaf?0:1))}getMap(){return StepMap.empty}invert(_e){return new AttrStep(this.pos,this.attr,_e.nodeAt(this.pos).attrs[this.attr])}map(_e){let rt=_e.mapResult(this.pos,1);return rt.deletedAfter?null:new AttrStep(rt.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(_e,rt){if(typeof rt.pos!="number"||typeof rt.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(rt.pos,rt.attr,rt.value)}}Step.jsonID("attr",AttrStep);let TransformError=class extends Error{};TransformError=function et(_e){let rt=Error.call(this,_e);return rt.__proto__=et.prototype,rt};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(_e){this.doc=_e,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(_e){let rt=this.maybeStep(_e);if(rt.failed)throw new TransformError(rt.failed);return this}maybeStep(_e){let rt=_e.apply(this.doc);return rt.failed||this.addStep(_e,rt.doc),rt}get docChanged(){return this.steps.length>0}addStep(_e,rt){this.docs.push(this.doc),this.steps.push(_e),this.mapping.appendMap(_e.getMap()),this.doc=rt}replace(_e,rt=_e,nt=Slice.empty){let it=replaceStep(this.doc,_e,rt,nt);return it&&this.step(it),this}replaceWith(_e,rt,nt){return this.replace(_e,rt,new Slice(Fragment.from(nt),0,0))}delete(_e,rt){return this.replace(_e,rt,Slice.empty)}insert(_e,rt){return this.replaceWith(_e,_e,rt)}replaceRange(_e,rt,nt){return replaceRange(this,_e,rt,nt),this}replaceRangeWith(_e,rt,nt){return replaceRangeWith(this,_e,rt,nt),this}deleteRange(_e,rt){return deleteRange$1(this,_e,rt),this}lift(_e,rt){return lift$2(this,_e,rt),this}join(_e,rt=1){return join(this,_e,rt),this}wrap(_e,rt){return wrap(this,_e,rt),this}setBlockType(_e,rt=_e,nt,it=null){return setBlockType$1(this,_e,rt,nt,it),this}setNodeMarkup(_e,rt,nt=null,it){return setNodeMarkup(this,_e,rt,nt,it),this}setNodeAttribute(_e,rt,nt){return this.step(new AttrStep(_e,rt,nt)),this}addNodeMark(_e,rt){return this.step(new AddNodeMarkStep(_e,rt)),this}removeNodeMark(_e,rt){if(!(rt instanceof Mark$1)){let nt=this.doc.nodeAt(_e);if(!nt)throw new RangeError("No node at position "+_e);if(rt=rt.isInSet(nt.marks),!rt)return this}return this.step(new RemoveNodeMarkStep(_e,rt)),this}split(_e,rt=1,nt){return split(this,_e,rt,nt),this}addMark(_e,rt,nt){return addMark(this,_e,rt,nt),this}removeMark(_e,rt,nt){return removeMark(this,_e,rt,nt),this}clearIncompatible(_e,rt,nt){return clearIncompatible(this,_e,rt,nt),this}}const classesById=Object.create(null);class Selection{constructor(_e,rt,nt){this.$anchor=_e,this.$head=rt,this.ranges=nt||[new SelectionRange(_e.min(rt),_e.max(rt))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let _e=this.ranges;for(let rt=0;rt<_e.length;rt++)if(_e[rt].$from.pos!=_e[rt].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(_e,rt=Slice.empty){let nt=rt.content.lastChild,it=null;for(let at=0;at<rt.openEnd;at++)it=nt,nt=nt.lastChild;let st=_e.steps.length,ot=this.ranges;for(let at=0;at<ot.length;at++){let{$from:lt,$to:ut}=ot[at],ct=_e.mapping.slice(st);_e.replaceRange(ct.map(lt.pos),ct.map(ut.pos),at?Slice.empty:rt),at==0&&selectionToInsertionEnd$1(_e,st,(nt?nt.isInline:it&&it.isTextblock)?-1:1)}}replaceWith(_e,rt){let nt=_e.steps.length,it=this.ranges;for(let st=0;st<it.length;st++){let{$from:ot,$to:at}=it[st],lt=_e.mapping.slice(nt),ut=lt.map(ot.pos),ct=lt.map(at.pos);st?_e.deleteRange(ut,ct):(_e.replaceRangeWith(ut,ct,rt),selectionToInsertionEnd$1(_e,nt,rt.isInline?-1:1))}}static findFrom(_e,rt,nt=!1){let it=_e.parent.inlineContent?new TextSelection(_e):findSelectionIn(_e.node(0),_e.parent,_e.pos,_e.index(),rt,nt);if(it)return it;for(let st=_e.depth-1;st>=0;st--){let ot=rt<0?findSelectionIn(_e.node(0),_e.node(st),_e.before(st+1),_e.index(st),rt,nt):findSelectionIn(_e.node(0),_e.node(st),_e.after(st+1),_e.index(st)+1,rt,nt);if(ot)return ot}return null}static near(_e,rt=1){return this.findFrom(_e,rt)||this.findFrom(_e,-rt)||new AllSelection(_e.node(0))}static atStart(_e){return findSelectionIn(_e,_e,0,0,1)||new AllSelection(_e)}static atEnd(_e){return findSelectionIn(_e,_e,_e.content.size,_e.childCount,-1)||new AllSelection(_e)}static fromJSON(_e,rt){if(!rt||!rt.type)throw new RangeError("Invalid input for Selection.fromJSON");let nt=classesById[rt.type];if(!nt)throw new RangeError(`No selection type ${rt.type} defined`);return nt.fromJSON(_e,rt)}static jsonID(_e,rt){if(_e in classesById)throw new RangeError("Duplicate use of selection JSON ID "+_e);return classesById[_e]=rt,rt.prototype.jsonID=_e,rt}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(_e,rt){this.$from=_e,this.$to=rt}}let warnedAboutTextSelection=!1;function checkTextSelection(et){!warnedAboutTextSelection&&!et.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+et.parent.type.name+")"))}class TextSelection extends Selection{constructor(_e,rt=_e){checkTextSelection(_e),checkTextSelection(rt),super(_e,rt)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(_e,rt){let nt=_e.resolve(rt.map(this.head));if(!nt.parent.inlineContent)return Selection.near(nt);let it=_e.resolve(rt.map(this.anchor));return new TextSelection(it.parent.inlineContent?it:nt,nt)}replace(_e,rt=Slice.empty){if(super.replace(_e,rt),rt==Slice.empty){let nt=this.$from.marksAcross(this.$to);nt&&_e.ensureMarks(nt)}}eq(_e){return _e instanceof TextSelection&&_e.anchor==this.anchor&&_e.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(_e,rt){if(typeof rt.anchor!="number"||typeof rt.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(_e.resolve(rt.anchor),_e.resolve(rt.head))}static create(_e,rt,nt=rt){let it=_e.resolve(rt);return new this(it,nt==rt?it:_e.resolve(nt))}static between(_e,rt,nt){let it=_e.pos-rt.pos;if((!nt||it)&&(nt=it>=0?1:-1),!rt.parent.inlineContent){let st=Selection.findFrom(rt,nt,!0)||Selection.findFrom(rt,-nt,!0);if(st)rt=st.$head;else return Selection.near(rt,nt)}return _e.parent.inlineContent||(it==0?_e=rt:(_e=(Selection.findFrom(_e,-nt,!0)||Selection.findFrom(_e,nt,!0)).$anchor,_e.pos<rt.pos!=it<0&&(_e=rt))),new TextSelection(_e,rt)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(_e,rt){this.anchor=_e,this.head=rt}map(_e){return new TextBookmark(_e.map(this.anchor),_e.map(this.head))}resolve(_e){return TextSelection.between(_e.resolve(this.anchor),_e.resolve(this.head))}}class NodeSelection extends Selection{constructor(_e){let rt=_e.nodeAfter,nt=_e.node(0).resolve(_e.pos+rt.nodeSize);super(_e,nt),this.node=rt}map(_e,rt){let{deleted:nt,pos:it}=rt.mapResult(this.anchor),st=_e.resolve(it);return nt?Selection.near(st):new NodeSelection(st)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(_e){return _e instanceof NodeSelection&&_e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(_e,rt){if(typeof rt.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(_e.resolve(rt.anchor))}static create(_e,rt){return new NodeSelection(_e.resolve(rt))}static isSelectable(_e){return!_e.isText&&_e.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(_e){this.anchor=_e}map(_e){let{deleted:rt,pos:nt}=_e.mapResult(this.anchor);return rt?new TextBookmark(nt,nt):new NodeBookmark(nt)}resolve(_e){let rt=_e.resolve(this.anchor),nt=rt.nodeAfter;return nt&&NodeSelection.isSelectable(nt)?new NodeSelection(rt):Selection.near(rt)}}class AllSelection extends Selection{constructor(_e){super(_e.resolve(0),_e.resolve(_e.content.size))}replace(_e,rt=Slice.empty){if(rt==Slice.empty){_e.delete(0,_e.doc.content.size);let nt=Selection.atStart(_e.doc);nt.eq(_e.selection)||_e.setSelection(nt)}else super.replace(_e,rt)}toJSON(){return{type:"all"}}static fromJSON(_e){return new AllSelection(_e)}map(_e){return new AllSelection(_e)}eq(_e){return _e instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(et){return new AllSelection(et)}};function findSelectionIn(et,_e,rt,nt,it,st=!1){if(_e.inlineContent)return TextSelection.create(et,rt);for(let ot=nt-(it>0?0:1);it>0?ot<_e.childCount:ot>=0;ot+=it){let at=_e.child(ot);if(at.isAtom){if(!st&&NodeSelection.isSelectable(at))return NodeSelection.create(et,rt-(it<0?at.nodeSize:0))}else{let lt=findSelectionIn(et,at,rt+it,it<0?at.childCount:0,it,st);if(lt)return lt}rt+=at.nodeSize*it}return null}function selectionToInsertionEnd$1(et,_e,rt){let nt=et.steps.length-1;if(nt<_e)return;let it=et.steps[nt];if(!(it instanceof ReplaceStep||it instanceof ReplaceAroundStep))return;let st=et.mapping.maps[nt],ot;st.forEach((at,lt,ut,ct)=>{ot==null&&(ot=ct)}),et.setSelection(Selection.near(et.doc.resolve(ot),rt))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(_e){super(_e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=_e.selection,this.storedMarks=_e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(_e){if(_e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=_e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(_e){return this.storedMarks=_e,this.updated|=UPDATED_MARKS,this}ensureMarks(_e){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),_e)||this.setStoredMarks(_e),this}addStoredMark(_e){return this.ensureMarks(_e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(_e){return this.ensureMarks(_e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(_e,rt){super.addStep(_e,rt),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(_e){return this.time=_e,this}replaceSelection(_e){return this.selection.replace(this,_e),this}replaceSelectionWith(_e,rt=!0){let nt=this.selection;return rt&&(_e=_e.mark(this.storedMarks||(nt.empty?nt.$from.marks():nt.$from.marksAcross(nt.$to)||Mark$1.none))),nt.replaceWith(this,_e),this}deleteSelection(){return this.selection.replace(this),this}insertText(_e,rt,nt){let it=this.doc.type.schema;if(rt==null)return _e?this.replaceSelectionWith(it.text(_e),!0):this.deleteSelection();{if(nt==null&&(nt=rt),nt=nt??rt,!_e)return this.deleteRange(rt,nt);let st=this.storedMarks;if(!st){let ot=this.doc.resolve(rt);st=nt==rt?ot.marks():ot.marksAcross(this.doc.resolve(nt))}return this.replaceRangeWith(rt,nt,it.text(_e,st)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(_e,rt){return this.meta[typeof _e=="string"?_e:_e.key]=rt,this}getMeta(_e){return this.meta[typeof _e=="string"?_e:_e.key]}get isGeneric(){for(let _e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind$2(et,_e){return!_e||!et?et:et.bind(_e)}class FieldDesc{constructor(_e,rt,nt){this.name=_e,this.init=bind$2(rt.init,nt),this.apply=bind$2(rt.apply,nt)}}const baseFields=[new FieldDesc("doc",{init(et){return et.doc||et.schema.topNodeType.createAndFill()},apply(et){return et.doc}}),new FieldDesc("selection",{init(et,_e){return et.selection||Selection.atStart(_e.doc)},apply(et){return et.selection}}),new FieldDesc("storedMarks",{init(et){return et.storedMarks||null},apply(et,_e,rt,nt){return nt.selection.$cursor?et.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(et,_e){return et.scrolledIntoView?_e+1:_e}})];class Configuration{constructor(_e,rt){this.schema=_e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),rt&&rt.forEach(nt=>{if(this.pluginsByKey[nt.key])throw new RangeError("Adding different instances of a keyed plugin ("+nt.key+")");this.plugins.push(nt),this.pluginsByKey[nt.key]=nt,nt.spec.state&&this.fields.push(new FieldDesc(nt.key,nt.spec.state,nt))})}}class EditorState{constructor(_e){this.config=_e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(_e){return this.applyTransaction(_e).state}filterTransaction(_e,rt=-1){for(let nt=0;nt<this.config.plugins.length;nt++)if(nt!=rt){let it=this.config.plugins[nt];if(it.spec.filterTransaction&&!it.spec.filterTransaction.call(it,_e,this))return!1}return!0}applyTransaction(_e){if(!this.filterTransaction(_e))return{state:this,transactions:[]};let rt=[_e],nt=this.applyInner(_e),it=null;for(;;){let st=!1;for(let ot=0;ot<this.config.plugins.length;ot++){let at=this.config.plugins[ot];if(at.spec.appendTransaction){let lt=it?it[ot].n:0,ut=it?it[ot].state:this,ct=lt<rt.length&&at.spec.appendTransaction.call(at,lt?rt.slice(lt):rt,ut,nt);if(ct&&nt.filterTransaction(ct,ot)){if(ct.setMeta("appendedTransaction",_e),!it){it=[];for(let dt=0;dt<this.config.plugins.length;dt++)it.push(dt<ot?{state:nt,n:rt.length}:{state:this,n:0})}rt.push(ct),nt=nt.applyInner(ct),st=!0}it&&(it[ot]={state:nt,n:rt.length})}}if(!st)return{state:nt,transactions:rt}}}applyInner(_e){if(!_e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let rt=new EditorState(this.config),nt=this.config.fields;for(let it=0;it<nt.length;it++){let st=nt[it];rt[st.name]=st.apply(_e,this[st.name],this,rt)}return rt}get tr(){return new Transaction(this)}static create(_e){let rt=new Configuration(_e.doc?_e.doc.type.schema:_e.schema,_e.plugins),nt=new EditorState(rt);for(let it=0;it<rt.fields.length;it++)nt[rt.fields[it].name]=rt.fields[it].init(_e,nt);return nt}reconfigure(_e){let rt=new Configuration(this.schema,_e.plugins),nt=rt.fields,it=new EditorState(rt);for(let st=0;st<nt.length;st++){let ot=nt[st].name;it[ot]=this.hasOwnProperty(ot)?this[ot]:nt[st].init(_e,it)}return it}toJSON(_e){let rt={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(rt.storedMarks=this.storedMarks.map(nt=>nt.toJSON())),_e&&typeof _e=="object")for(let nt in _e){if(nt=="doc"||nt=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let it=_e[nt],st=it.spec.state;st&&st.toJSON&&(rt[nt]=st.toJSON.call(it,this[it.key]))}return rt}static fromJSON(_e,rt,nt){if(!rt)throw new RangeError("Invalid input for EditorState.fromJSON");if(!_e.schema)throw new RangeError("Required config field 'schema' missing");let it=new Configuration(_e.schema,_e.plugins),st=new EditorState(it);return it.fields.forEach(ot=>{if(ot.name=="doc")st.doc=Node$1.fromJSON(_e.schema,rt.doc);else if(ot.name=="selection")st.selection=Selection.fromJSON(st.doc,rt.selection);else if(ot.name=="storedMarks")rt.storedMarks&&(st.storedMarks=rt.storedMarks.map(_e.schema.markFromJSON));else{if(nt)for(let at in nt){let lt=nt[at],ut=lt.spec.state;if(lt.key==ot.name&&ut&&ut.fromJSON&&Object.prototype.hasOwnProperty.call(rt,at)){st[ot.name]=ut.fromJSON.call(lt,_e,rt[at],st);return}}st[ot.name]=ot.init(_e,st)}}),st}}function bindProps(et,_e,rt){for(let nt in et){let it=et[nt];it instanceof Function?it=it.bind(_e):nt=="handleDOMEvents"&&(it=bindProps(it,_e,{})),rt[nt]=it}return rt}class Plugin{constructor(_e){this.spec=_e,this.props={},_e.props&&bindProps(_e.props,this,this.props),this.key=_e.key?_e.key.key:createKey("plugin")}getState(_e){return _e[this.key]}}const keys=Object.create(null);function createKey(et){return et in keys?et+"$"+ ++keys[et]:(keys[et]=0,et+"$")}class PluginKey{constructor(_e="key"){this.key=createKey(_e)}get(_e){return _e.config.pluginsByKey[this.key]}getState(_e){return _e[this.key]}}const domIndex=function(et){for(var _e=0;;_e++)if(et=et.previousSibling,!et)return _e},parentNode=function(et){let _e=et.assignedSlot||et.parentNode;return _e&&_e.nodeType==11?_e.host:_e};let reusedRange=null;const textRange=function(et,_e,rt){let nt=reusedRange||(reusedRange=document.createRange());return nt.setEnd(et,rt??et.nodeValue.length),nt.setStart(et,_e||0),nt},isEquivalentPosition=function(et,_e,rt,nt){return rt&&(scanFor(et,_e,rt,nt,-1)||scanFor(et,_e,rt,nt,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(et,_e,rt,nt,it){for(;;){if(et==rt&&_e==nt)return!0;if(_e==(it<0?0:nodeSize(et))){let st=et.parentNode;if(!st||st.nodeType!=1||hasBlockDesc(et)||atomElements.test(et.nodeName)||et.contentEditable=="false")return!1;_e=domIndex(et)+(it<0?0:1),et=st}else if(et.nodeType==1){if(et=et.childNodes[_e+(it<0?-1:0)],et.contentEditable=="false")return!1;_e=it<0?nodeSize(et):0}else return!1}}function nodeSize(et){return et.nodeType==3?et.nodeValue.length:et.childNodes.length}function isOnEdge(et,_e,rt){for(let nt=_e==0,it=_e==nodeSize(et);nt||it;){if(et==rt)return!0;let st=domIndex(et);if(et=et.parentNode,!et)return!1;nt=nt&&st==0,it=it&&st==nodeSize(et)}}function hasBlockDesc(et){let _e;for(let rt=et;rt&&!(_e=rt.pmViewDesc);rt=rt.parentNode);return _e&&_e.node&&_e.node.isBlock&&(_e.dom==et||_e.contentDOM==et)}const selectionCollapsed=function(et){return et.focusNode&&isEquivalentPosition(et.focusNode,et.focusOffset,et.anchorNode,et.anchorOffset)};function keyEvent(et,_e){let rt=document.createEvent("Event");return rt.initEvent("keydown",!0,!0),rt.keyCode=et,rt.key=rt.code=_e,rt}function deepActiveElement(et){let _e=et.activeElement;for(;_e&&_e.shadowRoot;)_e=_e.shadowRoot.activeElement;return _e}function caretFromPoint(et,_e,rt){if(et.caretPositionFromPoint)try{let nt=et.caretPositionFromPoint(_e,rt);if(nt)return{node:nt.offsetNode,offset:nt.offset}}catch{}if(et.caretRangeFromPoint){let nt=et.caretRangeFromPoint(_e,rt);if(nt)return{node:nt.startContainer,offset:nt.startOffset}}}const nav=typeof navigator<"u"?navigator:null,doc$2=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome$1=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc$2&&"webkitFontSmoothing"in doc$2.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(et){return{left:0,right:et.documentElement.clientWidth,top:0,bottom:et.documentElement.clientHeight}}function getSide(et,_e){return typeof et=="number"?et:et[_e]}function clientRect(et){let _e=et.getBoundingClientRect(),rt=_e.width/et.offsetWidth||1,nt=_e.height/et.offsetHeight||1;return{left:_e.left,right:_e.left+et.clientWidth*rt,top:_e.top,bottom:_e.top+et.clientHeight*nt}}function scrollRectIntoView(et,_e,rt){let nt=et.someProp("scrollThreshold")||0,it=et.someProp("scrollMargin")||5,st=et.dom.ownerDocument;for(let ot=rt||et.dom;ot;ot=parentNode(ot)){if(ot.nodeType!=1)continue;let at=ot,lt=at==st.body,ut=lt?windowRect(st):clientRect(at),ct=0,dt=0;if(_e.top<ut.top+getSide(nt,"top")?dt=-(ut.top-_e.top+getSide(it,"top")):_e.bottom>ut.bottom-getSide(nt,"bottom")&&(dt=_e.bottom-ut.bottom+getSide(it,"bottom")),_e.left<ut.left+getSide(nt,"left")?ct=-(ut.left-_e.left+getSide(it,"left")):_e.right>ut.right-getSide(nt,"right")&&(ct=_e.right-ut.right+getSide(it,"right")),ct||dt)if(lt)st.defaultView.scrollBy(ct,dt);else{let ft=at.scrollLeft,pt=at.scrollTop;dt&&(at.scrollTop+=dt),ct&&(at.scrollLeft+=ct);let ht=at.scrollLeft-ft,mt=at.scrollTop-pt;_e={left:_e.left-ht,top:_e.top-mt,right:_e.right-ht,bottom:_e.bottom-mt}}if(lt)break}}function storeScrollPos(et){let _e=et.dom.getBoundingClientRect(),rt=Math.max(0,_e.top),nt,it;for(let st=(_e.left+_e.right)/2,ot=rt+1;ot<Math.min(innerHeight,_e.bottom);ot+=5){let at=et.root.elementFromPoint(st,ot);if(!at||at==et.dom||!et.dom.contains(at))continue;let lt=at.getBoundingClientRect();if(lt.top>=rt-20){nt=at,it=lt.top;break}}return{refDOM:nt,refTop:it,stack:scrollStack(et.dom)}}function scrollStack(et){let _e=[],rt=et.ownerDocument;for(let nt=et;nt&&(_e.push({dom:nt,top:nt.scrollTop,left:nt.scrollLeft}),et!=rt);nt=parentNode(nt));return _e}function resetScrollPos({refDOM:et,refTop:_e,stack:rt}){let nt=et?et.getBoundingClientRect().top:0;restoreScrollStack(rt,nt==0?0:nt-_e)}function restoreScrollStack(et,_e){for(let rt=0;rt<et.length;rt++){let{dom:nt,top:it,left:st}=et[rt];nt.scrollTop!=it+_e&&(nt.scrollTop=it+_e),nt.scrollLeft!=st&&(nt.scrollLeft=st)}}let preventScrollSupported=null;function focusPreventScroll(et){if(et.setActive)return et.setActive();if(preventScrollSupported)return et.focus(preventScrollSupported);let _e=scrollStack(et);et.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(_e,0))}function findOffsetInNode(et,_e){let rt,nt=2e8,it,st=0,ot=_e.top,at=_e.top,lt,ut;for(let ct=et.firstChild,dt=0;ct;ct=ct.nextSibling,dt++){let ft;if(ct.nodeType==1)ft=ct.getClientRects();else if(ct.nodeType==3)ft=textRange(ct).getClientRects();else continue;for(let pt=0;pt<ft.length;pt++){let ht=ft[pt];if(ht.top<=ot&&ht.bottom>=at){ot=Math.max(ht.bottom,ot),at=Math.min(ht.top,at);let mt=ht.left>_e.left?ht.left-_e.left:ht.right<_e.left?_e.left-ht.right:0;if(mt<nt){rt=ct,nt=mt,it=mt&&rt.nodeType==3?{left:ht.right<_e.left?ht.right:ht.left,top:_e.top}:_e,ct.nodeType==1&&mt&&(st=dt+(_e.left>=(ht.left+ht.right)/2?1:0));continue}}else ht.top>_e.top&&!lt&&ht.left<=_e.left&&ht.right>=_e.left&&(lt=ct,ut={left:Math.max(ht.left,Math.min(ht.right,_e.left)),top:ht.top});!rt&&(_e.left>=ht.right&&_e.top>=ht.top||_e.left>=ht.left&&_e.top>=ht.bottom)&&(st=dt+1)}}return!rt&&lt&&(rt=lt,it=ut,nt=0),rt&&rt.nodeType==3?findOffsetInText(rt,it):!rt||nt&&rt.nodeType==1?{node:et,offset:st}:findOffsetInNode(rt,it)}function findOffsetInText(et,_e){let rt=et.nodeValue.length,nt=document.createRange();for(let it=0;it<rt;it++){nt.setEnd(et,it+1),nt.setStart(et,it);let st=singleRect(nt,1);if(st.top!=st.bottom&&inRect(_e,st))return{node:et,offset:it+(_e.left>=(st.left+st.right)/2?1:0)}}return{node:et,offset:0}}function inRect(et,_e){return et.left>=_e.left-1&&et.left<=_e.right+1&&et.top>=_e.top-1&&et.top<=_e.bottom+1}function targetKludge(et,_e){let rt=et.parentNode;return rt&&/^li$/i.test(rt.nodeName)&&_e.left<et.getBoundingClientRect().left?rt:et}function posFromElement(et,_e,rt){let{node:nt,offset:it}=findOffsetInNode(_e,rt),st=-1;if(nt.nodeType==1&&!nt.firstChild){let ot=nt.getBoundingClientRect();st=ot.left!=ot.right&&rt.left>(ot.left+ot.right)/2?1:-1}return et.docView.posFromDOM(nt,it,st)}function posFromCaret(et,_e,rt,nt){let it=-1;for(let st=_e,ot=!1;st!=et.dom;){let at=et.docView.nearestDesc(st,!0);if(!at)return null;if(at.dom.nodeType==1&&(at.node.isBlock&&at.parent&&!ot||!at.contentDOM)){let lt=at.dom.getBoundingClientRect();if(at.node.isBlock&&at.parent&&!ot&&(ot=!0,lt.left>nt.left||lt.top>nt.top?it=at.posBefore:(lt.right<nt.left||lt.bottom<nt.top)&&(it=at.posAfter)),!at.contentDOM&&it<0)return(at.node.isBlock?nt.top<(lt.top+lt.bottom)/2:nt.left<(lt.left+lt.right)/2)?at.posBefore:at.posAfter}st=at.dom.parentNode}return it>-1?it:et.docView.posFromDOM(_e,rt,-1)}function elementFromPoint(et,_e,rt){let nt=et.childNodes.length;if(nt&&rt.top<rt.bottom)for(let it=Math.max(0,Math.min(nt-1,Math.floor(nt*(_e.top-rt.top)/(rt.bottom-rt.top))-2)),st=it;;){let ot=et.childNodes[st];if(ot.nodeType==1){let at=ot.getClientRects();for(let lt=0;lt<at.length;lt++){let ut=at[lt];if(inRect(_e,ut))return elementFromPoint(ot,_e,ut)}}if((st=(st+1)%nt)==it)break}return et}function posAtCoords(et,_e){let rt=et.dom.ownerDocument,nt,it=0,st=caretFromPoint(rt,_e.left,_e.top);st&&({node:nt,offset:it}=st);let ot=(et.root.elementFromPoint?et.root:rt).elementFromPoint(_e.left,_e.top),at;if(!ot||!et.dom.contains(ot.nodeType!=1?ot.parentNode:ot)){let ut=et.dom.getBoundingClientRect();if(!inRect(_e,ut)||(ot=elementFromPoint(et.dom,_e,ut),!ot))return null}if(safari)for(let ut=ot;nt&&ut;ut=parentNode(ut))ut.draggable&&(nt=void 0);if(ot=targetKludge(ot,_e),nt){if(gecko&&nt.nodeType==1&&(it=Math.min(it,nt.childNodes.length),it<nt.childNodes.length)){let ut=nt.childNodes[it],ct;ut.nodeName=="IMG"&&(ct=ut.getBoundingClientRect()).right<=_e.left&&ct.bottom>_e.top&&it++}nt==et.dom&&it==nt.childNodes.length-1&&nt.lastChild.nodeType==1&&_e.top>nt.lastChild.getBoundingClientRect().bottom?at=et.state.doc.content.size:(it==0||nt.nodeType!=1||nt.childNodes[it-1].nodeName!="BR")&&(at=posFromCaret(et,nt,it,_e))}at==null&&(at=posFromElement(et,ot,_e));let lt=et.docView.nearestDesc(ot,!0);return{pos:at,inside:lt?lt.posAtStart-lt.border:-1}}function nonZero(et){return et.top<et.bottom||et.left<et.right}function singleRect(et,_e){let rt=et.getClientRects();if(rt.length){let nt=rt[_e<0?0:rt.length-1];if(nonZero(nt))return nt}return Array.prototype.find.call(rt,nonZero)||et.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(et,_e,rt){let{node:nt,offset:it,atom:st}=et.docView.domFromPos(_e,rt<0?-1:1),ot=webkit||gecko;if(nt.nodeType==3)if(ot&&(BIDI.test(nt.nodeValue)||(rt<0?!it:it==nt.nodeValue.length))){let lt=singleRect(textRange(nt,it,it),rt);if(gecko&&it&&/\s/.test(nt.nodeValue[it-1])&&it<nt.nodeValue.length){let ut=singleRect(textRange(nt,it-1,it-1),-1);if(ut.top==lt.top){let ct=singleRect(textRange(nt,it,it+1),-1);if(ct.top!=lt.top)return flattenV(ct,ct.left<ut.left)}}return lt}else{let lt=it,ut=it,ct=rt<0?1:-1;return rt<0&&!it?(ut++,ct=-1):rt>=0&&it==nt.nodeValue.length?(lt--,ct=1):rt<0?lt--:ut++,flattenV(singleRect(textRange(nt,lt,ut),ct),ct<0)}if(!et.state.doc.resolve(_e-(st||0)).parent.inlineContent){if(st==null&&it&&(rt<0||it==nodeSize(nt))){let lt=nt.childNodes[it-1];if(lt.nodeType==1)return flattenH(lt.getBoundingClientRect(),!1)}if(st==null&&it<nodeSize(nt)){let lt=nt.childNodes[it];if(lt.nodeType==1)return flattenH(lt.getBoundingClientRect(),!0)}return flattenH(nt.getBoundingClientRect(),rt>=0)}if(st==null&&it&&(rt<0||it==nodeSize(nt))){let lt=nt.childNodes[it-1],ut=lt.nodeType==3?textRange(lt,nodeSize(lt)-(ot?0:1)):lt.nodeType==1&&(lt.nodeName!="BR"||!lt.nextSibling)?lt:null;if(ut)return flattenV(singleRect(ut,1),!1)}if(st==null&&it<nodeSize(nt)){let lt=nt.childNodes[it];for(;lt.pmViewDesc&&lt.pmViewDesc.ignoreForCoords;)lt=lt.nextSibling;let ut=lt?lt.nodeType==3?textRange(lt,0,ot?0:1):lt.nodeType==1?lt:null:null;if(ut)return flattenV(singleRect(ut,-1),!0)}return flattenV(singleRect(nt.nodeType==3?textRange(nt):nt,-rt),rt>=0)}function flattenV(et,_e){if(et.width==0)return et;let rt=_e?et.left:et.right;return{top:et.top,bottom:et.bottom,left:rt,right:rt}}function flattenH(et,_e){if(et.height==0)return et;let rt=_e?et.top:et.bottom;return{top:rt,bottom:rt,left:et.left,right:et.right}}function withFlushedState(et,_e,rt){let nt=et.state,it=et.root.activeElement;nt!=_e&&et.updateState(_e),it!=et.dom&&et.focus();try{return rt()}finally{nt!=_e&&et.updateState(nt),it!=et.dom&&it&&it.focus()}}function endOfTextblockVertical(et,_e,rt){let nt=_e.selection,it=rt=="up"?nt.$from:nt.$to;return withFlushedState(et,_e,()=>{let{node:st}=et.docView.domFromPos(it.pos,rt=="up"?-1:1);for(;;){let at=et.docView.nearestDesc(st,!0);if(!at)break;if(at.node.isBlock){st=at.contentDOM||at.dom;break}st=at.dom.parentNode}let ot=coordsAtPos(et,it.pos,1);for(let at=st.firstChild;at;at=at.nextSibling){let lt;if(at.nodeType==1)lt=at.getClientRects();else if(at.nodeType==3)lt=textRange(at,0,at.nodeValue.length).getClientRects();else continue;for(let ut=0;ut<lt.length;ut++){let ct=lt[ut];if(ct.bottom>ct.top+1&&(rt=="up"?ot.top-ct.top>(ct.bottom-ot.top)*2:ct.bottom-ot.bottom>(ot.bottom-ct.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(et,_e,rt){let{$head:nt}=_e.selection;if(!nt.parent.isTextblock)return!1;let it=nt.parentOffset,st=!it,ot=it==nt.parent.content.size,at=et.domSelection();return!maybeRTL.test(nt.parent.textContent)||!at.modify?rt=="left"||rt=="backward"?st:ot:withFlushedState(et,_e,()=>{let{focusNode:lt,focusOffset:ut,anchorNode:ct,anchorOffset:dt}=et.domSelectionRange(),ft=at.caretBidiLevel;at.modify("move",rt,"character");let pt=nt.depth?et.docView.domAfterPos(nt.before()):et.dom,{focusNode:ht,focusOffset:mt}=et.domSelectionRange(),bt=ht&&!pt.contains(ht.nodeType==1?ht:ht.parentNode)||lt==ht&&ut==mt;try{at.collapse(ct,dt),lt&&(lt!=ct||ut!=dt)&&at.extend&&at.extend(lt,ut)}catch{}return ft!=null&&(at.caretBidiLevel=ft),bt})}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(et,_e,rt){return cachedState==_e&&cachedDir==rt?cachedResult:(cachedState=_e,cachedDir=rt,cachedResult=rt=="up"||rt=="down"?endOfTextblockVertical(et,_e,rt):endOfTextblockHorizontal(et,_e,rt))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(_e,rt,nt,it){this.parent=_e,this.children=rt,this.dom=nt,this.contentDOM=it,this.dirty=NOT_DIRTY,nt.pmViewDesc=this}matchesWidget(_e){return!1}matchesMark(_e){return!1}matchesNode(_e,rt,nt){return!1}matchesHack(_e){return!1}parseRule(){return null}stopEvent(_e){return!1}get size(){let _e=0;for(let rt=0;rt<this.children.length;rt++)_e+=this.children[rt].size;return _e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let _e=0;_e<this.children.length;_e++)this.children[_e].destroy()}posBeforeChild(_e){for(let rt=0,nt=this.posAtStart;;rt++){let it=this.children[rt];if(it==_e)return nt;nt+=it.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(_e,rt,nt){if(this.contentDOM&&this.contentDOM.contains(_e.nodeType==1?_e:_e.parentNode))if(nt<0){let st,ot;if(_e==this.contentDOM)st=_e.childNodes[rt-1];else{for(;_e.parentNode!=this.contentDOM;)_e=_e.parentNode;st=_e.previousSibling}for(;st&&!((ot=st.pmViewDesc)&&ot.parent==this);)st=st.previousSibling;return st?this.posBeforeChild(ot)+ot.size:this.posAtStart}else{let st,ot;if(_e==this.contentDOM)st=_e.childNodes[rt];else{for(;_e.parentNode!=this.contentDOM;)_e=_e.parentNode;st=_e.nextSibling}for(;st&&!((ot=st.pmViewDesc)&&ot.parent==this);)st=st.nextSibling;return st?this.posBeforeChild(ot):this.posAtEnd}let it;if(_e==this.dom&&this.contentDOM)it=rt>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))it=_e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(rt==0)for(let st=_e;;st=st.parentNode){if(st==this.dom){it=!1;break}if(st.previousSibling)break}if(it==null&&rt==_e.childNodes.length)for(let st=_e;;st=st.parentNode){if(st==this.dom){it=!0;break}if(st.nextSibling)break}}return it??nt>0?this.posAtEnd:this.posAtStart}nearestDesc(_e,rt=!1){for(let nt=!0,it=_e;it;it=it.parentNode){let st=this.getDesc(it),ot;if(st&&(!rt||st.node))if(nt&&(ot=st.nodeDOM)&&!(ot.nodeType==1?ot.contains(_e.nodeType==1?_e:_e.parentNode):ot==_e))nt=!1;else return st}}getDesc(_e){let rt=_e.pmViewDesc;for(let nt=rt;nt;nt=nt.parent)if(nt==this)return rt}posFromDOM(_e,rt,nt){for(let it=_e;it;it=it.parentNode){let st=this.getDesc(it);if(st)return st.localPosFromDOM(_e,rt,nt)}return-1}descAt(_e){for(let rt=0,nt=0;rt<this.children.length;rt++){let it=this.children[rt],st=nt+it.size;if(nt==_e&&st!=nt){for(;!it.border&&it.children.length;)it=it.children[0];return it}if(_e<st)return it.descAt(_e-nt-it.border);nt=st}}domFromPos(_e,rt){if(!this.contentDOM)return{node:this.dom,offset:0,atom:_e+1};let nt=0,it=0;for(let st=0;nt<this.children.length;nt++){let ot=this.children[nt],at=st+ot.size;if(at>_e||ot instanceof TrailingHackViewDesc){it=_e-st;break}st=at}if(it)return this.children[nt].domFromPos(it-this.children[nt].border,rt);for(let st;nt&&!(st=this.children[nt-1]).size&&st instanceof WidgetViewDesc&&st.side>=0;nt--);if(rt<=0){let st,ot=!0;for(;st=nt?this.children[nt-1]:null,!(!st||st.dom.parentNode==this.contentDOM);nt--,ot=!1);return st&&rt&&ot&&!st.border&&!st.domAtom?st.domFromPos(st.size,rt):{node:this.contentDOM,offset:st?domIndex(st.dom)+1:0}}else{let st,ot=!0;for(;st=nt<this.children.length?this.children[nt]:null,!(!st||st.dom.parentNode==this.contentDOM);nt++,ot=!1);return st&&ot&&!st.border&&!st.domAtom?st.domFromPos(0,rt):{node:this.contentDOM,offset:st?domIndex(st.dom):this.contentDOM.childNodes.length}}}parseRange(_e,rt,nt=0){if(this.children.length==0)return{node:this.contentDOM,from:_e,to:rt,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let it=-1,st=-1;for(let ot=nt,at=0;;at++){let lt=this.children[at],ut=ot+lt.size;if(it==-1&&_e<=ut){let ct=ot+lt.border;if(_e>=ct&&rt<=ut-lt.border&&lt.node&&lt.contentDOM&&this.contentDOM.contains(lt.contentDOM))return lt.parseRange(_e,rt,ct);_e=ot;for(let dt=at;dt>0;dt--){let ft=this.children[dt-1];if(ft.size&&ft.dom.parentNode==this.contentDOM&&!ft.emptyChildAt(1)){it=domIndex(ft.dom)+1;break}_e-=ft.size}it==-1&&(it=0)}if(it>-1&&(ut>rt||at==this.children.length-1)){rt=ut;for(let ct=at+1;ct<this.children.length;ct++){let dt=this.children[ct];if(dt.size&&dt.dom.parentNode==this.contentDOM&&!dt.emptyChildAt(-1)){st=domIndex(dt.dom);break}rt+=dt.size}st==-1&&(st=this.contentDOM.childNodes.length);break}ot=ut}return{node:this.contentDOM,from:_e,to:rt,fromOffset:it,toOffset:st}}emptyChildAt(_e){if(this.border||!this.contentDOM||!this.children.length)return!1;let rt=this.children[_e<0?0:this.children.length-1];return rt.size==0||rt.emptyChildAt(_e)}domAfterPos(_e){let{node:rt,offset:nt}=this.domFromPos(_e,0);if(rt.nodeType!=1||nt==rt.childNodes.length)throw new RangeError("No node after pos "+_e);return rt.childNodes[nt]}setSelection(_e,rt,nt,it=!1){let st=Math.min(_e,rt),ot=Math.max(_e,rt);for(let ft=0,pt=0;ft<this.children.length;ft++){let ht=this.children[ft],mt=pt+ht.size;if(st>pt&&ot<mt)return ht.setSelection(_e-pt-ht.border,rt-pt-ht.border,nt,it);pt=mt}let at=this.domFromPos(_e,_e?-1:1),lt=rt==_e?at:this.domFromPos(rt,rt?-1:1),ut=nt.getSelection(),ct=!1;if((gecko||safari)&&_e==rt){let{node:ft,offset:pt}=at;if(ft.nodeType==3)ct=!!(pt&&ft.nodeValue[pt-1]==`
`);else{let ht=ft.childNodes[pt-1];ct=ht&&(ht.nodeName=="BR"||ht.contentEditable=="false")}}if(gecko&&ut.focusNode&&ut.focusNode!=lt.node&&ut.focusNode.nodeType==1){let ft=ut.focusNode.childNodes[ut.focusOffset];ft&&ft.contentEditable=="false"&&(it=!0)}if(!(it||ct&&safari)&&isEquivalentPosition(at.node,at.offset,ut.anchorNode,ut.anchorOffset)&&isEquivalentPosition(lt.node,lt.offset,ut.focusNode,ut.focusOffset))return;let dt=!1;if((ut.extend||_e==rt)&&!ct){ut.collapse(at.node,at.offset);try{_e!=rt&&ut.extend(lt.node,lt.offset),dt=!0}catch{}}if(!dt){if(_e>rt){let pt=at;at=lt,lt=pt}let ft=document.createRange();ft.setEnd(lt.node,lt.offset),ft.setStart(at.node,at.offset),ut.removeAllRanges(),ut.addRange(ft)}}ignoreMutation(_e){return!this.contentDOM&&_e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(_e,rt){for(let nt=0,it=0;it<this.children.length;it++){let st=this.children[it],ot=nt+st.size;if(nt==ot?_e<=ot&&rt>=nt:_e<ot&&rt>nt){let at=nt+st.border,lt=ot-st.border;if(_e>=at&&rt<=lt){this.dirty=_e==nt||rt==ot?CONTENT_DIRTY:CHILD_DIRTY,_e==at&&rt==lt&&(st.contentLost||st.dom.parentNode!=this.contentDOM)?st.dirty=NODE_DIRTY:st.markDirty(_e-at,rt-at);return}else st.dirty=st.dom==st.contentDOM&&st.dom.parentNode==this.contentDOM&&!st.children.length?CONTENT_DIRTY:NODE_DIRTY}nt=ot}this.dirty=CONTENT_DIRTY}markParentsDirty(){let _e=1;for(let rt=this.parent;rt;rt=rt.parent,_e++){let nt=_e==1?CONTENT_DIRTY:CHILD_DIRTY;rt.dirty<nt&&(rt.dirty=nt)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class WidgetViewDesc extends ViewDesc{constructor(_e,rt,nt,it){let st,ot=rt.type.toDOM;if(typeof ot=="function"&&(ot=ot(nt,()=>{if(!st)return it;if(st.parent)return st.parent.posBeforeChild(st)})),!rt.type.spec.raw){if(ot.nodeType!=1){let at=document.createElement("span");at.appendChild(ot),ot=at}ot.contentEditable="false",ot.classList.add("ProseMirror-widget")}super(_e,[],ot,null),this.widget=rt,this.widget=rt,st=this}matchesWidget(_e){return this.dirty==NOT_DIRTY&&_e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(_e){let rt=this.widget.spec.stopEvent;return rt?rt(_e):!1}ignoreMutation(_e){return _e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(_e,rt,nt,it){super(_e,[],rt,null),this.textDOM=nt,this.text=it}get size(){return this.text.length}localPosFromDOM(_e,rt){return _e!=this.textDOM?this.posAtStart+(rt?this.size:0):this.posAtStart+rt}domFromPos(_e){return{node:this.textDOM,offset:_e}}ignoreMutation(_e){return _e.type==="characterData"&&_e.target.nodeValue==_e.oldValue}}class MarkViewDesc extends ViewDesc{constructor(_e,rt,nt,it){super(_e,[],nt,it),this.mark=rt}static create(_e,rt,nt,it){let st=it.nodeViews[rt.type.name],ot=st&&st(rt,it,nt);return(!ot||!ot.dom)&&(ot=DOMSerializer.renderSpec(document,rt.type.spec.toDOM(rt,nt))),new MarkViewDesc(_e,rt,ot.dom,ot.contentDOM||ot.dom)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(_e){return this.dirty!=NODE_DIRTY&&this.mark.eq(_e)}markDirty(_e,rt){if(super.markDirty(_e,rt),this.dirty!=NOT_DIRTY){let nt=this.parent;for(;!nt.node;)nt=nt.parent;nt.dirty<this.dirty&&(nt.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(_e,rt,nt){let it=MarkViewDesc.create(this.parent,this.mark,!0,nt),st=this.children,ot=this.size;rt<ot&&(st=replaceNodes(st,rt,ot,nt)),_e>0&&(st=replaceNodes(st,0,_e,nt));for(let at=0;at<st.length;at++)st[at].parent=it;return it.children=st,it}}class NodeViewDesc extends ViewDesc{constructor(_e,rt,nt,it,st,ot,at,lt,ut){super(_e,[],st,ot),this.node=rt,this.outerDeco=nt,this.innerDeco=it,this.nodeDOM=at}static create(_e,rt,nt,it,st,ot){let at=st.nodeViews[rt.type.name],lt,ut=at&&at(rt,st,()=>{if(!lt)return ot;if(lt.parent)return lt.parent.posBeforeChild(lt)},nt,it),ct=ut&&ut.dom,dt=ut&&ut.contentDOM;if(rt.isText){if(!ct)ct=document.createTextNode(rt.text);else if(ct.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else ct||({dom:ct,contentDOM:dt}=DOMSerializer.renderSpec(document,rt.type.spec.toDOM(rt)));!dt&&!rt.isText&&ct.nodeName!="BR"&&(ct.hasAttribute("contenteditable")||(ct.contentEditable="false"),rt.type.spec.draggable&&(ct.draggable=!0));let ft=ct;return ct=applyOuterDeco(ct,nt,rt),ut?lt=new CustomNodeViewDesc(_e,rt,nt,it,ct,dt||null,ft,ut,st,ot+1):rt.isText?new TextViewDesc(_e,rt,nt,it,ct,ft,st):new NodeViewDesc(_e,rt,nt,it,ct,dt||null,ft,st,ot+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let _e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(_e.preserveWhitespace="full"),!this.contentDOM)_e.getContent=()=>this.node.content;else if(!this.contentLost)_e.contentElement=this.contentDOM;else{for(let rt=this.children.length-1;rt>=0;rt--){let nt=this.children[rt];if(this.dom.contains(nt.dom.parentNode)){_e.contentElement=nt.dom.parentNode;break}}_e.contentElement||(_e.getContent=()=>Fragment.empty)}return _e}matchesNode(_e,rt,nt){return this.dirty==NOT_DIRTY&&_e.eq(this.node)&&sameOuterDeco(rt,this.outerDeco)&&nt.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(_e,rt){let nt=this.node.inlineContent,it=rt,st=_e.composing?this.localCompositionInfo(_e,rt):null,ot=st&&st.pos>-1?st:null,at=st&&st.pos<0,lt=new ViewTreeUpdater(this,ot&&ot.node,_e);iterDeco(this.node,this.innerDeco,(ut,ct,dt)=>{ut.spec.marks?lt.syncToMarks(ut.spec.marks,nt,_e):ut.type.side>=0&&!dt&&lt.syncToMarks(ct==this.node.childCount?Mark$1.none:this.node.child(ct).marks,nt,_e),lt.placeWidget(ut,_e,it)},(ut,ct,dt,ft)=>{lt.syncToMarks(ut.marks,nt,_e);let pt;lt.findNodeMatch(ut,ct,dt,ft)||at&&_e.state.selection.from>it&&_e.state.selection.to<it+ut.nodeSize&&(pt=lt.findIndexWithChild(st.node))>-1&&lt.updateNodeAt(ut,ct,dt,pt,_e)||lt.updateNextNode(ut,ct,dt,_e,ft,it)||lt.addNode(ut,ct,dt,_e,it),it+=ut.nodeSize}),lt.syncToMarks([],nt,_e),this.node.isTextblock&&lt.addTextblockHacks(),lt.destroyRest(),(lt.changed||this.dirty==CONTENT_DIRTY)&&(ot&&this.protectLocalComposition(_e,ot),renderDescs(this.contentDOM,this.children,_e),ios&&iosHacks(this.dom))}localCompositionInfo(_e,rt){let{from:nt,to:it}=_e.state.selection;if(!(_e.state.selection instanceof TextSelection)||nt<rt||it>rt+this.node.content.size)return null;let st=_e.domSelectionRange(),ot=nearbyTextNode(st.focusNode,st.focusOffset);if(!ot||!this.dom.contains(ot.parentNode))return null;if(this.node.inlineContent){let at=ot.nodeValue,lt=findTextInFragment(this.node.content,at,nt-rt,it-rt);return lt<0?null:{node:ot,pos:lt,text:at}}else return{node:ot,pos:-1,text:""}}protectLocalComposition(_e,{node:rt,pos:nt,text:it}){if(this.getDesc(rt))return;let st=rt;for(;st.parentNode!=this.contentDOM;st=st.parentNode){for(;st.previousSibling;)st.parentNode.removeChild(st.previousSibling);for(;st.nextSibling;)st.parentNode.removeChild(st.nextSibling);st.pmViewDesc&&(st.pmViewDesc=void 0)}let ot=new CompositionViewDesc(this,st,rt,it);_e.input.compositionNodes.push(ot),this.children=replaceNodes(this.children,nt,nt+it.length,_e,ot)}update(_e,rt,nt,it){return this.dirty==NODE_DIRTY||!_e.sameMarkup(this.node)?!1:(this.updateInner(_e,rt,nt,it),!0)}updateInner(_e,rt,nt,it){this.updateOuterDeco(rt),this.node=_e,this.innerDeco=nt,this.contentDOM&&this.updateChildren(it,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(_e){if(sameOuterDeco(_e,this.outerDeco))return;let rt=this.nodeDOM.nodeType!=1,nt=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,rt),computeOuterDeco(_e,this.node,rt)),this.dom!=nt&&(nt.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=_e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function docViewDesc(et,_e,rt,nt,it){applyOuterDeco(nt,_e,et);let st=new NodeViewDesc(void 0,et,_e,rt,nt,nt,nt,it,0);return st.contentDOM&&st.updateChildren(it,0),st}class TextViewDesc extends NodeViewDesc{constructor(_e,rt,nt,it,st,ot,at){super(_e,rt,nt,it,st,null,ot,at,0)}parseRule(){let _e=this.nodeDOM.parentNode;for(;_e&&_e!=this.dom&&!_e.pmIsDeco;)_e=_e.parentNode;return{skip:_e||!0}}update(_e,rt,nt,it){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!_e.sameMarkup(this.node)?!1:(this.updateOuterDeco(rt),(this.dirty!=NOT_DIRTY||_e.text!=this.node.text)&&_e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=_e.text,it.trackWrites==this.nodeDOM&&(it.trackWrites=null)),this.node=_e,this.dirty=NOT_DIRTY,!0)}inParent(){let _e=this.parent.contentDOM;for(let rt=this.nodeDOM;rt;rt=rt.parentNode)if(rt==_e)return!0;return!1}domFromPos(_e){return{node:this.nodeDOM,offset:_e}}localPosFromDOM(_e,rt,nt){return _e==this.nodeDOM?this.posAtStart+Math.min(rt,this.node.text.length):super.localPosFromDOM(_e,rt,nt)}ignoreMutation(_e){return _e.type!="characterData"&&_e.type!="selection"}slice(_e,rt,nt){let it=this.node.cut(_e,rt),st=document.createTextNode(it.text);return new TextViewDesc(this.parent,it,this.outerDeco,this.innerDeco,st,st,nt)}markDirty(_e,rt){super.markDirty(_e,rt),this.dom!=this.nodeDOM&&(_e==0||rt==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(_e){return this.dirty==NOT_DIRTY&&this.dom.nodeName==_e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(_e,rt,nt,it,st,ot,at,lt,ut,ct){super(_e,rt,nt,it,st,ot,at,ut,ct),this.spec=lt}update(_e,rt,nt,it){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update){let st=this.spec.update(_e,rt,nt);return st&&this.updateInner(_e,rt,nt,it),st}else return!this.contentDOM&&!_e.isLeaf?!1:super.update(_e,rt,nt,it)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(_e,rt,nt,it){this.spec.setSelection?this.spec.setSelection(_e,rt,nt):super.setSelection(_e,rt,nt,it)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(_e){return this.spec.stopEvent?this.spec.stopEvent(_e):!1}ignoreMutation(_e){return this.spec.ignoreMutation?this.spec.ignoreMutation(_e):super.ignoreMutation(_e)}}function renderDescs(et,_e,rt){let nt=et.firstChild,it=!1;for(let st=0;st<_e.length;st++){let ot=_e[st],at=ot.dom;if(at.parentNode==et){for(;at!=nt;)nt=rm(nt),it=!0;nt=nt.nextSibling}else it=!0,et.insertBefore(at,nt);if(ot instanceof MarkViewDesc){let lt=nt?nt.previousSibling:et.lastChild;renderDescs(ot.contentDOM,ot.children,rt),nt=lt?lt.nextSibling:et.firstChild}}for(;nt;)nt=rm(nt),it=!0;it&&rt.trackWrites==et&&(rt.trackWrites=null)}const OuterDecoLevel=function(et){et&&(this.nodeName=et)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(et,_e,rt){if(et.length==0)return noDeco;let nt=rt?noDeco[0]:new OuterDecoLevel,it=[nt];for(let st=0;st<et.length;st++){let ot=et[st].type.attrs;if(ot){ot.nodeName&&it.push(nt=new OuterDecoLevel(ot.nodeName));for(let at in ot){let lt=ot[at];lt!=null&&(rt&&it.length==1&&it.push(nt=new OuterDecoLevel(_e.isInline?"span":"div")),at=="class"?nt.class=(nt.class?nt.class+" ":"")+lt:at=="style"?nt.style=(nt.style?nt.style+";":"")+lt:at!="nodeName"&&(nt[at]=lt))}}}return it}function patchOuterDeco(et,_e,rt,nt){if(rt==noDeco&&nt==noDeco)return _e;let it=_e;for(let st=0;st<nt.length;st++){let ot=nt[st],at=rt[st];if(st){let lt;at&&at.nodeName==ot.nodeName&&it!=et&&(lt=it.parentNode)&&lt.nodeName.toLowerCase()==ot.nodeName||(lt=document.createElement(ot.nodeName),lt.pmIsDeco=!0,lt.appendChild(it),at=noDeco[0]),it=lt}patchAttributes(it,at||noDeco[0],ot)}return it}function patchAttributes(et,_e,rt){for(let nt in _e)nt!="class"&&nt!="style"&&nt!="nodeName"&&!(nt in rt)&&et.removeAttribute(nt);for(let nt in rt)nt!="class"&&nt!="style"&&nt!="nodeName"&&rt[nt]!=_e[nt]&&et.setAttribute(nt,rt[nt]);if(_e.class!=rt.class){let nt=_e.class?_e.class.split(" ").filter(Boolean):[],it=rt.class?rt.class.split(" ").filter(Boolean):[];for(let st=0;st<nt.length;st++)it.indexOf(nt[st])==-1&&et.classList.remove(nt[st]);for(let st=0;st<it.length;st++)nt.indexOf(it[st])==-1&&et.classList.add(it[st]);et.classList.length==0&&et.removeAttribute("class")}if(_e.style!=rt.style){if(_e.style){let nt=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,it;for(;it=nt.exec(_e.style);)et.style.removeProperty(it[1])}rt.style&&(et.style.cssText+=rt.style)}}function applyOuterDeco(et,_e,rt){return patchOuterDeco(et,et,noDeco,computeOuterDeco(_e,rt,et.nodeType!=1))}function sameOuterDeco(et,_e){if(et.length!=_e.length)return!1;for(let rt=0;rt<et.length;rt++)if(!et[rt].type.eq(_e[rt].type))return!1;return!0}function rm(et){let _e=et.nextSibling;return et.parentNode.removeChild(et),_e}class ViewTreeUpdater{constructor(_e,rt,nt){this.lock=rt,this.view=nt,this.index=0,this.stack=[],this.changed=!1,this.top=_e,this.preMatch=preMatch(_e.node.content,_e)}destroyBetween(_e,rt){if(_e!=rt){for(let nt=_e;nt<rt;nt++)this.top.children[nt].destroy();this.top.children.splice(_e,rt-_e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(_e,rt,nt){let it=0,st=this.stack.length>>1,ot=Math.min(st,_e.length);for(;it<ot&&(it==st-1?this.top:this.stack[it+1<<1]).matchesMark(_e[it])&&_e[it].type.spec.spanning!==!1;)it++;for(;it<st;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),st--;for(;st<_e.length;){this.stack.push(this.top,this.index+1);let at=-1;for(let lt=this.index;lt<Math.min(this.index+3,this.top.children.length);lt++){let ut=this.top.children[lt];if(ut.matchesMark(_e[st])&&!this.isLocked(ut.dom)){at=lt;break}}if(at>-1)at>this.index&&(this.changed=!0,this.destroyBetween(this.index,at)),this.top=this.top.children[this.index];else{let lt=MarkViewDesc.create(this.top,_e[st],rt,nt);this.top.children.splice(this.index,0,lt),this.top=lt,this.changed=!0}this.index=0,st++}}findNodeMatch(_e,rt,nt,it){let st=-1,ot;if(it>=this.preMatch.index&&(ot=this.preMatch.matches[it-this.preMatch.index]).parent==this.top&&ot.matchesNode(_e,rt,nt))st=this.top.children.indexOf(ot,this.index);else for(let at=this.index,lt=Math.min(this.top.children.length,at+5);at<lt;at++){let ut=this.top.children[at];if(ut.matchesNode(_e,rt,nt)&&!this.preMatch.matched.has(ut)){st=at;break}}return st<0?!1:(this.destroyBetween(this.index,st),this.index++,!0)}updateNodeAt(_e,rt,nt,it,st){let ot=this.top.children[it];return ot.dirty==NODE_DIRTY&&ot.dom==ot.contentDOM&&(ot.dirty=CONTENT_DIRTY),ot.update(_e,rt,nt,st)?(this.destroyBetween(this.index,it),this.index++,!0):!1}findIndexWithChild(_e){for(;;){let rt=_e.parentNode;if(!rt)return-1;if(rt==this.top.contentDOM){let nt=_e.pmViewDesc;if(nt){for(let it=this.index;it<this.top.children.length;it++)if(this.top.children[it]==nt)return it}return-1}_e=rt}}updateNextNode(_e,rt,nt,it,st,ot){for(let at=this.index;at<this.top.children.length;at++){let lt=this.top.children[at];if(lt instanceof NodeViewDesc){let ut=this.preMatch.matched.get(lt);if(ut!=null&&ut!=st)return!1;let ct=lt.dom,dt,ft=this.isLocked(ct)&&!(_e.isText&&lt.node&&lt.node.isText&&lt.nodeDOM.nodeValue==_e.text&&lt.dirty!=NODE_DIRTY&&sameOuterDeco(rt,lt.outerDeco));if(!ft&&lt.update(_e,rt,nt,it))return this.destroyBetween(this.index,at),lt.dom!=ct&&(this.changed=!0),this.index++,!0;if(!ft&&(dt=this.recreateWrapper(lt,_e,rt,nt,it,ot)))return this.top.children[this.index]=dt,dt.dirty=CONTENT_DIRTY,dt.updateChildren(it,ot+1),dt.dirty=NOT_DIRTY,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(_e,rt,nt,it,st,ot){if(_e.dirty||rt.isAtom||!_e.children.length||!_e.node.content.eq(rt.content))return null;let at=NodeViewDesc.create(this.top,rt,nt,it,st,ot);if(!at.contentDOM)return null;at.children=_e.children,_e.children=[];for(let lt of at.children)lt.parent=at;return at}addNode(_e,rt,nt,it,st){let ot=NodeViewDesc.create(this.top,_e,rt,nt,it,st);ot.contentDOM&&ot.updateChildren(it,st+1),this.top.children.splice(this.index++,0,ot),this.changed=!0}placeWidget(_e,rt,nt){let it=this.index<this.top.children.length?this.top.children[this.index]:null;if(it&&it.matchesWidget(_e)&&(_e==it.widget||!it.widget.type.toDOM.parentNode))this.index++;else{let st=new WidgetViewDesc(this.top,_e,rt,nt);this.top.children.splice(this.index++,0,st),this.changed=!0}}addTextblockHacks(){let _e=this.top.children[this.index-1],rt=this.top;for(;_e instanceof MarkViewDesc;)rt=_e,_e=rt.children[rt.children.length-1];(!_e||!(_e instanceof TextViewDesc)||/\n$/.test(_e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(_e.node.text))&&((safari||chrome$1)&&_e&&_e.dom.contentEditable=="false"&&this.addHackNode("IMG",rt),this.addHackNode("BR",this.top))}addHackNode(_e,rt){if(rt==this.top&&this.index<rt.children.length&&rt.children[this.index].matchesHack(_e))this.index++;else{let nt=document.createElement(_e);_e=="IMG"&&(nt.className="ProseMirror-separator",nt.alt=""),_e=="BR"&&(nt.className="ProseMirror-trailingBreak");let it=new TrailingHackViewDesc(this.top,[],nt,null);rt!=this.top?rt.children.push(it):rt.children.splice(this.index++,0,it),this.changed=!0}}isLocked(_e){return this.lock&&(_e==this.lock||_e.nodeType==1&&_e.contains(this.lock.parentNode))}}function preMatch(et,_e){let rt=_e,nt=rt.children.length,it=et.childCount,st=new Map,ot=[];e:for(;it>0;){let at;for(;;)if(nt){let ut=rt.children[nt-1];if(ut instanceof MarkViewDesc)rt=ut,nt=ut.children.length;else{at=ut,nt--;break}}else{if(rt==_e)break e;nt=rt.parent.children.indexOf(rt),rt=rt.parent}let lt=at.node;if(lt){if(lt!=et.child(it-1))break;--it,st.set(at,it),ot.push(at)}}return{index:it,matched:st,matches:ot.reverse()}}function compareSide(et,_e){return et.type.side-_e.type.side}function iterDeco(et,_e,rt,nt){let it=_e.locals(et),st=0;if(it.length==0){for(let ut=0;ut<et.childCount;ut++){let ct=et.child(ut);nt(ct,it,_e.forChild(st,ct),ut),st+=ct.nodeSize}return}let ot=0,at=[],lt=null;for(let ut=0;;){if(ot<it.length&&it[ot].to==st){let ht=it[ot++],mt;for(;ot<it.length&&it[ot].to==st;)(mt||(mt=[ht])).push(it[ot++]);if(mt){mt.sort(compareSide);for(let bt=0;bt<mt.length;bt++)rt(mt[bt],ut,!!lt)}else rt(ht,ut,!!lt)}let ct,dt;if(lt)dt=-1,ct=lt,lt=null;else if(ut<et.childCount)dt=ut,ct=et.child(ut++);else break;for(let ht=0;ht<at.length;ht++)at[ht].to<=st&&at.splice(ht--,1);for(;ot<it.length&&it[ot].from<=st&&it[ot].to>st;)at.push(it[ot++]);let ft=st+ct.nodeSize;if(ct.isText){let ht=ft;ot<it.length&&it[ot].from<ht&&(ht=it[ot].from);for(let mt=0;mt<at.length;mt++)at[mt].to<ht&&(ht=at[mt].to);ht<ft&&(lt=ct.cut(ht-st),ct=ct.cut(0,ht-st),ft=ht,dt=-1)}let pt=ct.isInline&&!ct.isLeaf?at.filter(ht=>!ht.inline):at.slice();nt(ct,pt,_e.forChild(st,ct),dt),st=ft}}function iosHacks(et){if(et.nodeName=="UL"||et.nodeName=="OL"){let _e=et.style.cssText;et.style.cssText=_e+"; list-style: square !important",window.getComputedStyle(et).listStyle,et.style.cssText=_e}}function nearbyTextNode(et,_e){for(;;){if(et.nodeType==3)return et;if(et.nodeType==1&&_e>0){if(et.childNodes.length>_e&&et.childNodes[_e].nodeType==3)return et.childNodes[_e];et=et.childNodes[_e-1],_e=nodeSize(et)}else if(et.nodeType==1&&_e<et.childNodes.length)et=et.childNodes[_e],_e=0;else return null}}function findTextInFragment(et,_e,rt,nt){for(let it=0,st=0;it<et.childCount&&st<=nt;){let ot=et.child(it++),at=st;if(st+=ot.nodeSize,!ot.isText)continue;let lt=ot.text;for(;it<et.childCount;){let ut=et.child(it++);if(st+=ut.nodeSize,!ut.isText)break;lt+=ut.text}if(st>=rt){let ut=at<nt?lt.lastIndexOf(_e,nt-at-1):-1;if(ut>=0&&ut+_e.length+at>=rt)return at+ut;if(rt==nt&&lt.length>=nt+_e.length-at&&lt.slice(nt-at,nt-at+_e.length)==_e)return nt}}return-1}function replaceNodes(et,_e,rt,nt,it){let st=[];for(let ot=0,at=0;ot<et.length;ot++){let lt=et[ot],ut=at,ct=at+=lt.size;ut>=rt||ct<=_e?st.push(lt):(ut<_e&&st.push(lt.slice(0,_e-ut,nt)),it&&(st.push(it),it=void 0),ct>rt&&st.push(lt.slice(rt-ut,lt.size,nt)))}return st}function selectionFromDOM(et,_e=null){let rt=et.domSelectionRange(),nt=et.state.doc;if(!rt.focusNode)return null;let it=et.docView.nearestDesc(rt.focusNode),st=it&&it.size==0,ot=et.docView.posFromDOM(rt.focusNode,rt.focusOffset,1);if(ot<0)return null;let at=nt.resolve(ot),lt,ut;if(selectionCollapsed(rt)){for(lt=at;it&&!it.node;)it=it.parent;let ct=it.node;if(it&&ct.isAtom&&NodeSelection.isSelectable(ct)&&it.parent&&!(ct.isInline&&isOnEdge(rt.focusNode,rt.focusOffset,it.dom))){let dt=it.posBefore;ut=new NodeSelection(ot==dt?at:nt.resolve(dt))}}else{let ct=et.docView.posFromDOM(rt.anchorNode,rt.anchorOffset,1);if(ct<0)return null;lt=nt.resolve(ct)}if(!ut){let ct=_e=="pointer"||et.state.selection.head<at.pos&&!st?1:-1;ut=selectionBetween(et,lt,at,ct)}return ut}function editorOwnsSelection(et){return et.editable?et.hasFocus():hasSelection(et)&&document.activeElement&&document.activeElement.contains(et.dom)}function selectionToDOM(et,_e=!1){let rt=et.state.selection;if(syncNodeSelection(et,rt),!!editorOwnsSelection(et)){if(!_e&&et.input.mouseDown&&et.input.mouseDown.allowDefault&&chrome$1){let nt=et.domSelectionRange(),it=et.domObserver.currentSelection;if(nt.anchorNode&&it.anchorNode&&isEquivalentPosition(nt.anchorNode,nt.anchorOffset,it.anchorNode,it.anchorOffset)){et.input.mouseDown.delayedSelectionSync=!0,et.domObserver.setCurSelection();return}}if(et.domObserver.disconnectSelection(),et.cursorWrapper)selectCursorWrapper(et);else{let{anchor:nt,head:it}=rt,st,ot;brokenSelectBetweenUneditable&&!(rt instanceof TextSelection)&&(rt.$from.parent.inlineContent||(st=temporarilyEditableNear(et,rt.from)),!rt.empty&&!rt.$from.parent.inlineContent&&(ot=temporarilyEditableNear(et,rt.to))),et.docView.setSelection(nt,it,et.root,_e),brokenSelectBetweenUneditable&&(st&&resetEditable(st),ot&&resetEditable(ot)),rt.visible?et.dom.classList.remove("ProseMirror-hideselection"):(et.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(et))}et.domObserver.setCurSelection(),et.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome$1&&chrome_version<63;function temporarilyEditableNear(et,_e){let{node:rt,offset:nt}=et.docView.domFromPos(_e,0),it=nt<rt.childNodes.length?rt.childNodes[nt]:null,st=nt?rt.childNodes[nt-1]:null;if(safari&&it&&it.contentEditable=="false")return setEditable(it);if((!it||it.contentEditable=="false")&&(!st||st.contentEditable=="false")){if(it)return setEditable(it);if(st)return setEditable(st)}}function setEditable(et){return et.contentEditable="true",safari&&et.draggable&&(et.draggable=!1,et.wasDraggable=!0),et}function resetEditable(et){et.contentEditable="false",et.wasDraggable&&(et.draggable=!0,et.wasDraggable=null)}function removeClassOnSelectionChange(et){let _e=et.dom.ownerDocument;_e.removeEventListener("selectionchange",et.input.hideSelectionGuard);let rt=et.domSelectionRange(),nt=rt.anchorNode,it=rt.anchorOffset;_e.addEventListener("selectionchange",et.input.hideSelectionGuard=()=>{(rt.anchorNode!=nt||rt.anchorOffset!=it)&&(_e.removeEventListener("selectionchange",et.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(et)||et.state.selection.visible)&&et.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(et){let _e=et.domSelection(),rt=document.createRange(),nt=et.cursorWrapper.dom,it=nt.nodeName=="IMG";it?rt.setEnd(nt.parentNode,domIndex(nt)+1):rt.setEnd(nt,0),rt.collapse(!1),_e.removeAllRanges(),_e.addRange(rt),!it&&!et.state.selection.visible&&ie$1&&ie_version<=11&&(nt.disabled=!0,nt.disabled=!1)}function syncNodeSelection(et,_e){if(_e instanceof NodeSelection){let rt=et.docView.descAt(_e.from);rt!=et.lastSelectedViewDesc&&(clearNodeSelection(et),rt&&rt.selectNode(),et.lastSelectedViewDesc=rt)}else clearNodeSelection(et)}function clearNodeSelection(et){et.lastSelectedViewDesc&&(et.lastSelectedViewDesc.parent&&et.lastSelectedViewDesc.deselectNode(),et.lastSelectedViewDesc=void 0)}function selectionBetween(et,_e,rt,nt){return et.someProp("createSelectionBetween",it=>it(et,_e,rt))||TextSelection.between(_e,rt,nt)}function hasFocusAndSelection(et){return et.editable&&!et.hasFocus()?!1:hasSelection(et)}function hasSelection(et){let _e=et.domSelectionRange();if(!_e.anchorNode)return!1;try{return et.dom.contains(_e.anchorNode.nodeType==3?_e.anchorNode.parentNode:_e.anchorNode)&&(et.editable||et.dom.contains(_e.focusNode.nodeType==3?_e.focusNode.parentNode:_e.focusNode))}catch{return!1}}function anchorInRightPlace(et){let _e=et.docView.domFromPos(et.state.selection.anchor,0),rt=et.domSelectionRange();return isEquivalentPosition(_e.node,_e.offset,rt.anchorNode,rt.anchorOffset)}function moveSelectionBlock(et,_e){let{$anchor:rt,$head:nt}=et.selection,it=_e>0?rt.max(nt):rt.min(nt),st=it.parent.inlineContent?it.depth?et.doc.resolve(_e>0?it.after():it.before()):null:it;return st&&Selection.findFrom(st,_e)}function apply(et,_e){return et.dispatch(et.state.tr.setSelection(_e).scrollIntoView()),!0}function selectHorizontally(et,_e,rt){let nt=et.state.selection;if(nt instanceof TextSelection){if(!nt.empty||rt.indexOf("s")>-1)return!1;if(et.endOfTextblock(_e>0?"forward":"backward")){let it=moveSelectionBlock(et.state,_e);return it&&it instanceof NodeSelection?apply(et,it):!1}else if(!(mac$2&&rt.indexOf("m")>-1)){let it=nt.$head,st=it.textOffset?null:_e<0?it.nodeBefore:it.nodeAfter,ot;if(!st||st.isText)return!1;let at=_e<0?it.pos-st.nodeSize:it.pos;return st.isAtom||(ot=et.docView.descAt(at))&&!ot.contentDOM?NodeSelection.isSelectable(st)?apply(et,new NodeSelection(_e<0?et.state.doc.resolve(it.pos-st.nodeSize):it)):webkit?apply(et,new TextSelection(et.state.doc.resolve(_e<0?at:at+st.nodeSize))):!1:!1}}else{if(nt instanceof NodeSelection&&nt.node.isInline)return apply(et,new TextSelection(_e>0?nt.$to:nt.$from));{let it=moveSelectionBlock(et.state,_e);return it?apply(et,it):!1}}}function nodeLen(et){return et.nodeType==3?et.nodeValue.length:et.childNodes.length}function isIgnorable(et){let _e=et.pmViewDesc;return _e&&_e.size==0&&(et.nextSibling||et.nodeName!="BR")}function skipIgnoredNodes(et,_e){return _e<0?skipIgnoredNodesBefore(et):skipIgnoredNodesAfter(et)}function skipIgnoredNodesBefore(et){let _e=et.domSelectionRange(),rt=_e.focusNode,nt=_e.focusOffset;if(!rt)return;let it,st,ot=!1;for(gecko&&rt.nodeType==1&&nt<nodeLen(rt)&&isIgnorable(rt.childNodes[nt])&&(ot=!0);;)if(nt>0){if(rt.nodeType!=1)break;{let at=rt.childNodes[nt-1];if(isIgnorable(at))it=rt,st=--nt;else if(at.nodeType==3)rt=at,nt=rt.nodeValue.length;else break}}else{if(isBlockNode(rt))break;{let at=rt.previousSibling;for(;at&&isIgnorable(at);)it=rt.parentNode,st=domIndex(at),at=at.previousSibling;if(at)rt=at,nt=nodeLen(rt);else{if(rt=rt.parentNode,rt==et.dom)break;nt=0}}}ot?setSelFocus(et,rt,nt):it&&setSelFocus(et,it,st)}function skipIgnoredNodesAfter(et){let _e=et.domSelectionRange(),rt=_e.focusNode,nt=_e.focusOffset;if(!rt)return;let it=nodeLen(rt),st,ot;for(;;)if(nt<it){if(rt.nodeType!=1)break;let at=rt.childNodes[nt];if(isIgnorable(at))st=rt,ot=++nt;else break}else{if(isBlockNode(rt))break;{let at=rt.nextSibling;for(;at&&isIgnorable(at);)st=at.parentNode,ot=domIndex(at)+1,at=at.nextSibling;if(at)rt=at,nt=0,it=nodeLen(rt);else{if(rt=rt.parentNode,rt==et.dom)break;nt=it=0}}}st&&setSelFocus(et,st,ot)}function isBlockNode(et){let _e=et.pmViewDesc;return _e&&_e.node&&_e.node.isBlock}function setSelFocus(et,_e,rt){let nt=et.domSelection();if(selectionCollapsed(nt)){let st=document.createRange();st.setEnd(_e,rt),st.setStart(_e,rt),nt.removeAllRanges(),nt.addRange(st)}else nt.extend&&nt.extend(_e,rt);et.domObserver.setCurSelection();let{state:it}=et;setTimeout(()=>{et.state==it&&selectionToDOM(et)},50)}function findDirection(et,_e){let rt=et.state.doc.resolve(_e);if(!(chrome$1||windows)&&rt.parent.inlineContent){let it=et.coordsAtPos(_e);if(_e>rt.start()){let st=et.coordsAtPos(_e-1),ot=(st.top+st.bottom)/2;if(ot>it.top&&ot<it.bottom&&Math.abs(st.left-it.left)>1)return st.left<it.left?"ltr":"rtl"}if(_e<rt.end()){let st=et.coordsAtPos(_e+1),ot=(st.top+st.bottom)/2;if(ot>it.top&&ot<it.bottom&&Math.abs(st.left-it.left)>1)return st.left>it.left?"ltr":"rtl"}}return getComputedStyle(et.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(et,_e,rt){let nt=et.state.selection;if(nt instanceof TextSelection&&!nt.empty||rt.indexOf("s")>-1||mac$2&&rt.indexOf("m")>-1)return!1;let{$from:it,$to:st}=nt;if(!it.parent.inlineContent||et.endOfTextblock(_e<0?"up":"down")){let ot=moveSelectionBlock(et.state,_e);if(ot&&ot instanceof NodeSelection)return apply(et,ot)}if(!it.parent.inlineContent){let ot=_e<0?it:st,at=nt instanceof AllSelection?Selection.near(ot,_e):Selection.findFrom(ot,_e);return at?apply(et,at):!1}return!1}function stopNativeHorizontalDelete(et,_e){if(!(et.state.selection instanceof TextSelection))return!0;let{$head:rt,$anchor:nt,empty:it}=et.state.selection;if(!rt.sameParent(nt))return!0;if(!it)return!1;if(et.endOfTextblock(_e>0?"forward":"backward"))return!0;let st=!rt.textOffset&&(_e<0?rt.nodeBefore:rt.nodeAfter);if(st&&!st.isText){let ot=et.state.tr;return _e<0?ot.delete(rt.pos-st.nodeSize,rt.pos):ot.delete(rt.pos,rt.pos+st.nodeSize),et.dispatch(ot),!0}return!1}function switchEditable(et,_e,rt){et.domObserver.stop(),_e.contentEditable=rt,et.domObserver.start()}function safariDownArrowBug(et){if(!safari||et.state.selection.$head.parentOffset>0)return!1;let{focusNode:_e,focusOffset:rt}=et.domSelectionRange();if(_e&&_e.nodeType==1&&rt==0&&_e.firstChild&&_e.firstChild.contentEditable=="false"){let nt=_e.firstChild;switchEditable(et,nt,"true"),setTimeout(()=>switchEditable(et,nt,"false"),20)}return!1}function getMods(et){let _e="";return et.ctrlKey&&(_e+="c"),et.metaKey&&(_e+="m"),et.altKey&&(_e+="a"),et.shiftKey&&(_e+="s"),_e}function captureKeyDown(et,_e){let rt=_e.keyCode,nt=getMods(_e);if(rt==8||mac$2&&rt==72&&nt=="c")return stopNativeHorizontalDelete(et,-1)||skipIgnoredNodes(et,-1);if(rt==46||mac$2&&rt==68&&nt=="c")return stopNativeHorizontalDelete(et,1)||skipIgnoredNodes(et,1);if(rt==13||rt==27)return!0;if(rt==37||mac$2&&rt==66&&nt=="c"){let it=rt==37?findDirection(et,et.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(et,it,nt)||skipIgnoredNodes(et,it)}else if(rt==39||mac$2&&rt==70&&nt=="c"){let it=rt==39?findDirection(et,et.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(et,it,nt)||skipIgnoredNodes(et,it)}else{if(rt==38||mac$2&&rt==80&&nt=="c")return selectVertically(et,-1,nt)||skipIgnoredNodes(et,-1);if(rt==40||mac$2&&rt==78&&nt=="c")return safariDownArrowBug(et)||selectVertically(et,1,nt)||skipIgnoredNodesAfter(et);if(nt==(mac$2?"m":"c")&&(rt==66||rt==73||rt==89||rt==90))return!0}return!1}function serializeForClipboard(et,_e){et.someProp("transformCopied",pt=>{_e=pt(_e,et)});let rt=[],{content:nt,openStart:it,openEnd:st}=_e;for(;it>1&&st>1&&nt.childCount==1&&nt.firstChild.childCount==1;){it--,st--;let pt=nt.firstChild;rt.push(pt.type.name,pt.attrs!=pt.type.defaultAttrs?pt.attrs:null),nt=pt.content}let ot=et.someProp("clipboardSerializer")||DOMSerializer.fromSchema(et.state.schema),at=detachedDoc(),lt=at.createElement("div");lt.appendChild(ot.serializeFragment(nt,{document:at}));let ut=lt.firstChild,ct,dt=0;for(;ut&&ut.nodeType==1&&(ct=wrapMap[ut.nodeName.toLowerCase()]);){for(let pt=ct.length-1;pt>=0;pt--){let ht=at.createElement(ct[pt]);for(;lt.firstChild;)ht.appendChild(lt.firstChild);lt.appendChild(ht),dt++}ut=lt.firstChild}ut&&ut.nodeType==1&&ut.setAttribute("data-pm-slice",`${it} ${st}${dt?` -${dt}`:""} ${JSON.stringify(rt)}`);let ft=et.someProp("clipboardTextSerializer",pt=>pt(_e,et))||_e.content.textBetween(0,_e.content.size,`

`);return{dom:lt,text:ft}}function parseFromClipboard(et,_e,rt,nt,it){let st=it.parent.type.spec.code,ot,at;if(!rt&&!_e)return null;let lt=_e&&(nt||st||!rt);if(lt){if(et.someProp("transformPastedText",ft=>{_e=ft(_e,st||nt,et)}),st)return _e?new Slice(Fragment.from(et.state.schema.text(_e.replace(/\r\n?/g,`
`))),0,0):Slice.empty;let dt=et.someProp("clipboardTextParser",ft=>ft(_e,it,nt,et));if(dt)at=dt;else{let ft=it.marks(),{schema:pt}=et.state,ht=DOMSerializer.fromSchema(pt);ot=document.createElement("div"),_e.split(/(?:\r\n?|\n)+/).forEach(mt=>{let bt=ot.appendChild(document.createElement("p"));mt&&bt.appendChild(ht.serializeNode(pt.text(mt,ft)))})}}else et.someProp("transformPastedHTML",dt=>{rt=dt(rt,et)}),ot=readHTML(rt),webkit&&restoreReplacedSpaces(ot);let ut=ot&&ot.querySelector("[data-pm-slice]"),ct=ut&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(ut.getAttribute("data-pm-slice")||"");if(ct&&ct[3])for(let dt=+ct[3];dt>0;dt--){let ft=ot.firstChild;for(;ft&&ft.nodeType!=1;)ft=ft.nextSibling;if(!ft)break;ot=ft}if(at||(at=(et.someProp("clipboardParser")||et.someProp("domParser")||DOMParser.fromSchema(et.state.schema)).parseSlice(ot,{preserveWhitespace:!!(lt||ct),context:it,ruleFromNode(ft){return ft.nodeName=="BR"&&!ft.nextSibling&&ft.parentNode&&!inlineParents.test(ft.parentNode.nodeName)?{ignore:!0}:null}})),ct)at=addContext(closeSlice(at,+ct[1],+ct[2]),ct[4]);else if(at=Slice.maxOpen(normalizeSiblings(at.content,it),!0),at.openStart||at.openEnd){let dt=0,ft=0;for(let pt=at.content.firstChild;dt<at.openStart&&!pt.type.spec.isolating;dt++,pt=pt.firstChild);for(let pt=at.content.lastChild;ft<at.openEnd&&!pt.type.spec.isolating;ft++,pt=pt.lastChild);at=closeSlice(at,dt,ft)}return et.someProp("transformPasted",dt=>{at=dt(at,et)}),at}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(et,_e){if(et.childCount<2)return et;for(let rt=_e.depth;rt>=0;rt--){let it=_e.node(rt).contentMatchAt(_e.index(rt)),st,ot=[];if(et.forEach(at=>{if(!ot)return;let lt=it.findWrapping(at.type),ut;if(!lt)return ot=null;if(ut=ot.length&&st.length&&addToSibling(lt,st,at,ot[ot.length-1],0))ot[ot.length-1]=ut;else{ot.length&&(ot[ot.length-1]=closeRight(ot[ot.length-1],st.length));let ct=withWrappers(at,lt);ot.push(ct),it=it.matchType(ct.type),st=lt}}),ot)return Fragment.from(ot)}return et}function withWrappers(et,_e,rt=0){for(let nt=_e.length-1;nt>=rt;nt--)et=_e[nt].create(null,Fragment.from(et));return et}function addToSibling(et,_e,rt,nt,it){if(it<et.length&&it<_e.length&&et[it]==_e[it]){let st=addToSibling(et,_e,rt,nt.lastChild,it+1);if(st)return nt.copy(nt.content.replaceChild(nt.childCount-1,st));if(nt.contentMatchAt(nt.childCount).matchType(it==et.length-1?rt.type:et[it+1]))return nt.copy(nt.content.append(Fragment.from(withWrappers(rt,et,it+1))))}}function closeRight(et,_e){if(_e==0)return et;let rt=et.content.replaceChild(et.childCount-1,closeRight(et.lastChild,_e-1)),nt=et.contentMatchAt(et.childCount).fillBefore(Fragment.empty,!0);return et.copy(rt.append(nt))}function closeRange(et,_e,rt,nt,it,st){let ot=_e<0?et.firstChild:et.lastChild,at=ot.content;return it<nt-1&&(at=closeRange(at,_e,rt,nt,it+1,st)),it>=rt&&(at=_e<0?ot.contentMatchAt(0).fillBefore(at,et.childCount>1||st<=it).append(at):at.append(ot.contentMatchAt(ot.childCount).fillBefore(Fragment.empty,!0))),et.replaceChild(_e<0?0:et.childCount-1,ot.copy(at))}function closeSlice(et,_e,rt){return _e<et.openStart&&(et=new Slice(closeRange(et.content,-1,_e,et.openStart,0,et.openEnd),_e,et.openEnd)),rt<et.openEnd&&(et=new Slice(closeRange(et.content,1,rt,et.openEnd,0,0),et.openStart,rt)),et}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}function readHTML(et){let _e=/^(\s*<meta [^>]*>)*/.exec(et);_e&&(et=et.slice(_e[0].length));let rt=detachedDoc().createElement("div"),nt=/<([a-z][^>\s]+)/i.exec(et),it;if((it=nt&&wrapMap[nt[1].toLowerCase()])&&(et=it.map(st=>"<"+st+">").join("")+et+it.map(st=>"</"+st+">").reverse().join("")),rt.innerHTML=et,it)for(let st=0;st<it.length;st++)rt=rt.querySelector(it[st])||rt;return rt}function restoreReplacedSpaces(et){let _e=et.querySelectorAll(chrome$1?"span:not([class]):not([style])":"span.Apple-converted-space");for(let rt=0;rt<_e.length;rt++){let nt=_e[rt];nt.childNodes.length==1&&nt.textContent==" "&&nt.parentNode&&nt.parentNode.replaceChild(et.ownerDocument.createTextNode(" "),nt)}}function addContext(et,_e){if(!et.size)return et;let rt=et.content.firstChild.type.schema,nt;try{nt=JSON.parse(_e)}catch{return et}let{content:it,openStart:st,openEnd:ot}=et;for(let at=nt.length-2;at>=0;at-=2){let lt=rt.nodes[nt[at]];if(!lt||lt.hasRequiredAttrs())break;it=Fragment.from(lt.create(nt[at+1],it)),st++,ot++}return new Slice(it,st,ot)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(et){for(let _e in handlers){let rt=handlers[_e];et.dom.addEventListener(_e,et.input.eventHandlers[_e]=nt=>{eventBelongsToView(et,nt)&&!runCustomHandler(et,nt)&&(et.editable||!(nt.type in editHandlers))&&rt(et,nt)},passiveHandlers[_e]?{passive:!0}:void 0)}safari&&et.dom.addEventListener("input",()=>null),ensureListeners(et)}function setSelectionOrigin(et,_e){et.input.lastSelectionOrigin=_e,et.input.lastSelectionTime=Date.now()}function destroyInput(et){et.domObserver.stop();for(let _e in et.input.eventHandlers)et.dom.removeEventListener(_e,et.input.eventHandlers[_e]);clearTimeout(et.input.composingTimeout),clearTimeout(et.input.lastIOSEnterFallbackTimeout)}function ensureListeners(et){et.someProp("handleDOMEvents",_e=>{for(let rt in _e)et.input.eventHandlers[rt]||et.dom.addEventListener(rt,et.input.eventHandlers[rt]=nt=>runCustomHandler(et,nt))})}function runCustomHandler(et,_e){return et.someProp("handleDOMEvents",rt=>{let nt=rt[_e.type];return nt?nt(et,_e)||_e.defaultPrevented:!1})}function eventBelongsToView(et,_e){if(!_e.bubbles)return!0;if(_e.defaultPrevented)return!1;for(let rt=_e.target;rt!=et.dom;rt=rt.parentNode)if(!rt||rt.nodeType==11||rt.pmViewDesc&&rt.pmViewDesc.stopEvent(_e))return!1;return!0}function dispatchEvent(et,_e){!runCustomHandler(et,_e)&&handlers[_e.type]&&(et.editable||!(_e.type in editHandlers))&&handlers[_e.type](et,_e)}editHandlers.keydown=(et,_e)=>{let rt=_e;if(et.input.shiftKey=rt.keyCode==16||rt.shiftKey,!inOrNearComposition(et,rt)&&(et.input.lastKeyCode=rt.keyCode,et.input.lastKeyCodeTime=Date.now(),!(android&&chrome$1&&rt.keyCode==13)))if(rt.keyCode!=229&&et.domObserver.forceFlush(),ios&&rt.keyCode==13&&!rt.ctrlKey&&!rt.altKey&&!rt.metaKey){let nt=Date.now();et.input.lastIOSEnter=nt,et.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{et.input.lastIOSEnter==nt&&(et.someProp("handleKeyDown",it=>it(et,keyEvent(13,"Enter"))),et.input.lastIOSEnter=0)},200)}else et.someProp("handleKeyDown",nt=>nt(et,rt))||captureKeyDown(et,rt)?rt.preventDefault():setSelectionOrigin(et,"key")};editHandlers.keyup=(et,_e)=>{_e.keyCode==16&&(et.input.shiftKey=!1)};editHandlers.keypress=(et,_e)=>{let rt=_e;if(inOrNearComposition(et,rt)||!rt.charCode||rt.ctrlKey&&!rt.altKey||mac$2&&rt.metaKey)return;if(et.someProp("handleKeyPress",it=>it(et,rt))){rt.preventDefault();return}let nt=et.state.selection;if(!(nt instanceof TextSelection)||!nt.$from.sameParent(nt.$to)){let it=String.fromCharCode(rt.charCode);!/[\r\n]/.test(it)&&!et.someProp("handleTextInput",st=>st(et,nt.$from.pos,nt.$to.pos,it))&&et.dispatch(et.state.tr.insertText(it).scrollIntoView()),rt.preventDefault()}};function eventCoords(et){return{left:et.clientX,top:et.clientY}}function isNear(et,_e){let rt=_e.x-et.clientX,nt=_e.y-et.clientY;return rt*rt+nt*nt<100}function runHandlerOnContext(et,_e,rt,nt,it){if(nt==-1)return!1;let st=et.state.doc.resolve(nt);for(let ot=st.depth+1;ot>0;ot--)if(et.someProp(_e,at=>ot>st.depth?at(et,rt,st.nodeAfter,st.before(ot),it,!0):at(et,rt,st.node(ot),st.before(ot),it,!1)))return!0;return!1}function updateSelection(et,_e,rt){et.focused||et.focus();let nt=et.state.tr.setSelection(_e);rt=="pointer"&&nt.setMeta("pointer",!0),et.dispatch(nt)}function selectClickedLeaf(et,_e){if(_e==-1)return!1;let rt=et.state.doc.resolve(_e),nt=rt.nodeAfter;return nt&&nt.isAtom&&NodeSelection.isSelectable(nt)?(updateSelection(et,new NodeSelection(rt),"pointer"),!0):!1}function selectClickedNode(et,_e){if(_e==-1)return!1;let rt=et.state.selection,nt,it;rt instanceof NodeSelection&&(nt=rt.node);let st=et.state.doc.resolve(_e);for(let ot=st.depth+1;ot>0;ot--){let at=ot>st.depth?st.nodeAfter:st.node(ot);if(NodeSelection.isSelectable(at)){nt&&rt.$from.depth>0&&ot>=rt.$from.depth&&st.before(rt.$from.depth+1)==rt.$from.pos?it=st.before(rt.$from.depth):it=st.before(ot);break}}return it!=null?(updateSelection(et,NodeSelection.create(et.state.doc,it),"pointer"),!0):!1}function handleSingleClick(et,_e,rt,nt,it){return runHandlerOnContext(et,"handleClickOn",_e,rt,nt)||et.someProp("handleClick",st=>st(et,_e,nt))||(it?selectClickedNode(et,rt):selectClickedLeaf(et,rt))}function handleDoubleClick(et,_e,rt,nt){return runHandlerOnContext(et,"handleDoubleClickOn",_e,rt,nt)||et.someProp("handleDoubleClick",it=>it(et,_e,nt))}function handleTripleClick(et,_e,rt,nt){return runHandlerOnContext(et,"handleTripleClickOn",_e,rt,nt)||et.someProp("handleTripleClick",it=>it(et,_e,nt))||defaultTripleClick(et,rt,nt)}function defaultTripleClick(et,_e,rt){if(rt.button!=0)return!1;let nt=et.state.doc;if(_e==-1)return nt.inlineContent?(updateSelection(et,TextSelection.create(nt,0,nt.content.size),"pointer"),!0):!1;let it=nt.resolve(_e);for(let st=it.depth+1;st>0;st--){let ot=st>it.depth?it.nodeAfter:it.node(st),at=it.before(st);if(ot.inlineContent)updateSelection(et,TextSelection.create(nt,at+1,at+1+ot.content.size),"pointer");else if(NodeSelection.isSelectable(ot))updateSelection(et,NodeSelection.create(nt,at),"pointer");else continue;return!0}}function forceDOMFlush(et){return endComposition(et)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(et,_e)=>{let rt=_e;et.input.shiftKey=rt.shiftKey;let nt=forceDOMFlush(et),it=Date.now(),st="singleClick";it-et.input.lastClick.time<500&&isNear(rt,et.input.lastClick)&&!rt[selectNodeModifier]&&(et.input.lastClick.type=="singleClick"?st="doubleClick":et.input.lastClick.type=="doubleClick"&&(st="tripleClick")),et.input.lastClick={time:it,x:rt.clientX,y:rt.clientY,type:st};let ot=et.posAtCoords(eventCoords(rt));ot&&(st=="singleClick"?(et.input.mouseDown&&et.input.mouseDown.done(),et.input.mouseDown=new MouseDown(et,ot,rt,!!nt)):(st=="doubleClick"?handleDoubleClick:handleTripleClick)(et,ot.pos,ot.inside,rt)?rt.preventDefault():setSelectionOrigin(et,"pointer"))};class MouseDown{constructor(_e,rt,nt,it){this.view=_e,this.pos=rt,this.event=nt,this.flushed=it,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=_e.state.doc,this.selectNode=!!nt[selectNodeModifier],this.allowDefault=nt.shiftKey;let st,ot;if(rt.inside>-1)st=_e.state.doc.nodeAt(rt.inside),ot=rt.inside;else{let ct=_e.state.doc.resolve(rt.pos);st=ct.parent,ot=ct.depth?ct.before():0}const at=it?null:nt.target,lt=at?_e.docView.nearestDesc(at,!0):null;this.target=lt?lt.dom:null;let{selection:ut}=_e.state;(nt.button==0&&st.type.spec.draggable&&st.type.spec.selectable!==!1||ut instanceof NodeSelection&&ut.from<=ot&&ut.to>ot)&&(this.mightDrag={node:st,pos:ot,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),_e.root.addEventListener("mouseup",this.up=this.up.bind(this)),_e.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(_e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(_e){if(this.done(),!this.view.dom.contains(_e.target))return;let rt=this.pos;this.view.state.doc!=this.startDoc&&(rt=this.view.posAtCoords(eventCoords(_e))),this.updateAllowDefault(_e),this.allowDefault||!rt?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,rt.pos,rt.inside,_e,this.selectNode)?_e.preventDefault():_e.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome$1&&!this.view.state.selection.visible&&Math.min(Math.abs(rt.pos-this.view.state.selection.from),Math.abs(rt.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(rt.pos)),"pointer"),_e.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(_e){this.updateAllowDefault(_e),setSelectionOrigin(this.view,"pointer"),_e.buttons==0&&this.done()}updateAllowDefault(_e){!this.allowDefault&&(Math.abs(this.event.x-_e.clientX)>4||Math.abs(this.event.y-_e.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=et=>{et.input.lastTouch=Date.now(),forceDOMFlush(et),setSelectionOrigin(et,"pointer")};handlers.touchmove=et=>{et.input.lastTouch=Date.now(),setSelectionOrigin(et,"pointer")};handlers.contextmenu=et=>forceDOMFlush(et);function inOrNearComposition(et,_e){return et.composing?!0:safari&&Math.abs(_e.timeStamp-et.input.compositionEndedAt)<500?(et.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=et=>{if(!et.composing){et.domObserver.flush();let{state:_e}=et,rt=_e.selection.$from;if(_e.selection.empty&&(_e.storedMarks||!rt.textOffset&&rt.parentOffset&&rt.nodeBefore.marks.some(nt=>nt.type.spec.inclusive===!1)))et.markCursor=et.state.storedMarks||rt.marks(),endComposition(et,!0),et.markCursor=null;else if(endComposition(et),gecko&&_e.selection.empty&&rt.parentOffset&&!rt.textOffset&&rt.nodeBefore.marks.length){let nt=et.domSelectionRange();for(let it=nt.focusNode,st=nt.focusOffset;it&&it.nodeType==1&&st!=0;){let ot=st<0?it.lastChild:it.childNodes[st-1];if(!ot)break;if(ot.nodeType==3){et.domSelection().collapse(ot,ot.nodeValue.length);break}else it=ot,st=-1}}et.input.composing=!0}scheduleComposeEnd(et,timeoutComposition)};editHandlers.compositionend=(et,_e)=>{et.composing&&(et.input.composing=!1,et.input.compositionEndedAt=_e.timeStamp,et.input.compositionID++,scheduleComposeEnd(et,20))};function scheduleComposeEnd(et,_e){clearTimeout(et.input.composingTimeout),_e>-1&&(et.input.composingTimeout=setTimeout(()=>endComposition(et),_e))}function clearComposition(et){for(et.composing&&(et.input.composing=!1,et.input.compositionEndedAt=timestampFromCustomEvent());et.input.compositionNodes.length>0;)et.input.compositionNodes.pop().markParentsDirty()}function timestampFromCustomEvent(){let et=document.createEvent("Event");return et.initEvent("event",!0,!0),et.timeStamp}function endComposition(et,_e=!1){if(!(android&&et.domObserver.flushingSoon>=0)){if(et.domObserver.forceFlush(),clearComposition(et),_e||et.docView&&et.docView.dirty){let rt=selectionFromDOM(et);return rt&&!rt.eq(et.state.selection)?et.dispatch(et.state.tr.setSelection(rt)):et.updateState(et.state),!0}return!1}}function captureCopy(et,_e){if(!et.dom.parentNode)return;let rt=et.dom.parentNode.appendChild(document.createElement("div"));rt.appendChild(_e),rt.style.cssText="position: fixed; left: -10000px; top: 10px";let nt=getSelection(),it=document.createRange();it.selectNodeContents(_e),et.dom.blur(),nt.removeAllRanges(),nt.addRange(it),setTimeout(()=>{rt.parentNode&&rt.parentNode.removeChild(rt),et.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(et,_e)=>{let rt=_e,nt=et.state.selection,it=rt.type=="cut";if(nt.empty)return;let st=brokenClipboardAPI?null:rt.clipboardData,ot=nt.content(),{dom:at,text:lt}=serializeForClipboard(et,ot);st?(rt.preventDefault(),st.clearData(),st.setData("text/html",at.innerHTML),st.setData("text/plain",lt)):captureCopy(et,at),it&&et.dispatch(et.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(et){return et.openStart==0&&et.openEnd==0&&et.content.childCount==1?et.content.firstChild:null}function capturePaste(et,_e){if(!et.dom.parentNode)return;let rt=et.input.shiftKey||et.state.selection.$from.parent.type.spec.code,nt=et.dom.parentNode.appendChild(document.createElement(rt?"textarea":"div"));rt||(nt.contentEditable="true"),nt.style.cssText="position: fixed; left: -10000px; top: 10px",nt.focus(),setTimeout(()=>{et.focus(),nt.parentNode&&nt.parentNode.removeChild(nt),rt?doPaste(et,nt.value,null,et.input.shiftKey,_e):doPaste(et,nt.textContent,nt.innerHTML,et.input.shiftKey,_e)},50)}function doPaste(et,_e,rt,nt,it){let st=parseFromClipboard(et,_e,rt,nt,et.state.selection.$from);if(et.someProp("handlePaste",lt=>lt(et,it,st||Slice.empty)))return!0;if(!st)return!1;let ot=sliceSingleNode(st),at=ot?et.state.tr.replaceSelectionWith(ot,et.input.shiftKey):et.state.tr.replaceSelection(st);return et.dispatch(at.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}editHandlers.paste=(et,_e)=>{let rt=_e;if(et.composing&&!android)return;let nt=brokenClipboardAPI?null:rt.clipboardData;nt&&doPaste(et,nt.getData("text/plain"),nt.getData("text/html"),et.input.shiftKey,rt)?rt.preventDefault():capturePaste(et,rt)};class Dragging{constructor(_e,rt){this.slice=_e,this.move=rt}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";handlers.dragstart=(et,_e)=>{let rt=_e,nt=et.input.mouseDown;if(nt&&nt.done(),!rt.dataTransfer)return;let it=et.state.selection,st=it.empty?null:et.posAtCoords(eventCoords(rt));if(!(st&&st.pos>=it.from&&st.pos<=(it instanceof NodeSelection?it.to-1:it.to))){if(nt&&nt.mightDrag)et.dispatch(et.state.tr.setSelection(NodeSelection.create(et.state.doc,nt.mightDrag.pos)));else if(rt.target&&rt.target.nodeType==1){let ut=et.docView.nearestDesc(rt.target,!0);ut&&ut.node.type.spec.draggable&&ut!=et.docView&&et.dispatch(et.state.tr.setSelection(NodeSelection.create(et.state.doc,ut.posBefore)))}}let ot=et.state.selection.content(),{dom:at,text:lt}=serializeForClipboard(et,ot);rt.dataTransfer.clearData(),rt.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",at.innerHTML),rt.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||rt.dataTransfer.setData("text/plain",lt),et.dragging=new Dragging(ot,!rt[dragCopyModifier])};handlers.dragend=et=>{let _e=et.dragging;window.setTimeout(()=>{et.dragging==_e&&(et.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(et,_e)=>_e.preventDefault();editHandlers.drop=(et,_e)=>{let rt=_e,nt=et.dragging;if(et.dragging=null,!rt.dataTransfer)return;let it=et.posAtCoords(eventCoords(rt));if(!it)return;let st=et.state.doc.resolve(it.pos),ot=nt&&nt.slice;ot?et.someProp("transformPasted",ht=>{ot=ht(ot,et)}):ot=parseFromClipboard(et,rt.dataTransfer.getData(brokenClipboardAPI?"Text":"text/plain"),brokenClipboardAPI?null:rt.dataTransfer.getData("text/html"),!1,st);let at=!!(nt&&!rt[dragCopyModifier]);if(et.someProp("handleDrop",ht=>ht(et,rt,ot||Slice.empty,at))){rt.preventDefault();return}if(!ot)return;rt.preventDefault();let lt=ot?dropPoint(et.state.doc,st.pos,ot):st.pos;lt==null&&(lt=st.pos);let ut=et.state.tr;at&&ut.deleteSelection();let ct=ut.mapping.map(lt),dt=ot.openStart==0&&ot.openEnd==0&&ot.content.childCount==1,ft=ut.doc;if(dt?ut.replaceRangeWith(ct,ct,ot.content.firstChild):ut.replaceRange(ct,ct,ot),ut.doc.eq(ft))return;let pt=ut.doc.resolve(ct);if(dt&&NodeSelection.isSelectable(ot.content.firstChild)&&pt.nodeAfter&&pt.nodeAfter.sameMarkup(ot.content.firstChild))ut.setSelection(new NodeSelection(pt));else{let ht=ut.mapping.map(lt);ut.mapping.maps[ut.mapping.maps.length-1].forEach((mt,bt,gt,xt)=>ht=xt),ut.setSelection(selectionBetween(et,pt,ut.doc.resolve(ht)))}et.focus(),et.dispatch(ut.setMeta("uiEvent","drop"))};handlers.focus=et=>{et.input.lastFocus=Date.now(),et.focused||(et.domObserver.stop(),et.dom.classList.add("ProseMirror-focused"),et.domObserver.start(),et.focused=!0,setTimeout(()=>{et.docView&&et.hasFocus()&&!et.domObserver.currentSelection.eq(et.domSelectionRange())&&selectionToDOM(et)},20))};handlers.blur=(et,_e)=>{let rt=_e;et.focused&&(et.domObserver.stop(),et.dom.classList.remove("ProseMirror-focused"),et.domObserver.start(),rt.relatedTarget&&et.dom.contains(rt.relatedTarget)&&et.domObserver.currentSelection.clear(),et.focused=!1)};handlers.beforeinput=(et,_e)=>{if(chrome$1&&android&&_e.inputType=="deleteContentBackward"){et.domObserver.flushSoon();let{domChangeCount:nt}=et.input;setTimeout(()=>{if(et.input.domChangeCount!=nt||(et.dom.blur(),et.focus(),et.someProp("handleKeyDown",st=>st(et,keyEvent(8,"Backspace")))))return;let{$cursor:it}=et.state.selection;it&&it.pos>0&&et.dispatch(et.state.tr.delete(it.pos-1,it.pos).scrollIntoView())},50)}};for(let et in editHandlers)handlers[et]=editHandlers[et];function compareObjs(et,_e){if(et==_e)return!0;for(let rt in et)if(et[rt]!==_e[rt])return!1;for(let rt in _e)if(!(rt in et))return!1;return!0}class WidgetType{constructor(_e,rt){this.toDOM=_e,this.spec=rt||noSpec,this.side=this.spec.side||0}map(_e,rt,nt,it){let{pos:st,deleted:ot}=_e.mapResult(rt.from+it,this.side<0?-1:1);return ot?null:new Decoration(st-nt,st-nt,this)}valid(){return!0}eq(_e){return this==_e||_e instanceof WidgetType&&(this.spec.key&&this.spec.key==_e.spec.key||this.toDOM==_e.toDOM&&compareObjs(this.spec,_e.spec))}destroy(_e){this.spec.destroy&&this.spec.destroy(_e)}}class InlineType{constructor(_e,rt){this.attrs=_e,this.spec=rt||noSpec}map(_e,rt,nt,it){let st=_e.map(rt.from+it,this.spec.inclusiveStart?-1:1)-nt,ot=_e.map(rt.to+it,this.spec.inclusiveEnd?1:-1)-nt;return st>=ot?null:new Decoration(st,ot,this)}valid(_e,rt){return rt.from<rt.to}eq(_e){return this==_e||_e instanceof InlineType&&compareObjs(this.attrs,_e.attrs)&&compareObjs(this.spec,_e.spec)}static is(_e){return _e.type instanceof InlineType}destroy(){}}class NodeType{constructor(_e,rt){this.attrs=_e,this.spec=rt||noSpec}map(_e,rt,nt,it){let st=_e.mapResult(rt.from+it,1);if(st.deleted)return null;let ot=_e.mapResult(rt.to+it,-1);return ot.deleted||ot.pos<=st.pos?null:new Decoration(st.pos-nt,ot.pos-nt,this)}valid(_e,rt){let{index:nt,offset:it}=_e.content.findIndex(rt.from),st;return it==rt.from&&!(st=_e.child(nt)).isText&&it+st.nodeSize==rt.to}eq(_e){return this==_e||_e instanceof NodeType&&compareObjs(this.attrs,_e.attrs)&&compareObjs(this.spec,_e.spec)}destroy(){}}class Decoration{constructor(_e,rt,nt){this.from=_e,this.to=rt,this.type=nt}copy(_e,rt){return new Decoration(_e,rt,this.type)}eq(_e,rt=0){return this.type.eq(_e.type)&&this.from+rt==_e.from&&this.to+rt==_e.to}map(_e,rt,nt){return this.type.map(_e,this,rt,nt)}static widget(_e,rt,nt){return new Decoration(_e,_e,new WidgetType(rt,nt))}static inline(_e,rt,nt,it){return new Decoration(_e,rt,new InlineType(nt,it))}static node(_e,rt,nt,it){return new Decoration(_e,rt,new NodeType(nt,it))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}}const none=[],noSpec={};class DecorationSet{constructor(_e,rt){this.local=_e.length?_e:none,this.children=rt.length?rt:none}static create(_e,rt){return rt.length?buildTree(rt,_e,0,noSpec):empty}find(_e,rt,nt){let it=[];return this.findInner(_e??0,rt??1e9,it,0,nt),it}findInner(_e,rt,nt,it,st){for(let ot=0;ot<this.local.length;ot++){let at=this.local[ot];at.from<=rt&&at.to>=_e&&(!st||st(at.spec))&&nt.push(at.copy(at.from+it,at.to+it))}for(let ot=0;ot<this.children.length;ot+=3)if(this.children[ot]<rt&&this.children[ot+1]>_e){let at=this.children[ot]+1;this.children[ot+2].findInner(_e-at,rt-at,nt,it+at,st)}}map(_e,rt,nt){return this==empty||_e.maps.length==0?this:this.mapInner(_e,rt,0,0,nt||noSpec)}mapInner(_e,rt,nt,it,st){let ot;for(let at=0;at<this.local.length;at++){let lt=this.local[at].map(_e,nt,it);lt&&lt.type.valid(rt,lt)?(ot||(ot=[])).push(lt):st.onRemove&&st.onRemove(this.local[at].spec)}return this.children.length?mapChildren(this.children,ot||[],_e,rt,nt,it,st):ot?new DecorationSet(ot.sort(byPos),none):empty}add(_e,rt){return rt.length?this==empty?DecorationSet.create(_e,rt):this.addInner(_e,rt,0):this}addInner(_e,rt,nt){let it,st=0;_e.forEach((at,lt)=>{let ut=lt+nt,ct;if(ct=takeSpansForNode(rt,at,ut)){for(it||(it=this.children.slice());st<it.length&&it[st]<lt;)st+=3;it[st]==lt?it[st+2]=it[st+2].addInner(at,ct,ut+1):it.splice(st,0,lt,lt+at.nodeSize,buildTree(ct,at,ut+1,noSpec)),st+=3}});let ot=moveSpans(st?withoutNulls(rt):rt,-nt);for(let at=0;at<ot.length;at++)ot[at].type.valid(_e,ot[at])||ot.splice(at--,1);return new DecorationSet(ot.length?this.local.concat(ot).sort(byPos):this.local,it||this.children)}remove(_e){return _e.length==0||this==empty?this:this.removeInner(_e,0)}removeInner(_e,rt){let nt=this.children,it=this.local;for(let st=0;st<nt.length;st+=3){let ot,at=nt[st]+rt,lt=nt[st+1]+rt;for(let ct=0,dt;ct<_e.length;ct++)(dt=_e[ct])&&dt.from>at&&dt.to<lt&&(_e[ct]=null,(ot||(ot=[])).push(dt));if(!ot)continue;nt==this.children&&(nt=this.children.slice());let ut=nt[st+2].removeInner(ot,at+1);ut!=empty?nt[st+2]=ut:(nt.splice(st,3),st-=3)}if(it.length){for(let st=0,ot;st<_e.length;st++)if(ot=_e[st])for(let at=0;at<it.length;at++)it[at].eq(ot,rt)&&(it==this.local&&(it=this.local.slice()),it.splice(at--,1))}return nt==this.children&&it==this.local?this:it.length||nt.length?new DecorationSet(it,nt):empty}forChild(_e,rt){if(this==empty)return this;if(rt.isLeaf)return DecorationSet.empty;let nt,it;for(let at=0;at<this.children.length;at+=3)if(this.children[at]>=_e){this.children[at]==_e&&(nt=this.children[at+2]);break}let st=_e+1,ot=st+rt.content.size;for(let at=0;at<this.local.length;at++){let lt=this.local[at];if(lt.from<ot&&lt.to>st&&lt.type instanceof InlineType){let ut=Math.max(st,lt.from)-st,ct=Math.min(ot,lt.to)-st;ut<ct&&(it||(it=[])).push(lt.copy(ut,ct))}}if(it){let at=new DecorationSet(it.sort(byPos),none);return nt?new DecorationGroup([at,nt]):at}return nt||empty}eq(_e){if(this==_e)return!0;if(!(_e instanceof DecorationSet)||this.local.length!=_e.local.length||this.children.length!=_e.children.length)return!1;for(let rt=0;rt<this.local.length;rt++)if(!this.local[rt].eq(_e.local[rt]))return!1;for(let rt=0;rt<this.children.length;rt+=3)if(this.children[rt]!=_e.children[rt]||this.children[rt+1]!=_e.children[rt+1]||!this.children[rt+2].eq(_e.children[rt+2]))return!1;return!0}locals(_e){return removeOverlap(this.localsInner(_e))}localsInner(_e){if(this==empty)return none;if(_e.inlineContent||!this.local.some(InlineType.is))return this.local;let rt=[];for(let nt=0;nt<this.local.length;nt++)this.local[nt].type instanceof InlineType||rt.push(this.local[nt]);return rt}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(_e){this.members=_e}map(_e,rt){const nt=this.members.map(it=>it.map(_e,rt,noSpec));return DecorationGroup.from(nt)}forChild(_e,rt){if(rt.isLeaf)return DecorationSet.empty;let nt=[];for(let it=0;it<this.members.length;it++){let st=this.members[it].forChild(_e,rt);st!=empty&&(st instanceof DecorationGroup?nt=nt.concat(st.members):nt.push(st))}return DecorationGroup.from(nt)}eq(_e){if(!(_e instanceof DecorationGroup)||_e.members.length!=this.members.length)return!1;for(let rt=0;rt<this.members.length;rt++)if(!this.members[rt].eq(_e.members[rt]))return!1;return!0}locals(_e){let rt,nt=!0;for(let it=0;it<this.members.length;it++){let st=this.members[it].localsInner(_e);if(st.length)if(!rt)rt=st;else{nt&&(rt=rt.slice(),nt=!1);for(let ot=0;ot<st.length;ot++)rt.push(st[ot])}}return rt?removeOverlap(nt?rt:rt.sort(byPos)):none}static from(_e){switch(_e.length){case 0:return empty;case 1:return _e[0];default:return new DecorationGroup(_e.every(rt=>rt instanceof DecorationSet)?_e:_e.reduce((rt,nt)=>rt.concat(nt instanceof DecorationSet?nt:nt.members),[]))}}}function mapChildren(et,_e,rt,nt,it,st,ot){let at=et.slice();for(let ut=0,ct=st;ut<rt.maps.length;ut++){let dt=0;rt.maps[ut].forEach((ft,pt,ht,mt)=>{let bt=mt-ht-(pt-ft);for(let gt=0;gt<at.length;gt+=3){let xt=at[gt+1];if(xt<0||ft>xt+ct-dt)continue;let yt=at[gt]+ct-dt;pt>=yt?at[gt+1]=ft<=yt?-2:-1:ht>=it&&bt&&(at[gt]+=bt,at[gt+1]+=bt)}dt+=bt}),ct=rt.maps[ut].map(ct,-1)}let lt=!1;for(let ut=0;ut<at.length;ut+=3)if(at[ut+1]<0){if(at[ut+1]==-2){lt=!0,at[ut+1]=-1;continue}let ct=rt.map(et[ut]+st),dt=ct-it;if(dt<0||dt>=nt.content.size){lt=!0;continue}let ft=rt.map(et[ut+1]+st,-1),pt=ft-it,{index:ht,offset:mt}=nt.content.findIndex(dt),bt=nt.maybeChild(ht);if(bt&&mt==dt&&mt+bt.nodeSize==pt){let gt=at[ut+2].mapInner(rt,bt,ct+1,et[ut]+st+1,ot);gt!=empty?(at[ut]=dt,at[ut+1]=pt,at[ut+2]=gt):(at[ut+1]=-2,lt=!0)}else lt=!0}if(lt){let ut=mapAndGatherRemainingDecorations(at,et,_e,rt,it,st,ot),ct=buildTree(ut,nt,0,ot);_e=ct.local;for(let dt=0;dt<at.length;dt+=3)at[dt+1]<0&&(at.splice(dt,3),dt-=3);for(let dt=0,ft=0;dt<ct.children.length;dt+=3){let pt=ct.children[dt];for(;ft<at.length&&at[ft]<pt;)ft+=3;at.splice(ft,0,ct.children[dt],ct.children[dt+1],ct.children[dt+2])}}return new DecorationSet(_e.sort(byPos),at)}function moveSpans(et,_e){if(!_e||!et.length)return et;let rt=[];for(let nt=0;nt<et.length;nt++){let it=et[nt];rt.push(new Decoration(it.from+_e,it.to+_e,it.type))}return rt}function mapAndGatherRemainingDecorations(et,_e,rt,nt,it,st,ot){function at(lt,ut){for(let ct=0;ct<lt.local.length;ct++){let dt=lt.local[ct].map(nt,it,ut);dt?rt.push(dt):ot.onRemove&&ot.onRemove(lt.local[ct].spec)}for(let ct=0;ct<lt.children.length;ct+=3)at(lt.children[ct+2],lt.children[ct]+ut+1)}for(let lt=0;lt<et.length;lt+=3)et[lt+1]==-1&&at(et[lt+2],_e[lt]+st+1);return rt}function takeSpansForNode(et,_e,rt){if(_e.isLeaf)return null;let nt=rt+_e.nodeSize,it=null;for(let st=0,ot;st<et.length;st++)(ot=et[st])&&ot.from>rt&&ot.to<nt&&((it||(it=[])).push(ot),et[st]=null);return it}function withoutNulls(et){let _e=[];for(let rt=0;rt<et.length;rt++)et[rt]!=null&&_e.push(et[rt]);return _e}function buildTree(et,_e,rt,nt){let it=[],st=!1;_e.forEach((at,lt)=>{let ut=takeSpansForNode(et,at,lt+rt);if(ut){st=!0;let ct=buildTree(ut,at,rt+lt+1,nt);ct!=empty&&it.push(lt,lt+at.nodeSize,ct)}});let ot=moveSpans(st?withoutNulls(et):et,-rt).sort(byPos);for(let at=0;at<ot.length;at++)ot[at].type.valid(_e,ot[at])||(nt.onRemove&&nt.onRemove(ot[at].spec),ot.splice(at--,1));return ot.length||it.length?new DecorationSet(ot,it):empty}function byPos(et,_e){return et.from-_e.from||et.to-_e.to}function removeOverlap(et){let _e=et;for(let rt=0;rt<_e.length-1;rt++){let nt=_e[rt];if(nt.from!=nt.to)for(let it=rt+1;it<_e.length;it++){let st=_e[it];if(st.from==nt.from){st.to!=nt.to&&(_e==et&&(_e=et.slice()),_e[it]=st.copy(st.from,nt.to),insertAhead(_e,it+1,st.copy(nt.to,st.to)));continue}else{st.from<nt.to&&(_e==et&&(_e=et.slice()),_e[rt]=nt.copy(nt.from,st.from),insertAhead(_e,it,nt.copy(st.from,nt.to)));break}}}return _e}function insertAhead(et,_e,rt){for(;_e<et.length&&byPos(rt,et[_e])>0;)_e++;et.splice(_e,0,rt)}function viewDecorations(et){let _e=[];return et.someProp("decorations",rt=>{let nt=rt(et.state);nt&&nt!=empty&&_e.push(nt)}),et.cursorWrapper&&_e.push(DecorationSet.create(et.state.doc,[et.cursorWrapper.deco])),DecorationGroup.from(_e)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(_e){this.anchorNode=_e.anchorNode,this.anchorOffset=_e.anchorOffset,this.focusNode=_e.focusNode,this.focusOffset=_e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(_e){return _e.anchorNode==this.anchorNode&&_e.anchorOffset==this.anchorOffset&&_e.focusNode==this.focusNode&&_e.focusOffset==this.focusOffset}}class DOMObserver{constructor(_e,rt){this.view=_e,this.handleDOMChange=rt,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(nt=>{for(let it=0;it<nt.length;it++)this.queue.push(nt[it]);ie$1&&ie_version<=11&&nt.some(it=>it.type=="childList"&&it.removedNodes.length||it.type=="characterData"&&it.oldValue.length>it.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=nt=>{this.queue.push({target:nt.target,type:"characterData",oldValue:nt.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let _e=this.observer.takeRecords();if(_e.length){for(let rt=0;rt<_e.length;rt++)this.queue.push(_e[rt]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let _e=this.view.domSelectionRange();if(_e.focusNode&&isEquivalentPosition(_e.focusNode,_e.focusOffset,_e.anchorNode,_e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(_e){if(!_e.focusNode)return!0;let rt=new Set,nt;for(let st=_e.focusNode;st;st=parentNode(st))rt.add(st);for(let st=_e.anchorNode;st;st=parentNode(st))if(rt.has(st)){nt=st;break}let it=nt&&this.view.docView.nearestDesc(nt);if(it&&it.ignoreMutation({type:"selection",target:nt.nodeType==3?nt.parentNode:nt}))return this.setCurSelection(),!0}flush(){let{view:_e}=this;if(!_e.docView||this.flushingSoon>-1)return;let rt=this.observer?this.observer.takeRecords():[];this.queue.length&&(rt=this.queue.concat(rt),this.queue.length=0);let nt=_e.domSelectionRange(),it=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(nt)&&hasFocusAndSelection(_e)&&!this.ignoreSelectionChange(nt),st=-1,ot=-1,at=!1,lt=[];if(_e.editable)for(let ct=0;ct<rt.length;ct++){let dt=this.registerMutation(rt[ct],lt);dt&&(st=st<0?dt.from:Math.min(dt.from,st),ot=ot<0?dt.to:Math.max(dt.to,ot),dt.typeOver&&(at=!0))}if(gecko&&lt.length>1){let ct=lt.filter(dt=>dt.nodeName=="BR");if(ct.length==2){let dt=ct[0],ft=ct[1];dt.parentNode&&dt.parentNode.parentNode==ft.parentNode?ft.remove():dt.remove()}}let ut=null;st<0&&it&&_e.input.lastFocus>Date.now()-200&&Math.max(_e.input.lastTouch,_e.input.lastClick.time)<Date.now()-300&&selectionCollapsed(nt)&&(ut=selectionFromDOM(_e))&&ut.eq(Selection.near(_e.state.doc.resolve(0),1))?(_e.input.lastFocus=0,selectionToDOM(_e),this.currentSelection.set(nt),_e.scrollToSelection()):(st>-1||it)&&(st>-1&&(_e.docView.markDirty(st,ot),checkCSS(_e)),this.handleDOMChange(st,ot,at,lt),_e.docView&&_e.docView.dirty?_e.updateState(_e.state):this.currentSelection.eq(nt)||selectionToDOM(_e),this.currentSelection.set(nt))}registerMutation(_e,rt){if(rt.indexOf(_e.target)>-1)return null;let nt=this.view.docView.nearestDesc(_e.target);if(_e.type=="attributes"&&(nt==this.view.docView||_e.attributeName=="contenteditable"||_e.attributeName=="style"&&!_e.oldValue&&!_e.target.getAttribute("style"))||!nt||nt.ignoreMutation(_e))return null;if(_e.type=="childList"){for(let ct=0;ct<_e.addedNodes.length;ct++)rt.push(_e.addedNodes[ct]);if(nt.contentDOM&&nt.contentDOM!=nt.dom&&!nt.contentDOM.contains(_e.target))return{from:nt.posBefore,to:nt.posAfter};let it=_e.previousSibling,st=_e.nextSibling;if(ie$1&&ie_version<=11&&_e.addedNodes.length)for(let ct=0;ct<_e.addedNodes.length;ct++){let{previousSibling:dt,nextSibling:ft}=_e.addedNodes[ct];(!dt||Array.prototype.indexOf.call(_e.addedNodes,dt)<0)&&(it=dt),(!ft||Array.prototype.indexOf.call(_e.addedNodes,ft)<0)&&(st=ft)}let ot=it&&it.parentNode==_e.target?domIndex(it)+1:0,at=nt.localPosFromDOM(_e.target,ot,-1),lt=st&&st.parentNode==_e.target?domIndex(st):_e.target.childNodes.length,ut=nt.localPosFromDOM(_e.target,lt,1);return{from:at,to:ut}}else return _e.type=="attributes"?{from:nt.posAtStart-nt.border,to:nt.posAtEnd+nt.border}:{from:nt.posAtStart,to:nt.posAtEnd,typeOver:_e.target.nodeValue==_e.oldValue}}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(et){if(!cssChecked.has(et)&&(cssChecked.set(et,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(et.dom).whiteSpace)!==-1)){if(et.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function safariShadowSelectionRange(et){let _e;function rt(lt){lt.preventDefault(),lt.stopImmediatePropagation(),_e=lt.getTargetRanges()[0]}et.dom.addEventListener("beforeinput",rt,!0),document.execCommand("indent"),et.dom.removeEventListener("beforeinput",rt,!0);let nt=_e.startContainer,it=_e.startOffset,st=_e.endContainer,ot=_e.endOffset,at=et.domAtPos(et.state.selection.anchor);return isEquivalentPosition(at.node,at.offset,st,ot)&&([nt,it,st,ot]=[st,ot,nt,it]),{anchorNode:nt,anchorOffset:it,focusNode:st,focusOffset:ot}}function parseBetween(et,_e,rt){let{node:nt,fromOffset:it,toOffset:st,from:ot,to:at}=et.docView.parseRange(_e,rt),lt=et.domSelectionRange(),ut,ct=lt.anchorNode;if(ct&&et.dom.contains(ct.nodeType==1?ct:ct.parentNode)&&(ut=[{node:ct,offset:lt.anchorOffset}],selectionCollapsed(lt)||ut.push({node:lt.focusNode,offset:lt.focusOffset})),chrome$1&&et.input.lastKeyCode===8)for(let bt=st;bt>it;bt--){let gt=nt.childNodes[bt-1],xt=gt.pmViewDesc;if(gt.nodeName=="BR"&&!xt){st=bt;break}if(!xt||xt.size)break}let dt=et.state.doc,ft=et.someProp("domParser")||DOMParser.fromSchema(et.state.schema),pt=dt.resolve(ot),ht=null,mt=ft.parse(nt,{topNode:pt.parent,topMatch:pt.parent.contentMatchAt(pt.index()),topOpen:!0,from:it,to:st,preserveWhitespace:pt.parent.type.whitespace=="pre"?"full":!0,findPositions:ut,ruleFromNode,context:pt});if(ut&&ut[0].pos!=null){let bt=ut[0].pos,gt=ut[1]&&ut[1].pos;gt==null&&(gt=bt),ht={anchor:bt+ot,head:gt+ot}}return{doc:mt,sel:ht,from:ot,to:at}}function ruleFromNode(et){let _e=et.pmViewDesc;if(_e)return _e.parseRule();if(et.nodeName=="BR"&&et.parentNode){if(safari&&/^(ul|ol)$/i.test(et.parentNode.nodeName)){let rt=document.createElement("div");return rt.appendChild(document.createElement("li")),{skip:rt}}else if(et.parentNode.lastChild==et||safari&&/^(tr|table)$/i.test(et.parentNode.nodeName))return{ignore:!0}}else if(et.nodeName=="IMG"&&et.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(et,_e,rt,nt,it){if(_e<0){let Et=et.input.lastSelectionTime>Date.now()-50?et.input.lastSelectionOrigin:null,Lt=selectionFromDOM(et,Et);if(Lt&&!et.state.selection.eq(Lt)){if(chrome$1&&android&&et.input.lastKeyCode===13&&Date.now()-100<et.input.lastKeyCodeTime&&et.someProp("handleKeyDown",$t=>$t(et,keyEvent(13,"Enter"))))return;let Nt=et.state.tr.setSelection(Lt);Et=="pointer"?Nt.setMeta("pointer",!0):Et=="key"&&Nt.scrollIntoView(),et.composing&&Nt.setMeta("composition",et.input.compositionID),et.dispatch(Nt)}return}let st=et.state.doc.resolve(_e),ot=st.sharedDepth(rt);_e=st.before(ot+1),rt=et.state.doc.resolve(rt).after(ot+1);let at=et.state.selection,lt=parseBetween(et,_e,rt),ut=et.state.doc,ct=ut.slice(lt.from,lt.to),dt,ft;et.input.lastKeyCode===8&&Date.now()-100<et.input.lastKeyCodeTime?(dt=et.state.selection.to,ft="end"):(dt=et.state.selection.from,ft="start"),et.input.lastKeyCode=null;let pt=findDiff(ct.content,lt.doc.content,lt.from,dt,ft);if((ios&&et.input.lastIOSEnter>Date.now()-225||android)&&it.some(Et=>Et.nodeType==1&&!isInline.test(Et.nodeName))&&(!pt||pt.endA>=pt.endB)&&et.someProp("handleKeyDown",Et=>Et(et,keyEvent(13,"Enter")))){et.input.lastIOSEnter=0;return}if(!pt)if(nt&&at instanceof TextSelection&&!at.empty&&at.$head.sameParent(at.$anchor)&&!et.composing&&!(lt.sel&&lt.sel.anchor!=lt.sel.head))pt={start:at.from,endA:at.to,endB:at.to};else{if(lt.sel){let Et=resolveSelection(et,et.state.doc,lt.sel);if(Et&&!Et.eq(et.state.selection)){let Lt=et.state.tr.setSelection(Et);et.composing&&Lt.setMeta("composition",et.input.compositionID),et.dispatch(Lt)}}return}if(chrome$1&&et.cursorWrapper&&lt.sel&&lt.sel.anchor==et.cursorWrapper.deco.from&&lt.sel.head==lt.sel.anchor){let Et=pt.endB-pt.start;lt.sel={anchor:lt.sel.anchor+Et,head:lt.sel.anchor+Et}}et.input.domChangeCount++,et.state.selection.from<et.state.selection.to&&pt.start==pt.endB&&et.state.selection instanceof TextSelection&&(pt.start>et.state.selection.from&&pt.start<=et.state.selection.from+2&&et.state.selection.from>=lt.from?pt.start=et.state.selection.from:pt.endA<et.state.selection.to&&pt.endA>=et.state.selection.to-2&&et.state.selection.to<=lt.to&&(pt.endB+=et.state.selection.to-pt.endA,pt.endA=et.state.selection.to)),ie$1&&ie_version<=11&&pt.endB==pt.start+1&&pt.endA==pt.start&&pt.start>lt.from&&lt.doc.textBetween(pt.start-lt.from-1,pt.start-lt.from+1)=="  "&&(pt.start--,pt.endA--,pt.endB--);let ht=lt.doc.resolveNoCache(pt.start-lt.from),mt=lt.doc.resolveNoCache(pt.endB-lt.from),bt=ut.resolve(pt.start),gt=ht.sameParent(mt)&&ht.parent.inlineContent&&bt.end()>=pt.endA,xt;if((ios&&et.input.lastIOSEnter>Date.now()-225&&(!gt||it.some(Et=>Et.nodeName=="DIV"||Et.nodeName=="P"))||!gt&&ht.pos<lt.doc.content.size&&(xt=Selection.findFrom(lt.doc.resolve(ht.pos+1),1,!0))&&xt.head==mt.pos)&&et.someProp("handleKeyDown",Et=>Et(et,keyEvent(13,"Enter")))){et.input.lastIOSEnter=0;return}if(et.state.selection.anchor>pt.start&&looksLikeJoin(ut,pt.start,pt.endA,ht,mt)&&et.someProp("handleKeyDown",Et=>Et(et,keyEvent(8,"Backspace")))){android&&chrome$1&&et.domObserver.suppressSelectionUpdates();return}chrome$1&&android&&pt.endB==pt.start&&(et.input.lastAndroidDelete=Date.now()),android&&!gt&&ht.start()!=mt.start()&&mt.parentOffset==0&&ht.depth==mt.depth&&lt.sel&&lt.sel.anchor==lt.sel.head&&lt.sel.head==pt.endA&&(pt.endB-=2,mt=lt.doc.resolveNoCache(pt.endB-lt.from),setTimeout(()=>{et.someProp("handleKeyDown",function(Et){return Et(et,keyEvent(13,"Enter"))})},20));let yt=pt.start,vt=pt.endA,Pt,St,Ot;if(gt){if(ht.pos==mt.pos)ie$1&&ie_version<=11&&ht.parentOffset==0&&(et.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(et),20)),Pt=et.state.tr.delete(yt,vt),St=ut.resolve(pt.start).marksAcross(ut.resolve(pt.endA));else if(pt.endA==pt.endB&&(Ot=isMarkChange(ht.parent.content.cut(ht.parentOffset,mt.parentOffset),bt.parent.content.cut(bt.parentOffset,pt.endA-bt.start()))))Pt=et.state.tr,Ot.type=="add"?Pt.addMark(yt,vt,Ot.mark):Pt.removeMark(yt,vt,Ot.mark);else if(ht.parent.child(ht.index()).isText&&ht.index()==mt.index()-(mt.textOffset?0:1)){let Et=ht.parent.textBetween(ht.parentOffset,mt.parentOffset);if(et.someProp("handleTextInput",Lt=>Lt(et,yt,vt,Et)))return;Pt=et.state.tr.insertText(Et,yt,vt)}}if(Pt||(Pt=et.state.tr.replace(yt,vt,lt.doc.slice(pt.start-lt.from,pt.endB-lt.from))),lt.sel){let Et=resolveSelection(et,Pt.doc,lt.sel);Et&&!(chrome$1&&android&&et.composing&&Et.empty&&(pt.start!=pt.endB||et.input.lastAndroidDelete<Date.now()-100)&&(Et.head==yt||Et.head==Pt.mapping.map(vt)-1)||ie$1&&Et.empty&&Et.head==yt)&&Pt.setSelection(Et)}St&&Pt.ensureMarks(St),et.composing&&Pt.setMeta("composition",et.input.compositionID),et.dispatch(Pt.scrollIntoView())}function resolveSelection(et,_e,rt){return Math.max(rt.anchor,rt.head)>_e.content.size?null:selectionBetween(et,_e.resolve(rt.anchor),_e.resolve(rt.head))}function isMarkChange(et,_e){let rt=et.firstChild.marks,nt=_e.firstChild.marks,it=rt,st=nt,ot,at,lt;for(let ct=0;ct<nt.length;ct++)it=nt[ct].removeFromSet(it);for(let ct=0;ct<rt.length;ct++)st=rt[ct].removeFromSet(st);if(it.length==1&&st.length==0)at=it[0],ot="add",lt=ct=>ct.mark(at.addToSet(ct.marks));else if(it.length==0&&st.length==1)at=st[0],ot="remove",lt=ct=>ct.mark(at.removeFromSet(ct.marks));else return null;let ut=[];for(let ct=0;ct<_e.childCount;ct++)ut.push(lt(_e.child(ct)));if(Fragment.from(ut).eq(et))return{mark:at,type:ot}}function looksLikeJoin(et,_e,rt,nt,it){if(!nt.parent.isTextblock||rt-_e<=it.pos-nt.pos||skipClosingAndOpening(nt,!0,!1)<it.pos)return!1;let st=et.resolve(_e);if(st.parentOffset<st.parent.content.size||!st.parent.isTextblock)return!1;let ot=et.resolve(skipClosingAndOpening(st,!0,!0));return!ot.parent.isTextblock||ot.pos>rt||skipClosingAndOpening(ot,!0,!1)<rt?!1:nt.parent.content.cut(nt.parentOffset).eq(ot.parent.content)}function skipClosingAndOpening(et,_e,rt){let nt=et.depth,it=_e?et.end():et.pos;for(;nt>0&&(_e||et.indexAfter(nt)==et.node(nt).childCount);)nt--,it++,_e=!1;if(rt){let st=et.node(nt).maybeChild(et.indexAfter(nt));for(;st&&!st.isLeaf;)st=st.firstChild,it++}return it}function findDiff(et,_e,rt,nt,it){let st=et.findDiffStart(_e,rt);if(st==null)return null;let{a:ot,b:at}=et.findDiffEnd(_e,rt+et.size,rt+_e.size);if(it=="end"){let lt=Math.max(0,st-Math.min(ot,at));nt-=ot+lt-st}if(ot<st&&et.size<_e.size){let lt=nt<=st&&nt>=ot?st-nt:0;st-=lt,at=st+(at-ot),ot=st}else if(at<st){let lt=nt<=st&&nt>=at?st-nt:0;st-=lt,ot=st+(ot-at),at=st}return{start:st,endA:ot,endB:at}}class EditorView{constructor(_e,rt){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=rt,this.state=rt.state,this.directPlugins=rt.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=_e&&_e.mount||document.createElement("div"),_e&&(_e.appendChild?_e.appendChild(this.dom):typeof _e=="function"?_e(this.dom):_e.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(nt,it,st,ot)=>readDOMChange(this,nt,it,st,ot)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let _e=this._props;this._props={};for(let rt in _e)this._props[rt]=_e[rt];this._props.state=this.state}return this._props}update(_e){_e.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let rt=this._props;this._props=_e,_e.plugins&&(_e.plugins.forEach(checkStateComponent),this.directPlugins=_e.plugins),this.updateStateInner(_e.state,rt)}setProps(_e){let rt={};for(let nt in this._props)rt[nt]=this._props[nt];rt.state=this.state;for(let nt in _e)rt[nt]=_e[nt];this.update(rt)}updateState(_e){this.updateStateInner(_e,this._props)}updateStateInner(_e,rt){let nt=this.state,it=!1,st=!1;_e.storedMarks&&this.composing&&(clearComposition(this),st=!0),this.state=_e;let ot=nt.plugins!=_e.plugins||this._props.plugins!=rt.plugins;if(ot||this._props.plugins!=rt.plugins||this._props.nodeViews!=rt.nodeViews){let ft=buildNodeViews(this);changedNodeViews(ft,this.nodeViews)&&(this.nodeViews=ft,it=!0)}(ot||rt.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let at=viewDecorations(this),lt=computeDocDeco(this),ut=nt.plugins!=_e.plugins&&!nt.doc.eq(_e.doc)?"reset":_e.scrollToSelection>nt.scrollToSelection?"to selection":"preserve",ct=it||!this.docView.matchesNode(_e.doc,lt,at);(ct||!_e.selection.eq(nt.selection))&&(st=!0);let dt=ut=="preserve"&&st&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(st){this.domObserver.stop();let ft=ct&&(ie$1||chrome$1)&&!this.composing&&!nt.selection.empty&&!_e.selection.empty&&selectionContextChanged(nt.selection,_e.selection);if(ct){let pt=chrome$1?this.trackWrites=this.domSelectionRange().focusNode:null;(it||!this.docView.update(_e.doc,lt,at,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=docViewDesc(_e.doc,lt,at,this.dom,this)),pt&&!this.trackWrites&&(ft=!0)}ft||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,ft):(syncNodeSelection(this,_e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(nt),ut=="reset"?this.dom.scrollTop=0:ut=="to selection"?this.scrollToSelection():dt&&resetScrollPos(dt)}scrollToSelection(){let _e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",rt=>rt(this)))if(this.state.selection instanceof NodeSelection){let rt=this.docView.domAfterPos(this.state.selection.from);rt.nodeType==1&&scrollRectIntoView(this,rt.getBoundingClientRect(),_e)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),_e)}destroyPluginViews(){let _e;for(;_e=this.pluginViews.pop();)_e.destroy&&_e.destroy()}updatePluginViews(_e){if(!_e||_e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let rt=0;rt<this.directPlugins.length;rt++){let nt=this.directPlugins[rt];nt.spec.view&&this.pluginViews.push(nt.spec.view(this))}for(let rt=0;rt<this.state.plugins.length;rt++){let nt=this.state.plugins[rt];nt.spec.view&&this.pluginViews.push(nt.spec.view(this))}}else for(let rt=0;rt<this.pluginViews.length;rt++){let nt=this.pluginViews[rt];nt.update&&nt.update(this,_e)}}someProp(_e,rt){let nt=this._props&&this._props[_e],it;if(nt!=null&&(it=rt?rt(nt):nt))return it;for(let ot=0;ot<this.directPlugins.length;ot++){let at=this.directPlugins[ot].props[_e];if(at!=null&&(it=rt?rt(at):at))return it}let st=this.state.plugins;if(st)for(let ot=0;ot<st.length;ot++){let at=st[ot].props[_e];if(at!=null&&(it=rt?rt(at):at))return it}}hasFocus(){if(ie$1){let _e=this.root.activeElement;if(_e==this.dom)return!0;if(!_e||!this.dom.contains(_e))return!1;for(;_e&&this.dom!=_e&&this.dom.contains(_e);){if(_e.contentEditable=="false")return!1;_e=_e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let _e=this._root;if(_e==null){for(let rt=this.dom.parentNode;rt;rt=rt.parentNode)if(rt.nodeType==9||rt.nodeType==11&&rt.host)return rt.getSelection||(Object.getPrototypeOf(rt).getSelection=()=>rt.ownerDocument.getSelection()),this._root=rt}return _e||document}posAtCoords(_e){return posAtCoords(this,_e)}coordsAtPos(_e,rt=1){return coordsAtPos(this,_e,rt)}domAtPos(_e,rt=0){return this.docView.domFromPos(_e,rt)}nodeDOM(_e){let rt=this.docView.descAt(_e);return rt?rt.nodeDOM:null}posAtDOM(_e,rt,nt=-1){let it=this.docView.posFromDOM(_e,rt,nt);if(it==null)throw new RangeError("DOM position not inside the editor");return it}endOfTextblock(_e,rt){return endOfTextblock(this,rt||this.state,_e)}pasteHTML(_e,rt){return doPaste(this,"",_e,!1,rt||new ClipboardEvent("paste"))}pasteText(_e,rt){return doPaste(this,_e,null,!0,rt||new ClipboardEvent("paste"))}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(_e){return dispatchEvent(this,_e)}dispatch(_e){let rt=this._props.dispatchTransaction;rt?rt.call(this,_e):this.updateState(this.state.apply(_e))}domSelectionRange(){return safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom?safariShadowSelectionRange(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function computeDocDeco(et){let _e=Object.create(null);return _e.class="ProseMirror",_e.contenteditable=String(et.editable),et.someProp("attributes",rt=>{if(typeof rt=="function"&&(rt=rt(et.state)),rt)for(let nt in rt)nt=="class"?_e.class+=" "+rt[nt]:nt=="style"?_e.style=(_e.style?_e.style+";":"")+rt[nt]:!_e[nt]&&nt!="contenteditable"&&nt!="nodeName"&&(_e[nt]=String(rt[nt]))}),_e.translate||(_e.translate="no"),[Decoration.node(0,et.state.doc.content.size,_e)]}function updateCursorWrapper(et){if(et.markCursor){let _e=document.createElement("img");_e.className="ProseMirror-separator",_e.setAttribute("mark-placeholder","true"),_e.setAttribute("alt",""),et.cursorWrapper={dom:_e,deco:Decoration.widget(et.state.selection.head,_e,{raw:!0,marks:et.markCursor})}}else et.cursorWrapper=null}function getEditable(et){return!et.someProp("editable",_e=>_e(et.state)===!1)}function selectionContextChanged(et,_e){let rt=Math.min(et.$anchor.sharedDepth(et.head),_e.$anchor.sharedDepth(_e.head));return et.$anchor.start(rt)!=_e.$anchor.start(rt)}function buildNodeViews(et){let _e=Object.create(null);function rt(nt){for(let it in nt)Object.prototype.hasOwnProperty.call(_e,it)||(_e[it]=nt[it])}return et.someProp("nodeViews",rt),et.someProp("markViews",rt),_e}function changedNodeViews(et,_e){let rt=0,nt=0;for(let it in et){if(et[it]!=_e[it])return!0;rt++}for(let it in _e)nt++;return rt!=nt}function checkStateComponent(et){if(et.spec.state||et.spec.filterTransaction||et.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base$1={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},chrome=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=mac$1||chrome&&+chrome[1]<57;for(var i=0;i<10;i++)base$1[48+i]=base$1[96+i]=String(i);for(var i=1;i<=24;i++)base$1[i+111]="F"+i;for(var i=65;i<=90;i++)base$1[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base$1)shift.hasOwnProperty(code)||(shift[code]=base$1[code]);function keyName(et){var _e=brokenModifierNames&&(et.ctrlKey||et.altKey||et.metaKey)||ie&&et.shiftKey&&et.key&&et.key.length==1||et.key=="Unidentified",rt=!_e&&et.key||(et.shiftKey?shift:base$1)[et.keyCode]||et.key||"Unidentified";return rt=="Esc"&&(rt="Escape"),rt=="Del"&&(rt="Delete"),rt=="Left"&&(rt="ArrowLeft"),rt=="Up"&&(rt="ArrowUp"),rt=="Right"&&(rt="ArrowRight"),rt=="Down"&&(rt="ArrowDown"),rt}const mac=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function normalizeKeyName$1(et){let _e=et.split(/-(?!$)/),rt=_e[_e.length-1];rt=="Space"&&(rt=" ");let nt,it,st,ot;for(let at=0;at<_e.length-1;at++){let lt=_e[at];if(/^(cmd|meta|m)$/i.test(lt))ot=!0;else if(/^a(lt)?$/i.test(lt))nt=!0;else if(/^(c|ctrl|control)$/i.test(lt))it=!0;else if(/^s(hift)?$/i.test(lt))st=!0;else if(/^mod$/i.test(lt))mac?ot=!0:it=!0;else throw new Error("Unrecognized modifier name: "+lt)}return nt&&(rt="Alt-"+rt),it&&(rt="Ctrl-"+rt),ot&&(rt="Meta-"+rt),st&&(rt="Shift-"+rt),rt}function normalize(et){let _e=Object.create(null);for(let rt in et)_e[normalizeKeyName$1(rt)]=et[rt];return _e}function modifiers(et,_e,rt=!0){return _e.altKey&&(et="Alt-"+et),_e.ctrlKey&&(et="Ctrl-"+et),_e.metaKey&&(et="Meta-"+et),rt&&_e.shiftKey&&(et="Shift-"+et),et}function keymap(et){return new Plugin({props:{handleKeyDown:keydownHandler(et)}})}function keydownHandler(et){let _e=normalize(et);return function(rt,nt){let it=keyName(nt),st,ot=_e[modifiers(it,nt)];if(ot&&ot(rt.state,rt.dispatch,rt))return!0;if(it.length==1&&it!=" "){if(nt.shiftKey){let at=_e[modifiers(it,nt,!1)];if(at&&at(rt.state,rt.dispatch,rt))return!0}if((nt.shiftKey||nt.altKey||nt.metaKey||it.charCodeAt(0)>127)&&(st=base$1[nt.keyCode])&&st!=it){let at=_e[modifiers(st,nt)];if(at&&at(rt.state,rt.dispatch,rt))return!0}}return!1}}const deleteSelection$1=(et,_e)=>et.selection.empty?!1:(_e&&_e(et.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(et,_e){let{$cursor:rt}=et.selection;return!rt||(_e?!_e.endOfTextblock("backward",et):rt.parentOffset>0)?null:rt}const joinBackward$1=(et,_e,rt)=>{let nt=atBlockStart(et,rt);if(!nt)return!1;let it=findCutBefore(nt);if(!it){let ot=nt.blockRange(),at=ot&&liftTarget(ot);return at==null?!1:(_e&&_e(et.tr.lift(ot,at).scrollIntoView()),!0)}let st=it.nodeBefore;if(!st.type.spec.isolating&&deleteBarrier(et,it,_e))return!0;if(nt.parent.content.size==0&&(textblockAt(st,"end")||NodeSelection.isSelectable(st))){let ot=replaceStep(et.doc,nt.before(),nt.after(),Slice.empty);if(ot&&ot.slice.size<ot.to-ot.from){if(_e){let at=et.tr.step(ot);at.setSelection(textblockAt(st,"end")?Selection.findFrom(at.doc.resolve(at.mapping.map(it.pos,-1)),-1):NodeSelection.create(at.doc,it.pos-st.nodeSize)),_e(at.scrollIntoView())}return!0}}return st.isAtom&&it.depth==nt.depth-1?(_e&&_e(et.tr.delete(it.pos-st.nodeSize,it.pos).scrollIntoView()),!0):!1};function textblockAt(et,_e,rt=!1){for(let nt=et;nt;nt=_e=="start"?nt.firstChild:nt.lastChild){if(nt.isTextblock)return!0;if(rt&&nt.childCount!=1)return!1}return!1}const selectNodeBackward$1=(et,_e,rt)=>{let{$head:nt,empty:it}=et.selection,st=nt;if(!it)return!1;if(nt.parent.isTextblock){if(rt?!rt.endOfTextblock("backward",et):nt.parentOffset>0)return!1;st=findCutBefore(nt)}let ot=st&&st.nodeBefore;return!ot||!NodeSelection.isSelectable(ot)?!1:(_e&&_e(et.tr.setSelection(NodeSelection.create(et.doc,st.pos-ot.nodeSize)).scrollIntoView()),!0)};function findCutBefore(et){if(!et.parent.type.spec.isolating)for(let _e=et.depth-1;_e>=0;_e--){if(et.index(_e)>0)return et.doc.resolve(et.before(_e+1));if(et.node(_e).type.spec.isolating)break}return null}function atBlockEnd(et,_e){let{$cursor:rt}=et.selection;return!rt||(_e?!_e.endOfTextblock("forward",et):rt.parentOffset<rt.parent.content.size)?null:rt}const joinForward$1=(et,_e,rt)=>{let nt=atBlockEnd(et,rt);if(!nt)return!1;let it=findCutAfter(nt);if(!it)return!1;let st=it.nodeAfter;if(deleteBarrier(et,it,_e))return!0;if(nt.parent.content.size==0&&(textblockAt(st,"start")||NodeSelection.isSelectable(st))){let ot=replaceStep(et.doc,nt.before(),nt.after(),Slice.empty);if(ot&&ot.slice.size<ot.to-ot.from){if(_e){let at=et.tr.step(ot);at.setSelection(textblockAt(st,"start")?Selection.findFrom(at.doc.resolve(at.mapping.map(it.pos)),1):NodeSelection.create(at.doc,at.mapping.map(it.pos))),_e(at.scrollIntoView())}return!0}}return st.isAtom&&it.depth==nt.depth-1?(_e&&_e(et.tr.delete(it.pos,it.pos+st.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(et,_e,rt)=>{let{$head:nt,empty:it}=et.selection,st=nt;if(!it)return!1;if(nt.parent.isTextblock){if(rt?!rt.endOfTextblock("forward",et):nt.parentOffset<nt.parent.content.size)return!1;st=findCutAfter(nt)}let ot=st&&st.nodeAfter;return!ot||!NodeSelection.isSelectable(ot)?!1:(_e&&_e(et.tr.setSelection(NodeSelection.create(et.doc,st.pos)).scrollIntoView()),!0)};function findCutAfter(et){if(!et.parent.type.spec.isolating)for(let _e=et.depth-1;_e>=0;_e--){let rt=et.node(_e);if(et.index(_e)+1<rt.childCount)return et.doc.resolve(et.after(_e+1));if(rt.type.spec.isolating)break}return null}const joinUp$1=(et,_e)=>{let rt=et.selection,nt=rt instanceof NodeSelection,it;if(nt){if(rt.node.isTextblock||!canJoin(et.doc,rt.from))return!1;it=rt.from}else if(it=joinPoint(et.doc,rt.from,-1),it==null)return!1;if(_e){let st=et.tr.join(it);nt&&st.setSelection(NodeSelection.create(st.doc,it-et.doc.resolve(it).nodeBefore.nodeSize)),_e(st.scrollIntoView())}return!0},joinDown$1=(et,_e)=>{let rt=et.selection,nt;if(rt instanceof NodeSelection){if(rt.node.isTextblock||!canJoin(et.doc,rt.to))return!1;nt=rt.to}else if(nt=joinPoint(et.doc,rt.to,1),nt==null)return!1;return _e&&_e(et.tr.join(nt).scrollIntoView()),!0},lift$1=(et,_e)=>{let{$from:rt,$to:nt}=et.selection,it=rt.blockRange(nt),st=it&&liftTarget(it);return st==null?!1:(_e&&_e(et.tr.lift(it,st).scrollIntoView()),!0)},newlineInCode$1=(et,_e)=>{let{$head:rt,$anchor:nt}=et.selection;return!rt.parent.type.spec.code||!rt.sameParent(nt)?!1:(_e&&_e(et.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(et){for(let _e=0;_e<et.edgeCount;_e++){let{type:rt}=et.edge(_e);if(rt.isTextblock&&!rt.hasRequiredAttrs())return rt}return null}const exitCode$1=(et,_e)=>{let{$head:rt,$anchor:nt}=et.selection;if(!rt.parent.type.spec.code||!rt.sameParent(nt))return!1;let it=rt.node(-1),st=rt.indexAfter(-1),ot=defaultBlockAt$1(it.contentMatchAt(st));if(!ot||!it.canReplaceWith(st,st,ot))return!1;if(_e){let at=rt.after(),lt=et.tr.replaceWith(at,at,ot.createAndFill());lt.setSelection(Selection.near(lt.doc.resolve(at),1)),_e(lt.scrollIntoView())}return!0},createParagraphNear$1=(et,_e)=>{let rt=et.selection,{$from:nt,$to:it}=rt;if(rt instanceof AllSelection||nt.parent.inlineContent||it.parent.inlineContent)return!1;let st=defaultBlockAt$1(it.parent.contentMatchAt(it.indexAfter()));if(!st||!st.isTextblock)return!1;if(_e){let ot=(!nt.parentOffset&&it.index()<it.parent.childCount?nt:it).pos,at=et.tr.insert(ot,st.createAndFill());at.setSelection(TextSelection.create(at.doc,ot+1)),_e(at.scrollIntoView())}return!0},liftEmptyBlock$1=(et,_e)=>{let{$cursor:rt}=et.selection;if(!rt||rt.parent.content.size)return!1;if(rt.depth>1&&rt.after()!=rt.end(-1)){let st=rt.before();if(canSplit(et.doc,st))return _e&&_e(et.tr.split(st).scrollIntoView()),!0}let nt=rt.blockRange(),it=nt&&liftTarget(nt);return it==null?!1:(_e&&_e(et.tr.lift(nt,it).scrollIntoView()),!0)},selectParentNode$1=(et,_e)=>{let{$from:rt,to:nt}=et.selection,it,st=rt.sharedDepth(nt);return st==0?!1:(it=rt.before(st),_e&&_e(et.tr.setSelection(NodeSelection.create(et.doc,it))),!0)};function joinMaybeClear(et,_e,rt){let nt=_e.nodeBefore,it=_e.nodeAfter,st=_e.index();return!nt||!it||!nt.type.compatibleContent(it.type)?!1:!nt.content.size&&_e.parent.canReplace(st-1,st)?(rt&&rt(et.tr.delete(_e.pos-nt.nodeSize,_e.pos).scrollIntoView()),!0):!_e.parent.canReplace(st,st+1)||!(it.isTextblock||canJoin(et.doc,_e.pos))?!1:(rt&&rt(et.tr.clearIncompatible(_e.pos,nt.type,nt.contentMatchAt(nt.childCount)).join(_e.pos).scrollIntoView()),!0)}function deleteBarrier(et,_e,rt){let nt=_e.nodeBefore,it=_e.nodeAfter,st,ot;if(nt.type.spec.isolating||it.type.spec.isolating)return!1;if(joinMaybeClear(et,_e,rt))return!0;let at=_e.parent.canReplace(_e.index(),_e.index()+1);if(at&&(st=(ot=nt.contentMatchAt(nt.childCount)).findWrapping(it.type))&&ot.matchType(st[0]||it.type).validEnd){if(rt){let dt=_e.pos+it.nodeSize,ft=Fragment.empty;for(let mt=st.length-1;mt>=0;mt--)ft=Fragment.from(st[mt].create(null,ft));ft=Fragment.from(nt.copy(ft));let pt=et.tr.step(new ReplaceAroundStep(_e.pos-1,dt,_e.pos,dt,new Slice(ft,1,0),st.length,!0)),ht=dt+2*st.length;canJoin(pt.doc,ht)&&pt.join(ht),rt(pt.scrollIntoView())}return!0}let lt=Selection.findFrom(_e,1),ut=lt&&lt.$from.blockRange(lt.$to),ct=ut&&liftTarget(ut);if(ct!=null&&ct>=_e.depth)return rt&&rt(et.tr.lift(ut,ct).scrollIntoView()),!0;if(at&&textblockAt(it,"start",!0)&&textblockAt(nt,"end")){let dt=nt,ft=[];for(;ft.push(dt),!dt.isTextblock;)dt=dt.lastChild;let pt=it,ht=1;for(;!pt.isTextblock;pt=pt.firstChild)ht++;if(dt.canReplace(dt.childCount,dt.childCount,pt.content)){if(rt){let mt=Fragment.empty;for(let gt=ft.length-1;gt>=0;gt--)mt=Fragment.from(ft[gt].copy(mt));let bt=et.tr.step(new ReplaceAroundStep(_e.pos-ft.length,_e.pos+it.nodeSize,_e.pos+ht,_e.pos+it.nodeSize-ht,new Slice(mt,ft.length,0),0,!0));rt(bt.scrollIntoView())}return!0}}return!1}function selectTextblockSide(et){return function(_e,rt){let nt=_e.selection,it=et<0?nt.$from:nt.$to,st=it.depth;for(;it.node(st).isInline;){if(!st)return!1;st--}return it.node(st).isTextblock?(rt&&rt(_e.tr.setSelection(TextSelection.create(_e.doc,et<0?it.start(st):it.end(st)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(et,_e=null){return function(rt,nt){let{$from:it,$to:st}=rt.selection,ot=it.blockRange(st),at=ot&&findWrapping(ot,et,_e);return at?(nt&&nt(rt.tr.wrap(ot,at).scrollIntoView()),!0):!1}}function setBlockType(et,_e=null){return function(rt,nt){let it=!1;for(let st=0;st<rt.selection.ranges.length&&!it;st++){let{$from:{pos:ot},$to:{pos:at}}=rt.selection.ranges[st];rt.doc.nodesBetween(ot,at,(lt,ut)=>{if(it)return!1;if(!(!lt.isTextblock||lt.hasMarkup(et,_e)))if(lt.type==et)it=!0;else{let ct=rt.doc.resolve(ut),dt=ct.index();it=ct.parent.canReplaceWith(dt,dt+1,et)}})}if(!it)return!1;if(nt){let st=rt.tr;for(let ot=0;ot<rt.selection.ranges.length;ot++){let{$from:{pos:at},$to:{pos:lt}}=rt.selection.ranges[ot];st.setBlockType(at,lt,et,_e)}nt(st.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(et,_e=null){return function(rt,nt){let{$from:it,$to:st}=rt.selection,ot=it.blockRange(st),at=!1,lt=ot;if(!ot)return!1;if(ot.depth>=2&&it.node(ot.depth-1).type.compatibleContent(et)&&ot.startIndex==0){if(it.index(ot.depth-1)==0)return!1;let ct=rt.doc.resolve(ot.start-2);lt=new NodeRange(ct,ct,ot.depth),ot.endIndex<ot.parent.childCount&&(ot=new NodeRange(it,rt.doc.resolve(st.end(ot.depth)),ot.depth)),at=!0}let ut=findWrapping(lt,et,_e,ot);return ut?(nt&&nt(doWrapInList(rt.tr,ot,ut,at,et).scrollIntoView()),!0):!1}}function doWrapInList(et,_e,rt,nt,it){let st=Fragment.empty;for(let ct=rt.length-1;ct>=0;ct--)st=Fragment.from(rt[ct].type.create(rt[ct].attrs,st));et.step(new ReplaceAroundStep(_e.start-(nt?2:0),_e.end,_e.start,_e.end,new Slice(st,0,0),rt.length,!0));let ot=0;for(let ct=0;ct<rt.length;ct++)rt[ct].type==it&&(ot=ct+1);let at=rt.length-ot,lt=_e.start+rt.length-(nt?2:0),ut=_e.parent;for(let ct=_e.startIndex,dt=_e.endIndex,ft=!0;ct<dt;ct++,ft=!1)!ft&&canSplit(et.doc,lt,at)&&(et.split(lt,at),lt+=2*at),lt+=ut.child(ct).nodeSize;return et}function liftListItem$1(et){return function(_e,rt){let{$from:nt,$to:it}=_e.selection,st=nt.blockRange(it,ot=>ot.childCount>0&&ot.firstChild.type==et);return st?rt?nt.node(st.depth-1).type==et?liftToOuterList(_e,rt,et,st):liftOutOfList(_e,rt,st):!0:!1}}function liftToOuterList(et,_e,rt,nt){let it=et.tr,st=nt.end,ot=nt.$to.end(nt.depth);st<ot&&(it.step(new ReplaceAroundStep(st-1,ot,st,ot,new Slice(Fragment.from(rt.create(null,nt.parent.copy())),1,0),1,!0)),nt=new NodeRange(it.doc.resolve(nt.$from.pos),it.doc.resolve(ot),nt.depth));const at=liftTarget(nt);if(at==null)return!1;it.lift(nt,at);let lt=it.mapping.map(st,-1)-1;return canJoin(it.doc,lt)&&it.join(lt),_e(it.scrollIntoView()),!0}function liftOutOfList(et,_e,rt){let nt=et.tr,it=rt.parent;for(let pt=rt.end,ht=rt.endIndex-1,mt=rt.startIndex;ht>mt;ht--)pt-=it.child(ht).nodeSize,nt.delete(pt-1,pt+1);let st=nt.doc.resolve(rt.start),ot=st.nodeAfter;if(nt.mapping.map(rt.end)!=rt.start+st.nodeAfter.nodeSize)return!1;let at=rt.startIndex==0,lt=rt.endIndex==it.childCount,ut=st.node(-1),ct=st.index(-1);if(!ut.canReplace(ct+(at?0:1),ct+1,ot.content.append(lt?Fragment.empty:Fragment.from(it))))return!1;let dt=st.pos,ft=dt+ot.nodeSize;return nt.step(new ReplaceAroundStep(dt-(at?1:0),ft+(lt?1:0),dt+1,ft-1,new Slice((at?Fragment.empty:Fragment.from(it.copy(Fragment.empty))).append(lt?Fragment.empty:Fragment.from(it.copy(Fragment.empty))),at?0:1,lt?0:1),at?0:1)),_e(nt.scrollIntoView()),!0}function sinkListItem$1(et){return function(_e,rt){let{$from:nt,$to:it}=_e.selection,st=nt.blockRange(it,ut=>ut.childCount>0&&ut.firstChild.type==et);if(!st)return!1;let ot=st.startIndex;if(ot==0)return!1;let at=st.parent,lt=at.child(ot-1);if(lt.type!=et)return!1;if(rt){let ut=lt.lastChild&&lt.lastChild.type==at.type,ct=Fragment.from(ut?et.create():null),dt=new Slice(Fragment.from(et.create(null,Fragment.from(at.type.create(null,ct)))),ut?3:1,0),ft=st.start,pt=st.end;rt(_e.tr.step(new ReplaceAroundStep(ft-(ut?3:1),pt,ft,pt,dt,1,!0)).scrollIntoView())}return!0}}function createChainableState(et){const{state:_e,transaction:rt}=et;let{selection:nt}=rt,{doc:it}=rt,{storedMarks:st}=rt;return{..._e,apply:_e.apply.bind(_e),applyTransaction:_e.applyTransaction.bind(_e),filterTransaction:_e.filterTransaction,plugins:_e.plugins,schema:_e.schema,reconfigure:_e.reconfigure.bind(_e),toJSON:_e.toJSON.bind(_e),get storedMarks(){return st},get selection(){return nt},get doc(){return it},get tr(){return nt=rt.selection,it=rt.doc,st=rt.storedMarks,rt}}}class CommandManager{constructor(_e){this.editor=_e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=_e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:_e,editor:rt,state:nt}=this,{view:it}=rt,{tr:st}=nt,ot=this.buildProps(st);return Object.fromEntries(Object.entries(_e).map(([at,lt])=>[at,(...ct)=>{const dt=lt(...ct)(ot);return!st.getMeta("preventDispatch")&&!this.hasCustomState&&it.dispatch(st),dt}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(_e,rt=!0){const{rawCommands:nt,editor:it,state:st}=this,{view:ot}=it,at=[],lt=!!_e,ut=_e||st.tr,ct=()=>(!lt&&rt&&!ut.getMeta("preventDispatch")&&!this.hasCustomState&&ot.dispatch(ut),at.every(ft=>ft===!0)),dt={...Object.fromEntries(Object.entries(nt).map(([ft,pt])=>[ft,(...mt)=>{const bt=this.buildProps(ut,rt),gt=pt(...mt)(bt);return at.push(gt),dt}])),run:ct};return dt}createCan(_e){const{rawCommands:rt,state:nt}=this,it=!1,st=_e||nt.tr,ot=this.buildProps(st,it);return{...Object.fromEntries(Object.entries(rt).map(([lt,ut])=>[lt,(...ct)=>ut(...ct)({...ot,dispatch:void 0})])),chain:()=>this.createChain(st,it)}}buildProps(_e,rt=!0){const{rawCommands:nt,editor:it,state:st}=this,{view:ot}=it;st.storedMarks&&_e.setStoredMarks(st.storedMarks);const at={tr:_e,editor:it,view:ot,state:createChainableState({state:st,transaction:_e}),dispatch:rt?()=>{}:void 0,chain:()=>this.createChain(_e),can:()=>this.createCan(_e),get commands(){return Object.fromEntries(Object.entries(nt).map(([lt,ut])=>[lt,(...ct)=>ut(...ct)(at)]))}};return at}}class EventEmitter{constructor(){this.callbacks={}}on(_e,rt){return this.callbacks[_e]||(this.callbacks[_e]=[]),this.callbacks[_e].push(rt),this}emit(_e,...rt){const nt=this.callbacks[_e];return nt&&nt.forEach(it=>it.apply(this,rt)),this}off(_e,rt){const nt=this.callbacks[_e];return nt&&(rt?this.callbacks[_e]=nt.filter(it=>it!==rt):delete this.callbacks[_e]),this}removeAllListeners(){this.callbacks={}}}function getExtensionField(et,_e,rt){return et.config[_e]===void 0&&et.parent?getExtensionField(et.parent,_e,rt):typeof et.config[_e]=="function"?et.config[_e].bind({...rt,parent:et.parent?getExtensionField(et.parent,_e,rt):null}):et.config[_e]}function splitExtensions(et){const _e=et.filter(it=>it.type==="extension"),rt=et.filter(it=>it.type==="node"),nt=et.filter(it=>it.type==="mark");return{baseExtensions:_e,nodeExtensions:rt,markExtensions:nt}}function getAttributesFromExtensions(et){const _e=[],{nodeExtensions:rt,markExtensions:nt}=splitExtensions(et),it=[...rt,...nt],st={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return et.forEach(ot=>{const at={name:ot.name,options:ot.options,storage:ot.storage},lt=getExtensionField(ot,"addGlobalAttributes",at);if(!lt)return;lt().forEach(ct=>{ct.types.forEach(dt=>{Object.entries(ct.attributes).forEach(([ft,pt])=>{_e.push({type:dt,name:ft,attribute:{...st,...pt}})})})})}),it.forEach(ot=>{const at={name:ot.name,options:ot.options,storage:ot.storage},lt=getExtensionField(ot,"addAttributes",at);if(!lt)return;const ut=lt();Object.entries(ut).forEach(([ct,dt])=>{const ft={...st,...dt};typeof(ft==null?void 0:ft.default)=="function"&&(ft.default=ft.default()),ft!=null&&ft.isRequired&&(ft==null?void 0:ft.default)===void 0&&delete ft.default,_e.push({type:ot.name,name:ct,attribute:ft})})}),_e}function getNodeType(et,_e){if(typeof et=="string"){if(!_e.nodes[et])throw Error(`There is no node type named '${et}'. Maybe you forgot to add the extension?`);return _e.nodes[et]}return et}function mergeAttributes(...et){return et.filter(_e=>!!_e).reduce((_e,rt)=>{const nt={..._e};return Object.entries(rt).forEach(([it,st])=>{if(!nt[it]){nt[it]=st;return}it==="class"?nt[it]=[nt[it],st].join(" "):it==="style"?nt[it]=[nt[it],st].join("; "):nt[it]=st}),nt},{})}function getRenderedAttributes(et,_e){return _e.filter(rt=>rt.attribute.rendered).map(rt=>rt.attribute.renderHTML?rt.attribute.renderHTML(et.attrs)||{}:{[rt.name]:et.attrs[rt.name]}).reduce((rt,nt)=>mergeAttributes(rt,nt),{})}function isFunction$2(et){return typeof et=="function"}function callOrReturn(et,_e=void 0,...rt){return isFunction$2(et)?_e?et.bind(_e)(...rt):et(...rt):et}function isEmptyObject(et={}){return Object.keys(et).length===0&&et.constructor===Object}function fromString$1(et){return typeof et!="string"?et:et.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(et):et==="true"?!0:et==="false"?!1:et}function injectExtensionAttributesToParseRule(et,_e){return et.style?et:{...et,getAttrs:rt=>{const nt=et.getAttrs?et.getAttrs(rt):et.attrs;if(nt===!1)return!1;const it=_e.reduce((st,ot)=>{const at=ot.attribute.parseHTML?ot.attribute.parseHTML(rt):fromString$1(rt.getAttribute(ot.name));return at==null?st:{...st,[ot.name]:at}},{});return{...nt,...it}}}}function cleanUpSchemaItem(et){return Object.fromEntries(Object.entries(et).filter(([_e,rt])=>_e==="attrs"&&isEmptyObject(rt)?!1:rt!=null))}function getSchemaByResolvedExtensions(et,_e){var rt;const nt=getAttributesFromExtensions(et),{nodeExtensions:it,markExtensions:st}=splitExtensions(et),ot=(rt=it.find(ut=>getExtensionField(ut,"topNode")))===null||rt===void 0?void 0:rt.name,at=Object.fromEntries(it.map(ut=>{const ct=nt.filter(gt=>gt.type===ut.name),dt={name:ut.name,options:ut.options,storage:ut.storage,editor:_e},ft=et.reduce((gt,xt)=>{const yt=getExtensionField(xt,"extendNodeSchema",dt);return{...gt,...yt?yt(ut):{}}},{}),pt=cleanUpSchemaItem({...ft,content:callOrReturn(getExtensionField(ut,"content",dt)),marks:callOrReturn(getExtensionField(ut,"marks",dt)),group:callOrReturn(getExtensionField(ut,"group",dt)),inline:callOrReturn(getExtensionField(ut,"inline",dt)),atom:callOrReturn(getExtensionField(ut,"atom",dt)),selectable:callOrReturn(getExtensionField(ut,"selectable",dt)),draggable:callOrReturn(getExtensionField(ut,"draggable",dt)),code:callOrReturn(getExtensionField(ut,"code",dt)),defining:callOrReturn(getExtensionField(ut,"defining",dt)),isolating:callOrReturn(getExtensionField(ut,"isolating",dt)),attrs:Object.fromEntries(ct.map(gt=>{var xt;return[gt.name,{default:(xt=gt==null?void 0:gt.attribute)===null||xt===void 0?void 0:xt.default}]}))}),ht=callOrReturn(getExtensionField(ut,"parseHTML",dt));ht&&(pt.parseDOM=ht.map(gt=>injectExtensionAttributesToParseRule(gt,ct)));const mt=getExtensionField(ut,"renderHTML",dt);mt&&(pt.toDOM=gt=>mt({node:gt,HTMLAttributes:getRenderedAttributes(gt,ct)}));const bt=getExtensionField(ut,"renderText",dt);return bt&&(pt.toText=bt),[ut.name,pt]})),lt=Object.fromEntries(st.map(ut=>{const ct=nt.filter(bt=>bt.type===ut.name),dt={name:ut.name,options:ut.options,storage:ut.storage,editor:_e},ft=et.reduce((bt,gt)=>{const xt=getExtensionField(gt,"extendMarkSchema",dt);return{...bt,...xt?xt(ut):{}}},{}),pt=cleanUpSchemaItem({...ft,inclusive:callOrReturn(getExtensionField(ut,"inclusive",dt)),excludes:callOrReturn(getExtensionField(ut,"excludes",dt)),group:callOrReturn(getExtensionField(ut,"group",dt)),spanning:callOrReturn(getExtensionField(ut,"spanning",dt)),code:callOrReturn(getExtensionField(ut,"code",dt)),attrs:Object.fromEntries(ct.map(bt=>{var gt;return[bt.name,{default:(gt=bt==null?void 0:bt.attribute)===null||gt===void 0?void 0:gt.default}]}))}),ht=callOrReturn(getExtensionField(ut,"parseHTML",dt));ht&&(pt.parseDOM=ht.map(bt=>injectExtensionAttributesToParseRule(bt,ct)));const mt=getExtensionField(ut,"renderHTML",dt);return mt&&(pt.toDOM=bt=>mt({mark:bt,HTMLAttributes:getRenderedAttributes(bt,ct)})),[ut.name,pt]}));return new Schema({topNode:ot,nodes:at,marks:lt})}function getSchemaTypeByName(et,_e){return _e.nodes[et]||_e.marks[et]||null}function isExtensionRulesEnabled(et,_e){return Array.isArray(_e)?_e.some(rt=>(typeof rt=="string"?rt:rt.name)===et.name):_e}const getTextContentFromNodes=(et,_e=500)=>{let rt="";const nt=et.parentOffset;return et.parent.nodesBetween(Math.max(0,nt-_e),nt,(it,st,ot,at)=>{var lt,ut;const ct=((ut=(lt=it.type.spec).toText)===null||ut===void 0?void 0:ut.call(lt,{node:it,pos:st,parent:ot,index:at}))||it.textContent||"%leaf%";rt+=ct.slice(0,Math.max(0,nt-st))}),rt};function isRegExp(et){return Object.prototype.toString.call(et)==="[object RegExp]"}const inputRuleMatcherHandler=(et,_e)=>{if(isRegExp(_e))return _e.exec(et);const rt=_e(et);if(!rt)return null;const nt=[rt.text];return nt.index=rt.index,nt.input=et,nt.data=rt.data,rt.replaceWith&&(rt.text.includes(rt.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),nt.push(rt.replaceWith)),nt};function run$1$1(et){var _e;const{editor:rt,from:nt,to:it,text:st,rules:ot,plugin:at}=et,{view:lt}=rt;if(lt.composing)return!1;const ut=lt.state.doc.resolve(nt);if(ut.parent.type.spec.code||!((_e=ut.nodeBefore||ut.nodeAfter)===null||_e===void 0)&&_e.marks.find(ft=>ft.type.spec.code))return!1;let ct=!1;const dt=getTextContentFromNodes(ut)+st;return ot.forEach(ft=>{if(ct)return;const pt=inputRuleMatcherHandler(dt,ft.find);if(!pt)return;const ht=lt.state.tr,mt=createChainableState({state:lt.state,transaction:ht}),bt={from:nt-(pt[0].length-st.length),to:it},{commands:gt,chain:xt,can:yt}=new CommandManager({editor:rt,state:mt});ft.handler({state:mt,range:bt,match:pt,commands:gt,chain:xt,can:yt})===null||!ht.steps.length||(ht.setMeta(at,{transform:ht,from:nt,to:it,text:st}),lt.dispatch(ht),ct=!0)}),ct}function inputRulesPlugin(et){const{editor:_e,rules:rt}=et,nt=new Plugin({state:{init(){return null},apply(it,st){const ot=it.getMeta(nt);return ot||(it.selectionSet||it.docChanged?null:st)}},props:{handleTextInput(it,st,ot,at){return run$1$1({editor:_e,from:st,to:ot,text:at,rules:rt,plugin:nt})},handleDOMEvents:{compositionend:it=>(setTimeout(()=>{const{$cursor:st}=it.state.selection;st&&run$1$1({editor:_e,from:st.pos,to:st.pos,text:"",rules:rt,plugin:nt})}),!1)},handleKeyDown(it,st){if(st.key!=="Enter")return!1;const{$cursor:ot}=it.state.selection;return ot?run$1$1({editor:_e,from:ot.pos,to:ot.pos,text:`
`,rules:rt,plugin:nt}):!1}},isInputRules:!0});return nt}function isNumber(et){return typeof et=="number"}class PasteRule{constructor(_e){this.find=_e.find,this.handler=_e.handler}}const pasteRuleMatcherHandler=(et,_e)=>{if(isRegExp(_e))return[...et.matchAll(_e)];const rt=_e(et);return rt?rt.map(nt=>{const it=[nt.text];return it.index=nt.index,it.input=et,it.data=nt.data,nt.replaceWith&&(nt.text.includes(nt.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),it.push(nt.replaceWith)),it}):[]};function run$2(et){const{editor:_e,state:rt,from:nt,to:it,rule:st}=et,{commands:ot,chain:at,can:lt}=new CommandManager({editor:_e,state:rt}),ut=[];return rt.doc.nodesBetween(nt,it,(dt,ft)=>{if(!dt.isTextblock||dt.type.spec.code)return;const pt=Math.max(nt,ft),ht=Math.min(it,ft+dt.content.size),mt=dt.textBetween(pt-ft,ht-ft,void 0,"￼");pasteRuleMatcherHandler(mt,st.find).forEach(gt=>{if(gt.index===void 0)return;const xt=pt+gt.index+1,yt=xt+gt[0].length,vt={from:rt.tr.mapping.map(xt),to:rt.tr.mapping.map(yt)},Pt=st.handler({state:rt,range:vt,match:gt,commands:ot,chain:at,can:lt});ut.push(Pt)})}),ut.every(dt=>dt!==null)}function pasteRulesPlugin(et){const{editor:_e,rules:rt}=et;let nt=null,it=!1,st=!1;return rt.map(at=>new Plugin({view(lt){const ut=ct=>{var dt;nt=!((dt=lt.dom.parentElement)===null||dt===void 0)&&dt.contains(ct.target)?lt.dom.parentElement:null};return window.addEventListener("dragstart",ut),{destroy(){window.removeEventListener("dragstart",ut)}}},props:{handleDOMEvents:{drop:lt=>(st=nt===lt.dom.parentElement,!1),paste:(lt,ut)=>{var ct;const dt=(ct=ut.clipboardData)===null||ct===void 0?void 0:ct.getData("text/html");return it=!!(dt!=null&&dt.includes("data-pm-slice")),!1}}},appendTransaction:(lt,ut,ct)=>{const dt=lt[0],ft=dt.getMeta("uiEvent")==="paste"&&!it,pt=dt.getMeta("uiEvent")==="drop"&&!st;if(!ft&&!pt)return;const ht=ut.doc.content.findDiffStart(ct.doc.content),mt=ut.doc.content.findDiffEnd(ct.doc.content);if(!isNumber(ht)||!mt||ht===mt.b)return;const bt=ct.tr,gt=createChainableState({state:ct,transaction:bt});if(!(!run$2({editor:_e,state:gt,from:Math.max(ht-1,0),to:mt.b-1,rule:at})||!bt.steps.length))return bt}}))}function findDuplicates(et){const _e=et.filter((rt,nt)=>et.indexOf(rt)!==nt);return[...new Set(_e)]}class ExtensionManager{constructor(_e,rt){this.splittableMarks=[],this.editor=rt,this.extensions=ExtensionManager.resolve(_e),this.schema=getSchemaByResolvedExtensions(this.extensions,rt),this.extensions.forEach(nt=>{var it;this.editor.extensionStorage[nt.name]=nt.storage;const st={name:nt.name,options:nt.options,storage:nt.storage,editor:this.editor,type:getSchemaTypeByName(nt.name,this.schema)};nt.type==="mark"&&(!((it=callOrReturn(getExtensionField(nt,"keepOnSplit",st)))!==null&&it!==void 0)||it)&&this.splittableMarks.push(nt.name);const ot=getExtensionField(nt,"onBeforeCreate",st);ot&&this.editor.on("beforeCreate",ot);const at=getExtensionField(nt,"onCreate",st);at&&this.editor.on("create",at);const lt=getExtensionField(nt,"onUpdate",st);lt&&this.editor.on("update",lt);const ut=getExtensionField(nt,"onSelectionUpdate",st);ut&&this.editor.on("selectionUpdate",ut);const ct=getExtensionField(nt,"onTransaction",st);ct&&this.editor.on("transaction",ct);const dt=getExtensionField(nt,"onFocus",st);dt&&this.editor.on("focus",dt);const ft=getExtensionField(nt,"onBlur",st);ft&&this.editor.on("blur",ft);const pt=getExtensionField(nt,"onDestroy",st);pt&&this.editor.on("destroy",pt)})}static resolve(_e){const rt=ExtensionManager.sort(ExtensionManager.flatten(_e)),nt=findDuplicates(rt.map(it=>it.name));return nt.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${nt.map(it=>`'${it}'`).join(", ")}]. This can lead to issues.`),rt}static flatten(_e){return _e.map(rt=>{const nt={name:rt.name,options:rt.options,storage:rt.storage},it=getExtensionField(rt,"addExtensions",nt);return it?[rt,...this.flatten(it())]:rt}).flat(10)}static sort(_e){return _e.sort((nt,it)=>{const st=getExtensionField(nt,"priority")||100,ot=getExtensionField(it,"priority")||100;return st>ot?-1:st<ot?1:0})}get commands(){return this.extensions.reduce((_e,rt)=>{const nt={name:rt.name,options:rt.options,storage:rt.storage,editor:this.editor,type:getSchemaTypeByName(rt.name,this.schema)},it=getExtensionField(rt,"addCommands",nt);return it?{..._e,...it()}:_e},{})}get plugins(){const{editor:_e}=this,rt=ExtensionManager.sort([...this.extensions].reverse()),nt=[],it=[],st=rt.map(ot=>{const at={name:ot.name,options:ot.options,storage:ot.storage,editor:_e,type:getSchemaTypeByName(ot.name,this.schema)},lt=[],ut=getExtensionField(ot,"addKeyboardShortcuts",at);let ct={};if(ot.type==="mark"&&ot.config.exitable&&(ct.ArrowRight=()=>Mark.handleExit({editor:_e,mark:ot})),ut){const mt=Object.fromEntries(Object.entries(ut()).map(([bt,gt])=>[bt,()=>gt({editor:_e})]));ct={...ct,...mt}}const dt=keymap(ct);lt.push(dt);const ft=getExtensionField(ot,"addInputRules",at);isExtensionRulesEnabled(ot,_e.options.enableInputRules)&&ft&&nt.push(...ft());const pt=getExtensionField(ot,"addPasteRules",at);isExtensionRulesEnabled(ot,_e.options.enablePasteRules)&&pt&&it.push(...pt());const ht=getExtensionField(ot,"addProseMirrorPlugins",at);if(ht){const mt=ht();lt.push(...mt)}return lt}).flat();return[inputRulesPlugin({editor:_e,rules:nt}),...pasteRulesPlugin({editor:_e,rules:it}),...st]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:_e}=this,{nodeExtensions:rt}=splitExtensions(this.extensions);return Object.fromEntries(rt.filter(nt=>!!getExtensionField(nt,"addNodeView")).map(nt=>{const it=this.attributes.filter(lt=>lt.type===nt.name),st={name:nt.name,options:nt.options,storage:nt.storage,editor:_e,type:getNodeType(nt.name,this.schema)},ot=getExtensionField(nt,"addNodeView",st);if(!ot)return[];const at=(lt,ut,ct,dt)=>{const ft=getRenderedAttributes(lt,it);return ot()({editor:_e,node:lt,getPos:ct,decorations:dt,HTMLAttributes:ft,extension:nt})};return[nt.name,at]}))}}function getType(et){return Object.prototype.toString.call(et).slice(8,-1)}function isPlainObject(et){return getType(et)!=="Object"?!1:et.constructor===Object&&Object.getPrototypeOf(et)===Object.prototype}function mergeDeep(et,_e){const rt={...et};return isPlainObject(et)&&isPlainObject(_e)&&Object.keys(_e).forEach(nt=>{isPlainObject(_e[nt])?nt in et?rt[nt]=mergeDeep(et[nt],_e[nt]):Object.assign(rt,{[nt]:_e[nt]}):Object.assign(rt,{[nt]:_e[nt]})}),rt}class Extension{constructor(_e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,..._e},this.name=this.config.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new Extension(_e)}configure(_e={}){const rt=this.extend();return rt.options=mergeDeep(this.options,_e),rt.storage=callOrReturn(getExtensionField(rt,"addStorage",{name:rt.name,options:rt.options})),rt}extend(_e={}){const rt=new Extension(_e);return rt.parent=this,this.child=rt,rt.name=_e.name?_e.name:rt.parent.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${rt.name}".`),rt.options=callOrReturn(getExtensionField(rt,"addOptions",{name:rt.name})),rt.storage=callOrReturn(getExtensionField(rt,"addStorage",{name:rt.name,options:rt.options})),rt}}function getTextBetween(et,_e,rt){const{from:nt,to:it}=_e,{blockSeparator:st=`

`,textSerializers:ot={}}=rt||{};let at="",lt=!0;return et.nodesBetween(nt,it,(ut,ct,dt,ft)=>{var pt;const ht=ot==null?void 0:ot[ut.type.name];ht?(ut.isBlock&&!lt&&(at+=st,lt=!0),dt&&(at+=ht({node:ut,pos:ct,parent:dt,index:ft,range:_e}))):ut.isText?(at+=(pt=ut==null?void 0:ut.text)===null||pt===void 0?void 0:pt.slice(Math.max(nt,ct)-ct,it-ct),lt=!1):ut.isBlock&&!lt&&(at+=st,lt=!0)}),at}function getTextSerializersFromSchema(et){return Object.fromEntries(Object.entries(et.nodes).filter(([,_e])=>_e.spec.toText).map(([_e,rt])=>[_e,rt.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:et}=this,{state:_e,schema:rt}=et,{doc:nt,selection:it}=_e,{ranges:st}=it,ot=Math.min(...st.map(ct=>ct.$from.pos)),at=Math.max(...st.map(ct=>ct.$to.pos)),lt=getTextSerializersFromSchema(rt);return getTextBetween(nt,{from:ot,to:at},{textSerializers:lt})}}})]}}),blur=()=>({editor:et,view:_e})=>(requestAnimationFrame(()=>{var rt;et.isDestroyed||(_e.dom.blur(),(rt=window==null?void 0:window.getSelection())===null||rt===void 0||rt.removeAllRanges())}),!0),clearContent=(et=!1)=>({commands:_e})=>_e.setContent("",et),clearNodes=()=>({state:et,tr:_e,dispatch:rt})=>{const{selection:nt}=_e,{ranges:it}=nt;return rt&&it.forEach(({$from:st,$to:ot})=>{et.doc.nodesBetween(st.pos,ot.pos,(at,lt)=>{if(at.type.isText)return;const{doc:ut,mapping:ct}=_e,dt=ut.resolve(ct.map(lt)),ft=ut.resolve(ct.map(lt+at.nodeSize)),pt=dt.blockRange(ft);if(!pt)return;const ht=liftTarget(pt);if(at.type.isTextblock){const{defaultType:mt}=dt.parent.contentMatchAt(dt.index());_e.setNodeMarkup(pt.start,mt)}(ht||ht===0)&&_e.lift(pt,ht)})}),!0},command=et=>_e=>et(_e),createParagraphNear=()=>({state:et,dispatch:_e})=>createParagraphNear$1(et,_e),deleteCurrentNode=()=>({tr:et,dispatch:_e})=>{const{selection:rt}=et,nt=rt.$anchor.node();if(nt.content.size>0)return!1;const it=et.selection.$anchor;for(let st=it.depth;st>0;st-=1)if(it.node(st).type===nt.type){if(_e){const at=it.before(st),lt=it.after(st);et.delete(at,lt).scrollIntoView()}return!0}return!1},deleteNode=et=>({tr:_e,state:rt,dispatch:nt})=>{const it=getNodeType(et,rt.schema),st=_e.selection.$anchor;for(let ot=st.depth;ot>0;ot-=1)if(st.node(ot).type===it){if(nt){const lt=st.before(ot),ut=st.after(ot);_e.delete(lt,ut).scrollIntoView()}return!0}return!1},deleteRange=et=>({tr:_e,dispatch:rt})=>{const{from:nt,to:it}=et;return rt&&_e.delete(nt,it),!0},deleteSelection=()=>({state:et,dispatch:_e})=>deleteSelection$1(et,_e),enter=()=>({commands:et})=>et.keyboardShortcut("Enter"),exitCode=()=>({state:et,dispatch:_e})=>exitCode$1(et,_e);function objectIncludes(et,_e,rt={strict:!0}){const nt=Object.keys(_e);return nt.length?nt.every(it=>rt.strict?_e[it]===et[it]:isRegExp(_e[it])?_e[it].test(et[it]):_e[it]===et[it]):!0}function findMarkInSet(et,_e,rt={}){return et.find(nt=>nt.type===_e&&objectIncludes(nt.attrs,rt))}function isMarkInSet(et,_e,rt={}){return!!findMarkInSet(et,_e,rt)}function getMarkRange(et,_e,rt={}){if(!et||!_e)return;let nt=et.parent.childAfter(et.parentOffset);if(et.parentOffset===nt.offset&&nt.offset!==0&&(nt=et.parent.childBefore(et.parentOffset)),!nt.node)return;const it=findMarkInSet([...nt.node.marks],_e,rt);if(!it)return;let st=nt.index,ot=et.start()+nt.offset,at=st+1,lt=ot+nt.node.nodeSize;for(findMarkInSet([...nt.node.marks],_e,rt);st>0&&it.isInSet(et.parent.child(st-1).marks);)st-=1,ot-=et.parent.child(st).nodeSize;for(;at<et.parent.childCount&&isMarkInSet([...et.parent.child(at).marks],_e,rt);)lt+=et.parent.child(at).nodeSize,at+=1;return{from:ot,to:lt}}function getMarkType(et,_e){if(typeof et=="string"){if(!_e.marks[et])throw Error(`There is no mark type named '${et}'. Maybe you forgot to add the extension?`);return _e.marks[et]}return et}const extendMarkRange=(et,_e={})=>({tr:rt,state:nt,dispatch:it})=>{const st=getMarkType(et,nt.schema),{doc:ot,selection:at}=rt,{$from:lt,from:ut,to:ct}=at;if(it){const dt=getMarkRange(lt,st,_e);if(dt&&dt.from<=ut&&dt.to>=ct){const ft=TextSelection.create(ot,dt.from,dt.to);rt.setSelection(ft)}}return!0},first=et=>_e=>{const rt=typeof et=="function"?et(_e):et;for(let nt=0;nt<rt.length;nt+=1)if(rt[nt](_e))return!0;return!1};function isTextSelection(et){return et instanceof TextSelection}function minMax(et=0,_e=0,rt=0){return Math.min(Math.max(et,_e),rt)}function resolveFocusPosition(et,_e=null){if(!_e)return null;const rt=Selection.atStart(et),nt=Selection.atEnd(et);if(_e==="start"||_e===!0)return rt;if(_e==="end")return nt;const it=rt.from,st=nt.to;return _e==="all"?TextSelection.create(et,minMax(0,it,st),minMax(et.content.size,it,st)):TextSelection.create(et,minMax(_e,it,st),minMax(_e,it,st))}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const focus=(et=null,_e={})=>({editor:rt,view:nt,tr:it,dispatch:st})=>{_e={scrollIntoView:!0,..._e};const ot=()=>{isiOS()&&nt.dom.focus(),requestAnimationFrame(()=>{rt.isDestroyed||(nt.focus(),_e!=null&&_e.scrollIntoView&&rt.commands.scrollIntoView())})};if(nt.hasFocus()&&et===null||et===!1)return!0;if(st&&et===null&&!isTextSelection(rt.state.selection))return ot(),!0;const at=resolveFocusPosition(it.doc,et)||rt.state.selection,lt=rt.state.selection.eq(at);return st&&(lt||it.setSelection(at),lt&&it.storedMarks&&it.setStoredMarks(it.storedMarks),ot()),!0},forEach=(et,_e)=>rt=>et.every((nt,it)=>_e(nt,{...rt,index:it})),insertContent=(et,_e)=>({tr:rt,commands:nt})=>nt.insertContentAt({from:rt.selection.from,to:rt.selection.to},et,_e);function elementFromString(et){const _e=`<body>${et}</body>`;return new window.DOMParser().parseFromString(_e,"text/html").body}function createNodeFromContent(et,_e,rt){if(rt={slice:!0,parseOptions:{},...rt},typeof et=="object"&&et!==null)try{return Array.isArray(et)&&et.length>0?Fragment.fromArray(et.map(nt=>_e.nodeFromJSON(nt))):_e.nodeFromJSON(et)}catch(nt){return console.warn("[tiptap warn]: Invalid content.","Passed value:",et,"Error:",nt),createNodeFromContent("",_e,rt)}if(typeof et=="string"){const nt=DOMParser.fromSchema(_e);return rt.slice?nt.parseSlice(elementFromString(et),rt.parseOptions).content:nt.parse(elementFromString(et),rt.parseOptions)}return createNodeFromContent("",_e,rt)}function selectionToInsertionEnd(et,_e,rt){const nt=et.steps.length-1;if(nt<_e)return;const it=et.steps[nt];if(!(it instanceof ReplaceStep||it instanceof ReplaceAroundStep))return;const st=et.mapping.maps[nt];let ot=0;st.forEach((at,lt,ut,ct)=>{ot===0&&(ot=ct)}),et.setSelection(Selection.near(et.doc.resolve(ot),rt))}const isFragment=et=>et.toString().startsWith("<"),insertContentAt=(et,_e,rt)=>({tr:nt,dispatch:it,editor:st})=>{if(it){rt={parseOptions:{},updateSelection:!0,...rt};const ot=createNodeFromContent(_e,st.schema,{parseOptions:{preserveWhitespace:"full",...rt.parseOptions}});if(ot.toString()==="<>")return!0;let{from:at,to:lt}=typeof et=="number"?{from:et,to:et}:et,ut=!0,ct=!0;if((isFragment(ot)?ot:[ot]).forEach(ft=>{ft.check(),ut=ut?ft.isText&&ft.marks.length===0:!1,ct=ct?ft.isBlock:!1}),at===lt&&ct){const{parent:ft}=nt.doc.resolve(at);ft.isTextblock&&!ft.type.spec.code&&!ft.childCount&&(at-=1,lt+=1)}ut?Array.isArray(_e)?nt.insertText(_e.map(ft=>ft.text||"").join(""),at,lt):typeof _e=="object"&&_e&&_e.text?nt.insertText(_e.text,at,lt):nt.insertText(_e,at,lt):nt.replaceWith(at,lt,ot),rt.updateSelection&&selectionToInsertionEnd(nt,nt.steps.length-1,-1)}return!0},joinUp=()=>({state:et,dispatch:_e})=>joinUp$1(et,_e),joinDown=()=>({state:et,dispatch:_e})=>joinDown$1(et,_e),joinBackward=()=>({state:et,dispatch:_e})=>joinBackward$1(et,_e),joinForward=()=>({state:et,dispatch:_e})=>joinForward$1(et,_e);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(et){const _e=et.split(/-(?!$)/);let rt=_e[_e.length-1];rt==="Space"&&(rt=" ");let nt,it,st,ot;for(let at=0;at<_e.length-1;at+=1){const lt=_e[at];if(/^(cmd|meta|m)$/i.test(lt))ot=!0;else if(/^a(lt)?$/i.test(lt))nt=!0;else if(/^(c|ctrl|control)$/i.test(lt))it=!0;else if(/^s(hift)?$/i.test(lt))st=!0;else if(/^mod$/i.test(lt))isiOS()||isMacOS()?ot=!0:it=!0;else throw new Error(`Unrecognized modifier name: ${lt}`)}return nt&&(rt=`Alt-${rt}`),it&&(rt=`Ctrl-${rt}`),ot&&(rt=`Meta-${rt}`),st&&(rt=`Shift-${rt}`),rt}const keyboardShortcut=et=>({editor:_e,view:rt,tr:nt,dispatch:it})=>{const st=normalizeKeyName(et).split(/-(?!$)/),ot=st.find(ut=>!["Alt","Ctrl","Meta","Shift"].includes(ut)),at=new KeyboardEvent("keydown",{key:ot==="Space"?" ":ot,altKey:st.includes("Alt"),ctrlKey:st.includes("Ctrl"),metaKey:st.includes("Meta"),shiftKey:st.includes("Shift"),bubbles:!0,cancelable:!0}),lt=_e.captureTransaction(()=>{rt.someProp("handleKeyDown",ut=>ut(rt,at))});return lt==null||lt.steps.forEach(ut=>{const ct=ut.map(nt.mapping);ct&&it&&nt.maybeStep(ct)}),!0};function isNodeActive(et,_e,rt={}){const{from:nt,to:it,empty:st}=et.selection,ot=_e?getNodeType(_e,et.schema):null,at=[];et.doc.nodesBetween(nt,it,(dt,ft)=>{if(dt.isText)return;const pt=Math.max(nt,ft),ht=Math.min(it,ft+dt.nodeSize);at.push({node:dt,from:pt,to:ht})});const lt=it-nt,ut=at.filter(dt=>ot?ot.name===dt.node.type.name:!0).filter(dt=>objectIncludes(dt.node.attrs,rt,{strict:!1}));return st?!!ut.length:ut.reduce((dt,ft)=>dt+ft.to-ft.from,0)>=lt}const lift=(et,_e={})=>({state:rt,dispatch:nt})=>{const it=getNodeType(et,rt.schema);return isNodeActive(rt,it,_e)?lift$1(rt,nt):!1},liftEmptyBlock=()=>({state:et,dispatch:_e})=>liftEmptyBlock$1(et,_e),liftListItem=et=>({state:_e,dispatch:rt})=>{const nt=getNodeType(et,_e.schema);return liftListItem$1(nt)(_e,rt)},newlineInCode=()=>({state:et,dispatch:_e})=>newlineInCode$1(et,_e);function getSchemaTypeNameByName(et,_e){return _e.nodes[et]?"node":_e.marks[et]?"mark":null}function deleteProps(et,_e){const rt=typeof _e=="string"?[_e]:_e;return Object.keys(et).reduce((nt,it)=>(rt.includes(it)||(nt[it]=et[it]),nt),{})}const resetAttributes=(et,_e)=>({tr:rt,state:nt,dispatch:it})=>{let st=null,ot=null;const at=getSchemaTypeNameByName(typeof et=="string"?et:et.name,nt.schema);return at?(at==="node"&&(st=getNodeType(et,nt.schema)),at==="mark"&&(ot=getMarkType(et,nt.schema)),it&&rt.selection.ranges.forEach(lt=>{nt.doc.nodesBetween(lt.$from.pos,lt.$to.pos,(ut,ct)=>{st&&st===ut.type&&rt.setNodeMarkup(ct,void 0,deleteProps(ut.attrs,_e)),ot&&ut.marks.length&&ut.marks.forEach(dt=>{ot===dt.type&&rt.addMark(ct,ct+ut.nodeSize,ot.create(deleteProps(dt.attrs,_e)))})})}),!0):!1},scrollIntoView=()=>({tr:et,dispatch:_e})=>(_e&&et.scrollIntoView(),!0),selectAll=()=>({tr:et,commands:_e})=>_e.setTextSelection({from:0,to:et.doc.content.size}),selectNodeBackward=()=>({state:et,dispatch:_e})=>selectNodeBackward$1(et,_e),selectNodeForward=()=>({state:et,dispatch:_e})=>selectNodeForward$1(et,_e),selectParentNode=()=>({state:et,dispatch:_e})=>selectParentNode$1(et,_e),selectTextblockEnd=()=>({state:et,dispatch:_e})=>selectTextblockEnd$1(et,_e),selectTextblockStart=()=>({state:et,dispatch:_e})=>selectTextblockStart$1(et,_e);function createDocument(et,_e,rt={}){return createNodeFromContent(et,_e,{slice:!1,parseOptions:rt})}const setContent=(et,_e=!1,rt={})=>({tr:nt,editor:it,dispatch:st})=>{const{doc:ot}=nt,at=createDocument(et,it.schema,rt);return st&&nt.replaceWith(0,ot.content.size,at).setMeta("preventUpdate",!_e),!0};function combineTransactionSteps(et,_e){const rt=new Transform(et);return _e.forEach(nt=>{nt.steps.forEach(it=>{rt.step(it)})}),rt}function defaultBlockAt(et){for(let _e=0;_e<et.edgeCount;_e+=1){const{type:rt}=et.edge(_e);if(rt.isTextblock&&!rt.hasRequiredAttrs())return rt}return null}function findChildrenInRange(et,_e,rt){const nt=[];return et.nodesBetween(_e.from,_e.to,(it,st)=>{rt(it)&&nt.push({node:it,pos:st})}),nt}function findParentNodeClosestToPos(et,_e){for(let rt=et.depth;rt>0;rt-=1){const nt=et.node(rt);if(_e(nt))return{pos:rt>0?et.before(rt):0,start:et.start(rt),depth:rt,node:nt}}}function findParentNode(et){return _e=>findParentNodeClosestToPos(_e.$from,et)}function getHTMLFromFragment(et,_e){const rt=DOMSerializer.fromSchema(_e).serializeFragment(et),it=document.implementation.createHTMLDocument().createElement("div");return it.appendChild(rt),it.innerHTML}function getText(et,_e){const rt={from:0,to:et.content.size};return getTextBetween(et,rt,_e)}function getMarkAttributes(et,_e){const rt=getMarkType(_e,et.schema),{from:nt,to:it,empty:st}=et.selection,ot=[];st?(et.storedMarks&&ot.push(...et.storedMarks),ot.push(...et.selection.$head.marks())):et.doc.nodesBetween(nt,it,lt=>{ot.push(...lt.marks)});const at=ot.find(lt=>lt.type.name===rt.name);return at?{...at.attrs}:{}}function getNodeAttributes(et,_e){const rt=getNodeType(_e,et.schema),{from:nt,to:it}=et.selection,st=[];et.doc.nodesBetween(nt,it,at=>{st.push(at)});const ot=st.reverse().find(at=>at.type.name===rt.name);return ot?{...ot.attrs}:{}}function getAttributes(et,_e){const rt=getSchemaTypeNameByName(typeof _e=="string"?_e:_e.name,et.schema);return rt==="node"?getNodeAttributes(et,_e):rt==="mark"?getMarkAttributes(et,_e):{}}function removeDuplicates(et,_e=JSON.stringify){const rt={};return et.filter(nt=>{const it=_e(nt);return Object.prototype.hasOwnProperty.call(rt,it)?!1:rt[it]=!0})}function simplifyChangedRanges(et){const _e=removeDuplicates(et);return _e.length===1?_e:_e.filter((rt,nt)=>!_e.filter((st,ot)=>ot!==nt).some(st=>rt.oldRange.from>=st.oldRange.from&&rt.oldRange.to<=st.oldRange.to&&rt.newRange.from>=st.newRange.from&&rt.newRange.to<=st.newRange.to))}function getChangedRanges(et){const{mapping:_e,steps:rt}=et,nt=[];return _e.maps.forEach((it,st)=>{const ot=[];if(it.ranges.length)it.forEach((at,lt)=>{ot.push({from:at,to:lt})});else{const{from:at,to:lt}=rt[st];if(at===void 0||lt===void 0)return;ot.push({from:at,to:lt})}ot.forEach(({from:at,to:lt})=>{const ut=_e.slice(st).map(at,-1),ct=_e.slice(st).map(lt),dt=_e.invert().map(ut,-1),ft=_e.invert().map(ct);nt.push({oldRange:{from:dt,to:ft},newRange:{from:ut,to:ct}})})}),simplifyChangedRanges(nt)}function getMarksBetween(et,_e,rt){const nt=[];return et===_e?rt.resolve(et).marks().forEach(it=>{const st=rt.resolve(et-1),ot=getMarkRange(st,it.type);ot&&nt.push({mark:it,...ot})}):rt.nodesBetween(et,_e,(it,st)=>{nt.push(...it.marks.map(ot=>({from:st,to:st+it.nodeSize,mark:ot})))}),nt}function getSplittedAttributes(et,_e,rt){return Object.fromEntries(Object.entries(rt).filter(([nt])=>{const it=et.find(st=>st.type===_e&&st.name===nt);return it?it.attribute.keepOnSplit:!1}))}function isMarkActive(et,_e,rt={}){const{empty:nt,ranges:it}=et.selection,st=_e?getMarkType(_e,et.schema):null;if(nt)return!!(et.storedMarks||et.selection.$from.marks()).filter(dt=>st?st.name===dt.type.name:!0).find(dt=>objectIncludes(dt.attrs,rt,{strict:!1}));let ot=0;const at=[];if(it.forEach(({$from:dt,$to:ft})=>{const pt=dt.pos,ht=ft.pos;et.doc.nodesBetween(pt,ht,(mt,bt)=>{if(!mt.isText&&!mt.marks.length)return;const gt=Math.max(pt,bt),xt=Math.min(ht,bt+mt.nodeSize),yt=xt-gt;ot+=yt,at.push(...mt.marks.map(vt=>({mark:vt,from:gt,to:xt})))})}),ot===0)return!1;const lt=at.filter(dt=>st?st.name===dt.mark.type.name:!0).filter(dt=>objectIncludes(dt.mark.attrs,rt,{strict:!1})).reduce((dt,ft)=>dt+ft.to-ft.from,0),ut=at.filter(dt=>st?dt.mark.type!==st&&dt.mark.type.excludes(st):!0).reduce((dt,ft)=>dt+ft.to-ft.from,0);return(lt>0?lt+ut:lt)>=ot}function isActive(et,_e,rt={}){if(!_e)return isNodeActive(et,null,rt)||isMarkActive(et,null,rt);const nt=getSchemaTypeNameByName(_e,et.schema);return nt==="node"?isNodeActive(et,_e,rt):nt==="mark"?isMarkActive(et,_e,rt):!1}function isList$2(et,_e){const{nodeExtensions:rt}=splitExtensions(_e),nt=rt.find(ot=>ot.name===et);if(!nt)return!1;const it={name:nt.name,options:nt.options,storage:nt.storage},st=callOrReturn(getExtensionField(nt,"group",it));return typeof st!="string"?!1:st.split(" ").includes("list")}function isNodeEmpty(et){var _e;const rt=(_e=et.type.createAndFill())===null||_e===void 0?void 0:_e.toJSON(),nt=et.toJSON();return JSON.stringify(rt)===JSON.stringify(nt)}function canSetMark(et,_e,rt){var nt;const{selection:it}=_e;let st=null;if(isTextSelection(it)&&(st=it.$cursor),st){const at=(nt=et.storedMarks)!==null&&nt!==void 0?nt:st.marks();return!!rt.isInSet(at)||!at.some(lt=>lt.type.excludes(rt))}const{ranges:ot}=it;return ot.some(({$from:at,$to:lt})=>{let ut=at.depth===0?et.doc.inlineContent&&et.doc.type.allowsMarkType(rt):!1;return et.doc.nodesBetween(at.pos,lt.pos,(ct,dt,ft)=>{if(ut)return!1;if(ct.isInline){const pt=!ft||ft.type.allowsMarkType(rt),ht=!!rt.isInSet(ct.marks)||!ct.marks.some(mt=>mt.type.excludes(rt));ut=pt&&ht}return!ut}),ut})}const setMark=(et,_e={})=>({tr:rt,state:nt,dispatch:it})=>{const{selection:st}=rt,{empty:ot,ranges:at}=st,lt=getMarkType(et,nt.schema);if(it)if(ot){const ut=getMarkAttributes(nt,lt);rt.addStoredMark(lt.create({...ut,..._e}))}else at.forEach(ut=>{const ct=ut.$from.pos,dt=ut.$to.pos;nt.doc.nodesBetween(ct,dt,(ft,pt)=>{const ht=Math.max(pt,ct),mt=Math.min(pt+ft.nodeSize,dt);ft.marks.find(gt=>gt.type===lt)?ft.marks.forEach(gt=>{lt===gt.type&&rt.addMark(ht,mt,lt.create({...gt.attrs,..._e}))}):rt.addMark(ht,mt,lt.create(_e))})});return canSetMark(nt,rt,lt)},setMeta=(et,_e)=>({tr:rt})=>(rt.setMeta(et,_e),!0),setNode=(et,_e={})=>({state:rt,dispatch:nt,chain:it})=>{const st=getNodeType(et,rt.schema);return st.isTextblock?it().command(({commands:ot})=>setBlockType(st,_e)(rt)?!0:ot.clearNodes()).command(({state:ot})=>setBlockType(st,_e)(ot,nt)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=et=>({tr:_e,dispatch:rt})=>{if(rt){const{doc:nt}=_e,it=minMax(et,0,nt.content.size),st=NodeSelection.create(nt,it);_e.setSelection(st)}return!0},setTextSelection=et=>({tr:_e,dispatch:rt})=>{if(rt){const{doc:nt}=_e,{from:it,to:st}=typeof et=="number"?{from:et,to:et}:et,ot=TextSelection.atStart(nt).from,at=TextSelection.atEnd(nt).to,lt=minMax(it,ot,at),ut=minMax(st,ot,at),ct=TextSelection.create(nt,lt,ut);_e.setSelection(ct)}return!0},sinkListItem=et=>({state:_e,dispatch:rt})=>{const nt=getNodeType(et,_e.schema);return sinkListItem$1(nt)(_e,rt)};function ensureMarks(et,_e){const rt=et.storedMarks||et.selection.$to.parentOffset&&et.selection.$from.marks();if(rt){const nt=rt.filter(it=>_e==null?void 0:_e.includes(it.type.name));et.tr.ensureMarks(nt)}}const splitBlock=({keepMarks:et=!0}={})=>({tr:_e,state:rt,dispatch:nt,editor:it})=>{const{selection:st,doc:ot}=_e,{$from:at,$to:lt}=st,ut=it.extensionManager.attributes,ct=getSplittedAttributes(ut,at.node().type.name,at.node().attrs);if(st instanceof NodeSelection&&st.node.isBlock)return!at.parentOffset||!canSplit(ot,at.pos)?!1:(nt&&(et&&ensureMarks(rt,it.extensionManager.splittableMarks),_e.split(at.pos).scrollIntoView()),!0);if(!at.parent.isBlock)return!1;if(nt){const dt=lt.parentOffset===lt.parent.content.size;st instanceof TextSelection&&_e.deleteSelection();const ft=at.depth===0?void 0:defaultBlockAt(at.node(-1).contentMatchAt(at.indexAfter(-1)));let pt=dt&&ft?[{type:ft,attrs:ct}]:void 0,ht=canSplit(_e.doc,_e.mapping.map(at.pos),1,pt);if(!pt&&!ht&&canSplit(_e.doc,_e.mapping.map(at.pos),1,ft?[{type:ft}]:void 0)&&(ht=!0,pt=ft?[{type:ft,attrs:ct}]:void 0),ht&&(_e.split(_e.mapping.map(at.pos),1,pt),ft&&!dt&&!at.parentOffset&&at.parent.type!==ft)){const mt=_e.mapping.map(at.before()),bt=_e.doc.resolve(mt);at.node(-1).canReplaceWith(bt.index(),bt.index()+1,ft)&&_e.setNodeMarkup(_e.mapping.map(at.before()),ft)}et&&ensureMarks(rt,it.extensionManager.splittableMarks),_e.scrollIntoView()}return!0},splitListItem=et=>({tr:_e,state:rt,dispatch:nt,editor:it})=>{var st;const ot=getNodeType(et,rt.schema),{$from:at,$to:lt}=rt.selection,ut=rt.selection.node;if(ut&&ut.isBlock||at.depth<2||!at.sameParent(lt))return!1;const ct=at.node(-1);if(ct.type!==ot)return!1;const dt=it.extensionManager.attributes;if(at.parent.content.size===0&&at.node(-1).childCount===at.indexAfter(-1)){if(at.depth===2||at.node(-3).type!==ot||at.index(-2)!==at.node(-2).childCount-1)return!1;if(nt){let bt=Fragment.empty;const gt=at.index(-1)?1:at.index(-2)?2:3;for(let Ot=at.depth-gt;Ot>=at.depth-3;Ot-=1)bt=Fragment.from(at.node(Ot).copy(bt));const xt=at.indexAfter(-1)<at.node(-2).childCount?1:at.indexAfter(-2)<at.node(-3).childCount?2:3,yt=getSplittedAttributes(dt,at.node().type.name,at.node().attrs),vt=((st=ot.contentMatch.defaultType)===null||st===void 0?void 0:st.createAndFill(yt))||void 0;bt=bt.append(Fragment.from(ot.createAndFill(null,vt)||void 0));const Pt=at.before(at.depth-(gt-1));_e.replace(Pt,at.after(-xt),new Slice(bt,4-gt,0));let St=-1;_e.doc.nodesBetween(Pt,_e.doc.content.size,(Ot,Et)=>{if(St>-1)return!1;Ot.isTextblock&&Ot.content.size===0&&(St=Et+1)}),St>-1&&_e.setSelection(TextSelection.near(_e.doc.resolve(St))),_e.scrollIntoView()}return!0}const ft=lt.pos===at.end()?ct.contentMatchAt(0).defaultType:null,pt=getSplittedAttributes(dt,ct.type.name,ct.attrs),ht=getSplittedAttributes(dt,at.node().type.name,at.node().attrs);_e.delete(at.pos,lt.pos);const mt=ft?[{type:ot,attrs:pt},{type:ft,attrs:ht}]:[{type:ot,attrs:pt}];if(!canSplit(_e.doc,at.pos,2))return!1;if(nt){const{selection:bt,storedMarks:gt}=rt,{splittableMarks:xt}=it.extensionManager,yt=gt||bt.$to.parentOffset&&bt.$from.marks();if(_e.split(at.pos,2,mt).scrollIntoView(),!yt||!nt)return!0;const vt=yt.filter(Pt=>xt.includes(Pt.type.name));_e.ensureMarks(vt)}return!0},joinListBackwards=(et,_e)=>{const rt=findParentNode(ot=>ot.type===_e)(et.selection);if(!rt)return!0;const nt=et.doc.resolve(Math.max(0,rt.pos-1)).before(rt.depth);if(nt===void 0)return!0;const it=et.doc.nodeAt(nt);return rt.node.type===(it==null?void 0:it.type)&&canJoin(et.doc,rt.pos)&&et.join(rt.pos),!0},joinListForwards=(et,_e)=>{const rt=findParentNode(ot=>ot.type===_e)(et.selection);if(!rt)return!0;const nt=et.doc.resolve(rt.start).after(rt.depth);if(nt===void 0)return!0;const it=et.doc.nodeAt(nt);return rt.node.type===(it==null?void 0:it.type)&&canJoin(et.doc,nt)&&et.join(nt),!0},toggleList=(et,_e,rt,nt={})=>({editor:it,tr:st,state:ot,dispatch:at,chain:lt,commands:ut,can:ct})=>{const{extensions:dt,splittableMarks:ft}=it.extensionManager,pt=getNodeType(et,ot.schema),ht=getNodeType(_e,ot.schema),{selection:mt,storedMarks:bt}=ot,{$from:gt,$to:xt}=mt,yt=gt.blockRange(xt),vt=bt||mt.$to.parentOffset&&mt.$from.marks();if(!yt)return!1;const Pt=findParentNode(St=>isList$2(St.type.name,dt))(mt);if(yt.depth>=1&&Pt&&yt.depth-Pt.depth<=1){if(Pt.node.type===pt)return ut.liftListItem(ht);if(isList$2(Pt.node.type.name,dt)&&pt.validContent(Pt.node.content)&&at)return lt().command(()=>(st.setNodeMarkup(Pt.pos,pt),!0)).command(()=>joinListBackwards(st,pt)).command(()=>joinListForwards(st,pt)).run()}return!rt||!vt||!at?lt().command(()=>ct().wrapInList(pt,nt)?!0:ut.clearNodes()).wrapInList(pt,nt).command(()=>joinListBackwards(st,pt)).command(()=>joinListForwards(st,pt)).run():lt().command(()=>{const St=ct().wrapInList(pt,nt),Ot=vt.filter(Et=>ft.includes(Et.type.name));return st.ensureMarks(Ot),St?!0:ut.clearNodes()}).wrapInList(pt,nt).command(()=>joinListBackwards(st,pt)).command(()=>joinListForwards(st,pt)).run()},toggleMark=(et,_e={},rt={})=>({state:nt,commands:it})=>{const{extendEmptyMarkRange:st=!1}=rt,ot=getMarkType(et,nt.schema);return isMarkActive(nt,ot,_e)?it.unsetMark(ot,{extendEmptyMarkRange:st}):it.setMark(ot,_e)},toggleNode=(et,_e,rt={})=>({state:nt,commands:it})=>{const st=getNodeType(et,nt.schema),ot=getNodeType(_e,nt.schema);return isNodeActive(nt,st,rt)?it.setNode(ot):it.setNode(st,rt)},toggleWrap=(et,_e={})=>({state:rt,commands:nt})=>{const it=getNodeType(et,rt.schema);return isNodeActive(rt,it,_e)?nt.lift(it):nt.wrapIn(it,_e)},undoInputRule=()=>({state:et,dispatch:_e})=>{const rt=et.plugins;for(let nt=0;nt<rt.length;nt+=1){const it=rt[nt];let st;if(it.spec.isInputRules&&(st=it.getState(et))){if(_e){const ot=et.tr,at=st.transform;for(let lt=at.steps.length-1;lt>=0;lt-=1)ot.step(at.steps[lt].invert(at.docs[lt]));if(st.text){const lt=ot.doc.resolve(st.from).marks();ot.replaceWith(st.from,st.to,et.schema.text(st.text,lt))}else ot.delete(st.from,st.to)}return!0}}return!1},unsetAllMarks=()=>({tr:et,dispatch:_e})=>{const{selection:rt}=et,{empty:nt,ranges:it}=rt;return nt||_e&&it.forEach(st=>{et.removeMark(st.$from.pos,st.$to.pos)}),!0},unsetMark=(et,_e={})=>({tr:rt,state:nt,dispatch:it})=>{var st;const{extendEmptyMarkRange:ot=!1}=_e,{selection:at}=rt,lt=getMarkType(et,nt.schema),{$from:ut,empty:ct,ranges:dt}=at;if(!it)return!0;if(ct&&ot){let{from:ft,to:pt}=at;const ht=(st=ut.marks().find(bt=>bt.type===lt))===null||st===void 0?void 0:st.attrs,mt=getMarkRange(ut,lt,ht);mt&&(ft=mt.from,pt=mt.to),rt.removeMark(ft,pt,lt)}else dt.forEach(ft=>{rt.removeMark(ft.$from.pos,ft.$to.pos,lt)});return rt.removeStoredMark(lt),!0},updateAttributes=(et,_e={})=>({tr:rt,state:nt,dispatch:it})=>{let st=null,ot=null;const at=getSchemaTypeNameByName(typeof et=="string"?et:et.name,nt.schema);return at?(at==="node"&&(st=getNodeType(et,nt.schema)),at==="mark"&&(ot=getMarkType(et,nt.schema)),it&&rt.selection.ranges.forEach(lt=>{const ut=lt.$from.pos,ct=lt.$to.pos;nt.doc.nodesBetween(ut,ct,(dt,ft)=>{st&&st===dt.type&&rt.setNodeMarkup(ft,void 0,{...dt.attrs,..._e}),ot&&dt.marks.length&&dt.marks.forEach(pt=>{if(ot===pt.type){const ht=Math.max(ft,ut),mt=Math.min(ft+dt.nodeSize,ct);rt.addMark(ht,mt,ot.create({...pt.attrs,..._e}))}})})}),!0):!1},wrapIn=(et,_e={})=>({state:rt,dispatch:nt})=>{const it=getNodeType(et,rt.schema);return wrapIn$1(it,_e)(rt,nt)},wrapInList=(et,_e={})=>({state:rt,dispatch:nt})=>{const it=getNodeType(et,rt.schema);return wrapInList$1(it,_e)(rt,nt)};var commands=Object.freeze({__proto__:null,blur,clearContent,clearNodes,command,createParagraphNear,deleteCurrentNode,deleteNode,deleteRange,deleteSelection,enter,exitCode,extendMarkRange,first,focus,forEach,insertContent,insertContentAt,joinUp,joinDown,joinBackward,joinForward,keyboardShortcut,lift,liftEmptyBlock,liftListItem,newlineInCode,resetAttributes,scrollIntoView,selectAll,selectNodeBackward,selectNodeForward,selectParentNode,selectTextblockEnd,selectTextblockStart,setContent,setMark,setMeta,setNode,setNodeSelection,setTextSelection,sinkListItem,splitBlock,splitListItem,toggleList,toggleMark,toggleNode,toggleWrap,undoInputRule,unsetAllMarks,unsetMark,updateAttributes,wrapIn,wrapInList});const Commands=Extension.create({name:"commands",addCommands(){return{...commands}}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:et}=this;return[new Plugin({key:new PluginKey("focusEvents"),props:{handleDOMEvents:{focus:(_e,rt)=>{et.isFocused=!0;const nt=et.state.tr.setMeta("focus",{event:rt}).setMeta("addToHistory",!1);return _e.dispatch(nt),!1},blur:(_e,rt)=>{et.isFocused=!1;const nt=et.state.tr.setMeta("blur",{event:rt}).setMeta("addToHistory",!1);return _e.dispatch(nt),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const et=()=>this.editor.commands.first(({commands:ot})=>[()=>ot.undoInputRule(),()=>ot.command(({tr:at})=>{const{selection:lt,doc:ut}=at,{empty:ct,$anchor:dt}=lt,{pos:ft,parent:pt}=dt,ht=Selection.atStart(ut).from===ft;return!ct||!ht||!pt.type.isTextblock||pt.textContent.length?!1:ot.clearNodes()}),()=>ot.deleteSelection(),()=>ot.joinBackward(),()=>ot.selectNodeBackward()]),_e=()=>this.editor.commands.first(({commands:ot})=>[()=>ot.deleteSelection(),()=>ot.deleteCurrentNode(),()=>ot.joinForward(),()=>ot.selectNodeForward()]),nt={Enter:()=>this.editor.commands.first(({commands:ot})=>[()=>ot.newlineInCode(),()=>ot.createParagraphNear(),()=>ot.liftEmptyBlock(),()=>ot.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:et,"Mod-Backspace":et,"Shift-Backspace":et,Delete:_e,"Mod-Delete":_e,"Mod-a":()=>this.editor.commands.selectAll()},it={...nt},st={...nt,"Ctrl-h":et,"Alt-Backspace":et,"Ctrl-d":_e,"Ctrl-Alt-Backspace":_e,"Alt-Delete":_e,"Alt-d":_e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?st:it},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(et,_e,rt)=>{if(!(et.some(ht=>ht.docChanged)&&!_e.doc.eq(rt.doc)))return;const{empty:it,from:st,to:ot}=_e.selection,at=Selection.atStart(_e.doc).from,lt=Selection.atEnd(_e.doc).to;if(it||!(st===at&&ot===lt)||!(rt.doc.textBetween(0,rt.doc.content.size," "," ").length===0))return;const dt=rt.tr,ft=createChainableState({state:rt,transaction:dt}),{commands:pt}=new CommandManager({editor:this.editor,state:ft});if(pt.clearNodes(),!!dt.steps.length)return dt}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var extensions$1=Object.freeze({__proto__:null,ClipboardTextSerializer,Commands,Editable,FocusEvents,Keymap,Tabindex});const style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag(et,_e){const rt=document.querySelector("style[data-tiptap-style]");if(rt!==null)return rt;const nt=document.createElement("style");return _e&&nt.setAttribute("nonce",_e),nt.setAttribute("data-tiptap-style",""),nt.innerHTML=et,document.getElementsByTagName("head")[0].appendChild(nt),nt}let Editor$1=class extends EventEmitter{constructor(_e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(_e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(_e={}){this.options={...this.options,..._e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(_e,rt=!0){this.setOptions({editable:_e}),rt&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(_e,rt){const nt=isFunction$2(rt)?rt(_e,[...this.state.plugins]):[...this.state.plugins,_e],it=this.state.reconfigure({plugins:nt});this.view.updateState(it)}unregisterPlugin(_e){if(this.isDestroyed)return;const rt=typeof _e=="string"?`${_e}$`:_e.key,nt=this.state.reconfigure({plugins:this.state.plugins.filter(it=>!it.key.startsWith(rt))});this.view.updateState(nt)}createExtensionManager(){const rt=[...this.options.enableCoreExtensions?Object.values(extensions$1):[],...this.options.extensions].filter(nt=>["extension","node","mark"].includes(nt==null?void 0:nt.type));this.extensionManager=new ExtensionManager(rt,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const _e=createDocument(this.options.content,this.schema,this.options.parseOptions),rt=resolveFocusPosition(_e,this.options.autofocus);this.view=new EditorView(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:_e,selection:rt||void 0})});const nt=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(nt),this.createNodeViews();const it=this.view.dom;it.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(_e){this.isCapturingTransaction=!0,_e(),this.isCapturingTransaction=!1;const rt=this.capturedTransaction;return this.capturedTransaction=null,rt}dispatchTransaction(_e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=_e;return}_e.steps.forEach(ot=>{var at;return(at=this.capturedTransaction)===null||at===void 0?void 0:at.step(ot)});return}const rt=this.state.apply(_e),nt=!this.state.selection.eq(rt.selection);this.view.updateState(rt),this.emit("transaction",{editor:this,transaction:_e}),nt&&this.emit("selectionUpdate",{editor:this,transaction:_e});const it=_e.getMeta("focus"),st=_e.getMeta("blur");it&&this.emit("focus",{editor:this,event:it.event,transaction:_e}),st&&this.emit("blur",{editor:this,event:st.event,transaction:_e}),!(!_e.docChanged||_e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:_e})}getAttributes(_e){return getAttributes(this.state,_e)}isActive(_e,rt){const nt=typeof _e=="string"?_e:null,it=typeof _e=="string"?rt:_e;return isActive(this.state,nt,it)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(_e){const{blockSeparator:rt=`

`,textSerializers:nt={}}=_e||{};return getText(this.state.doc,{blockSeparator:rt,textSerializers:{...getTextSerializersFromSchema(this.schema),...nt}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var _e;return!(!((_e=this.view)===null||_e===void 0)&&_e.docView)}};class Mark{constructor(_e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,..._e},this.name=this.config.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new Mark(_e)}configure(_e={}){const rt=this.extend();return rt.options=mergeDeep(this.options,_e),rt.storage=callOrReturn(getExtensionField(rt,"addStorage",{name:rt.name,options:rt.options})),rt}extend(_e={}){const rt=new Mark(_e);return rt.parent=this,this.child=rt,rt.name=_e.name?_e.name:rt.parent.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${rt.name}".`),rt.options=callOrReturn(getExtensionField(rt,"addOptions",{name:rt.name})),rt.storage=callOrReturn(getExtensionField(rt,"addStorage",{name:rt.name,options:rt.options})),rt}static handleExit({editor:_e,mark:rt}){const{tr:nt}=_e.state,it=_e.state.selection.$from;if(it.pos===it.end()){const ot=it.marks();if(!!!ot.find(ut=>(ut==null?void 0:ut.type.name)===rt.name))return!1;const lt=ot.find(ut=>(ut==null?void 0:ut.type.name)===rt.name);return lt&&nt.removeStoredMark(lt),nt.insertText(" ",it.pos),_e.view.dispatch(nt),!0}return!1}}class Node{constructor(_e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,..._e},this.name=this.config.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new Node(_e)}configure(_e={}){const rt=this.extend();return rt.options=mergeDeep(this.options,_e),rt.storage=callOrReturn(getExtensionField(rt,"addStorage",{name:rt.name,options:rt.options})),rt}extend(_e={}){const rt=new Node(_e);return rt.parent=this,this.child=rt,rt.name=_e.name?_e.name:rt.parent.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${rt.name}".`),rt.options=callOrReturn(getExtensionField(rt,"addOptions",{name:rt.name})),rt.storage=callOrReturn(getExtensionField(rt,"addStorage",{name:rt.name,options:rt.options})),rt}}function markPasteRule(et){return new PasteRule({find:et.find,handler:({state:_e,range:rt,match:nt})=>{const it=callOrReturn(et.getAttributes,void 0,nt);if(it===!1||it===null)return null;const{tr:st}=_e,ot=nt[nt.length-1],at=nt[0];let lt=rt.to;if(ot){const ut=at.search(/\S/),ct=rt.from+at.indexOf(ot),dt=ct+ot.length;if(getMarksBetween(rt.from,rt.to,_e.doc).filter(pt=>pt.mark.type.excluded.find(mt=>mt===et.type&&mt!==pt.mark.type)).filter(pt=>pt.to>ct).length)return null;dt<rt.to&&st.delete(dt,rt.to),ct>rt.from&&st.delete(rt.from+ut,ct),lt=rt.from+ut+ot.length,st.addMark(rt.from+ut,lt,et.type.create(it||{})),st.removeStoredMark(et.type)}}})}function escapeForRegEx(et){return et.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}const Document=Node.create({name:"doc",topNode:!0,content:"block+"}),HardBreak=Node.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:et}){return["br",mergeAttributes(this.options.HTMLAttributes,et)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:et,chain:_e,state:rt,editor:nt})=>et.first([()=>et.exitCode(),()=>et.command(()=>{const{selection:it,storedMarks:st}=rt;if(it.$from.parent.type.spec.isolating)return!1;const{keepMarks:ot}=this.options,{splittableMarks:at}=nt.extensionManager,lt=st||it.$to.parentOffset&&it.$from.marks();return _e().insertContent({type:this.name}).command(({tr:ut,dispatch:ct})=>{if(ct&&lt&&ot){const dt=lt.filter(ft=>at.includes(ft.type.name));ut.ensureMarks(dt)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(_e){return _e.length?(_e=RopeSequence.from(_e),!this.length&&_e||_e.length<GOOD_LEAF_SIZE&&this.leafAppend(_e)||this.length<GOOD_LEAF_SIZE&&_e.leafPrepend(this)||this.appendInner(_e)):this};RopeSequence.prototype.prepend=function(_e){return _e.length?RopeSequence.from(_e).append(this):this};RopeSequence.prototype.appendInner=function(_e){return new Append(this,_e)};RopeSequence.prototype.slice=function(_e,rt){return _e===void 0&&(_e=0),rt===void 0&&(rt=this.length),_e>=rt?RopeSequence.empty:this.sliceInner(Math.max(0,_e),Math.min(this.length,rt))};RopeSequence.prototype.get=function(_e){if(!(_e<0||_e>=this.length))return this.getInner(_e)};RopeSequence.prototype.forEach=function(_e,rt,nt){rt===void 0&&(rt=0),nt===void 0&&(nt=this.length),rt<=nt?this.forEachInner(_e,rt,nt,0):this.forEachInvertedInner(_e,rt,nt,0)};RopeSequence.prototype.map=function(_e,rt,nt){rt===void 0&&(rt=0),nt===void 0&&(nt=this.length);var it=[];return this.forEach(function(st,ot){return it.push(_e(st,ot))},rt,nt),it};RopeSequence.from=function(_e){return _e instanceof RopeSequence?_e:_e&&_e.length?new Leaf(_e):RopeSequence.empty};var Leaf=function(et){function _e(nt){et.call(this),this.values=nt}et&&(_e.__proto__=et),_e.prototype=Object.create(et&&et.prototype),_e.prototype.constructor=_e;var rt={length:{configurable:!0},depth:{configurable:!0}};return _e.prototype.flatten=function(){return this.values},_e.prototype.sliceInner=function(it,st){return it==0&&st==this.length?this:new _e(this.values.slice(it,st))},_e.prototype.getInner=function(it){return this.values[it]},_e.prototype.forEachInner=function(it,st,ot,at){for(var lt=st;lt<ot;lt++)if(it(this.values[lt],at+lt)===!1)return!1},_e.prototype.forEachInvertedInner=function(it,st,ot,at){for(var lt=st-1;lt>=ot;lt--)if(it(this.values[lt],at+lt)===!1)return!1},_e.prototype.leafAppend=function(it){if(this.length+it.length<=GOOD_LEAF_SIZE)return new _e(this.values.concat(it.flatten()))},_e.prototype.leafPrepend=function(it){if(this.length+it.length<=GOOD_LEAF_SIZE)return new _e(it.flatten().concat(this.values))},rt.length.get=function(){return this.values.length},rt.depth.get=function(){return 0},Object.defineProperties(_e.prototype,rt),_e}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(et){function _e(rt,nt){et.call(this),this.left=rt,this.right=nt,this.length=rt.length+nt.length,this.depth=Math.max(rt.depth,nt.depth)+1}return et&&(_e.__proto__=et),_e.prototype=Object.create(et&&et.prototype),_e.prototype.constructor=_e,_e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},_e.prototype.getInner=function(nt){return nt<this.left.length?this.left.get(nt):this.right.get(nt-this.left.length)},_e.prototype.forEachInner=function(nt,it,st,ot){var at=this.left.length;if(it<at&&this.left.forEachInner(nt,it,Math.min(st,at),ot)===!1||st>at&&this.right.forEachInner(nt,Math.max(it-at,0),Math.min(this.length,st)-at,ot+at)===!1)return!1},_e.prototype.forEachInvertedInner=function(nt,it,st,ot){var at=this.left.length;if(it>at&&this.right.forEachInvertedInner(nt,it-at,Math.max(st,at)-at,ot+at)===!1||st<at&&this.left.forEachInvertedInner(nt,Math.min(it,at),st,ot)===!1)return!1},_e.prototype.sliceInner=function(nt,it){if(nt==0&&it==this.length)return this;var st=this.left.length;return it<=st?this.left.slice(nt,it):nt>=st?this.right.slice(nt-st,it-st):this.left.slice(nt,st).append(this.right.slice(0,it-st))},_e.prototype.leafAppend=function(nt){var it=this.right.leafAppend(nt);if(it)return new _e(this.left,it)},_e.prototype.leafPrepend=function(nt){var it=this.left.leafPrepend(nt);if(it)return new _e(it,this.right)},_e.prototype.appendInner=function(nt){return this.left.depth>=Math.max(this.right.depth,nt.depth)+1?new _e(this.left,new _e(this.right,nt)):new _e(this,nt)},_e}(RopeSequence),ropeSequence=RopeSequence;const max_empty_items=500;class Branch{constructor(_e,rt){this.items=_e,this.eventCount=rt}popEvent(_e,rt){if(this.eventCount==0)return null;let nt=this.items.length;for(;;nt--)if(this.items.get(nt-1).selection){--nt;break}let it,st;rt&&(it=this.remapping(nt,this.items.length),st=it.maps.length);let ot=_e.tr,at,lt,ut=[],ct=[];return this.items.forEach((dt,ft)=>{if(!dt.step){it||(it=this.remapping(nt,ft+1),st=it.maps.length),st--,ct.push(dt);return}if(it){ct.push(new Item(dt.map));let pt=dt.step.map(it.slice(st)),ht;pt&&ot.maybeStep(pt).doc&&(ht=ot.mapping.maps[ot.mapping.maps.length-1],ut.push(new Item(ht,void 0,void 0,ut.length+ct.length))),st--,ht&&it.appendMap(ht,st)}else ot.maybeStep(dt.step);if(dt.selection)return at=it?dt.selection.map(it.slice(st)):dt.selection,lt=new Branch(this.items.slice(0,nt).append(ct.reverse().concat(ut)),this.eventCount-1),!1},this.items.length,0),{remaining:lt,transform:ot,selection:at}}addTransform(_e,rt,nt,it){let st=[],ot=this.eventCount,at=this.items,lt=!it&&at.length?at.get(at.length-1):null;for(let ct=0;ct<_e.steps.length;ct++){let dt=_e.steps[ct].invert(_e.docs[ct]),ft=new Item(_e.mapping.maps[ct],dt,rt),pt;(pt=lt&&lt.merge(ft))&&(ft=pt,ct?st.pop():at=at.slice(0,at.length-1)),st.push(ft),rt&&(ot++,rt=void 0),it||(lt=ft)}let ut=ot-nt.depth;return ut>DEPTH_OVERFLOW&&(at=cutOffEvents(at,ut),ot-=ut),new Branch(at.append(st),ot)}remapping(_e,rt){let nt=new Mapping;return this.items.forEach((it,st)=>{let ot=it.mirrorOffset!=null&&st-it.mirrorOffset>=_e?nt.maps.length-it.mirrorOffset:void 0;nt.appendMap(it.map,ot)},_e,rt),nt}addMaps(_e){return this.eventCount==0?this:new Branch(this.items.append(_e.map(rt=>new Item(rt))),this.eventCount)}rebased(_e,rt){if(!this.eventCount)return this;let nt=[],it=Math.max(0,this.items.length-rt),st=_e.mapping,ot=_e.steps.length,at=this.eventCount;this.items.forEach(ft=>{ft.selection&&at--},it);let lt=rt;this.items.forEach(ft=>{let pt=st.getMirror(--lt);if(pt==null)return;ot=Math.min(ot,pt);let ht=st.maps[pt];if(ft.step){let mt=_e.steps[pt].invert(_e.docs[pt]),bt=ft.selection&&ft.selection.map(st.slice(lt+1,pt));bt&&at++,nt.push(new Item(ht,mt,bt))}else nt.push(new Item(ht))},it);let ut=[];for(let ft=rt;ft<ot;ft++)ut.push(new Item(st.maps[ft]));let ct=this.items.slice(0,it).append(ut).append(nt),dt=new Branch(ct,at);return dt.emptyItemCount()>max_empty_items&&(dt=dt.compress(this.items.length-nt.length)),dt}emptyItemCount(){let _e=0;return this.items.forEach(rt=>{rt.step||_e++}),_e}compress(_e=this.items.length){let rt=this.remapping(0,_e),nt=rt.maps.length,it=[],st=0;return this.items.forEach((ot,at)=>{if(at>=_e)it.push(ot),ot.selection&&st++;else if(ot.step){let lt=ot.step.map(rt.slice(nt)),ut=lt&&lt.getMap();if(nt--,ut&&rt.appendMap(ut,nt),lt){let ct=ot.selection&&ot.selection.map(rt.slice(nt));ct&&st++;let dt=new Item(ut.invert(),lt,ct),ft,pt=it.length-1;(ft=it.length&&it[pt].merge(dt))?it[pt]=ft:it.push(dt)}}else ot.map&&nt--},this.items.length,0),new Branch(ropeSequence.from(it.reverse()),st)}}Branch.empty=new Branch(ropeSequence.empty,0);function cutOffEvents(et,_e){let rt;return et.forEach((nt,it)=>{if(nt.selection&&_e--==0)return rt=it,!1}),et.slice(rt)}class Item{constructor(_e,rt,nt,it){this.map=_e,this.step=rt,this.selection=nt,this.mirrorOffset=it}merge(_e){if(this.step&&_e.step&&!_e.selection){let rt=_e.step.merge(this.step);if(rt)return new Item(rt.getMap().invert(),rt,this.selection)}}}class HistoryState{constructor(_e,rt,nt,it,st){this.done=_e,this.undone=rt,this.prevRanges=nt,this.prevTime=it,this.prevComposition=st}}const DEPTH_OVERFLOW=20;function applyTransaction(et,_e,rt,nt){let it=rt.getMeta(historyKey),st;if(it)return it.historyState;rt.getMeta(closeHistoryKey)&&(et=new HistoryState(et.done,et.undone,null,0,-1));let ot=rt.getMeta("appendedTransaction");if(rt.steps.length==0)return et;if(ot&&ot.getMeta(historyKey))return ot.getMeta(historyKey).redo?new HistoryState(et.done.addTransform(rt,void 0,nt,mustPreserveItems(_e)),et.undone,rangesFor(rt.mapping.maps[rt.steps.length-1]),et.prevTime,et.prevComposition):new HistoryState(et.done,et.undone.addTransform(rt,void 0,nt,mustPreserveItems(_e)),null,et.prevTime,et.prevComposition);if(rt.getMeta("addToHistory")!==!1&&!(ot&&ot.getMeta("addToHistory")===!1)){let at=rt.getMeta("composition"),lt=et.prevTime==0||!ot&&et.prevComposition!=at&&(et.prevTime<(rt.time||0)-nt.newGroupDelay||!isAdjacentTo(rt,et.prevRanges)),ut=ot?mapRanges(et.prevRanges,rt.mapping):rangesFor(rt.mapping.maps[rt.steps.length-1]);return new HistoryState(et.done.addTransform(rt,lt?_e.selection.getBookmark():void 0,nt,mustPreserveItems(_e)),Branch.empty,ut,rt.time,at??et.prevComposition)}else return(st=rt.getMeta("rebased"))?new HistoryState(et.done.rebased(rt,st),et.undone.rebased(rt,st),mapRanges(et.prevRanges,rt.mapping),et.prevTime,et.prevComposition):new HistoryState(et.done.addMaps(rt.mapping.maps),et.undone.addMaps(rt.mapping.maps),mapRanges(et.prevRanges,rt.mapping),et.prevTime,et.prevComposition)}function isAdjacentTo(et,_e){if(!_e)return!1;if(!et.docChanged)return!0;let rt=!1;return et.mapping.maps[0].forEach((nt,it)=>{for(let st=0;st<_e.length;st+=2)nt<=_e[st+1]&&it>=_e[st]&&(rt=!0)}),rt}function rangesFor(et){let _e=[];return et.forEach((rt,nt,it,st)=>_e.push(it,st)),_e}function mapRanges(et,_e){if(!et)return null;let rt=[];for(let nt=0;nt<et.length;nt+=2){let it=_e.map(et[nt],1),st=_e.map(et[nt+1],-1);it<=st&&rt.push(it,st)}return rt}function histTransaction(et,_e,rt,nt){let it=mustPreserveItems(_e),st=historyKey.get(_e).spec.config,ot=(nt?et.undone:et.done).popEvent(_e,it);if(!ot)return;let at=ot.selection.resolve(ot.transform.doc),lt=(nt?et.done:et.undone).addTransform(ot.transform,_e.selection.getBookmark(),st,it),ut=new HistoryState(nt?lt:ot.remaining,nt?ot.remaining:lt,null,0,-1);rt(ot.transform.setSelection(at).setMeta(historyKey,{redo:nt,historyState:ut}).scrollIntoView())}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(et){let _e=et.plugins;if(cachedPreserveItemsPlugins!=_e){cachedPreserveItems=!1,cachedPreserveItemsPlugins=_e;for(let rt=0;rt<_e.length;rt++)if(_e[rt].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(et={}){return et={depth:et.depth||100,newGroupDelay:et.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(_e,rt,nt){return applyTransaction(rt,nt,_e,et)}},config:et,props:{handleDOMEvents:{beforeinput(_e,rt){let nt=rt.inputType,it=nt=="historyUndo"?undo:nt=="historyRedo"?redo:null;return it?(rt.preventDefault(),it(_e.state,_e.dispatch)):!1}}}})}const undo=(et,_e)=>{let rt=historyKey.getState(et);return!rt||rt.done.eventCount==0?!1:(_e&&histTransaction(rt,et,_e,!1),!0)},redo=(et,_e)=>{let rt=historyKey.getState(et);return!rt||rt.undone.eventCount==0?!1:(_e&&histTransaction(rt,et,_e,!0),!0)},History=Extension.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:et,dispatch:_e})=>undo(et,_e),redo:()=>({state:et,dispatch:_e})=>redo(et,_e)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),encodedTlds="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",assign$1=(et,_e)=>{for(const rt in _e)et[rt]=_e[rt];return et},numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(et,_e){return et in _e||(_e[et]=[]),_e[et]}function addToGroups(et,_e,rt){_e[numeric]&&(_e[asciinumeric]=!0,_e[alphanumeric]=!0),_e[ascii]&&(_e[asciinumeric]=!0,_e[alpha]=!0),_e[asciinumeric]&&(_e[alphanumeric]=!0),_e[alpha]&&(_e[alphanumeric]=!0),_e[alphanumeric]&&(_e[domain]=!0),_e[emoji]&&(_e[domain]=!0);for(const nt in _e){const it=registerGroup(nt,rt);it.indexOf(et)<0&&it.push(et)}}function flagsForToken(et,_e){const rt={};for(const nt in _e)_e[nt].indexOf(et)>=0&&(rt[nt]=!0);return rt}function State(et){et===void 0&&(et=null),this.j={},this.jr=[],this.jd=null,this.t=et}State.groups={};State.prototype={accepts(){return!!this.t},go(et){const _e=this,rt=_e.j[et];if(rt)return rt;for(let nt=0;nt<_e.jr.length;nt++){const it=_e.jr[nt][0],st=_e.jr[nt][1];if(st&&it.test(et))return st}return _e.jd},has(et,_e){return _e===void 0&&(_e=!1),_e?et in this.j:!!this.go(et)},ta(et,_e,rt,nt){for(let it=0;it<et.length;it++)this.tt(et[it],_e,rt,nt)},tr(et,_e,rt,nt){nt=nt||State.groups;let it;return _e&&_e.j?it=_e:(it=new State(_e),rt&&nt&&addToGroups(_e,rt,nt)),this.jr.push([et,it]),it},ts(et,_e,rt,nt){let it=this;const st=et.length;if(!st)return it;for(let ot=0;ot<st-1;ot++)it=it.tt(et[ot]);return it.tt(et[st-1],_e,rt,nt)},tt(et,_e,rt,nt){nt=nt||State.groups;const it=this;if(_e&&_e.j)return it.j[et]=_e,_e;const st=_e;let ot,at=it.go(et);if(at?(ot=new State,assign$1(ot.j,at.j),ot.jr.push.apply(ot.jr,at.jr),ot.jd=at.jd,ot.t=at.t):ot=new State,st){if(nt)if(ot.t&&typeof ot.t=="string"){const lt=assign$1(flagsForToken(ot.t,nt),rt);addToGroups(st,lt,nt)}else rt&&addToGroups(st,rt,nt);ot.t=st}return it.j[et]=ot,ot}};const ta=(et,_e,rt,nt,it)=>et.ta(_e,rt,nt,it),tr=(et,_e,rt,nt,it)=>et.tr(_e,rt,nt,it),ts=(et,_e,rt,nt,it)=>et.ts(_e,rt,nt,it),tt=(et,_e,rt,nt,it)=>et.tt(_e,rt,nt,it),WORD="WORD",UWORD="UWORD",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL$1="NL",OPENBRACE="OPENBRACE",OPENBRACKET="OPENBRACKET",OPENANGLEBRACKET="OPENANGLEBRACKET",OPENPAREN="OPENPAREN",CLOSEBRACE="CLOSEBRACE",CLOSEBRACKET="CLOSEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",CLOSEPAREN="CLOSEPAREN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,WORD,UWORD,LOCALHOST,TLD,UTLD,SCHEME,SLASH_SCHEME,NUM,WS,NL:NL$1,OPENBRACE,OPENBRACKET,OPENANGLEBRACKET,OPENPAREN,CLOSEBRACE,CLOSEBRACKET,CLOSEANGLEBRACKET,CLOSEPAREN,AMPERSAND,APOSTROPHE,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,COLON,COMMA,DOLLAR,DOT,EQUALS,EXCLAMATION,HYPHEN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,SEMI,SLASH,TILDE,UNDERSCORE,EMOJI:EMOJI$1,SYM});const ASCII_LETTER=/[a-z]/,LETTER=/\p{L}/u,EMOJI=/\p{Emoji}/u,DIGIT=/\d/,SPACE=/\s/,NL=`
`,EMOJI_VARIATION="️",EMOJI_JOINER="‍";let tlds=null,utlds=null;function init$2(et){et===void 0&&(et=[]);const _e={};State.groups=_e;const rt=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(rt,"'",APOSTROPHE),tt(rt,"{",OPENBRACE),tt(rt,"[",OPENBRACKET),tt(rt,"<",OPENANGLEBRACKET),tt(rt,"(",OPENPAREN),tt(rt,"}",CLOSEBRACE),tt(rt,"]",CLOSEBRACKET),tt(rt,">",CLOSEANGLEBRACKET),tt(rt,")",CLOSEPAREN),tt(rt,"&",AMPERSAND),tt(rt,"*",ASTERISK),tt(rt,"@",AT),tt(rt,"`",BACKTICK),tt(rt,"^",CARET),tt(rt,":",COLON),tt(rt,",",COMMA),tt(rt,"$",DOLLAR),tt(rt,".",DOT),tt(rt,"=",EQUALS),tt(rt,"!",EXCLAMATION),tt(rt,"-",HYPHEN),tt(rt,"%",PERCENT),tt(rt,"|",PIPE),tt(rt,"+",PLUS),tt(rt,"#",POUND),tt(rt,"?",QUERY),tt(rt,'"',QUOTE),tt(rt,"/",SLASH),tt(rt,";",SEMI),tt(rt,"~",TILDE),tt(rt,"_",UNDERSCORE),tt(rt,"\\",BACKSLASH);const nt=tr(rt,DIGIT,NUM,{[numeric]:!0});tr(nt,DIGIT,nt);const it=tr(rt,ASCII_LETTER,WORD,{[ascii]:!0});tr(it,ASCII_LETTER,it);const st=tr(rt,LETTER,UWORD,{[alpha]:!0});tr(st,ASCII_LETTER),tr(st,LETTER,st);const ot=tr(rt,SPACE,WS,{[whitespace]:!0});tt(rt,NL,NL$1,{[whitespace]:!0}),tt(ot,NL),tr(ot,SPACE,ot);const at=tr(rt,EMOJI,EMOJI$1,{[emoji]:!0});tr(at,EMOJI,at),tt(at,EMOJI_VARIATION,at);const lt=tt(at,EMOJI_JOINER);tr(lt,EMOJI,at);const ut=[[ASCII_LETTER,it]],ct=[[ASCII_LETTER,null],[LETTER,st]];for(let dt=0;dt<tlds.length;dt++)fastts(rt,tlds[dt],TLD,WORD,ut);for(let dt=0;dt<utlds.length;dt++)fastts(rt,utlds[dt],UTLD,UWORD,ct);addToGroups(TLD,{tld:!0,ascii:!0},_e),addToGroups(UTLD,{utld:!0,alpha:!0},_e),fastts(rt,"file",SCHEME,WORD,ut),fastts(rt,"mailto",SCHEME,WORD,ut),fastts(rt,"http",SLASH_SCHEME,WORD,ut),fastts(rt,"https",SLASH_SCHEME,WORD,ut),fastts(rt,"ftp",SLASH_SCHEME,WORD,ut),fastts(rt,"ftps",SLASH_SCHEME,WORD,ut),addToGroups(SCHEME,{scheme:!0,ascii:!0},_e),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},_e),et=et.sort((dt,ft)=>dt[0]>ft[0]?1:-1);for(let dt=0;dt<et.length;dt++){const ft=et[dt][0],ht=et[dt][1]?{[scheme]:!0}:{[slashscheme]:!0};ft.indexOf("-")>=0?ht[domain]=!0:ASCII_LETTER.test(ft)?DIGIT.test(ft)?ht[asciinumeric]=!0:ht[ascii]=!0:ht[numeric]=!0,ts(rt,ft,ft,ht)}return ts(rt,"localhost",LOCALHOST,{ascii:!0}),rt.jd=new State(SYM),{start:rt,tokens:assign$1({groups:_e},tk)}}function run$1(et,_e){const rt=stringToArray(_e.replace(/[A-Z]/g,at=>at.toLowerCase())),nt=rt.length,it=[];let st=0,ot=0;for(;ot<nt;){let at=et,lt=null,ut=0,ct=null,dt=-1,ft=-1;for(;ot<nt&&(lt=at.go(rt[ot]));)at=lt,at.accepts()?(dt=0,ft=0,ct=at):dt>=0&&(dt+=rt[ot].length,ft++),ut+=rt[ot].length,st+=rt[ot].length,ot++;st-=dt,ot-=ft,ut-=dt,it.push({t:ct.t,v:_e.slice(st-ut,st),s:st-ut,e:st})}return it}function stringToArray(et){const _e=[],rt=et.length;let nt=0;for(;nt<rt;){let it=et.charCodeAt(nt),st,ot=it<55296||it>56319||nt+1===rt||(st=et.charCodeAt(nt+1))<56320||st>57343?et[nt]:et.slice(nt,nt+2);_e.push(ot),nt+=ot.length}return _e}function fastts(et,_e,rt,nt,it){let st;const ot=_e.length;for(let at=0;at<ot-1;at++){const lt=_e[at];et.j[lt]?st=et.j[lt]:(st=new State(nt),st.jr=it.slice(),et.j[lt]=st),et=st}return st=new State(rt),st.jr=it.slice(),et.j[_e[ot-1]]=st,st}function decodeTlds(et){const _e=[],rt=[];let nt=0,it="0123456789";for(;nt<et.length;){let st=0;for(;it.indexOf(et[nt+st])>=0;)st++;if(st>0){_e.push(rt.join(""));for(let ot=parseInt(et.substring(nt,nt+st),10);ot>0;ot--)rt.pop();nt+=st}else rt.push(et[nt]),nt++}return _e}const defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(et,_e){_e===void 0&&(_e=null);let rt=assign$1({},defaults);et&&(rt=assign$1(rt,et instanceof Options?et.o:et));const nt=rt.ignoreTags,it=[];for(let st=0;st<nt.length;st++)it.push(nt[st].toUpperCase());this.o=rt,_e&&(this.defaultRender=_e),this.ignoreTags=it}Options.prototype={o:defaults,ignoreTags:[],defaultRender(et){return et},check(et){return this.get("validate",et.toString(),et)},get(et,_e,rt){const nt=_e!=null;let it=this.o[et];return it&&(typeof it=="object"?(it=rt.t in it?it[rt.t]:defaults[et],typeof it=="function"&&nt&&(it=it(_e,rt))):typeof it=="function"&&nt&&(it=it(_e,rt.t,rt)),it)},getObj(et,_e,rt){let nt=this.o[et];return typeof nt=="function"&&_e!=null&&(nt=nt(_e,rt.t,rt)),nt},render(et){const _e=et.render(this);return(this.get("render",null,et)||this.defaultRender)(_e,et.t,et)}};function noop(et){return et}function MultiToken(et,_e){this.t="token",this.v=et,this.tk=_e}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(et){return this.toString()},toFormattedString(et){const _e=this.toString(),rt=et.get("truncate",_e,this),nt=et.get("format",_e,this);return rt&&nt.length>rt?nt.substring(0,rt)+"…":nt},toFormattedHref(et){return et.get("formatHref",this.toHref(et.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(et){return et===void 0&&(et=defaults.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(et),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(et){return{type:this.t,value:this.toFormattedString(et),isLink:this.isLink,href:this.toFormattedHref(et),start:this.startIndex(),end:this.endIndex()}},validate(et){return et.get("validate",this.toString(),this)},render(et){const _e=this,rt=this.toHref(et.get("defaultProtocol")),nt=et.get("formatHref",rt,this),it=et.get("tagName",rt,_e),st=this.toFormattedString(et),ot={},at=et.get("className",rt,_e),lt=et.get("target",rt,_e),ut=et.get("rel",rt,_e),ct=et.getObj("attributes",rt,_e),dt=et.getObj("events",rt,_e);return ot.href=nt,at&&(ot.class=at),lt&&(ot.target=lt),ut&&(ot.rel=ut),ct&&assign$1(ot,ct),{tagName:it,attributes:ot,content:st,eventListeners:dt}}};function createTokenClass(et,_e){class rt extends MultiToken{constructor(it,st){super(it,st),this.t=et}}for(const nt in _e)rt.prototype[nt]=_e[nt];return rt.t=et,rt}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(et){return et===void 0&&(et=defaults.defaultProtocol),this.hasProtocol()?this.v:`${et}://${this.v}`},hasProtocol(){const et=this.tk;return et.length>=2&&et[0].t!==LOCALHOST&&et[1].t===COLON}}),makeState=et=>new State(et);function init$1(et){let{groups:_e}=et;const rt=_e.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),nt=[APOSTROPHE,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOT,EXCLAMATION,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,QUERY,QUOTE,SEMI],it=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,CLOSEBRACE,DOLLAR,EQUALS,HYPHEN,OPENBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],st=makeState(),ot=tt(st,TILDE);ta(ot,it,ot),ta(ot,_e.domain,ot);const at=makeState(),lt=makeState(),ut=makeState();ta(st,_e.domain,at),ta(st,_e.scheme,lt),ta(st,_e.slashscheme,ut),ta(at,it,ot),ta(at,_e.domain,at);const ct=tt(at,AT);tt(ot,AT,ct),tt(lt,AT,ct),tt(ut,AT,ct);const dt=tt(ot,DOT);ta(dt,it,ot),ta(dt,_e.domain,ot);const ft=makeState();ta(ct,_e.domain,ft),ta(ft,_e.domain,ft);const pt=tt(ft,DOT);ta(pt,_e.domain,ft);const ht=makeState(Email);ta(pt,_e.tld,ht),ta(pt,_e.utld,ht),tt(ct,LOCALHOST,ht);const mt=tt(ft,HYPHEN);ta(mt,_e.domain,ft),ta(ht,_e.domain,ft),tt(ht,DOT,pt),tt(ht,HYPHEN,mt);const bt=tt(ht,COLON);ta(bt,_e.numeric,Email);const gt=tt(at,HYPHEN),xt=tt(at,DOT);ta(gt,_e.domain,at),ta(xt,it,ot),ta(xt,_e.domain,at);const yt=makeState(Url);ta(xt,_e.tld,yt),ta(xt,_e.utld,yt),ta(yt,_e.domain,at),ta(yt,it,ot),tt(yt,DOT,xt),tt(yt,HYPHEN,gt),tt(yt,AT,ct);const vt=tt(yt,COLON),Pt=makeState(Url);ta(vt,_e.numeric,Pt);const St=makeState(Url),Ot=makeState();ta(St,rt,St),ta(St,nt,Ot),ta(Ot,rt,St),ta(Ot,nt,Ot),tt(yt,SLASH,St),tt(Pt,SLASH,St);const Et=tt(lt,COLON),Lt=tt(ut,COLON),Nt=tt(Lt,SLASH),$t=tt(Nt,SLASH);ta(lt,_e.domain,at),tt(lt,DOT,xt),tt(lt,HYPHEN,gt),ta(ut,_e.domain,at),tt(ut,DOT,xt),tt(ut,HYPHEN,gt),ta(Et,_e.domain,St),tt(Et,SLASH,St),ta($t,_e.domain,St),ta($t,rt,St),tt($t,SLASH,St);const Mt=tt(St,OPENBRACE),Tt=tt(St,OPENBRACKET),Rt=tt(St,OPENANGLEBRACKET),kt=tt(St,OPENPAREN);tt(Ot,OPENBRACE,Mt),tt(Ot,OPENBRACKET,Tt),tt(Ot,OPENANGLEBRACKET,Rt),tt(Ot,OPENPAREN,kt),tt(Mt,CLOSEBRACE,St),tt(Tt,CLOSEBRACKET,St),tt(Rt,CLOSEANGLEBRACKET,St),tt(kt,CLOSEPAREN,St),tt(Mt,CLOSEBRACE,St);const Dt=makeState(Url),At=makeState(Url),wt=makeState(Url),It=makeState(Url);ta(Mt,rt,Dt),ta(Tt,rt,At),ta(Rt,rt,wt),ta(kt,rt,It);const Bt=makeState(),Ct=makeState(),Ut=makeState(),jt=makeState();return ta(Mt,nt),ta(Tt,nt),ta(Rt,nt),ta(kt,nt),ta(Dt,rt,Dt),ta(At,rt,At),ta(wt,rt,wt),ta(It,rt,It),ta(Dt,nt,Dt),ta(At,nt,At),ta(wt,nt,wt),ta(It,nt,It),ta(Bt,rt,Bt),ta(Ct,rt,At),ta(Ut,rt,wt),ta(jt,rt,It),ta(Bt,nt,Bt),ta(Ct,nt,Ct),ta(Ut,nt,Ut),ta(jt,nt,jt),tt(At,CLOSEBRACKET,St),tt(wt,CLOSEANGLEBRACKET,St),tt(It,CLOSEPAREN,St),tt(Dt,CLOSEBRACE,St),tt(Ct,CLOSEBRACKET,St),tt(Ut,CLOSEANGLEBRACKET,St),tt(jt,CLOSEPAREN,St),tt(Bt,CLOSEPAREN,St),tt(st,LOCALHOST,yt),tt(st,NL$1,Nl),{start:st,tokens:tk}}function run(et,_e,rt){let nt=rt.length,it=0,st=[],ot=[];for(;it<nt;){let at=et,lt=null,ut=null,ct=0,dt=null,ft=-1;for(;it<nt&&!(lt=at.go(rt[it].t));)ot.push(rt[it++]);for(;it<nt&&(ut=lt||at.go(rt[it].t));)lt=null,at=ut,at.accepts()?(ft=0,dt=at):ft>=0&&ft++,it++,ct++;if(ft<0)it-=ct,it<nt&&(ot.push(rt[it]),it++);else{ot.length>0&&(st.push(initMultiToken(Text$1,_e,ot)),ot=[]),it-=ft,ct-=ft;const pt=dt.t,ht=rt.slice(it-ct,it);st.push(initMultiToken(pt,_e,ht))}}return ot.length>0&&st.push(initMultiToken(Text$1,_e,ot)),st}function initMultiToken(et,_e,rt){const nt=rt[0].s,it=rt[rt.length-1].e,st=_e.slice(nt,it);return new et(st,rt)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1}function registerCustomProtocol(et,_e){if(_e===void 0&&(_e=!1),INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${et}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(et))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);INIT.customSchemes.push([et,_e])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let et=0;et<INIT.tokenQueue.length;et++)INIT.tokenQueue[et][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let et=0;et<INIT.pluginQueue.length;et++)INIT.pluginQueue[et][1]({scanner:INIT.scanner,parser:INIT.parser});INIT.initialized=!0}function tokenize(et){return INIT.initialized||init(),run(INIT.parser.start,et,run$1(INIT.scanner.start,et))}function find(et,_e,rt){if(_e===void 0&&(_e=null),rt===void 0&&(rt=null),_e&&typeof _e=="object"){if(rt)throw Error(`linkifyjs: Invalid link type ${_e}; must be a string`);rt=_e,_e=null}const nt=new Options(rt),it=tokenize(et),st=[];for(let ot=0;ot<it.length;ot++){const at=it[ot];at.isLink&&(!_e||at.t===_e)&&st.push(at.toFormattedObject(nt))}return st}function test(et,_e){_e===void 0&&(_e=null);const rt=tokenize(et);return rt.length===1&&rt[0].isLink&&(!_e||rt[0].t===_e)}function autolink(et){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(_e,rt,nt)=>{const it=_e.some(ct=>ct.docChanged)&&!rt.doc.eq(nt.doc),st=_e.some(ct=>ct.getMeta("preventAutolink"));if(!it||st)return;const{tr:ot}=nt,at=combineTransactionSteps(rt.doc,[..._e]),{mapping:lt}=at;if(getChangedRanges(at).forEach(({oldRange:ct,newRange:dt})=>{getMarksBetween(ct.from,ct.to,rt.doc).filter(mt=>mt.mark.type===et.type).forEach(mt=>{const bt=lt.map(mt.from),gt=lt.map(mt.to),xt=getMarksBetween(bt,gt,nt.doc).filter(Et=>Et.mark.type===et.type);if(!xt.length)return;const yt=xt[0],vt=rt.doc.textBetween(mt.from,mt.to,void 0," "),Pt=nt.doc.textBetween(yt.from,yt.to,void 0," "),St=test(vt),Ot=test(Pt);St&&!Ot&&ot.removeMark(yt.from,yt.to,et.type)});const ft=findChildrenInRange(nt.doc,dt,mt=>mt.isTextblock);let pt,ht;if(ft.length>1?(pt=ft[0],ht=nt.doc.textBetween(pt.pos,pt.pos+pt.node.nodeSize,void 0," ")):ft.length&&nt.doc.textBetween(dt.from,dt.to," "," ").endsWith(" ")&&(pt=ft[0],ht=nt.doc.textBetween(pt.pos,dt.to,void 0," ")),pt&&ht){const mt=ht.split(" ").filter(xt=>xt!=="");if(mt.length<=0)return!1;const bt=mt[mt.length-1],gt=pt.pos+ht.lastIndexOf(bt);if(!bt)return!1;find(bt).filter(xt=>xt.isLink).filter(xt=>et.validate?et.validate(xt.value):!0).map(xt=>({...xt,from:gt+xt.start+1,to:gt+xt.end+1})).forEach(xt=>{ot.addMark(xt.from,xt.to,et.type.create({href:xt.href}))})}}),!!ot.steps.length)return ot}})}function clickHandler(et){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(_e,rt,nt)=>{var it,st,ot;if(nt.button!==0)return!1;const at=getAttributes(_e.state,et.type.name),lt=(it=nt.target)===null||it===void 0?void 0:it.closest("a"),ut=(st=lt==null?void 0:lt.href)!==null&&st!==void 0?st:at.href,ct=(ot=lt==null?void 0:lt.target)!==null&&ot!==void 0?ot:at.target;return lt&&ut?(window.open(ut,ct),!0):!1}}})}function pasteHandler(et){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(_e,rt,nt)=>{const{state:it}=_e,{selection:st}=it,{empty:ot}=st;if(ot)return!1;let at="";nt.content.forEach(ut=>{at+=ut.textContent});const lt=find(at).find(ut=>ut.isLink&&ut.value===at);return!at||!lt?!1:(et.editor.commands.setMark(et.type,{href:lt.href}),!0)}}})}const Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(et=>{if(typeof et=="string"){registerCustomProtocol(et);return}registerCustomProtocol(et.scheme,et.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:et}){return["a",mergeAttributes(this.options.HTMLAttributes,et),0]},addCommands(){return{setLink:et=>({chain:_e})=>_e().setMark(this.name,et).setMeta("preventAutolink",!0).run(),toggleLink:et=>({chain:_e})=>_e().toggleMark(this.name,et,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:et})=>et().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:et=>find(et).filter(_e=>this.options.validate?this.options.validate(_e.value):!0).filter(_e=>_e.isLink).map(_e=>({text:_e.value,index:_e.start,data:_e})),type:this.type,getAttributes:et=>{var _e;return{href:(_e=et.data)===null||_e===void 0?void 0:_e.href}}})]},addProseMirrorPlugins(){const et=[];return this.options.autolink&&et.push(autolink({type:this.type,validate:this.options.validate})),this.options.openOnClick&&et.push(clickHandler({type:this.type})),this.options.linkOnPaste&&et.push(pasteHandler({editor:this.editor,type:this.type})),et}});function findSuggestionMatch(et){var _e;const{char:rt,allowSpaces:nt,allowedPrefixes:it,startOfLine:st,$position:ot}=et,at=escapeForRegEx(rt),lt=new RegExp(`\\s${at}$`),ut=st?"^":"",ct=nt?new RegExp(`${ut}${at}.*?(?=\\s${at}|$)`,"gm"):new RegExp(`${ut}(?:^)?${at}[^\\s${at}]*`,"gm"),dt=((_e=ot.nodeBefore)===null||_e===void 0?void 0:_e.isText)&&ot.nodeBefore.text;if(!dt)return null;const ft=ot.pos-dt.length,pt=Array.from(dt.matchAll(ct)).pop();if(!pt||pt.input===void 0||pt.index===void 0)return null;const ht=pt.input.slice(Math.max(0,pt.index-1),pt.index),mt=new RegExp(`^[${it==null?void 0:it.join("")}\0]?$`).test(ht);if(it!==null&&!mt)return null;const bt=ft+pt.index;let gt=bt+pt[0].length;return nt&&lt.test(dt.slice(gt-1,gt+1))&&(pt[0]+=" ",gt+=1),bt<ot.pos&&gt>=ot.pos?{range:{from:bt,to:gt},query:pt[0].slice(rt.length),text:pt[0]}:null}const SuggestionPluginKey=new PluginKey("suggestion");function Suggestion({pluginKey:et=SuggestionPluginKey,editor:_e,char:rt="@",allowSpaces:nt=!1,allowedPrefixes:it=[" "],startOfLine:st=!1,decorationTag:ot="span",decorationClass:at="suggestion",command:lt=()=>null,items:ut=()=>[],render:ct=()=>({}),allow:dt=()=>!0}){let ft;const pt=ct==null?void 0:ct(),ht=new Plugin({key:et,view(){return{update:async(mt,bt)=>{var gt,xt,yt,vt,Pt,St,Ot;const Et=(gt=this.key)===null||gt===void 0?void 0:gt.getState(bt),Lt=(xt=this.key)===null||xt===void 0?void 0:xt.getState(mt.state),Nt=Et.active&&Lt.active&&Et.range.from!==Lt.range.from,$t=!Et.active&&Lt.active,Mt=Et.active&&!Lt.active,Tt=!$t&&!Mt&&Et.query!==Lt.query,Rt=$t||Nt,kt=Tt&&!Nt,Dt=Mt||Nt;if(!Rt&&!kt&&!Dt)return;const At=Dt&&!Rt?Et:Lt,wt=mt.dom.querySelector(`[data-decoration-id="${At.decorationId}"]`);ft={editor:_e,range:At.range,query:At.query,text:At.text,items:[],command:It=>{lt({editor:_e,range:At.range,props:It})},decorationNode:wt,clientRect:wt?()=>{var It;const{decorationId:Bt}=(It=this.key)===null||It===void 0?void 0:It.getState(_e.state),Ct=mt.dom.querySelector(`[data-decoration-id="${Bt}"]`);return(Ct==null?void 0:Ct.getBoundingClientRect())||null}:null},Rt&&((yt=pt==null?void 0:pt.onBeforeStart)===null||yt===void 0||yt.call(pt,ft)),kt&&((vt=pt==null?void 0:pt.onBeforeUpdate)===null||vt===void 0||vt.call(pt,ft)),(kt||Rt)&&(ft.items=await ut({editor:_e,query:At.query})),Dt&&((Pt=pt==null?void 0:pt.onExit)===null||Pt===void 0||Pt.call(pt,ft)),kt&&((St=pt==null?void 0:pt.onUpdate)===null||St===void 0||St.call(pt,ft)),Rt&&((Ot=pt==null?void 0:pt.onStart)===null||Ot===void 0||Ot.call(pt,ft))},destroy:()=>{var mt;ft&&((mt=pt==null?void 0:pt.onExit)===null||mt===void 0||mt.call(pt,ft))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(mt,bt,gt,xt){const{isEditable:yt}=_e,{composing:vt}=_e.view,{selection:Pt}=mt,{empty:St,from:Ot}=Pt,Et={...bt};if(Et.composing=vt,yt&&(St||_e.view.composing)){(Ot<bt.range.from||Ot>bt.range.to)&&!vt&&!bt.composing&&(Et.active=!1);const Lt=findSuggestionMatch({char:rt,allowSpaces:nt,allowedPrefixes:it,startOfLine:st,$position:Pt.$from}),Nt=`id_${Math.floor(Math.random()*4294967295)}`;Lt&&dt({editor:_e,state:xt,range:Lt.range})?(Et.active=!0,Et.decorationId=bt.decorationId?bt.decorationId:Nt,Et.range=Lt.range,Et.query=Lt.query,Et.text=Lt.text):Et.active=!1}else Et.active=!1;return Et.active||(Et.decorationId=null,Et.range={from:0,to:0},Et.query=null,Et.text=null),Et}},props:{handleKeyDown(mt,bt){var gt;const{active:xt,range:yt}=ht.getState(mt.state);return xt&&((gt=pt==null?void 0:pt.onKeyDown)===null||gt===void 0?void 0:gt.call(pt,{view:mt,event:bt,range:yt}))||!1},decorations(mt){const{active:bt,range:gt,decorationId:xt}=ht.getState(mt);return bt?DecorationSet.create(mt.doc,[Decoration.inline(gt.from,gt.to,{nodeName:ot,class:at,"data-decoration-id":xt})]):null}}});return ht}const MentionPluginKey=new PluginKey("mention"),Mention=Node.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderLabel({options:et,node:_e}){var rt;return`${et.suggestion.char}${(rt=_e.attrs.label)!==null&&rt!==void 0?rt:_e.attrs.id}`},suggestion:{char:"@",pluginKey:MentionPluginKey,command:({editor:et,range:_e,props:rt})=>{var nt,it;const st=et.view.state.selection.$to.nodeAfter;((nt=st==null?void 0:st.text)===null||nt===void 0?void 0:nt.startsWith(" "))&&(_e.to+=1),et.chain().focus().insertContentAt(_e,[{type:this.name,attrs:rt},{type:"text",text:" "}]).run(),(it=window.getSelection())===null||it===void 0||it.collapseToEnd()},allow:({state:et,range:_e})=>{const rt=et.doc.resolve(_e.from),nt=et.schema.nodes[this.name];return!!rt.parent.type.contentMatch.matchType(nt)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:et=>et.getAttribute("data-id"),renderHTML:et=>et.id?{"data-id":et.id}:{}},label:{default:null,parseHTML:et=>et.getAttribute("data-label"),renderHTML:et=>et.label?{"data-label":et.label}:{}}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:et,HTMLAttributes:_e}){return["span",mergeAttributes({"data-type":this.name},this.options.HTMLAttributes,_e),this.options.renderLabel({options:this.options,node:et})]},renderText({node:et}){return this.options.renderLabel({options:this.options,node:et})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:et,state:_e})=>{let rt=!1;const{selection:nt}=_e,{empty:it,anchor:st}=nt;return it?(_e.doc.nodesBetween(st-1,st,(ot,at)=>{if(ot.type.name===this.name)return rt=!0,et.insertText(this.options.suggestion.char||"",at,at+ot.nodeSize),!1}),rt):!1})}},addProseMirrorPlugins(){return[Suggestion({editor:this.editor,...this.options.suggestion})]}}),Paragraph=Node.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:et}){return["p",mergeAttributes(this.options.HTMLAttributes,et),0]},addCommands(){return{setParagraph:()=>({commands:et})=>et.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Placeholder=Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:et,selection:_e})=>{const rt=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:nt}=_e,it=[];if(!rt)return null;const st=et.type.createAndFill(),ot=(st==null?void 0:st.sameMarkup(et))&&st.content.findDiffStart(et.content)===null;return et.descendants((at,lt)=>{const ut=nt>=lt&&nt<=lt+at.nodeSize,ct=!at.isLeaf&&!at.childCount;if((ut||!this.options.showOnlyCurrent)&&ct){const dt=[this.options.emptyNodeClass];ot&&dt.push(this.options.emptyEditorClass);const ft=Decoration.node(lt,lt+at.nodeSize,{class:dt.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:at,pos:lt,hasAnchor:ut}):this.options.placeholder});it.push(ft)}return this.options.includeChildren}),DecorationSet.create(et,it)}}})]}}),Text=Node.create({name:"text",group:"inline"});class Editor extends Editor$1{constructor(){super(...arguments),this.contentComponent=null}}const Portals=({renderers:et})=>React.createElement(React.Fragment,null,Object.entries(et).map(([_e,rt])=>ReactDOM.createPortal(rt.reactElement,rt.element,_e)));class PureEditorContent extends React.Component{constructor(_e){super(_e),this.editorContentRef=React.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:_e}=this.props;if(_e&&_e.options.element){if(_e.contentComponent)return;const rt=this.editorContentRef.current;rt.append(..._e.options.element.childNodes),_e.setOptions({element:rt}),_e.contentComponent=this,_e.createNodeViews(),this.initialized=!0}}maybeFlushSync(_e){this.initialized?reactDomExports.flushSync(_e):_e()}setRenderer(_e,rt){this.maybeFlushSync(()=>{this.setState(({renderers:nt})=>({renderers:{...nt,[_e]:rt}}))})}removeRenderer(_e){this.maybeFlushSync(()=>{this.setState(({renderers:rt})=>{const nt={...rt};return delete nt[_e],{renderers:nt}})})}componentWillUnmount(){const{editor:_e}=this.props;if(!_e||(this.initialized=!1,_e.isDestroyed||_e.view.setProps({nodeViews:{}}),_e.contentComponent=null,!_e.options.element.firstChild))return;const rt=document.createElement("div");rt.append(..._e.options.element.childNodes),_e.setOptions({element:rt})}render(){const{editor:_e,...rt}=this.props;return React.createElement(React.Fragment,null,React.createElement("div",{ref:this.editorContentRef,...rt}),React.createElement(Portals,{renderers:this.state.renderers}))}}const EditorContent=React.memo(PureEditorContent),ReactNodeViewContext=reactExports.createContext({onDragStart:void 0}),useReactNodeView=()=>reactExports.useContext(ReactNodeViewContext);React.forwardRef((et,_e)=>{const{onDragStart:rt}=useReactNodeView(),nt=et.as||"div";return React.createElement(nt,{...et,ref:_e,"data-node-view-wrapper":"",onDragStart:rt,style:{whiteSpace:"normal",...et.style}})});function useForceUpdate(){const[,et]=reactExports.useState(0);return()=>et(_e=>_e+1)}const useEditor=(et={},_e=[])=>{const[rt,nt]=reactExports.useState(null),it=useForceUpdate(),{onBeforeCreate:st,onBlur:ot,onCreate:at,onDestroy:lt,onFocus:ut,onSelectionUpdate:ct,onTransaction:dt,onUpdate:ft}=et,pt=reactExports.useRef(st),ht=reactExports.useRef(ot),mt=reactExports.useRef(at),bt=reactExports.useRef(lt),gt=reactExports.useRef(ut),xt=reactExports.useRef(ct),yt=reactExports.useRef(dt),vt=reactExports.useRef(ft);return reactExports.useEffect(()=>{rt&&(st&&(rt.off("beforeCreate",pt.current),rt.on("beforeCreate",st),pt.current=st),ot&&(rt.off("blur",ht.current),rt.on("blur",ot),ht.current=ot),at&&(rt.off("create",mt.current),rt.on("create",at),mt.current=at),lt&&(rt.off("destroy",bt.current),rt.on("destroy",lt),bt.current=lt),ut&&(rt.off("focus",gt.current),rt.on("focus",ut),gt.current=ut),ct&&(rt.off("selectionUpdate",xt.current),rt.on("selectionUpdate",ct),xt.current=ct),dt&&(rt.off("transaction",yt.current),rt.on("transaction",dt),yt.current=dt),ft&&(rt.off("update",vt.current),rt.on("update",ft),vt.current=ft))},[st,ot,at,lt,ut,ct,dt,ft,rt]),reactExports.useEffect(()=>{let Pt=!0;const St=new Editor(et);return nt(St),St.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{Pt&&it()})})}),()=>{St.destroy(),Pt=!1}},_e),rt},ImageIcon="/assets/image-a1468fa8.svg";function Button(et){const{text:_e,loading:rt,loadingColored:nt,...it}=et;return jsx("button",{...it,children:rt?jsx(Loading,{isColored:nt}):_e})}const MicFillIcon="/assets/mic-fill-67b24e90.svg",MicIcon="/assets/mic-08d8e71d.svg",textInput="_textInput_eo7xd_1",open$1="_open_eo7xd_15",mention="_mention_eo7xd_25",wrapper$2="_wrapper_eo7xd_38",left$2="_left_eo7xd_45",right$2="_right_eo7xd_49",footer$1="_footer_eo7xd_62",files$1="_files_eo7xd_72",file$1="_file_eo7xd_72",autoComplete="_autoComplete_eo7xd_119",autocompleteFixed="_autocompleteFixed_eo7xd_129",active$1="_active_eo7xd_144",autocompleteOpen="_autocompleteOpen_eo7xd_166",voice="_voice_eo7xd_170",voiceActive="_voiceActive_eo7xd_198",breathe="_breathe_eo7xd_1",styles$8={textInput,open:open$1,mention,wrapper:wrapper$2,left:left$2,right:right$2,footer:footer$1,files:files$1,file:file$1,autoComplete,autocompleteFixed,active:active$1,autocompleteOpen,voice,voiceActive,breathe};function Audio(et){const{setAudio:_e}=et;reactExports.useState(!1);const[rt,nt]=reactExports.useState(null),it=reactExports.useRef(null),[st,ot]=reactExports.useState("inactive"),[at,lt]=reactExports.useState([]),[ut,ct]=reactExports.useState(null),[dt,ft]=reactExports.useState(null),[pt,ht]=reactExports.useState(0),mt=reactExports.useRef(null),bt="audio/webm",gt=async()=>{if(st=="inactive"){const Pt=await xt();Pt||n("Access to microphone blocked"),nt(St=>(St&&St.getTracks().forEach(Ot=>Ot.stop()),Pt)),yt(Pt)}else nt(Pt=>(vt(Pt),Pt))},xt=()=>new Promise(async(Pt,St)=>{if("MediaRecorder"in window)try{const Ot=await navigator.mediaDevices.getUserMedia({audio:!0});Pt(Ot)}catch{Pt(!1)}else n("Not supported")}),yt=async Pt=>{ot("recording");const St=new MediaRecorder(Pt,{type:bt,audioBitsPerSecond:16e3,bitsPerSecond:16e3});it.current=St,it.current.start();let Ot=[];it.current.ondataavailable=Et=>{typeof Et.data>"u"||Et.data.size!==0&&Ot.push(Et.data)},mt.current=setInterval(()=>{ht(Et=>Et+1)},1e3),lt(Ot)};reactExports.useEffect(()=>{if(pt>29&&rt)return vt(rt)},[pt,rt]);const vt=Pt=>{ot("inactive"),it.current.stop(),it.current.onstop=()=>{clearInterval(mt.current),ht(0);const St=new Blob(at,{type:bt}),Ot=URL.createObjectURL(St);ct(Ot);var Et=new FileReader;Et.onload=function(Lt){var Nt=Lt.target.result;ft(Nt),_e(Nt)},Et.readAsDataURL(St),lt([]),Pt.getTracks().forEach(Lt=>Lt.stop())}};return jsx(Fragment$1,{children:jsxs("button",{className:cn(styles$8.voice,{[styles$8.voiceActive]:st!="inactive"}),title:"Voice",type:"button",onClick:gt,children:[jsx("img",{src:st=="inactive"?MicIcon:MicFillIcon,alt:""}),pt&&st=="recording"?jsx("span",{className:cn({"span-error":pt>30}),children:pt}):""]})})}function Composer(et){var Ut;const{onSubmit:_e,submitLoading:rt,quotePost:nt,inModal:it}=et,st=useSetAtom(lightboxAtom),[ot,at]=reactExports.useState(null),[lt,ut]=reactExports.useState(!1),[ct,dt]=reactExports.useState([]),[ft,pt]=reactExports.useState(""),ht=reactExports.useRef(null),[mt,bt]=reactExports.useState({coordinates:{x:0,y:0},term:"",show:!1,data:null,loading:!1,index:0,fetch:!1}),gt=reactExports.useRef(null),xt=reactExports.useRef(null),yt=reactExports.useRef(null),[vt,Pt]=reactExports.useState(!1),[St,Ot]=reactExports.useState(new dist.RichText({text:""})),Et=useEditor({extensions:[Document,Link.configure({protocols:["http","https"],autolink:!0}),Mention.configure({HTMLAttributes:{class:styles$8.mention},suggestion:{items:async jt=>{const Kt=await agent$1.searchActorsTypeahead({term:jt.query});return bt(Vt=>({...Vt,data:Kt.data.actors.slice(0,10),show:!0,index:0})),Kt.data.actors.slice(0,10)},char:"@",render:()=>({onStart:jt=>{var Vt;if(!jt.clientRect)return;const Kt=jt.clientRect();(Vt=gt.current)==null||Vt.animate({top:(Kt==null?void 0:Kt.y)+20+"px",left:(Kt==null?void 0:Kt.x)+"px"},{duration:100,fill:"forwards",easing:"ease-out"}),bt(qt=>({...qt,data:jt.items,show:!0,props:jt}))},onKeyDown:jt=>jt.event.key==="Escape"?(bt({show:!1}),!0):It(jt)||!1,onUpdate:jt=>{var Vt;if(!jt.clientRect){bt(qt=>({...qt,show:!1}));return}const Kt=jt.clientRect();(Vt=gt.current)==null||Vt.animate({top:(Kt==null?void 0:Kt.y)+20+"px",left:(Kt==null?void 0:Kt.x)+"px"},{duration:100,fill:"forwards",easing:"ease-out"}),bt(qt=>({...qt,data:jt.items,show:!0,props:jt}))},onExit:()=>{bt(jt=>({...jt,show:!1}))}})}}),Paragraph,Placeholder.configure({placeholder:"What's on your mind?"}),Text,History,HardBreak],editorProps:{handlePaste:(jt,Kt)=>{var qt;((qt=Kt.clipboardData)==null?void 0:qt.items)!==void 0&&wt(Kt)},handleKeyDown:(jt,Kt)=>{if((Kt.metaKey||Kt.ctrlKey)&&Kt.code==="Enter")return Ot(Vt=>(Tt(null,Vt),Vt)),!0}},content:St.text.toString(),autofocus:!!it,editable:!0,injectCSS:!0,onUpdate({editor:jt}){const Kt=jt.getJSON(),Vt=new dist.RichText({text:Bt(Kt).trim()});Ot(Vt),new Set(Ct(Kt))}}),Lt=()=>{dt([]),pt(""),Ot(jt=>({...jt,text:""})),at(null),Nt()},Nt=reactExports.useCallback(()=>{Et==null||Et.commands.clearContent(!0)},[Et]);reactExports.useEffect(()=>(window.addEventListener("publish-post",Lt),()=>{window.removeEventListener("publish-post",Lt)}),[Et]),reactExports.useCallback(jt=>{const Kt=window.getSelection();if(Kt){const Vt=Kt.anchorOffset;if(ft.charAt(Vt-1)=="@"||jt.which==50){xt.current=Vt;let Wt=Kt.getRangeAt(0),Gt=Wt.getClientRects()[0];gt.current.animate({top:Gt.y+20+"px",left:Gt.x+"px"},{duration:100,fill:"forwards",easing:"ease-out"}),bt(rr=>({...rr,fetch:!0})),setTimeout(()=>{Mt()},10)}else Vt<xt.current&&mt.show&&bt(Wt=>({...Wt,fetch:!1,show:!1}))}},[mt,gt.current,ft,xt.current,yt.current,window.getSelection()]);const $t=reactExports.useCallback((jt,Kt)=>{jt&&(jt.preventDefault(),jt.stopPropagation()),mt.props.command({id:Kt.handle})},[xt.current,ft,ht.current,mt.props,window.getSelection()]),Mt=reactExports.useCallback(async()=>{var Gt;if(!mt.fetch)return;const jt=window.getSelection(),Kt=(Gt=jt==null?void 0:jt.focusNode)==null?void 0:Gt.textContent;let Vt=Kt.substring(xt.current,Kt.length).indexOf(" ");const qt=Kt.substring(xt.current,Vt>-1?Vt+xt.current:Kt.length),Wt=await agent$1.searchActorsTypeahead({term:qt});bt(rr=>({...rr,data:Wt.data.actors.slice(0,10),show:!0,index:0}))},[yt.current,xt.current,ft,mt,window.getSelection()]),Tt=reactExports.useCallback(async(jt,Kt=null)=>{jt&&jt.preventDefault();const Vt=await Rt();!Kt&&!ot&&(!St.text.length&&!Vt.length||lt||rt||St.graphemeLength>300)||Kt&&!ot&&(!Kt.text.length&&!Vt.length||lt||rt||Kt.graphemeLength>300)||_e(Vt,Kt?Kt.text:St.text,ot)},[St,ot,ct]),Rt=reactExports.useCallback(()=>new Promise(async(jt,Kt)=>{dt(async Vt=>{ut(!0);const qt=await Promise.all(Vt.map(Wt=>kt(Wt)));return ut(!1),jt(qt),Vt})}),[ct,lt]),kt=async jt=>{var qt,Wt;const Kt=await((qt=jt==null?void 0:jt.file)==null?void 0:qt.arrayBuffer());return await agent$1.uploadBlob(Kt,{encoding:(Wt=jt==null?void 0:jt.file)==null?void 0:Wt.type})};reactExports.useCallback(jt=>{if(jt.code=="Space"&&mt.show)return bt(Kt=>({...Kt,fetch:!1,show:!1}));if(!(jt.ctrlKey&&jt.keyCode==13)){if(jt.code.toLocaleLowerCase()=="enter"&&mt.show)return jt.preventDefault(),jt.stopPropagation(),$t(null,mt.data[mt.index]),!1;if(mt.show&&jt.code.toLocaleLowerCase()=="arrowup")return jt.preventDefault(),bt(Kt=>({...Kt,index:Math.max(0,Kt.index-1)})),!1;if(mt.show&&jt.code.toLocaleLowerCase()=="arrowdown")return jt.preventDefault(),bt(Kt=>({...Kt,index:Math.min(Kt.data.length-1,Kt.index+1)})),!1}},[mt]);const Dt=async(jt,Kt)=>{const Vt=Kt?[Kt]:jt.target.files;let qt=Array.from(Vt);for(let Wt=0;Wt<qt.length;Wt++){const Gt=qt[Wt];qt[Wt]={file:Gt,preview:URL.createObjectURL(Gt)}}dt(Wt=>Wt.length+Vt.length<=4?[...Wt,...qt]:Wt)},At=(jt,Kt)=>{jt.preventDefault(),jt.stopPropagation();let Vt=[...ct];Vt.splice(Kt,1),dt(Vt)};reactExports.useEffect(()=>{ht.current&&it&&ht.current.focus()},[ht.current,it]);const wt=jt=>{var Kt=(jt.clipboardData||jt.originalEvent.clipboardData).items;for(var Vt in Kt){var qt=Kt[Vt];if(qt.kind==="file"){jt.preventDefault(),jt.stopPropagation();var Wt=qt.getAsFile();return Dt(null,Wt),!1}}};reactExports.useEffect(()=>(vt?document.addEventListener("paste",wt):document.removeEventListener("paste",wt),()=>{document.removeEventListener("paste",wt)}),[vt]);const It=jt=>jt.event.code.toLocaleLowerCase()=="arrowup"?(bt(Kt=>({...Kt,index:Math.max(0,Kt.index-1)})),!0):jt.event.code.toLocaleLowerCase()=="arrowdown"?(bt(Kt=>({...Kt,index:Math.min(Kt.data.length-1,Kt.index+1)})),!0):jt.event.code.toLocaleLowerCase()=="enter"?(bt(Kt=>(Kt.props.command({id:Kt.data[Kt.index].handle}),{...Kt,index:0,show:!1})),!0):!1;function Bt(jt){var Vt,qt;let Kt="";if(jt.type==="doc"||jt.type==="paragraph"){if((Vt=jt.content)!=null&&Vt.length)for(const Wt of jt.content)Kt+=Bt(Wt);Kt+=`
`}else jt.type==="text"?Kt+=jt.text||"":jt.type==="mention"&&(Kt+=`@${((qt=jt.attrs)==null?void 0:qt.id)||""}`);return Kt}function Ct(jt){var qt,Wt,Gt;let Kt=[];if((qt=jt.content)!=null&&qt.length)for(const rr of jt.content)Kt=Kt.concat(Ct(rr));const Vt=(Wt=jt.marks)==null?void 0:Wt.find(rr=>rr.type==="link");return(Gt=Vt==null?void 0:Vt.attrs)!=null&&Gt.href&&Kt.push(Vt.attrs.href),Kt}return jsxs(Fragment$1,{children:[jsxs("form",{onSubmit:Tt,children:[jsx(EditorContent,{editor:Et,className:cn(styles$8.textInput,{[styles$8.open]:St.text.length})}),nt?jsx(Record,{isQuote:!0,embed:nt,uri:nt.uri,author:nt.author}):"",ct.length?jsx("div",{className:styles$8.files,children:ct.map((jt,Kt)=>jsxs("div",{className:styles$8.file,onClick:()=>st({images:[jt.preview],show:!0}),children:[jsx("span",{className:styles$8.fileRemove,onClick:Vt=>At(Vt,Kt),children:jsx("img",{src:CloseIcon,alt:""})}),jsx("img",{src:jt.preview,alt:""})]},Kt))}):"",ot?jsx(Wave,{onRemove:()=>at(null),audioUrl:ot}):"",jsxs("div",{className:styles$8.footer,children:[jsx("div",{children:St.text.length?jsxs("span",{className:cn({"span-error":St.graphemeLength>300}),children:[St.graphemeLength,"/300"]}):""}),jsxs("div",{className:"d-flex align-items-center",children:[jsxs("div",{className:"file-input",children:[jsx("input",{multiple:!0,type:"file",accept:"image/jpeg,image/png",onChange:Dt,title:"Upload Media"}),jsx("label",{children:jsx("img",{src:ImageIcon,height:"28",alt:""})})]}),jsx(Audio,{setAudio:at}),jsx(Button,{type:"submit",loading:rt||lt,className:cn("btn primary",{disabled:St.graphemeLength>300}),text:"Post"})]})]})]}),jsx("div",{ref:jt=>gt.current=jt,className:cn(styles$8.autoComplete,{[styles$8.autocompleteOpen]:mt.show,[styles$8.autocompleteFixed]:it}),children:jsx("ul",{children:(Ut=mt.data)==null?void 0:Ut.map((jt,Kt)=>jsxs("li",{className:cn({[styles$8.active]:Kt==mt.index}),onClick:Vt=>$t(Vt,jt),children:[jsx("div",{children:jsx("img",{src:jt.avatar||AvatarPlaceholder,alt:""})}),jsx("div",{children:jsxs("strong",{children:["@",jt.handle]})})]},jt.did))})})]})}const wrapper$1="_wrapper_15dh2_1",left$1="_left_15dh2_8",avatar$3="_avatar_15dh2_12",right$1="_right_15dh2_28",open="_open_15dh2_38",footer="_footer_15dh2_42",modal="_modal_15dh2_52",postWrapper="_postWrapper_15dh2_79",post="_post_15dh2_79",modalWrapper="_modalWrapper_15dh2_95",backdrop="_backdrop_15dh2_113",quoteWrapper="_quoteWrapper_15dh2_123",files="_files_15dh2_133",file="_file_15dh2_133",styles$7={wrapper:wrapper$1,left:left$1,avatar:avatar$3,right:right$1,open,footer,modal,postWrapper,post,modalWrapper,backdrop,quoteWrapper,files,file};function NewModal(et){const _e=useAtomValue(userAtom),[rt,nt]=useAtom(newAtom),[it,st]=reactExports.useState(""),ot=useQueryClient();useAtom(lightboxAtom);const at=rt.quotePost;reactExports.useState([]),reactExports.useState(!1);const{mutate:lt,isLoading:ut}=useMutation(dt=>agent$1.post(dt),{onSuccess:dt=>{st(""),nt({show:!1,post:null,cid:null}),ot.invalidateQueries(["skyline"])},onError:dt=>{console.error(dt)}}),ct=async(dt,ft,pt=null)=>{var gt,xt,yt,vt,Pt;const ht=dt,mt=new dist.RichText({text:ft});await mt.detectFacets(agent$1);let bt={createdAt:new Date().toISOString(),text:mt.text,facets:mt.facets,$type:"app.bsky.feed.post"};if(at?ht.length?bt.embed={$type:"app.bsky.embed.recordWithMedia",media:{$type:"app.bsky.embed.images",images:ht.length?ht.map(St=>({alt:"",image:St.data.blob.original})):void 0},record:{$type:"app.bsky.embed.record",record:{cid:(gt=rt.quotePost)==null?void 0:gt.cid,uri:(xt=rt.quotePost)==null?void 0:xt.uri}}}:bt.embed={$type:"app.bsky.embed.record",record:{cid:(yt=rt.quotePost)==null?void 0:yt.cid,uri:(vt=rt.quotePost)==null?void 0:vt.uri}}:(bt.reply={root:{cid:rt.cid,uri:(Pt=rt.post)==null?void 0:Pt.uri},parent:{cid:rt.cid,uri:rt.post.uri}},ht.length&&(bt.embed={$type:"app.bsky.embed.images",images:ht.length?ht.map(St=>({alt:"",image:St.data.blob.original})):void 0})),pt){bt.kiteAudio=pt;const St=new dist.RichText({text:`Unsupported audio message. To view this message you need to use Kite 🪁

https://kite.black`});await St.detectFacets(agent$1),bt.text=St.text,bt.facets=St.facets,bt.kiteText=mt.text||`
`}lt(bt)};return jsxs("div",{className:styles$7.modal,children:[jsx("div",{className:styles$7.backdrop,onClick:()=>nt({show:!1,cid:null,post:null})}),jsxs("div",{className:styles$7.wrapper,children:[jsx("div",{className:styles$7.postWrapper,children:rt.quotePost?"":jsx(Blue,{isParent:!0,post:rt.post,className:styles$7.post,isCompose:!0})}),jsxs("div",{className:cn(styles$7.modalWrapper,{[styles$7.quoteWrapper]:at}),children:[jsx("div",{className:styles$7.left,children:jsx("div",{className:styles$7.avatar,children:jsx("img",{src:(_e==null?void 0:_e.avatar)||AvatarPlaceholder,alt:""})})}),jsx("div",{className:styles$7.right,children:jsx(Composer,{quotePost:rt.quotePost,onSubmit:ct,inModal:!0,submitLoading:ut})})]})]})]})}const GithubIcon="/assets/github-2e929cfe.svg",SETTINGS_STORAGE_KEY="settings",getSettings=()=>localStorage.getItem(SETTINGS_STORAGE_KEY)?JSON.parse(localStorage.getItem(SETTINGS_STORAGE_KEY)):(localStorage.setItem(SETTINGS_STORAGE_KEY,JSON.stringify({})),null),setSettingsLocalStorage=et=>localStorage.setItem(SETTINGS_STORAGE_KEY,JSON.stringify(et));var qr,Wr;const settingsAtom=atom({suggested:((qr=getSettings())==null?void 0:qr.suggested)||"global",blacklist:((Wr=getSettings())==null?void 0:Wr.blacklist)||[]}),SuggestedAtom=atom({data:[],filteredList:[],loading:!0}),list=[],blacklist=(et,_e)=>{var it,st;const rt=et.did,nt=_e&&typeof _e=="object"&&(_e==null?void 0:_e.filter(ot=>ot.trim().length>1))||((st=(it=getSettings())==null?void 0:it.blacklist)==null?void 0:st.filter(ot=>ot.trim().length>1))||[];return rt?![...list,...nt].filter(at=>{var lt;return et.handle.toLowerCase().includes(at)||((lt=et.displayName)==null?void 0:lt.toLowerCase().includes(at))}).length:![...list,...nt].filter(at=>{var lt,ut,ct,dt,ft,pt,ht,mt,bt,gt,xt,yt,vt,Pt,St,Ot,Et,Lt,Nt,$t,Mt,Tt,Rt,kt,Dt;return((ct=(ut=(lt=et.post)==null?void 0:lt.record)==null?void 0:ut.text)==null?void 0:ct.toLowerCase().includes(at))||((ht=(pt=(ft=(dt=et==null?void 0:et.reply)==null?void 0:dt.parent)==null?void 0:ft.record)==null?void 0:pt.text)==null?void 0:ht.toLowerCase().includes(at))||((xt=(gt=(bt=(mt=et==null?void 0:et.reply)==null?void 0:mt.root)==null?void 0:bt.record)==null?void 0:gt.text)==null?void 0:xt.toLowerCase().includes(at))||((Pt=(vt=(yt=et==null?void 0:et.post)==null?void 0:yt.author)==null?void 0:vt.handle)==null?void 0:Pt.toLowerCase().includes(at))||((Et=(Ot=(St=et==null?void 0:et.post)==null?void 0:St.author)==null?void 0:Ot.displayName)==null?void 0:Et.toLowerCase().includes(at))||((Mt=($t=(Nt=(Lt=et==null?void 0:et.reply)==null?void 0:Lt.parent)==null?void 0:Nt.author)==null?void 0:$t.displayName)==null?void 0:Mt.toLowerCase().includes(at))||((Dt=(kt=(Rt=(Tt=et==null?void 0:et.reply)==null?void 0:Tt.root)==null?void 0:Rt.author)==null?void 0:kt.displayName)==null?void 0:Dt.toLowerCase().includes(at))}).length};function Donate(et){const _e=["Coffee 🍵","Beer 🍺","Cake 🍰","Peach 🍑","Eggplant 🍆","Pizza 🍕"],[rt,nt]=reactExports.useState(_e[Math.floor(Math.random()*_e.length)]),[it,st]=reactExports.useState(!1);return jsxs(Fragment$1,{children:[jsxs("a",{href:"#",title:"",target:"_self",className:"donate-btn",onClick:lt=>{lt.preventDefault(),lt.stopPropagation(),st(!0)},children:["Donate Me A ",rt,"!"]}),it?jsx(Portal$1,{children:jsxs("div",{className:"modal",children:[jsx("div",{className:"modal-backdrop",onClick:lt=>{lt.preventDefault(),lt.stopPropagation(),st(!1)}}),jsxs("div",{className:"modal-content",children:[jsx("h1",{children:"🪙 Donation"}),jsx("p",{children:"Developing Kite takes quite some time from my daily life so I'd really appreciate any help if you'd like to support a passionate developer :) "}),jsxs("div",{className:"donation-uri",children:[jsx("strong",{children:"Etherium: "}),jsx("span",{children:"0x50Eb77506a540B9e7242F8601075bDCa41f55B09"})]}),jsxs("div",{className:"donation-uri",children:[jsx("strong",{children:"Tether (TRC20): "}),jsx("span",{children:"TB386wd3Q4na6Maazhxs6LQw8fB99GBiY1"})]}),jsxs("div",{className:"donation-uri",children:[jsx("strong",{children:"Dogecoin: "}),jsx("span",{children:"DQko9jWCUQLQRm7adwrZ38g8JaCFwsvycJ"})]})]})]})}):""]})}const SearchIcon="/assets/search-58f55681.svg",searchAtom=atom({text:"",loading:!1,show:!1}),wrapper="_wrapper_j2h21_1",inputWrapper="_inputWrapper_j2h21_8",icon="_icon_j2h21_17",input="_input_j2h21_8",result="_result_j2h21_40",resultWrapper="_resultWrapper_j2h21_45",overlay="_overlay_j2h21_58",styles$6={wrapper,inputWrapper,icon,input,result,resultWrapper,overlay};function Search(et){const[_e,rt]=useAtom(searchAtom),nt=useLocation(),it=reactExports.useRef(null),{data:st,isLoading:ot,refetch:at,isFetching:lt}=useQuery(["search",_e.text],reactExports.useCallback(()=>agent$1.searchActors({term:_e.text,limit:50}),[_e.text]),{enabled:!1}),ut=()=>{at()},ct=dt=>{it.current&&clearTimeout(it.current),rt(ft=>({...ft,text:dt.target.value})),it.current=setTimeout(ut,500)};return reactExports.useEffect(()=>{rt(dt=>({...dt,show:!1}))},[nt.pathname]),jsxs(Fragment$1,{children:[jsxs("div",{className:styles$6.wrapper,children:[jsxs("div",{className:styles$6.inputWrapper,children:[jsx("div",{className:styles$6.icon,children:jsx("img",{src:SearchIcon,alt:"Search"})}),jsx("input",{type:"text",onFocus:()=>rt(dt=>({...dt,show:!0})),placeholder:"Search",className:styles$6.input,onChange:ct,value:_e.text})]}),_e.show&&_e.text.length?jsx("div",{className:styles$6.resultWrapper,children:jsx("div",{className:styles$6.result,children:ot||!(st!=null&&st.data.actors.length)?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):st==null?void 0:st.data.actors.filter(dt=>blacklist(dt)).map(dt=>jsx(User$1,{user:dt},dt.did))})}):""]}),!_e.show||!_e.text.length?"":jsx("div",{className:styles$6.overlay,onClick:()=>rt(dt=>({...dt,show:!1}))})]})}function Right(et){const{isInSkyline:_e}=et,rt=useAtomValue(userAtom),nt=useAtomValue(settingsAtom),[it,st]=useAtom(SuggestedAtom),[ot,at]=reactExports.useState(!1),{data:lt,isLoading:ut,status:ct}=useQuery(["following",1],()=>agent$1.getFollows({actor:rt==null?void 0:rt.did,limit:20}),{refetchOnMount:!1,refetchOnWindowFocus:!1,onSuccess:async ht=>{at(!1),await Promise.all(ht.data.follows.map(async mt=>{try{const bt=await agent$1.getFollows({actor:mt.did,limit:10});bt.data.follows&&st(gt=>({...gt,filteredList:[],loading:!0,data:[...gt.data,...bt.data.follows]}))}catch(bt){console.error(bt)}})),at(!0)},enabled:nt.suggested=="personalized"}),{data:dt,isLoading:ft}=useQuery(["followingGlobal",1],()=>agent$1.api.app.bsky.actor.getSuggestions({limit:6}),{refetchOnMount:!1,refetchOnWindowFocus:!1,onSuccess:ht=>{st(mt=>({filteredList:[],data:ht.data.actors,loading:!1}))},enabled:nt.suggested=="global"}),pt=async()=>{var mt;const ht=await Promise.all((mt=it.data)==null?void 0:mt.filter((bt,gt)=>it.data.findIndex(xt=>xt.did==bt.did)!=gt?null:bt).filter(bt=>blacklist(bt)).filter(bt=>!bt.viewer.following&&bt.did!=(rt==null?void 0:rt.did)).map(bt=>({value:bt,sort:Math.random()})).reverse().sort((bt,gt)=>bt.sort-gt.sort).map(({value:bt})=>bt).splice(0,6));st(bt=>({...bt,filteredList:ht,loading:!1}))};return reactExports.useEffect(()=>{it.data.length&&ct=="success"&&!it.filteredList.length&&nt.suggested=="personalized"&&ot&&pt()},[it.data,nt.suggested]),_e?jsxs("div",{className:cn(styles$9.suggested,{[styles$9.inSkyline]:_e}),children:[jsx("h4",{children:"Who To Follow?"}),jsx("p",{children:"Here you'll see a list of new people to follow"}),it.loading||ut||ft?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):jsx("div",{children:(nt.suggested=="personalized"?it.filteredList:it.data).map(ht=>jsx(User$1,{user:ht},ht.did))})]}):jsxs("div",{className:cn(styles$9.right),children:[jsx(Search,{}),jsxs("div",{className:styles$9.suggested,children:[jsx("h4",{children:"Who To Follow?"}),jsx("p",{children:"Here you'll see a list of new people to follow"}),it.loading||ut||ft?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):jsx("div",{children:(nt.suggested=="personalized"?it.filteredList:it.data).map(ht=>jsx(User$1,{user:ht},ht.did))})]}),jsxs("div",{className:styles$9.copy,children:[jsx(Donate,{}),jsx("p",{children:"Version 0.1.2"}),jsxs("p",{children:["Developed by ",jsx(Link$1,{to:"/user/arta.bsky.social",children:"Arta"})]}),jsx("div",{className:styles$9.icon,children:jsx("a",{href:"https://github.com/callmearta/kite",title:"Kite | BlueSky Web Client",target:"_blank",children:jsx("img",{src:GithubIcon,alt:""})})})]})]})}const HomeFillIcon="/assets/home-fill-8d76df91.svg",HomeIcon="/assets/home-d673a3f4.svg",KiteLogo="/assets/kite-87421cee.png",LogoutIcon="/assets/logout-56ccdf88.svg",NotificationFillIcon="/assets/notification-fill-3f0e647f.svg",NotificationIcon="/assets/notification-14024e06.svg",ProfileFillIcon="/assets/profile-fill-6e48a45a.svg",UserIcon="/assets/profile-fa80f802.svg",SettingsFillIcon="/assets/settings-fill-849749ca.svg",SettingsIcon="/assets/settings-73598a9e.svg";var assign=make_assign(),create$2=make_create(),trim$1=make_trim(),Global$5=typeof window<"u"?window:commonjsGlobal,util$6={assign,create:create$2,trim:trim$1,bind:bind$1,slice:slice$3,each:each$7,map,pluck:pluck$1,isList:isList$1,isFunction:isFunction$1,isObject:isObject$1,Global:Global$5};function make_assign(){return Object.assign?Object.assign:function(_e,rt,nt,it){for(var st=1;st<arguments.length;st++)each$7(Object(arguments[st]),function(ot,at){_e[at]=ot});return _e}}function make_create(){if(Object.create)return function(rt,nt,it,st){var ot=slice$3(arguments,1);return assign.apply(this,[Object.create(rt)].concat(ot))};{let _e=function(){};var et=_e;return function(nt,it,st,ot){var at=slice$3(arguments,1);return _e.prototype=nt,assign.apply(this,[new _e].concat(at))}}}function make_trim(){return String.prototype.trim?function(_e){return String.prototype.trim.call(_e)}:function(_e){return _e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function bind$1(et,_e){return function(){return _e.apply(et,Array.prototype.slice.call(arguments,0))}}function slice$3(et,_e){return Array.prototype.slice.call(et,_e||0)}function each$7(et,_e){pluck$1(et,function(rt,nt){return _e(rt,nt),!1})}function map(et,_e){var rt=isList$1(et)?[]:{};return pluck$1(et,function(nt,it){return rt[it]=_e(nt,it),!1}),rt}function pluck$1(et,_e){if(isList$1(et)){for(var rt=0;rt<et.length;rt++)if(_e(et[rt],rt))return et[rt]}else for(var nt in et)if(et.hasOwnProperty(nt)&&_e(et[nt],nt))return et[nt]}function isList$1(et){return et!=null&&typeof et!="function"&&typeof et.length=="number"}function isFunction$1(et){return et&&{}.toString.call(et)==="[object Function]"}function isObject$1(et){return et&&{}.toString.call(et)==="[object Object]"}var util$5=util$6,slice$2=util$5.slice,pluck=util$5.pluck,each$6=util$5.each,bind=util$5.bind,create$1=util$5.create,isList=util$5.isList,isFunction=util$5.isFunction,isObject=util$5.isObject,storeEngine={createStore},storeAPI={version:"2.0.12",enabled:!1,get:function(et,_e){var rt=this.storage.read(this._namespacePrefix+et);return this._deserialize(rt,_e)},set:function(et,_e){return _e===void 0?this.remove(et):(this.storage.write(this._namespacePrefix+et,this._serialize(_e)),_e)},remove:function(et){this.storage.remove(this._namespacePrefix+et)},each:function(et){var _e=this;this.storage.each(function(rt,nt){et.call(_e,_e._deserialize(rt),(nt||"").replace(_e._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(et){return this._namespacePrefix=="__storejs_"+et+"_"},createStore:function(){return createStore.apply(this,arguments)},addPlugin:function(et){this._addPlugin(et)},namespace:function(et){return createStore(this.storage,this.plugins,et)}};function _warn(){var et=typeof console>"u"?null:console;if(et){var _e=et.warn?et.warn:et.log;_e.apply(et,arguments)}}function createStore(et,_e,rt){rt||(rt=""),et&&!isList(et)&&(et=[et]),_e&&!isList(_e)&&(_e=[_e]);var nt=rt?"__storejs_"+rt+"_":"",it=rt?new RegExp("^"+nt):null,st=/^[a-zA-Z0-9_\-]*$/;if(!st.test(rt))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var ot={_namespacePrefix:nt,_namespaceRegexp:it,_testStorage:function(lt){try{var ut="__storejs__test__";lt.write(ut,ut);var ct=lt.read(ut)===ut;return lt.remove(ut),ct}catch{return!1}},_assignPluginFnProp:function(lt,ut){var ct=this[ut];this[ut]=function(){var ft=slice$2(arguments,0),pt=this;function ht(){if(ct)return each$6(arguments,function(bt,gt){ft[gt]=bt}),ct.apply(pt,ft)}var mt=[ht].concat(ft);return lt.apply(pt,mt)}},_serialize:function(lt){return JSON.stringify(lt)},_deserialize:function(lt,ut){if(!lt)return ut;var ct="";try{ct=JSON.parse(lt)}catch{ct=lt}return ct!==void 0?ct:ut},_addStorage:function(lt){this.enabled||this._testStorage(lt)&&(this.storage=lt,this.enabled=!0)},_addPlugin:function(lt){var ut=this;if(isList(lt)){each$6(lt,function(ft){ut._addPlugin(ft)});return}var ct=pluck(this.plugins,function(ft){return lt===ft});if(!ct){if(this.plugins.push(lt),!isFunction(lt))throw new Error("Plugins must be function values that return objects");var dt=lt.call(this);if(!isObject(dt))throw new Error("Plugins must return an object of function properties");each$6(dt,function(ft,pt){if(!isFunction(ft))throw new Error("Bad plugin property: "+pt+" from plugin "+lt.name+". Plugins should only return functions.");ut._assignPluginFnProp(ft,pt)})}},addStorage:function(lt){_warn("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(lt)}},at=create$1(ot,storeAPI,{plugins:[]});return at.raw={},each$6(at,function(lt,ut){isFunction(lt)&&(at.raw[ut]=bind(at,lt))}),each$6(et,function(lt){at._addStorage(lt)}),each$6(_e,function(lt){at._addPlugin(lt)}),at}var util$4=util$6,Global$4=util$4.Global,localStorage_1={name:"localStorage",read:read$8,write:write$5,each:each$5,remove:remove$5,clearAll:clearAll$5};function localStorage$1(){return Global$4.localStorage}function read$8(et){return localStorage$1().getItem(et)}function write$5(et,_e){return localStorage$1().setItem(et,_e)}function each$5(et){for(var _e=localStorage$1().length-1;_e>=0;_e--){var rt=localStorage$1().key(_e);et(read$8(rt),rt)}}function remove$5(et){return localStorage$1().removeItem(et)}function clearAll$5(){return localStorage$1().clear()}var util$3=util$6,Global$3=util$3.Global,oldFFGlobalStorage={name:"oldFF-globalStorage",read:read$7,write:write$4,each:each$4,remove:remove$4,clearAll:clearAll$4},globalStorage=Global$3.globalStorage;function read$7(et){return globalStorage[et]}function write$4(et,_e){globalStorage[et]=_e}function each$4(et){for(var _e=globalStorage.length-1;_e>=0;_e--){var rt=globalStorage.key(_e);et(globalStorage[rt],rt)}}function remove$4(et){return globalStorage.removeItem(et)}function clearAll$4(){each$4(function(et,_e){delete globalStorage[et]})}var util$2=util$6,Global$2=util$2.Global,oldIEUserDataStorage={name:"oldIE-userDataStorage",write:write$3,read:read$6,each:each$3,remove:remove$3,clearAll:clearAll$3},storageName="storejs",doc$1=Global$2.document,_withStorageEl=_makeIEStorageElFunction(),disable=(Global$2.navigator?Global$2.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function write$3(et,_e){if(!disable){var rt=fixKey(et);_withStorageEl(function(nt){nt.setAttribute(rt,_e),nt.save(storageName)})}}function read$6(et){if(!disable){var _e=fixKey(et),rt=null;return _withStorageEl(function(nt){rt=nt.getAttribute(_e)}),rt}}function each$3(et){_withStorageEl(function(_e){for(var rt=_e.XMLDocument.documentElement.attributes,nt=rt.length-1;nt>=0;nt--){var it=rt[nt];et(_e.getAttribute(it.name),it.name)}})}function remove$3(et){var _e=fixKey(et);_withStorageEl(function(rt){rt.removeAttribute(_e),rt.save(storageName)})}function clearAll$3(){_withStorageEl(function(et){var _e=et.XMLDocument.documentElement.attributes;et.load(storageName);for(var rt=_e.length-1;rt>=0;rt--)et.removeAttribute(_e[rt].name);et.save(storageName)})}var forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function fixKey(et){return et.replace(/^\d/,"___$&").replace(forbiddenCharsRegex,"___")}function _makeIEStorageElFunction(){if(!doc$1||!doc$1.documentElement||!doc$1.documentElement.addBehavior)return null;var et="script",_e,rt,nt;try{rt=new ActiveXObject("htmlfile"),rt.open(),rt.write("<"+et+">document.w=window</"+et+'><iframe src="/favicon.ico"></iframe>'),rt.close(),_e=rt.w.frames[0].document,nt=_e.createElement("div")}catch{nt=doc$1.createElement("div"),_e=doc$1.body}return function(it){var st=[].slice.call(arguments,0);st.unshift(nt),_e.appendChild(nt),nt.addBehavior("#default#userData"),nt.load(storageName),it.apply(this,st),_e.removeChild(nt)}}var util$1=util$6,Global$1=util$1.Global,trim=util$1.trim,cookieStorage={name:"cookieStorage",read:read$5,write:write$2,each:each$2,remove:remove$2,clearAll:clearAll$2},doc=Global$1.document;function read$5(et){if(!et||!_has(et))return null;var _e="(?:^|.*;\\s*)"+escape(et).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(doc.cookie.replace(new RegExp(_e),"$1"))}function each$2(et){for(var _e=doc.cookie.split(/; ?/g),rt=_e.length-1;rt>=0;rt--)if(trim(_e[rt])){var nt=_e[rt].split("="),it=unescape(nt[0]),st=unescape(nt[1]);et(st,it)}}function write$2(et,_e){et&&(doc.cookie=escape(et)+"="+escape(_e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove$2(et){!et||!_has(et)||(doc.cookie=escape(et)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll$2(){each$2(function(et,_e){remove$2(_e)})}function _has(et){return new RegExp("(?:^|;\\s*)"+escape(et).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(doc.cookie)}var util=util$6,Global=util.Global,sessionStorage_1={name:"sessionStorage",read:read$4,write:write$1,each:each$1,remove:remove$1,clearAll:clearAll$1};function sessionStorage(){return Global.sessionStorage}function read$4(et){return sessionStorage().getItem(et)}function write$1(et,_e){return sessionStorage().setItem(et,_e)}function each$1(et){for(var _e=sessionStorage().length-1;_e>=0;_e--){var rt=sessionStorage().key(_e);et(read$4(rt),rt)}}function remove$1(et){return sessionStorage().removeItem(et)}function clearAll$1(){return sessionStorage().clear()}var memoryStorage_1={name:"memoryStorage",read:read$3,write,each,remove,clearAll},memoryStorage={};function read$3(et){return memoryStorage[et]}function write(et,_e){memoryStorage[et]=_e}function each(et){for(var _e in memoryStorage)memoryStorage.hasOwnProperty(_e)&&et(memoryStorage[_e],_e)}function remove(et){delete memoryStorage[et]}function clearAll(et){memoryStorage={}}var all=[localStorage_1,oldFFGlobalStorage,oldIEUserDataStorage,cookieStorage,sessionStorage_1,memoryStorage_1],json2$1={},hasRequiredJson2;function requireJson2(){return hasRequiredJson2||(hasRequiredJson2=1,typeof JSON!="object"&&(JSON={}),function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(et){return et<10?"0"+et:et}function this_value(){return this.valueOf()}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;function quote(et){return rx_escapable.lastIndex=0,rx_escapable.test(et)?'"'+et.replace(rx_escapable,function(_e){var rt=meta[_e];return typeof rt=="string"?rt:"\\u"+("0000"+_e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+et+'"'}function str(et,_e){var rt,nt,it,st,ot=gap,at,lt=_e[et];switch(lt&&typeof lt=="object"&&typeof lt.toJSON=="function"&&(lt=lt.toJSON(et)),typeof rep=="function"&&(lt=rep.call(_e,et,lt)),typeof lt){case"string":return quote(lt);case"number":return isFinite(lt)?String(lt):"null";case"boolean":case"null":return String(lt);case"object":if(!lt)return"null";if(gap+=indent,at=[],Object.prototype.toString.apply(lt)==="[object Array]"){for(st=lt.length,rt=0;rt<st;rt+=1)at[rt]=str(rt,lt)||"null";return it=at.length===0?"[]":gap?`[
`+gap+at.join(`,
`+gap)+`
`+ot+"]":"["+at.join(",")+"]",gap=ot,it}if(rep&&typeof rep=="object")for(st=rep.length,rt=0;rt<st;rt+=1)typeof rep[rt]=="string"&&(nt=rep[rt],it=str(nt,lt),it&&at.push(quote(nt)+(gap?": ":":")+it));else for(nt in lt)Object.prototype.hasOwnProperty.call(lt,nt)&&(it=str(nt,lt),it&&at.push(quote(nt)+(gap?": ":":")+it));return it=at.length===0?"{}":gap?`{
`+gap+at.join(`,
`+gap)+`
`+ot+"}":"{"+at.join(",")+"}",gap=ot,it}}typeof JSON.stringify!="function"&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(et,_e,rt){var nt;if(gap="",indent="",typeof rt=="number")for(nt=0;nt<rt;nt+=1)indent+=" ";else typeof rt=="string"&&(indent=rt);if(rep=_e,_e&&typeof _e!="function"&&(typeof _e!="object"||typeof _e.length!="number"))throw new Error("JSON.stringify");return str("",{"":et})}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){var j;function walk(et,_e){var rt,nt,it=et[_e];if(it&&typeof it=="object")for(rt in it)Object.prototype.hasOwnProperty.call(it,rt)&&(nt=walk(it,rt),nt!==void 0?it[rt]=nt:delete it[rt]);return reviver.call(et,_e,it)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(et){return"\\u"+("0000"+et.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()),json2$1}var json2=json2Plugin;function json2Plugin(){return requireJson2(),{}}var engine=storeEngine,storages=all,plugins=[json2],store_legacy=engine.createStore(storages,plugins);const store=getDefaultExportFromCjs(store_legacy),MoonIcon="/assets/moon-d2a28694.svg",SunIcon="/assets/sun-9b99a747.svg",dark="_dark_175ah_26",styles$5={"theme-toggle":"_theme-toggle_175ah_1","theme-toggle__inner":"_theme-toggle__inner_175ah_19",dark};function ThemeToggle(et){const _e=store.get("theme")||"light",[rt,nt]=reactExports.useState(_e=="dark"),[it,st]=reactExports.useState(""),ot=at=>{at.preventDefault(),st(cn({[styles$5.dark]:!rt})),store.set("theme",rt?"light":"dark"),document.body.classList.remove("light"),document.body.classList.remove("dark"),document.body.classList.add(rt?"light":"dark"),nt(lt=>!lt)};return reactExports.useEffect(()=>{document.body.classList.add(_e),st(cn({[styles$5.dark]:rt}))},[]),jsx("a",{href:"#",title:"Theme Toggle",target:"_self",className:cn("theme-toggle",styles$5["theme-toggle"],it),onClick:ot,children:jsxs("div",{className:styles$5["theme-toggle__inner"],children:[jsx("img",{src:SunIcon,alt:""}),jsx("img",{src:MoonIcon,alt:""})]})})}const sidebar="_sidebar_1rct3_1",menu="_menu_1rct3_43",menuItem="_menuItem_1rct3_56",logo="_logo_1rct3_70",header$1="_header_1rct3_73",badge="_badge_1rct3_98",avatar$2="_avatar_1rct3_114",menuActive="_menuActive_1rct3_179",styles$4={sidebar,menu,menuItem,logo,header:header$1,badge,avatar:avatar$2,menuActive};function Sidebar(et){const{data:_e}=et,{data:rt}=useQuery(["unreadNotif"],()=>agent$1.countUnreadNotifications({}),{refetchInterval:5e3}),nt=(rt==null?void 0:rt.data.count)||0,it=useLocation(),st=[{path:"/",icon:HomeIcon,fillIcon:HomeFillIcon,text:"Home"},{path:"/notifications",icon:NotificationIcon,fillIcon:NotificationFillIcon,text:"Notifications"},{path:`/user/${_e==null?void 0:_e.handle}`,icon:UserIcon,fillIcon:ProfileFillIcon,text:"Profile"},{path:"/settings",icon:SettingsIcon,fillIcon:SettingsFillIcon,text:"Settings"},{path:"/logout",icon:LogoutIcon,fillIcon:LogoutIcon,text:"Logout"}],ot=(at,lt)=>{lt===0&&it.pathname==="/"&&(at.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"}))};return jsxs("div",{className:cn(styles$4.sidebar,"sidebar"),children:[jsxs("div",{className:styles$4.logo,children:[jsxs("div",{children:[jsx("img",{src:KiteLogo,alt:"Kite | a better bluesky client"}),jsx("h1",{children:"Kite"})]}),jsx(ThemeToggle,{})]}),jsxs(Link$1,{to:`/user/${_e==null?void 0:_e.handle}`,className:styles$4.header,children:[jsx("div",{className:styles$4.avatar,children:jsx("img",{src:(_e==null?void 0:_e.avatar)||AvatarPlaceholder,alt:_e==null?void 0:_e.displayName})}),jsxs("div",{children:[jsx("strong",{className:"d-block",children:_e==null?void 0:_e.displayName}),jsx("span",{className:"d-block",children:"@"+(_e==null?void 0:_e.handle)})]})]}),jsx("div",{className:styles$4.menu,children:st.map((at,lt)=>jsxs(Link$1,{to:at.path,className:cn(styles$4.menuItem,{[styles$4.menuActive]:at.path==it.pathname}),onClick:ut=>ot(ut,lt),children:[jsx("img",{alt:"",src:at.path==it.pathname?at.fillIcon:at.icon}),jsxs("strong",{children:[at.text,nt&&at.path=="/notifications"?jsx("span",{className:styles$4.badge,children:nt}):""]})]},lt))})]})}function Layout(et){const{children:_e,backButton:rt,className:nt}=et,[it,st]=useAtom(userAtom),ot=useAtomValue(newAtom),at=async()=>{const ct=localStorage.getItem(SESSION_LOCAL_STORAGE_KEY);if(ct){const dt=JSON.parse(ct);try{const ft=await agent$1.getProfile({actor:dt.did});return st(ft.data),ft}catch(ft){throw console.error(ft),ft}}},{data:lt,isLoading:ut}=useQuery("profile",at);return jsxs("div",{className:"feed",children:[ut?jsx("div",{className:"d-flex align-items-center justify-content-center p-5 w-100",children:jsx(Loading,{isColored:!0})}):jsxs(Fragment$1,{children:[jsx(Sidebar,{data:lt==null?void 0:lt.data}),jsxs("div",{className:cn("feed-center",nt),children:[rt?jsx("div",{className:"back-button-wrapper",children:jsx(BackButton,{})}):"",_e]}),jsx(Right,{})]}),ot.show?jsx(Portal$1,{children:jsx(NewModal,{})}):"",jsx(Lightbox,{})]})}const UI_STORAGE_KEY="hot",uiAtom=atom({hot:localStorage.getItem(UI_STORAGE_KEY)?JSON.parse(localStorage.getItem(UI_STORAGE_KEY)).hot:window.innerWidth>1024,firehose:localStorage.getItem(UI_STORAGE_KEY)?JSON.parse(localStorage.getItem(UI_STORAGE_KEY)).firehose:!1,theme:localStorage.getItem(UI_STORAGE_KEY)?JSON.parse(localStorage.getItem(UI_STORAGE_KEY)).theme:!0});var encode_1$1=encode$2,MSB$2=128,REST$2=127,MSBALL$1=~REST$2,INT$1=Math.pow(2,31);function encode$2(et,_e,rt){_e=_e||[],rt=rt||0;for(var nt=rt;et>=INT$1;)_e[rt++]=et&255|MSB$2,et/=128;for(;et&MSBALL$1;)_e[rt++]=et&255|MSB$2,et>>>=7;return _e[rt]=et|0,encode$2.bytes=rt-nt+1,_e}var decode$7=read$2,MSB$1$1=128,REST$1$1=127;function read$2(et,nt){var rt=0,nt=nt||0,it=0,st=nt,ot,at=et.length;do{if(st>=at)throw read$2.bytes=0,new RangeError("Could not decode varint");ot=et[st++],rt+=it<28?(ot&REST$1$1)<<it:(ot&REST$1$1)*Math.pow(2,it),it+=7}while(ot>=MSB$1$1);return read$2.bytes=st-nt,rt}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(et){return et<N1$1?1:et<N2$1?2:et<N3$1?3:et<N4$1?4:et<N5$1?5:et<N6$1?6:et<N7$1?7:et<N8$1?8:et<N9$1?9:10},varint$2={encode:encode_1$1,decode:decode$7,encodingLength:length$1},_brrp_varint=varint$2;const decode$6=(et,_e=0)=>[_brrp_varint.decode(et,_e),_brrp_varint.decode.bytes],encodeTo=(et,_e,rt=0)=>(_brrp_varint.encode(et,_e,rt),_e),encodingLength=et=>_brrp_varint.encodingLength(et),equals$1=(et,_e)=>{if(et===_e)return!0;if(et.byteLength!==_e.byteLength)return!1;for(let rt=0;rt<et.byteLength;rt++)if(et[rt]!==_e[rt])return!1;return!0},coerce=et=>{if(et instanceof Uint8Array&&et.constructor.name==="Uint8Array")return et;if(et instanceof ArrayBuffer)return new Uint8Array(et);if(ArrayBuffer.isView(et))return new Uint8Array(et.buffer,et.byteOffset,et.byteLength);throw new Error("Unknown type, must be binary type")},create=(et,_e)=>{const rt=_e.byteLength,nt=encodingLength(et),it=nt+encodingLength(rt),st=new Uint8Array(it+rt);return encodeTo(et,st,0),encodeTo(rt,st,nt),st.set(_e,it),new Digest(et,rt,_e,st)},decode$5=et=>{const _e=coerce(et),[rt,nt]=decode$6(_e),[it,st]=decode$6(_e.subarray(nt)),ot=_e.subarray(nt+st);if(ot.byteLength!==it)throw new Error("Incorrect length");return new Digest(rt,it,ot,_e)},equals=(et,_e)=>{if(et===_e)return!0;{const rt=_e;return et.code===rt.code&&et.size===rt.size&&rt.bytes instanceof Uint8Array&&equals$1(et.bytes,rt.bytes)}};class Digest{constructor(_e,rt,nt,it){this.code=_e,this.size=rt,this.digest=nt,this.bytes=it}}function base(et,_e){if(et.length>=255)throw new TypeError("Alphabet too long");for(var rt=new Uint8Array(256),nt=0;nt<rt.length;nt++)rt[nt]=255;for(var it=0;it<et.length;it++){var st=et.charAt(it),ot=st.charCodeAt(0);if(rt[ot]!==255)throw new TypeError(st+" is ambiguous");rt[ot]=it}var at=et.length,lt=et.charAt(0),ut=Math.log(at)/Math.log(256),ct=Math.log(256)/Math.log(at);function dt(ht){if(ht instanceof Uint8Array||(ArrayBuffer.isView(ht)?ht=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):Array.isArray(ht)&&(ht=Uint8Array.from(ht))),!(ht instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ht.length===0)return"";for(var mt=0,bt=0,gt=0,xt=ht.length;gt!==xt&&ht[gt]===0;)gt++,mt++;for(var yt=(xt-gt)*ct+1>>>0,vt=new Uint8Array(yt);gt!==xt;){for(var Pt=ht[gt],St=0,Ot=yt-1;(Pt!==0||St<bt)&&Ot!==-1;Ot--,St++)Pt+=256*vt[Ot]>>>0,vt[Ot]=Pt%at>>>0,Pt=Pt/at>>>0;if(Pt!==0)throw new Error("Non-zero carry");bt=St,gt++}for(var Et=yt-bt;Et!==yt&&vt[Et]===0;)Et++;for(var Lt=lt.repeat(mt);Et<yt;++Et)Lt+=et.charAt(vt[Et]);return Lt}function ft(ht){if(typeof ht!="string")throw new TypeError("Expected String");if(ht.length===0)return new Uint8Array;var mt=0;if(ht[mt]!==" "){for(var bt=0,gt=0;ht[mt]===lt;)bt++,mt++;for(var xt=(ht.length-mt)*ut+1>>>0,yt=new Uint8Array(xt);ht[mt];){var vt=rt[ht.charCodeAt(mt)];if(vt===255)return;for(var Pt=0,St=xt-1;(vt!==0||Pt<gt)&&St!==-1;St--,Pt++)vt+=at*yt[St]>>>0,yt[St]=vt%256>>>0,vt=vt/256>>>0;if(vt!==0)throw new Error("Non-zero carry");gt=Pt,mt++}if(ht[mt]!==" "){for(var Ot=xt-gt;Ot!==xt&&yt[Ot]===0;)Ot++;for(var Et=new Uint8Array(bt+(xt-Ot)),Lt=bt;Ot!==xt;)Et[Lt++]=yt[Ot++];return Et}}}function pt(ht){var mt=ft(ht);if(mt)return mt;throw new Error(`Non-${_e} character`)}return{encode:dt,decodeUnsafe:ft,decode:pt}}var src$1=base,_brrp__multiformats_scope_baseX=src$1;let Encoder$1=class{constructor(_e,rt,nt){this.name=_e,this.prefix=rt,this.baseEncode=nt}encode(_e){if(_e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(_e)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(_e,rt,nt){if(this.name=_e,this.prefix=rt,rt.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=rt.codePointAt(0),this.baseDecode=nt}decode(_e){if(typeof _e=="string"){if(_e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(_e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(_e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(_e){return or(this,_e)}};class ComposedDecoder{constructor(_e){this.decoders=_e}or(_e){return or(this,_e)}decode(_e){const rt=_e[0],nt=this.decoders[rt];if(nt)return nt.decode(_e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(_e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(et,_e)=>new ComposedDecoder({...et.decoders||{[et.prefix]:et},..._e.decoders||{[_e.prefix]:_e}});class Codec{constructor(_e,rt,nt,it){this.name=_e,this.prefix=rt,this.baseEncode=nt,this.baseDecode=it,this.encoder=new Encoder$1(_e,rt,nt),this.decoder=new Decoder$1(_e,rt,it)}encode(_e){return this.encoder.encode(_e)}decode(_e){return this.decoder.decode(_e)}}const from=({name:et,prefix:_e,encode:rt,decode:nt})=>new Codec(et,_e,rt,nt),baseX=({prefix:et,name:_e,alphabet:rt})=>{const{encode:nt,decode:it}=_brrp__multiformats_scope_baseX(rt,_e);return from({prefix:et,name:_e,encode:nt,decode:st=>coerce(it(st))})},decode$4=(et,_e,rt,nt)=>{const it={};for(let ct=0;ct<_e.length;++ct)it[_e[ct]]=ct;let st=et.length;for(;et[st-1]==="=";)--st;const ot=new Uint8Array(st*rt/8|0);let at=0,lt=0,ut=0;for(let ct=0;ct<st;++ct){const dt=it[et[ct]];if(dt===void 0)throw new SyntaxError(`Non-${nt} character`);lt=lt<<rt|dt,at+=rt,at>=8&&(at-=8,ot[ut++]=255&lt>>at)}if(at>=rt||255&lt<<8-at)throw new SyntaxError("Unexpected end of data");return ot},encode$1=(et,_e,rt)=>{const nt=_e[_e.length-1]==="=",it=(1<<rt)-1;let st="",ot=0,at=0;for(let lt=0;lt<et.length;++lt)for(at=at<<8|et[lt],ot+=8;ot>rt;)ot-=rt,st+=_e[it&at>>ot];if(ot&&(st+=_e[it&at<<rt-ot]),nt)for(;st.length*rt&7;)st+="=";return st},rfc4648=({name:et,prefix:_e,bitsPerChar:rt,alphabet:nt})=>from({prefix:_e,name:et,encode(it){return encode$1(it,nt,rt)},decode(it){return decode$4(it,nt,rt,et)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const format=(et,_e)=>{const{bytes:rt,version:nt}=et;switch(nt){case 0:return toStringV0(rt,baseCache(et),_e||base58btc.encoder);default:return toStringV1(rt,baseCache(et),_e||base32.encoder)}},cache=new WeakMap,baseCache=et=>{const _e=cache.get(et);if(_e==null){const rt=new Map;return cache.set(et,rt),rt}return _e};class CID{constructor(_e,rt,nt,it){this.code=rt,this.version=_e,this.multihash=nt,this.bytes=it,this["/"]=it}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:_e,multihash:rt}=this;if(_e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(rt.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(rt)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:_e,digest:rt}=this.multihash,nt=create(_e,rt);return CID.createV1(this.code,nt)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(_e){return CID.equals(this,_e)}static equals(_e,rt){const nt=rt;return nt&&_e.code===nt.code&&_e.version===nt.version&&equals(_e.multihash,nt.multihash)}toString(_e){return format(this,_e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(_e){if(_e==null)return null;const rt=_e;if(rt instanceof CID)return rt;if(rt["/"]!=null&&rt["/"]===rt.bytes||rt.asCID===rt){const{version:nt,code:it,multihash:st,bytes:ot}=rt;return new CID(nt,it,st,ot||encodeCID(nt,it,st.bytes))}else if(rt[cidSymbol]===!0){const{version:nt,multihash:it,code:st}=rt,ot=decode$5(it);return CID.create(nt,st,ot)}else return null}static create(_e,rt,nt){if(typeof rt!="number")throw new Error("String codecs are no longer supported");if(!(nt.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(_e){case 0:{if(rt!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(_e,rt,nt,nt.bytes)}case 1:{const it=encodeCID(_e,rt,nt.bytes);return new CID(_e,rt,nt,it)}default:throw new Error("Invalid version")}}static createV0(_e){return CID.create(0,DAG_PB_CODE,_e)}static createV1(_e,rt){return CID.create(1,_e,rt)}static decode(_e){const[rt,nt]=CID.decodeFirst(_e);if(nt.length)throw new Error("Incorrect length");return rt}static decodeFirst(_e){const rt=CID.inspectBytes(_e),nt=rt.size-rt.multihashSize,it=coerce(_e.subarray(nt,nt+rt.multihashSize));if(it.byteLength!==rt.multihashSize)throw new Error("Incorrect length");const st=it.subarray(rt.multihashSize-rt.digestSize),ot=new Digest(rt.multihashCode,rt.digestSize,st,it);return[rt.version===0?CID.createV0(ot):CID.createV1(rt.codec,ot),_e.subarray(rt.size)]}static inspectBytes(_e){let rt=0;const nt=()=>{const[dt,ft]=decode$6(_e.subarray(rt));return rt+=ft,dt};let it=nt(),st=DAG_PB_CODE;if(it===18?(it=0,rt=0):st=nt(),it!==0&&it!==1)throw new RangeError(`Invalid CID version ${it}`);const ot=rt,at=nt(),lt=nt(),ut=rt+lt,ct=ut-ot;return{version:it,codec:st,multihashCode:at,digestSize:lt,multihashSize:ct,size:ut}}static parse(_e,rt){const[nt,it]=parseCIDtoBytes(_e,rt),st=CID.decode(it);if(st.version===0&&_e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache(st).set(nt,_e),st}}const parseCIDtoBytes=(et,_e)=>{switch(et[0]){case"Q":{const rt=_e||base58btc;return[base58btc.prefix,rt.decode(`${base58btc.prefix}${et}`)]}case base58btc.prefix:{const rt=_e||base58btc;return[base58btc.prefix,rt.decode(et)]}case base32.prefix:{const rt=_e||base32;return[base32.prefix,rt.decode(et)]}default:{if(_e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[et[0],_e.decode(et)]}}},toStringV0=(et,_e,rt)=>{const{prefix:nt}=rt;if(nt!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${rt.name} encoding`);const it=_e.get(nt);if(it==null){const st=rt.encode(et).slice(1);return _e.set(nt,st),st}else return it},toStringV1=(et,_e,rt)=>{const{prefix:nt}=rt,it=_e.get(nt);if(it==null){const st=rt.encode(et);return _e.set(nt,st),st}else return it},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(et,_e,rt)=>{const nt=encodingLength(et),it=nt+encodingLength(_e),st=new Uint8Array(it+rt.byteLength);return encodeTo(et,st,0),encodeTo(_e,st,nt),st.set(rt,it),st},cidSymbol=Symbol.for("@ipld/js-cid/CID"),typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(et){if(et===null)return"null";if(et===void 0)return"undefined";if(et===!0||et===!1)return"boolean";const _e=typeof et;if(typeofs.includes(_e))return _e;if(_e==="function")return"Function";if(Array.isArray(et))return"Array";if(isBuffer$1(et))return"Buffer";const rt=getObjectType(et);return rt||"Object"}function isBuffer$1(et){return et&&et.constructor&&et.constructor.isBuffer&&et.constructor.isBuffer.call(null,et)}function getObjectType(et){const _e=Object.prototype.toString.call(et).slice(8,-1);if(objectTypeNames.includes(_e))return _e}class Type{constructor(_e,rt,nt){this.major=_e,this.majorEncoded=_e<<5,this.name=rt,this.terminal=nt}toString(){return`Type[${this.major}].${this.name}`}compare(_e){return this.major<_e.major?-1:this.major>_e.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(_e,rt,nt){this.type=_e,this.value=rt,this.encodedLength=nt,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder=new TextDecoder,textEncoder$1=new TextEncoder;function isBuffer(et){return useBuffer&&globalThis.Buffer.isBuffer(et)}const toString=useBuffer?(et,_e,rt)=>rt-_e>64?globalThis.Buffer.from(et.subarray(_e,rt)).toString("utf8"):utf8Slice(et,_e,rt):(et,_e,rt)=>rt-_e>64?textDecoder.decode(et.subarray(_e,rt)):utf8Slice(et,_e,rt),fromString=useBuffer?et=>et.length>64?globalThis.Buffer.from(et):utf8ToBytes(et):et=>et.length>64?textEncoder$1.encode(et):utf8ToBytes(et),slice$1=useBuffer?(et,_e,rt)=>isBuffer(et)?new Uint8Array(et.subarray(_e,rt)):et.slice(_e,rt):(et,_e,rt)=>et.slice(_e,rt);function compare(et,_e){if(isBuffer(et)&&isBuffer(_e))return et.compare(_e);for(let rt=0;rt<et.length;rt++)if(et[rt]!==_e[rt])return et[rt]<_e[rt]?-1:1;return 0}function utf8ToBytes(et,_e=1/0){let rt;const nt=et.length;let it=null;const st=[];for(let ot=0;ot<nt;++ot){if(rt=et.charCodeAt(ot),rt>55295&&rt<57344){if(!it){if(rt>56319){(_e-=3)>-1&&st.push(239,191,189);continue}else if(ot+1===nt){(_e-=3)>-1&&st.push(239,191,189);continue}it=rt;continue}if(rt<56320){(_e-=3)>-1&&st.push(239,191,189),it=rt;continue}rt=(it-55296<<10|rt-56320)+65536}else it&&(_e-=3)>-1&&st.push(239,191,189);if(it=null,rt<128){if((_e-=1)<0)break;st.push(rt)}else if(rt<2048){if((_e-=2)<0)break;st.push(rt>>6|192,rt&63|128)}else if(rt<65536){if((_e-=3)<0)break;st.push(rt>>12|224,rt>>6&63|128,rt&63|128)}else if(rt<1114112){if((_e-=4)<0)break;st.push(rt>>18|240,rt>>12&63|128,rt>>6&63|128,rt&63|128)}else throw new Error("Invalid code point")}return st}function utf8Slice(et,_e,rt){const nt=[];for(;_e<rt;){const it=et[_e];let st=null,ot=it>239?4:it>223?3:it>191?2:1;if(_e+ot<=rt){let at,lt,ut,ct;switch(ot){case 1:it<128&&(st=it);break;case 2:at=et[_e+1],(at&192)===128&&(ct=(it&31)<<6|at&63,ct>127&&(st=ct));break;case 3:at=et[_e+1],lt=et[_e+2],(at&192)===128&&(lt&192)===128&&(ct=(it&15)<<12|(at&63)<<6|lt&63,ct>2047&&(ct<55296||ct>57343)&&(st=ct));break;case 4:at=et[_e+1],lt=et[_e+2],ut=et[_e+3],(at&192)===128&&(lt&192)===128&&(ut&192)===128&&(ct=(it&15)<<18|(at&63)<<12|(lt&63)<<6|ut&63,ct>65535&&ct<1114112&&(st=ct))}}st===null?(st=65533,ot=1):st>65535&&(st-=65536,nt.push(st>>>10&1023|55296),st=56320|st&1023),nt.push(st),_e+=ot}return decodeCodePointsArray(nt)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(et){const _e=et.length;if(_e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,et);let rt="",nt=0;for(;nt<_e;)rt+=String.fromCharCode.apply(String,et.slice(nt,nt+=MAX_ARGUMENTS_LENGTH));return rt}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(et,_e,rt){if(et.length-_e<rt)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(et,_e,rt){assertEnoughData(et,_e,1);const nt=et[_e];if(rt.strict===!0&&nt<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return nt}function readUint16(et,_e,rt){assertEnoughData(et,_e,2);const nt=et[_e]<<8|et[_e+1];if(rt.strict===!0&&nt<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return nt}function readUint32(et,_e,rt){assertEnoughData(et,_e,4);const nt=et[_e]*16777216+(et[_e+1]<<16)+(et[_e+2]<<8)+et[_e+3];if(rt.strict===!0&&nt<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return nt}function readUint64(et,_e,rt){assertEnoughData(et,_e,8);const nt=et[_e]*16777216+(et[_e+1]<<16)+(et[_e+2]<<8)+et[_e+3],it=et[_e+4]*16777216+(et[_e+5]<<16)+(et[_e+6]<<8)+et[_e+7],st=(BigInt(nt)<<BigInt(32))+BigInt(it);if(rt.strict===!0&&st<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(st<=Number.MAX_SAFE_INTEGER)return Number(st);if(rt.allowBigInt===!0)return st;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(et,_e,rt,nt){return new Token(Type.uint,readUint8(et,_e+1,nt),2)}function decodeUint16(et,_e,rt,nt){return new Token(Type.uint,readUint16(et,_e+1,nt),3)}function decodeUint32(et,_e,rt,nt){return new Token(Type.uint,readUint32(et,_e+1,nt),5)}function decodeUint64(et,_e,rt,nt){return new Token(Type.uint,readUint64(et,_e+1,nt),9)}function encodeUint(et,_e){return encodeUintValue(et,0,_e.value)}function encodeUintValue(et,_e,rt){if(rt<uintBoundaries[0]){const nt=Number(rt);et.push([_e|nt])}else if(rt<uintBoundaries[1]){const nt=Number(rt);et.push([_e|24,nt])}else if(rt<uintBoundaries[2]){const nt=Number(rt);et.push([_e|25,nt>>>8,nt&255])}else if(rt<uintBoundaries[3]){const nt=Number(rt);et.push([_e|26,nt>>>24&255,nt>>>16&255,nt>>>8&255,nt&255])}else{const nt=BigInt(rt);if(nt<uintBoundaries[4]){const it=[_e|27,0,0,0,0,0,0,0];let st=Number(nt&BigInt(4294967295)),ot=Number(nt>>BigInt(32)&BigInt(4294967295));it[8]=st&255,st=st>>8,it[7]=st&255,st=st>>8,it[6]=st&255,st=st>>8,it[5]=st&255,it[4]=ot&255,ot=ot>>8,it[3]=ot&255,ot=ot>>8,it[2]=ot&255,ot=ot>>8,it[1]=ot&255,et.push(it)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function et(_e){return encodeUintValue.encodedSize(_e.value)};encodeUintValue.encodedSize=function et(_e){return _e<uintBoundaries[0]?1:_e<uintBoundaries[1]?2:_e<uintBoundaries[2]?3:_e<uintBoundaries[3]?5:9};encodeUint.compareTokens=function et(_e,rt){return _e.value<rt.value?-1:_e.value>rt.value?1:0};function decodeNegint8(et,_e,rt,nt){return new Token(Type.negint,-1-readUint8(et,_e+1,nt),2)}function decodeNegint16(et,_e,rt,nt){return new Token(Type.negint,-1-readUint16(et,_e+1,nt),3)}function decodeNegint32(et,_e,rt,nt){return new Token(Type.negint,-1-readUint32(et,_e+1,nt),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(et,_e,rt,nt){const it=readUint64(et,_e+1,nt);if(typeof it!="bigint"){const st=-1-it;if(st>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,st,9)}if(nt.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(it),9)}function encodeNegint(et,_e){const rt=_e.value,nt=typeof rt=="bigint"?rt*neg1b-pos1b:rt*-1-1;encodeUintValue(et,_e.type.majorEncoded,nt)}encodeNegint.encodedSize=function et(_e){const rt=_e.value,nt=typeof rt=="bigint"?rt*neg1b-pos1b:rt*-1-1;return nt<uintBoundaries[0]?1:nt<uintBoundaries[1]?2:nt<uintBoundaries[2]?3:nt<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function et(_e,rt){return _e.value<rt.value?1:_e.value>rt.value?-1:0};function toToken$3(et,_e,rt,nt){assertEnoughData(et,_e,rt+nt);const it=slice$1(et,_e+rt,_e+rt+nt);return new Token(Type.bytes,it,rt+nt)}function decodeBytesCompact(et,_e,rt,nt){return toToken$3(et,_e,1,rt)}function decodeBytes8(et,_e,rt,nt){return toToken$3(et,_e,2,readUint8(et,_e+1,nt))}function decodeBytes16(et,_e,rt,nt){return toToken$3(et,_e,3,readUint16(et,_e+1,nt))}function decodeBytes32(et,_e,rt,nt){return toToken$3(et,_e,5,readUint32(et,_e+1,nt))}function decodeBytes64(et,_e,rt,nt){const it=readUint64(et,_e+1,nt);if(typeof it=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(et,_e,9,it)}function tokenBytes(et){return et.encodedBytes===void 0&&(et.encodedBytes=et.type===Type.string?fromString(et.value):et.value),et.encodedBytes}function encodeBytes(et,_e){const rt=tokenBytes(_e);encodeUintValue(et,_e.type.majorEncoded,rt.length),et.push(rt)}encodeBytes.encodedSize=function et(_e){const rt=tokenBytes(_e);return encodeUintValue.encodedSize(rt.length)+rt.length};encodeBytes.compareTokens=function et(_e,rt){return compareBytes(tokenBytes(_e),tokenBytes(rt))};function compareBytes(et,_e){return et.length<_e.length?-1:et.length>_e.length?1:compare(et,_e)}function toToken$2(et,_e,rt,nt,it){const st=rt+nt;assertEnoughData(et,_e,st);const ot=new Token(Type.string,toString(et,_e+rt,_e+st),st);return it.retainStringBytes===!0&&(ot.byteValue=slice$1(et,_e+rt,_e+st)),ot}function decodeStringCompact(et,_e,rt,nt){return toToken$2(et,_e,1,rt,nt)}function decodeString8(et,_e,rt,nt){return toToken$2(et,_e,2,readUint8(et,_e+1,nt),nt)}function decodeString16(et,_e,rt,nt){return toToken$2(et,_e,3,readUint16(et,_e+1,nt),nt)}function decodeString32(et,_e,rt,nt){return toToken$2(et,_e,5,readUint32(et,_e+1,nt),nt)}function decodeString64(et,_e,rt,nt){const it=readUint64(et,_e+1,nt);if(typeof it=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(et,_e,9,it,nt)}const encodeString=encodeBytes;function toToken$1(et,_e,rt,nt){return new Token(Type.array,nt,rt)}function decodeArrayCompact(et,_e,rt,nt){return toToken$1(et,_e,1,rt)}function decodeArray8(et,_e,rt,nt){return toToken$1(et,_e,2,readUint8(et,_e+1,nt))}function decodeArray16(et,_e,rt,nt){return toToken$1(et,_e,3,readUint16(et,_e+1,nt))}function decodeArray32(et,_e,rt,nt){return toToken$1(et,_e,5,readUint32(et,_e+1,nt))}function decodeArray64(et,_e,rt,nt){const it=readUint64(et,_e+1,nt);if(typeof it=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(et,_e,9,it)}function decodeArrayIndefinite(et,_e,rt,nt){if(nt.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(et,_e,1,1/0)}function encodeArray(et,_e){encodeUintValue(et,Type.array.majorEncoded,_e.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function et(_e){return encodeUintValue.encodedSize(_e.value)};function toToken(et,_e,rt,nt){return new Token(Type.map,nt,rt)}function decodeMapCompact(et,_e,rt,nt){return toToken(et,_e,1,rt)}function decodeMap8(et,_e,rt,nt){return toToken(et,_e,2,readUint8(et,_e+1,nt))}function decodeMap16(et,_e,rt,nt){return toToken(et,_e,3,readUint16(et,_e+1,nt))}function decodeMap32(et,_e,rt,nt){return toToken(et,_e,5,readUint32(et,_e+1,nt))}function decodeMap64(et,_e,rt,nt){const it=readUint64(et,_e+1,nt);if(typeof it=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(et,_e,9,it)}function decodeMapIndefinite(et,_e,rt,nt){if(nt.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(et,_e,1,1/0)}function encodeMap(et,_e){encodeUintValue(et,Type.map.majorEncoded,_e.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function et(_e){return encodeUintValue.encodedSize(_e.value)};function decodeTagCompact(et,_e,rt,nt){return new Token(Type.tag,rt,1)}function decodeTag8(et,_e,rt,nt){return new Token(Type.tag,readUint8(et,_e+1,nt),2)}function decodeTag16(et,_e,rt,nt){return new Token(Type.tag,readUint16(et,_e+1,nt),3)}function decodeTag32(et,_e,rt,nt){return new Token(Type.tag,readUint32(et,_e+1,nt),5)}function decodeTag64(et,_e,rt,nt){return new Token(Type.tag,readUint64(et,_e+1,nt),9)}function encodeTag(et,_e){encodeUintValue(et,Type.tag.majorEncoded,_e.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function et(_e){return encodeUintValue.encodedSize(_e.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(et,_e,rt,nt){if(nt.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return nt.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(et,_e,rt,nt){if(nt.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(et,_e,rt){if(rt){if(rt.allowNaN===!1&&Number.isNaN(et))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(rt.allowInfinity===!1&&(et===1/0||et===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,et,_e)}function decodeFloat16(et,_e,rt,nt){return createToken(readFloat16(et,_e+1),3,nt)}function decodeFloat32(et,_e,rt,nt){return createToken(readFloat32(et,_e+1),5,nt)}function decodeFloat64(et,_e,rt,nt){return createToken(readFloat64(et,_e+1),9,nt)}function encodeFloat(et,_e,rt){const nt=_e.value;if(nt===!1)et.push([Type.float.majorEncoded|MINOR_FALSE]);else if(nt===!0)et.push([Type.float.majorEncoded|MINOR_TRUE]);else if(nt===null)et.push([Type.float.majorEncoded|MINOR_NULL]);else if(nt===void 0)et.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let it,st=!1;(!rt||rt.float64!==!0)&&(encodeFloat16(nt),it=readFloat16(ui8a,1),nt===it||Number.isNaN(nt)?(ui8a[0]=249,et.push(ui8a.slice(0,3)),st=!0):(encodeFloat32(nt),it=readFloat32(ui8a,1),nt===it&&(ui8a[0]=250,et.push(ui8a.slice(0,5)),st=!0))),st||(encodeFloat64(nt),it=readFloat64(ui8a,1),ui8a[0]=251,et.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function et(_e,rt){const nt=_e.value;if(nt===!1||nt===!0||nt===null||nt===void 0)return 1;if(!rt||rt.float64!==!0){encodeFloat16(nt);let it=readFloat16(ui8a,1);if(nt===it||Number.isNaN(nt))return 3;if(encodeFloat32(nt),it=readFloat32(ui8a,1),nt===it)return 5}return 9};const buffer=new ArrayBuffer(9),dataView$1=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(et){if(et===1/0)dataView$1.setUint16(0,31744,!1);else if(et===-1/0)dataView$1.setUint16(0,64512,!1);else if(Number.isNaN(et))dataView$1.setUint16(0,32256,!1);else{dataView$1.setFloat32(0,et);const _e=dataView$1.getUint32(0),rt=(_e&2139095040)>>23,nt=_e&8388607;if(rt===255)dataView$1.setUint16(0,31744,!1);else if(rt===0)dataView$1.setUint16(0,(et&2147483648)>>16|nt>>13,!1);else{const it=rt-127;it<-24?dataView$1.setUint16(0,0):it<-14?dataView$1.setUint16(0,(_e&2147483648)>>16|1<<24+it,!1):dataView$1.setUint16(0,(_e&2147483648)>>16|it+15<<10|nt>>13,!1)}}}function readFloat16(et,_e){if(et.length-_e<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const rt=(et[_e]<<8)+et[_e+1];if(rt===31744)return 1/0;if(rt===64512)return-1/0;if(rt===32256)return NaN;const nt=rt>>10&31,it=rt&1023;let st;return nt===0?st=it*2**-24:nt!==31?st=(it+1024)*2**(nt-25):st=it===0?1/0:NaN,rt&32768?-st:st}function encodeFloat32(et){dataView$1.setFloat32(0,et,!1)}function readFloat32(et,_e){if(et.length-_e<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const rt=(et.byteOffset||0)+_e;return new DataView(et.buffer,rt,4).getFloat32(0,!1)}function encodeFloat64(et){dataView$1.setFloat64(0,et,!1)}function readFloat64(et,_e){if(et.length-_e<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const rt=(et.byteOffset||0)+_e;return new DataView(et.buffer,rt,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(et,_e,rt){throw new Error(`${decodeErrPrefix} encountered invalid minor (${rt}) for major ${et[_e]>>>5}`)}function errorer(et){return()=>{throw new Error(`${decodeErrPrefix} ${et}`)}}const jump=[];for(let et=0;et<=23;et++)jump[et]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let et=32;et<=55;et++)jump[et]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let et=64;et<=87;et++)jump[et]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let et=96;et<=119;et++)jump[et]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let et=128;et<=151;et++)jump[et]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let et=160;et<=183;et++)jump[et]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let et=192;et<=215;et++)jump[et]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let et=224;et<=243;et++)jump[et]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let et=0;et<24;et++)quick[et]=new Token(Type.uint,et,1);for(let et=-1;et>=-24;et--)quick[31-et]=new Token(Type.negint,et,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function makeCborEncoders(){const et=[];return et[Type.uint.major]=encodeUint,et[Type.negint.major]=encodeNegint,et[Type.bytes.major]=encodeBytes,et[Type.string.major]=encodeString,et[Type.array.major]=encodeArray,et[Type.map.major]=encodeMap,et[Type.tag.major]=encodeTag,et[Type.float.major]=encodeFloat,et}makeCborEncoders();class Ref{constructor(_e,rt){this.obj=_e,this.parent=rt}includes(_e){let rt=this;do if(rt.obj===_e)return!0;while(rt=rt.parent);return!1}static createCheck(_e,rt){if(_e&&_e.includes(rt))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(rt,_e)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(et,_e,rt,nt){return!Number.isInteger(et)||!Number.isSafeInteger(et)?new Token(Type.float,et):et>=0?new Token(Type.uint,et):new Token(Type.negint,et)},bigint(et,_e,rt,nt){return et>=BigInt(0)?new Token(Type.uint,et):new Token(Type.negint,et)},Uint8Array(et,_e,rt,nt){return new Token(Type.bytes,et)},string(et,_e,rt,nt){return new Token(Type.string,et)},boolean(et,_e,rt,nt){return et?simpleTokens.true:simpleTokens.false},null(et,_e,rt,nt){return simpleTokens.null},undefined(et,_e,rt,nt){return simpleTokens.undefined},ArrayBuffer(et,_e,rt,nt){return new Token(Type.bytes,new Uint8Array(et))},DataView(et,_e,rt,nt){return new Token(Type.bytes,new Uint8Array(et.buffer,et.byteOffset,et.byteLength))},Array(et,_e,rt,nt){if(!et.length)return rt.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;nt=Ref.createCheck(nt,et);const it=[];let st=0;for(const ot of et)it[st++]=objectToTokens(ot,rt,nt);return rt.addBreakTokens?[new Token(Type.array,et.length),it,new Token(Type.break)]:[new Token(Type.array,et.length),it]},Object(et,_e,rt,nt){const it=_e!=="Object",st=it?et.keys():Object.keys(et),ot=it?et.size:st.length;if(!ot)return rt.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;nt=Ref.createCheck(nt,et);const at=[];let lt=0;for(const ut of st)at[lt++]=[objectToTokens(ut,rt,nt),objectToTokens(it?et.get(ut):et[ut],rt,nt)];return sortMapEntries(at,rt),rt.addBreakTokens?[new Token(Type.map,ot),at,new Token(Type.break)]:[new Token(Type.map,ot),at]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const et of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${et}Array`]=typeEncoders.DataView;function objectToTokens(et,_e={},rt){const nt=is(et),it=_e&&_e.typeEncoders&&_e.typeEncoders[nt]||typeEncoders[nt];if(typeof it=="function"){const ot=it(et,nt,_e,rt);if(ot!=null)return ot}const st=typeEncoders[nt];if(!st)throw new Error(`${encodeErrPrefix} unsupported type: ${nt}`);return st(et,nt,_e,rt)}function sortMapEntries(et,_e){_e.mapSorter&&et.sort(_e.mapSorter)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(_e,rt={}){this.pos=0,this.data=_e,this.options=rt}done(){return this.pos>=this.data.length}next(){const _e=this.data[this.pos];let rt=quick[_e];if(rt===void 0){const nt=jump[_e];if(!nt)throw new Error(`${decodeErrPrefix} no decoder for major type ${_e>>>5} (byte 0x${_e.toString(16).padStart(2,"0")})`);const it=_e&31;rt=nt(this.data,this.pos,it,this.options)}return this.pos+=rt.encodedLength,rt}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(et,_e,rt){const nt=[];for(let it=0;it<et.value;it++){const st=tokensToObject(_e,rt);if(st===BREAK){if(et.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(st===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${it}, expected ${et.value})`);nt[it]=st}return nt}function tokenToMap(et,_e,rt){const nt=rt.useMaps===!0,it=nt?void 0:{},st=nt?new Map:void 0;for(let ot=0;ot<et.value;ot++){const at=tokensToObject(_e,rt);if(at===BREAK){if(et.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(at===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${ot} [no key], expected ${et.value})`);if(nt!==!0&&typeof at!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof at})`);if(rt.rejectDuplicateMapKeys===!0&&(nt&&st.has(at)||!nt&&at in it))throw new Error(`${decodeErrPrefix} found repeat map key "${at}"`);const lt=tokensToObject(_e,rt);if(lt===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${ot} [no value], expected ${et.value})`);nt?st.set(at,lt):it[at]=lt}return nt?st:it}function tokensToObject(et,_e){if(et.done())return DONE;const rt=et.next();if(rt.type===Type.break)return BREAK;if(rt.type.terminal)return rt.value;if(rt.type===Type.array)return tokenToArray(rt,et,_e);if(rt.type===Type.map)return tokenToMap(rt,et,_e);if(rt.type===Type.tag){if(_e.tags&&typeof _e.tags[rt.value]=="function"){const nt=tokensToObject(et,_e);return _e.tags[rt.value](nt)}throw new Error(`${decodeErrPrefix} tag not supported (${rt.value})`)}throw new Error("unsupported")}function decode$3(et,_e){if(!(et instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);_e=Object.assign({},defaultDecodeOptions,_e);const rt=_e.tokenizer||new Tokeniser(et,_e),nt=tokensToObject(rt,_e);if(nt===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(nt===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!rt.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return nt}const CID_CBOR_TAG=42;function cidDecoder(et){if(et[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(et.subarray(1))}const decodeOptions={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const decode$2=et=>decode$3(et,decodeOptions),Kinds={Null:et=>et===null,Int:et=>Number.isInteger(et),Float:et=>typeof et=="number"&&Number.isFinite(et),String:et=>typeof et=="string",Bool:et=>typeof et=="boolean",Bytes:et=>et instanceof Uint8Array,Link:et=>!Kinds.Null(et)&&typeof et=="object"&&et.asCID===et,List:et=>Array.isArray(et),Map:et=>!Kinds.Null(et)&&typeof et=="object"&&et.asCID!==et&&!Kinds.List(et)&&!Kinds.Bytes(et)},Types={Int:Kinds.Int,"CarHeader > version":et=>Types.Int(et),"CarHeader > roots (anon) > valueType (anon)":Kinds.Link,"CarHeader > roots (anon)":et=>Kinds.List(et)&&Array.prototype.every.call(et,Types["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":et=>Types["CarHeader > roots (anon)"](et),CarHeader:et=>{const _e=et&&Object.keys(et);return Kinds.Map(et)&&["version"].every(rt=>_e.includes(rt))&&Object.entries(et).every(([rt,nt])=>Types["CarHeader > "+rt]&&Types["CarHeader > "+rt](nt))}},CarHeader=Types.CarHeader;var encode_1=encode,MSB$1=128,REST$1=127,MSBALL=~REST$1,INT=Math.pow(2,31);function encode(et,_e,rt){if(Number.MAX_SAFE_INTEGER&&et>Number.MAX_SAFE_INTEGER)throw encode.bytes=0,new RangeError("Could not encode varint");_e=_e||[],rt=rt||0;for(var nt=rt;et>=INT;)_e[rt++]=et&255|MSB$1,et/=128;for(;et&MSBALL;)_e[rt++]=et&255|MSB$1,et>>>=7;return _e[rt]=et|0,encode.bytes=rt-nt+1,_e}var decode$1=read$1,MSB=128,REST=127;function read$1(et,nt){var rt=0,nt=nt||0,it=0,st=nt,ot,at=et.length;do{if(st>=at||it>49)throw read$1.bytes=0,new RangeError("Could not decode varint");ot=et[st++],rt+=it<28?(ot&REST)<<it:(ot&REST)*Math.pow(2,it),it+=7}while(ot>=MSB);return read$1.bytes=st-nt,rt}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(et){return et<N1?1:et<N2?2:et<N3?3:et<N4?4:et<N5?5:et<N6?6:et<N7?7:et<N8?8:et<N9?9:10},varint={encode:encode_1,decode:decode$1,encodingLength:length};const varint$1=getDefaultExportFromCjs(varint),CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112},V2_HEADER_LENGTH=16+8+8+8;function decodeVarint(et,_e){if(!et.length)throw new Error("Unexpected end of data");const rt=varint$1.decode(et);return _e.seek(varint$1.decode.bytes),rt}function decodeV2Header(et){const _e=new DataView(et.buffer,et.byteOffset,et.byteLength);let rt=0;return{version:2,characteristics:[_e.getBigUint64(rt,!0),_e.getBigUint64(rt+=8,!0)],dataOffset:Number(_e.getBigUint64(rt+=8,!0)),dataSize:Number(_e.getBigUint64(rt+=8,!0)),indexOffset:Number(_e.getBigUint64(rt+=8,!0))}}function getMultihashLength(et){varint$1.decode(et);const _e=varint$1.decode.bytes,rt=varint$1.decode(et.subarray(varint$1.decode.bytes)),nt=varint$1.decode.bytes;return _e+nt+rt}async function readHeader(et,_e){const rt=decodeVarint(await et.upTo(8),et);if(rt===0)throw new Error("Invalid CAR header (zero length)");const nt=await et.exactly(rt,!0),it=decode$2(nt);if(!CarHeader(it))throw new Error("Invalid CAR header format");if(it.version!==1&&it.version!==2||_e!==void 0&&it.version!==_e)throw new Error(`Invalid CAR version: ${it.version}${_e!==void 0?` (expected ${_e})`:""}`);const st=Array.isArray(it.roots);if(it.version===1&&!st||it.version===2&&st)throw new Error("Invalid CAR header format");if(it.version===1)return it;const ot=decodeV2Header(await et.exactly(V2_HEADER_LENGTH,!0));et.seek(ot.dataOffset-et.pos);const at=await readHeader(et,1);return Object.assign(at,ot)}async function readCid(et){const _e=await et.exactly(2,!1);if(_e[0]===CIDV0_BYTES.SHA2_256&&_e[1]===CIDV0_BYTES.LENGTH){const ot=await et.exactly(34,!0),at=decode$5(ot);return CID.create(0,CIDV0_BYTES.DAG_PB,at)}const rt=decodeVarint(await et.upTo(8),et);if(rt!==1)throw new Error(`Unexpected CID version (${rt})`);const nt=decodeVarint(await et.upTo(8),et),it=await et.exactly(getMultihashLength(await et.upTo(8)),!0),st=decode$5(it);return CID.create(rt,nt,st)}async function readBlockHead(et){const _e=et.pos;let rt=decodeVarint(await et.upTo(8),et);if(rt===0)throw new Error("Invalid CAR section (zero length)");rt+=et.pos-_e;const nt=await readCid(et),it=rt-Number(et.pos-_e);return{cid:nt,length:rt,blockLength:it}}async function readBlock(et){const{cid:_e,blockLength:rt}=await readBlockHead(et);return{bytes:await et.exactly(rt,!0),cid:_e}}async function readBlockIndex(et){const _e=et.pos,{cid:rt,length:nt,blockLength:it}=await readBlockHead(et),st={cid:rt,length:nt,blockLength:it,offset:_e,blockOffset:et.pos};return et.seek(st.blockLength),st}function createDecoder(et){const _e=(async()=>{const rt=await readHeader(et);if(rt.version===2){const nt=et.pos-rt.dataOffset;et=limitReader(et,rt.dataSize-nt)}return rt})();return{header:()=>_e,async*blocks(){for(await _e;(await et.upTo(8)).length>0;)yield await readBlock(et)},async*blocksIndex(){for(await _e;(await et.upTo(8)).length>0;)yield await readBlockIndex(et)}}}function bytesReader(et){let _e=0;return{async upTo(rt){return et.subarray(_e,_e+Math.min(rt,et.length-_e))},async exactly(rt,nt=!1){if(rt>et.length-_e)throw new Error("Unexpected end of data");const it=et.subarray(_e,_e+rt);return nt&&(_e+=rt),it},seek(rt){_e+=rt},get pos(){return _e}}}function chunkReader(et){let _e=0,rt=0,nt=0,it=new Uint8Array(0);const st=async ot=>{rt=it.length-nt;const at=[it.subarray(nt)];for(;rt<ot;){const ut=await et();if(ut==null)break;rt<0?ut.length>rt&&at.push(ut.subarray(-rt)):at.push(ut),rt+=ut.length}it=new Uint8Array(at.reduce((ut,ct)=>ut+ct.length,0));let lt=0;for(const ut of at)it.set(ut,lt),lt+=ut.length;nt=0};return{async upTo(ot){return it.length-nt<ot&&await st(ot),it.subarray(nt,nt+Math.min(it.length-nt,ot))},async exactly(ot,at=!1){if(it.length-nt<ot&&await st(ot),it.length-nt<ot)throw new Error("Unexpected end of data");const lt=it.subarray(nt,nt+ot);return at&&(_e+=ot,nt+=ot),lt},seek(ot){_e+=ot,nt+=ot},get pos(){return _e}}}function asyncIterableReader(et){const _e=et[Symbol.asyncIterator]();async function rt(){const nt=await _e.next();return nt.done?null:nt.value}return chunkReader(rt)}function limitReader(et,_e){let rt=0;return{async upTo(nt){let it=await et.upTo(nt);return it.length+rt>_e&&(it=it.subarray(0,_e-rt)),it},async exactly(nt,it=!1){const st=await et.exactly(nt,it);if(st.length+rt>_e)throw new Error("Unexpected end of data");return it&&(rt+=nt),st},seek(nt){rt+=nt,et.seek(nt)},get pos(){return et.pos}}}class CarReader{constructor(_e,rt){this._header=_e,this._blocks=rt,this._keys=rt.map(nt=>nt.cid.toString())}get version(){return this._header.version}async getRoots(){return this._header.roots}async has(_e){return this._keys.indexOf(_e.toString())>-1}async get(_e){const rt=this._keys.indexOf(_e.toString());return rt>-1?this._blocks[rt]:void 0}async*blocks(){for(const _e of this._blocks)yield _e}async*cids(){for(const _e of this._blocks)yield _e.cid}static async fromBytes(_e){if(!(_e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(_e))}static async fromIterable(_e){if(!_e||typeof _e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(_e))}}async function decodeReaderComplete(et){const _e=createDecoder(et),rt=await _e.header(),nt=[];for await(const it of _e.blocks())nt.push(it);return new CarReader(rt,nt)}makeCborEncoders();let decoder;try{decoder=new TextDecoder}catch(et){}let src,srcEnd,position$1=0;const LEGACY_RECORD_INLINE_ID=105,RECORD_DEFINITIONS_ID=57342,RECORD_INLINE_ID=57343,BUNDLED_STRINGS_ID=57337,PACKED_REFERENCE_TAG_ID=6,STOP_CODE={};let currentDecoder={},currentStructures,srcString,srcStringStart=0,srcStringEnd=0,bundledStrings$1,referenceMap,currentExtensions=[],currentExtensionRanges=[],packedValues,dataView,restoreMapsAsObject,defaultOptions={useRecords:!1,mapsAsObjects:!0},sequentialMode=!1;class Decoder{constructor(_e){if(_e&&((_e.keyMap||_e._keyMap)&&!_e.useRecords&&(_e.useRecords=!1,_e.mapsAsObjects=!0),_e.useRecords===!1&&_e.mapsAsObjects===void 0&&(_e.mapsAsObjects=!0),_e.getStructures&&(_e.getShared=_e.getStructures),_e.getShared&&!_e.structures&&((_e.structures=[]).uninitialized=!0),_e.keyMap)){this.mapKey=new Map;for(let[rt,nt]of Object.entries(_e.keyMap))this.mapKey.set(nt,rt)}Object.assign(this,_e)}decodeKey(_e){return this.keyMap&&this.mapKey.get(_e)||_e}encodeKey(_e){return this.keyMap&&this.keyMap.hasOwnProperty(_e)?this.keyMap[_e]:_e}encodeKeys(_e){if(!this._keyMap)return _e;let rt=new Map;for(let[nt,it]of Object.entries(_e))rt.set(this._keyMap.hasOwnProperty(nt)?this._keyMap[nt]:nt,it);return rt}decodeKeys(_e){if(!this._keyMap||_e.constructor.name!="Map")return _e;if(!this._mapKey){this._mapKey=new Map;for(let[nt,it]of Object.entries(this._keyMap))this._mapKey.set(it,nt)}let rt={};return _e.forEach((nt,it)=>rt[safeKey(this._mapKey.has(it)?this._mapKey.get(it):it)]=nt),rt}mapDecode(_e,rt){let nt=this.decode(_e);if(this._keyMap)switch(nt.constructor.name){case"Array":return nt.map(it=>this.decodeKeys(it))}return nt}decode(_e,rt){if(src)return saveState(()=>(clearSource(),this?this.decode(_e,rt):Decoder.prototype.decode.call(defaultOptions,_e,rt)));srcEnd=rt>-1?rt:_e.length,position$1=0,srcStringEnd=0,srcString=null,bundledStrings$1=null,src=_e;try{dataView=_e.dataView||(_e.dataView=new DataView(_e.buffer,_e.byteOffset,_e.byteLength))}catch(nt){throw src=null,_e instanceof Uint8Array?nt:new Error("Source must be a Uint8Array or Buffer but was a "+(_e&&typeof _e=="object"?_e.constructor.name:typeof _e))}if(this instanceof Decoder){if(currentDecoder=this,packedValues=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return currentStructures=this.structures,checkedRead();(!currentStructures||currentStructures.length>0)&&(currentStructures=[])}else currentDecoder=defaultOptions,(!currentStructures||currentStructures.length>0)&&(currentStructures=[]),packedValues=null;return checkedRead()}decodeMultiple(_e,rt){let nt,it=0;try{let st=_e.length;sequentialMode=!0;let ot=this?this.decode(_e,st):defaultDecoder.decode(_e,st);if(rt){if(rt(ot)===!1)return;for(;position$1<st;)if(it=position$1,rt(checkedRead())===!1)return}else{for(nt=[ot];position$1<st;)it=position$1,nt.push(checkedRead());return nt}}catch(st){throw st.lastPosition=it,st.values=nt,st}finally{sequentialMode=!1,clearSource()}}}function checkedRead(){try{let et=read();if(bundledStrings$1){if(position$1>=bundledStrings$1.postBundlePosition){let _e=new Error("Unexpected bundle position");throw _e.incomplete=!0,_e}position$1=bundledStrings$1.postBundlePosition,bundledStrings$1=null}if(position$1==srcEnd)currentStructures=null,src=null,referenceMap&&(referenceMap=null);else if(position$1>srcEnd){let _e=new Error("Unexpected end of CBOR data");throw _e.incomplete=!0,_e}else if(!sequentialMode)throw new Error("Data read, but end of buffer not reached");return et}catch(et){throw clearSource(),(et instanceof RangeError||et.message.startsWith("Unexpected end of buffer"))&&(et.incomplete=!0),et}}function read(){let et=src[position$1++],_e=et>>5;if(et=et&31,et>23)switch(et){case 24:et=src[position$1++];break;case 25:if(_e==7)return getFloat16();et=dataView.getUint16(position$1),position$1+=2;break;case 26:if(_e==7){let rt=dataView.getFloat32(position$1);if(currentDecoder.useFloat32>2){let nt=mult10[(src[position$1]&127)<<1|src[position$1+1]>>7];return position$1+=4,(nt*rt+(rt>0?.5:-.5)>>0)/nt}return position$1+=4,rt}et=dataView.getUint32(position$1),position$1+=4;break;case 27:if(_e==7){let rt=dataView.getFloat64(position$1);return position$1+=8,rt}if(_e>1){if(dataView.getUint32(position$1)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");et=dataView.getUint32(position$1+4)}else currentDecoder.int64AsNumber?(et=dataView.getUint32(position$1)*4294967296,et+=dataView.getUint32(position$1+4)):et=dataView.getBigUint64(position$1);position$1+=8;break;case 31:switch(_e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let rt=[],nt,it=0;for(;(nt=read())!=STOP_CODE;)rt[it++]=nt;return _e==4?rt:_e==3?rt.join(""):Buffer.concat(rt);case 5:let st;if(currentDecoder.mapsAsObjects){let ot={};if(currentDecoder.keyMap)for(;(st=read())!=STOP_CODE;)ot[safeKey(currentDecoder.decodeKey(st))]=read();else for(;(st=read())!=STOP_CODE;)ot[safeKey(st)]=read();return ot}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let ot=new Map;if(currentDecoder.keyMap)for(;(st=read())!=STOP_CODE;)ot.set(currentDecoder.decodeKey(st),read());else for(;(st=read())!=STOP_CODE;)ot.set(st,read());return ot}case 7:return STOP_CODE;default:throw new Error("Invalid major type for indefinite length "+_e)}default:throw new Error("Unknown token "+et)}switch(_e){case 0:return et;case 1:return~et;case 2:return readBin(et);case 3:if(srcStringEnd>=position$1)return srcString.slice(position$1-srcStringStart,(position$1+=et)-srcStringStart);if(srcStringEnd==0&&srcEnd<140&&et<32){let it=et<16?shortStringInJS(et):longStringInJS(et);if(it!=null)return it}return readFixedString(et);case 4:let rt=new Array(et);for(let it=0;it<et;it++)rt[it]=read();return rt;case 5:if(currentDecoder.mapsAsObjects){let it={};if(currentDecoder.keyMap)for(let st=0;st<et;st++)it[safeKey(currentDecoder.decodeKey(read()))]=read();else for(let st=0;st<et;st++)it[safeKey(read())]=read();return it}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let it=new Map;if(currentDecoder.keyMap)for(let st=0;st<et;st++)it.set(currentDecoder.decodeKey(read()),read());else for(let st=0;st<et;st++)it.set(read(),read());return it}case 6:if(et>=BUNDLED_STRINGS_ID){let it=currentStructures[et&8191];if(it)return it.read||(it.read=createStructureReader(it)),it.read();if(et<65536){if(et==RECORD_INLINE_ID){let st=readJustLength(),ot=read(),at=read();recordDefinition(ot,at);let lt={};if(currentDecoder.keyMap)for(let ut=2;ut<st;ut++){let ct=currentDecoder.decodeKey(at[ut-2]);lt[safeKey(ct)]=read()}else for(let ut=2;ut<st;ut++){let ct=at[ut-2];lt[safeKey(ct)]=read()}return lt}else if(et==RECORD_DEFINITIONS_ID){let st=readJustLength(),ot=read();for(let at=2;at<st;at++)recordDefinition(ot++,read());return read()}else if(et==BUNDLED_STRINGS_ID)return readBundleExt();if(currentDecoder.getShared&&(loadShared(),it=currentStructures[et&8191],it))return it.read||(it.read=createStructureReader(it)),it.read()}}let nt=currentExtensions[et];if(nt)return nt.handlesRead?nt(read):nt(read());{let it=read();for(let st=0;st<currentExtensionRanges.length;st++){let ot=currentExtensionRanges[st](et,it);if(ot!==void 0)return ot}return new Tag(it,et)}case 7:switch(et){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let it=(packedValues||getPackedValues())[et];if(it!==void 0)return it;throw new Error("Unknown token "+et)}default:if(isNaN(et)){let it=new Error("Unexpected end of CBOR data");throw it.incomplete=!0,it}throw new Error("Unknown CBOR token "+et)}}const validName=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(et){function _e(){let rt=src[position$1++];if(rt=rt&31,rt>23)switch(rt){case 24:rt=src[position$1++];break;case 25:rt=dataView.getUint16(position$1),position$1+=2;break;case 26:rt=dataView.getUint32(position$1),position$1+=4;break;default:throw new Error("Expected array header, but got "+src[position$1-1])}let nt=this.compiledReader;for(;nt;){if(nt.propertyCount===rt)return nt(read);nt=nt.next}if(this.slowReads++>=3){let st=this.length==rt?this:this.slice(0,rt);return nt=currentDecoder.keyMap?new Function("r","return {"+st.map(ot=>currentDecoder.decodeKey(ot)).map(ot=>validName.test(ot)?safeKey(ot)+":r()":"["+JSON.stringify(ot)+"]:r()").join(",")+"}"):new Function("r","return {"+st.map(ot=>validName.test(ot)?safeKey(ot)+":r()":"["+JSON.stringify(ot)+"]:r()").join(",")+"}"),this.compiledReader&&(nt.next=this.compiledReader),nt.propertyCount=rt,this.compiledReader=nt,nt(read)}let it={};if(currentDecoder.keyMap)for(let st=0;st<rt;st++)it[safeKey(currentDecoder.decodeKey(this[st]))]=read();else for(let st=0;st<rt;st++)it[safeKey(this[st])]=read();return it}return et.slowReads=0,_e}function safeKey(et){return et==="__proto__"?"__proto_":et}let readFixedString=readStringJS;function readStringJS(et){let _e;if(et<16&&(_e=shortStringInJS(et)))return _e;if(et>64&&decoder)return decoder.decode(src.subarray(position$1,position$1+=et));const rt=position$1+et,nt=[];for(_e="";position$1<rt;){const it=src[position$1++];if(!(it&128))nt.push(it);else if((it&224)===192){const st=src[position$1++]&63;nt.push((it&31)<<6|st)}else if((it&240)===224){const st=src[position$1++]&63,ot=src[position$1++]&63;nt.push((it&31)<<12|st<<6|ot)}else if((it&248)===240){const st=src[position$1++]&63,ot=src[position$1++]&63,at=src[position$1++]&63;let lt=(it&7)<<18|st<<12|ot<<6|at;lt>65535&&(lt-=65536,nt.push(lt>>>10&1023|55296),lt=56320|lt&1023),nt.push(lt)}else nt.push(it);nt.length>=4096&&(_e+=fromCharCode$1.apply(String,nt),nt.length=0)}return nt.length>0&&(_e+=fromCharCode$1.apply(String,nt)),_e}let fromCharCode$1=String.fromCharCode;function longStringInJS(et){let _e=position$1,rt=new Array(et);for(let nt=0;nt<et;nt++){const it=src[position$1++];if((it&128)>0){position$1=_e;return}rt[nt]=it}return fromCharCode$1.apply(String,rt)}function shortStringInJS(et){if(et<4)if(et<2){if(et===0)return"";{let _e=src[position$1++];if((_e&128)>1){position$1-=1;return}return fromCharCode$1(_e)}}else{let _e=src[position$1++],rt=src[position$1++];if((_e&128)>0||(rt&128)>0){position$1-=2;return}if(et<3)return fromCharCode$1(_e,rt);let nt=src[position$1++];if((nt&128)>0){position$1-=3;return}return fromCharCode$1(_e,rt,nt)}else{let _e=src[position$1++],rt=src[position$1++],nt=src[position$1++],it=src[position$1++];if((_e&128)>0||(rt&128)>0||(nt&128)>0||(it&128)>0){position$1-=4;return}if(et<6){if(et===4)return fromCharCode$1(_e,rt,nt,it);{let st=src[position$1++];if((st&128)>0){position$1-=5;return}return fromCharCode$1(_e,rt,nt,it,st)}}else if(et<8){let st=src[position$1++],ot=src[position$1++];if((st&128)>0||(ot&128)>0){position$1-=6;return}if(et<7)return fromCharCode$1(_e,rt,nt,it,st,ot);let at=src[position$1++];if((at&128)>0){position$1-=7;return}return fromCharCode$1(_e,rt,nt,it,st,ot,at)}else{let st=src[position$1++],ot=src[position$1++],at=src[position$1++],lt=src[position$1++];if((st&128)>0||(ot&128)>0||(at&128)>0||(lt&128)>0){position$1-=8;return}if(et<10){if(et===8)return fromCharCode$1(_e,rt,nt,it,st,ot,at,lt);{let ut=src[position$1++];if((ut&128)>0){position$1-=9;return}return fromCharCode$1(_e,rt,nt,it,st,ot,at,lt,ut)}}else if(et<12){let ut=src[position$1++],ct=src[position$1++];if((ut&128)>0||(ct&128)>0){position$1-=10;return}if(et<11)return fromCharCode$1(_e,rt,nt,it,st,ot,at,lt,ut,ct);let dt=src[position$1++];if((dt&128)>0){position$1-=11;return}return fromCharCode$1(_e,rt,nt,it,st,ot,at,lt,ut,ct,dt)}else{let ut=src[position$1++],ct=src[position$1++],dt=src[position$1++],ft=src[position$1++];if((ut&128)>0||(ct&128)>0||(dt&128)>0||(ft&128)>0){position$1-=12;return}if(et<14){if(et===12)return fromCharCode$1(_e,rt,nt,it,st,ot,at,lt,ut,ct,dt,ft);{let pt=src[position$1++];if((pt&128)>0){position$1-=13;return}return fromCharCode$1(_e,rt,nt,it,st,ot,at,lt,ut,ct,dt,ft,pt)}}else{let pt=src[position$1++],ht=src[position$1++];if((pt&128)>0||(ht&128)>0){position$1-=14;return}if(et<15)return fromCharCode$1(_e,rt,nt,it,st,ot,at,lt,ut,ct,dt,ft,pt,ht);let mt=src[position$1++];if((mt&128)>0){position$1-=15;return}return fromCharCode$1(_e,rt,nt,it,st,ot,at,lt,ut,ct,dt,ft,pt,ht,mt)}}}}}function readBin(et){return currentDecoder.copyBuffers?Uint8Array.prototype.slice.call(src,position$1,position$1+=et):src.subarray(position$1,position$1+=et)}let f32Array=new Float32Array(1),u8Array=new Uint8Array(f32Array.buffer,0,4);function getFloat16(){let et=src[position$1++],_e=src[position$1++],rt=(et&127)>>2;if(rt===31)return _e||et&3?NaN:et&128?-1/0:1/0;if(rt===0){let nt=((et&3)<<8|_e)/16777216;return et&128?-nt:nt}return u8Array[3]=et&128|(rt>>1)+56,u8Array[2]=(et&7)<<5|_e>>3,u8Array[1]=_e<<5,u8Array[0]=0,f32Array[0]}new Array(4096);class Tag{constructor(_e,rt){this.value=_e,this.tag=rt}}currentExtensions[0]=et=>new Date(et);currentExtensions[1]=et=>new Date(Math.round(et*1e3));currentExtensions[2]=et=>{let _e=BigInt(0);for(let rt=0,nt=et.byteLength;rt<nt;rt++)_e=BigInt(et[rt])+_e<<BigInt(8);return _e};currentExtensions[3]=et=>BigInt(-1)-currentExtensions[2](et);currentExtensions[4]=et=>+(et[1]+"e"+et[0]);currentExtensions[5]=et=>et[1]*Math.exp(et[0]*Math.log(2));const recordDefinition=(et,_e)=>{et=et-57344;let rt=currentStructures[et];rt&&rt.isShared&&((currentStructures.restoreStructures||(currentStructures.restoreStructures=[]))[et]=rt),currentStructures[et]=_e,_e.read=createStructureReader(_e)};currentExtensions[LEGACY_RECORD_INLINE_ID]=et=>{let _e=et.length,rt=et[1];recordDefinition(et[0],rt);let nt={};for(let it=2;it<_e;it++){let st=rt[it-2];nt[safeKey(st)]=et[it]}return nt};currentExtensions[14]=et=>bundledStrings$1?bundledStrings$1[0].slice(bundledStrings$1.position0,bundledStrings$1.position0+=et):new Tag(et,14);currentExtensions[15]=et=>bundledStrings$1?bundledStrings$1[1].slice(bundledStrings$1.position1,bundledStrings$1.position1+=et):new Tag(et,15);let glbl={Error,RegExp};currentExtensions[27]=et=>(glbl[et[0]]||Error)(et[1],et[2]);const packedTable=et=>{if(src[position$1++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let _e=et();return packedValues=packedValues?_e.concat(packedValues.slice(_e.length)):_e,packedValues.prefixes=et(),packedValues.suffixes=et(),et()};packedTable.handlesRead=!0;currentExtensions[51]=packedTable;currentExtensions[PACKED_REFERENCE_TAG_ID]=et=>{if(!packedValues)if(currentDecoder.getShared)loadShared();else return new Tag(et,PACKED_REFERENCE_TAG_ID);if(typeof et=="number")return packedValues[16+(et>=0?2*et:-2*et-1)];throw new Error("No support for non-integer packed references yet")};currentExtensions[28]=et=>{referenceMap||(referenceMap=new Map,referenceMap.id=0);let _e=referenceMap.id++,rt=src[position$1],nt;rt>>5==4?nt=[]:nt={};let it={target:nt};referenceMap.set(_e,it);let st=et();return it.used?Object.assign(nt,st):(it.target=st,st)};currentExtensions[28].handlesRead=!0;currentExtensions[29]=et=>{let _e=referenceMap.get(et);return _e.used=!0,_e.target};currentExtensions[258]=et=>new Set(et);(currentExtensions[259]=et=>(currentDecoder.mapsAsObjects&&(currentDecoder.mapsAsObjects=!1,restoreMapsAsObject=!0),et())).handlesRead=!0;function combine(et,_e){return typeof et=="string"?et+_e:et instanceof Array?et.concat(_e):Object.assign({},et,_e)}function getPackedValues(){if(!packedValues)if(currentDecoder.getShared)loadShared();else throw new Error("No packed values available");return packedValues}const SHARED_DATA_TAG_ID=1399353956;currentExtensionRanges.push((et,_e)=>{if(et>=225&&et<=255)return combine(getPackedValues().prefixes[et-224],_e);if(et>=28704&&et<=32767)return combine(getPackedValues().prefixes[et-28672],_e);if(et>=1879052288&&et<=2147483647)return combine(getPackedValues().prefixes[et-1879048192],_e);if(et>=216&&et<=223)return combine(_e,getPackedValues().suffixes[et-216]);if(et>=27647&&et<=28671)return combine(_e,getPackedValues().suffixes[et-27639]);if(et>=1811940352&&et<=1879048191)return combine(_e,getPackedValues().suffixes[et-1811939328]);if(et==SHARED_DATA_TAG_ID)return{packedValues,structures:currentStructures.slice(0),version:_e};if(et==55799)return _e});const isLittleEndianMachine$1=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,typedArrays=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],typedArrayTags=[64,68,69,70,71,72,77,78,79,85,86];for(let et=0;et<typedArrays.length;et++)registerTypedArray(typedArrays[et],typedArrayTags[et]);function registerTypedArray(et,_e){let rt="get"+et.name.slice(0,-5),nt;typeof et=="function"?nt=et.BYTES_PER_ELEMENT:et=null;for(let it=0;it<2;it++){if(!it&&nt==1)continue;let st=nt==2?1:nt==4?2:3;currentExtensions[it?_e:_e-4]=nt==1||it==isLittleEndianMachine$1?ot=>{if(!et)throw new Error("Could not find typed array for code "+_e);return new et(Uint8Array.prototype.slice.call(ot,0).buffer)}:ot=>{if(!et)throw new Error("Could not find typed array for code "+_e);let at=new DataView(ot.buffer,ot.byteOffset,ot.byteLength),lt=ot.length>>st,ut=new et(lt),ct=at[rt];for(let dt=0;dt<lt;dt++)ut[dt]=ct.call(at,dt<<st,it);return ut}}}function readBundleExt(){let et=readJustLength(),_e=position$1+read();for(let nt=2;nt<et;nt++){let it=readJustLength();position$1+=it}let rt=position$1;return position$1=_e,bundledStrings$1=[readStringJS(readJustLength()),readStringJS(readJustLength())],bundledStrings$1.position0=0,bundledStrings$1.position1=0,bundledStrings$1.postBundlePosition=position$1,position$1=rt,read()}function readJustLength(){let et=src[position$1++]&31;if(et>23)switch(et){case 24:et=src[position$1++];break;case 25:et=dataView.getUint16(position$1),position$1+=2;break;case 26:et=dataView.getUint32(position$1),position$1+=4;break}return et}function loadShared(){if(currentDecoder.getShared){let et=saveState(()=>(src=null,currentDecoder.getShared()))||{},_e=et.structures||[];currentDecoder.sharedVersion=et.version,packedValues=currentDecoder.sharedValues=et.packedValues,currentStructures===!0?currentDecoder.structures=currentStructures=_e:currentStructures.splice.apply(currentStructures,[0,_e.length].concat(_e))}}function saveState(et){let _e=srcEnd,rt=position$1,nt=srcStringStart,it=srcStringEnd,st=srcString,ot=referenceMap,at=bundledStrings$1,lt=new Uint8Array(src.slice(0,srcEnd)),ut=currentStructures,ct=currentDecoder,dt=sequentialMode,ft=et();return srcEnd=_e,position$1=rt,srcStringStart=nt,srcStringEnd=it,srcString=st,referenceMap=ot,bundledStrings$1=at,src=lt,sequentialMode=dt,currentStructures=ut,currentDecoder=ct,dataView=new DataView(src.buffer,src.byteOffset,src.byteLength),ft}function clearSource(){src=null,referenceMap=null,currentStructures=null}function addExtension$1(et){currentExtensions[et.tag]=et.decode}const mult10=new Array(147);for(let et=0;et<256;et++)mult10[et]=+("1e"+Math.floor(45.15-et*.30103));let defaultDecoder=new Decoder({useRecords:!1});const decode=defaultDecoder.decode,decodeMultiple=defaultDecoder.decodeMultiple;let textEncoder;try{textEncoder=new TextEncoder}catch(et){}let extensions,extensionClasses;const Buffer$1=globalThis.Buffer,hasNodeBuffer=typeof Buffer$1<"u",ByteArrayAllocate=hasNodeBuffer?Buffer$1.allocUnsafeSlow:Uint8Array,ByteArray=hasNodeBuffer?Buffer$1:Uint8Array,MAX_STRUCTURES=256,MAX_BUFFER_SIZE=hasNodeBuffer?4294967296:2144337920;let throwOnIterable,target,targetView,position=0,safeEnd,bundledStrings=null;const MAX_BUNDLE_SIZE=61440,hasNonLatin=/[\u0080-\uFFFF]/,RECORD_SYMBOL=Symbol("record-id");class Encoder extends Decoder{constructor(_e){super(_e),this.offset=0;let rt,nt,it,st,ot;_e=_e||{};let at=ByteArray.prototype.utf8Write?function(Tt,Rt,kt){return target.utf8Write(Tt,Rt,kt)}:textEncoder&&textEncoder.encodeInto?function(Tt,Rt){return textEncoder.encodeInto(Tt,target.subarray(Rt)).written}:!1,lt=this,ut=_e.structures||_e.saveStructures,ct=_e.maxSharedStructures;if(ct==null&&(ct=ut?128:0),ct>8190)throw new Error("Maximum maxSharedStructure is 8190");let dt=_e.sequential;dt&&(ct=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let ft,pt,ht=_e.sharedValues,mt;if(ht){mt=Object.create(null);for(let Tt=0,Rt=ht.length;Tt<Rt;Tt++)mt[ht[Tt]]=Tt}let bt=[],gt=0,xt=0;this.mapEncode=function(Tt,Rt){if(this._keyMap&&!this._mapped)switch(Tt.constructor.name){case"Array":Tt=Tt.map(kt=>this.encodeKeys(kt));break}return this.encode(Tt,Rt)},this.encode=function(Tt,Rt){if(target||(target=new ByteArrayAllocate(8192),targetView=new DataView(target.buffer,0,8192),position=0),safeEnd=target.length-10,safeEnd-position<2048?(target=new ByteArrayAllocate(target.length),targetView=new DataView(target.buffer,0,target.length),safeEnd=target.length-10,position=0):Rt===REUSE_BUFFER_MODE&&(position=position+7&2147483640),rt=position,lt.useSelfDescribedHeader&&(targetView.setUint32(position,3654940416),position+=3),ot=lt.structuredClone?new Map:null,lt.bundleStrings&&typeof Tt!="string"?(bundledStrings=[],bundledStrings.size=1/0):bundledStrings=null,nt=lt.structures,nt){if(nt.uninitialized){let Dt=lt.getShared()||{};lt.structures=nt=Dt.structures||[],lt.sharedVersion=Dt.version;let At=lt.sharedValues=Dt.packedValues;if(At){mt={};for(let wt=0,It=At.length;wt<It;wt++)mt[At[wt]]=wt}}let kt=nt.length;if(kt>ct&&!dt&&(kt=ct),!nt.transitions){nt.transitions=Object.create(null);for(let Dt=0;Dt<kt;Dt++){let At=nt[Dt];if(!At)continue;let wt,It=nt.transitions;for(let Bt=0,Ct=At.length;Bt<Ct;Bt++){It[RECORD_SYMBOL]===void 0&&(It[RECORD_SYMBOL]=Dt);let Ut=At[Bt];wt=It[Ut],wt||(wt=It[Ut]=Object.create(null)),It=wt}It[RECORD_SYMBOL]=Dt|1048576}}dt||(nt.nextId=kt)}if(it&&(it=!1),st=nt||[],pt=mt,_e.pack){let kt=new Map;if(kt.values=[],kt.encoder=lt,kt.maxValues=_e.maxPrivatePackedValues||(mt?16:1/0),kt.objectMap=mt||!1,kt.samplingPackedValues=ft,findRepetitiveStrings(Tt,kt),kt.values.length>0){target[position++]=216,target[position++]=51,writeArrayHeader(4);let Dt=kt.values;yt(Dt),writeArrayHeader(0),writeArrayHeader(0),pt=Object.create(mt||null);for(let At=0,wt=Dt.length;At<wt;At++)pt[Dt[At]]=At}}throwOnIterable=Rt&THROW_ON_ITERABLE;try{if(throwOnIterable)return;if(yt(Tt),bundledStrings&&writeBundles(rt,yt),lt.offset=position,ot&&ot.idsToInsert){position+=ot.idsToInsert.length*2,position>safeEnd&&Pt(position),lt.offset=position;let kt=insertIds(target.subarray(rt,position),ot.idsToInsert);return ot=null,kt}return Rt&REUSE_BUFFER_MODE?(target.start=rt,target.end=position,target):target.subarray(rt,position)}finally{if(nt){if(xt<10&&xt++,nt.length>ct&&(nt.length=ct),gt>1e4)nt.transitions=null,xt=0,gt=0,bt.length>0&&(bt=[]);else if(bt.length>0&&!dt){for(let kt=0,Dt=bt.length;kt<Dt;kt++)bt[kt][RECORD_SYMBOL]=void 0;bt=[]}}if(it&&lt.saveShared){lt.structures.length>ct&&(lt.structures=lt.structures.slice(0,ct));let kt=target.subarray(rt,position);return lt.updateSharedData()===!1?lt.encode(Tt):kt}Rt&RESET_BUFFER_MODE&&(position=rt)}},this.findCommonStringsToPack=()=>(ft=new Map,mt||(mt=Object.create(null)),Tt=>{let Rt=Tt&&Tt.threshold||4,kt=this.pack?Tt.maxPrivatePackedValues||16:0;ht||(ht=this.sharedValues=[]);for(let[Dt,At]of ft)At.count>Rt&&(mt[Dt]=kt++,ht.push(Dt),it=!0);for(;this.saveShared&&this.updateSharedData()===!1;);ft=null});const yt=Tt=>{position>safeEnd&&(target=Pt(position));var Rt=typeof Tt,kt;if(Rt==="string"){if(pt){let It=pt[Tt];if(It>=0){It<16?target[position++]=It+224:(target[position++]=198,It&1?yt(15-It>>1):yt(It-16>>1));return}else if(ft&&!_e.pack){let Bt=ft.get(Tt);Bt?Bt.count++:ft.set(Tt,{count:1})}}let Dt=Tt.length;if(bundledStrings&&Dt>=4&&Dt<1024){if((bundledStrings.size+=Dt)>MAX_BUNDLE_SIZE){let Bt,Ct=(bundledStrings[0]?bundledStrings[0].length*3+bundledStrings[1].length:0)+10;position+Ct>safeEnd&&(target=Pt(position+Ct)),target[position++]=217,target[position++]=223,target[position++]=249,target[position++]=bundledStrings.position?132:130,target[position++]=26,Bt=position-rt,position+=4,bundledStrings.position&&writeBundles(rt,yt),bundledStrings=["",""],bundledStrings.size=0,bundledStrings.position=Bt}let It=hasNonLatin.test(Tt);bundledStrings[It?0:1]+=Tt,target[position++]=It?206:207,yt(Dt);return}let At;Dt<32?At=1:Dt<256?At=2:Dt<65536?At=3:At=5;let wt=Dt*3;if(position+wt>safeEnd&&(target=Pt(position+wt)),Dt<64||!at){let It,Bt,Ct,Ut=position+At;for(It=0;It<Dt;It++)Bt=Tt.charCodeAt(It),Bt<128?target[Ut++]=Bt:Bt<2048?(target[Ut++]=Bt>>6|192,target[Ut++]=Bt&63|128):(Bt&64512)===55296&&((Ct=Tt.charCodeAt(It+1))&64512)===56320?(Bt=65536+((Bt&1023)<<10)+(Ct&1023),It++,target[Ut++]=Bt>>18|240,target[Ut++]=Bt>>12&63|128,target[Ut++]=Bt>>6&63|128,target[Ut++]=Bt&63|128):(target[Ut++]=Bt>>12|224,target[Ut++]=Bt>>6&63|128,target[Ut++]=Bt&63|128);kt=Ut-position-At}else kt=at(Tt,position+At,wt);kt<24?target[position++]=96|kt:kt<256?(At<2&&target.copyWithin(position+2,position+1,position+1+kt),target[position++]=120,target[position++]=kt):kt<65536?(At<3&&target.copyWithin(position+3,position+2,position+2+kt),target[position++]=121,target[position++]=kt>>8,target[position++]=kt&255):(At<5&&target.copyWithin(position+5,position+3,position+3+kt),target[position++]=122,targetView.setUint32(position,kt),position+=4),position+=kt}else if(Rt==="number")if(!this.alwaysUseFloat&&Tt>>>0===Tt)Tt<24?target[position++]=Tt:Tt<256?(target[position++]=24,target[position++]=Tt):Tt<65536?(target[position++]=25,target[position++]=Tt>>8,target[position++]=Tt&255):(target[position++]=26,targetView.setUint32(position,Tt),position+=4);else if(!this.alwaysUseFloat&&Tt>>0===Tt)Tt>=-24?target[position++]=31-Tt:Tt>=-256?(target[position++]=56,target[position++]=~Tt):Tt>=-65536?(target[position++]=57,targetView.setUint16(position,~Tt),position+=2):(target[position++]=58,targetView.setUint32(position,~Tt),position+=4);else{let Dt;if((Dt=this.useFloat32)>0&&Tt<4294967296&&Tt>=-2147483648){target[position++]=250,targetView.setFloat32(position,Tt);let At;if(Dt<4||(At=Tt*mult10[(target[position]&127)<<1|target[position+1]>>7])>>0===At){position+=4;return}else position--}target[position++]=251,targetView.setFloat64(position,Tt),position+=8}else if(Rt==="object")if(!Tt)target[position++]=246;else{if(ot){let At=ot.get(Tt);if(At){if(target[position++]=216,target[position++]=29,target[position++]=25,!At.references){let wt=ot.idsToInsert||(ot.idsToInsert=[]);At.references=[],wt.push(At)}At.references.push(position-rt),position+=2;return}else ot.set(Tt,{offset:position-rt})}let Dt=Tt.constructor;if(Dt===Object)vt(Tt,!0);else if(Dt===Array){kt=Tt.length,kt<24?target[position++]=128|kt:writeArrayHeader(kt);for(let At=0;At<kt;At++)yt(Tt[At])}else if(Dt===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(target[position++]=217,target[position++]=1,target[position++]=3),kt=Tt.size,kt<24?target[position++]=160|kt:kt<256?(target[position++]=184,target[position++]=kt):kt<65536?(target[position++]=185,target[position++]=kt>>8,target[position++]=kt&255):(target[position++]=186,targetView.setUint32(position,kt),position+=4),lt.keyMap)for(let[At,wt]of Tt)yt(lt.encodeKey(At)),yt(wt);else for(let[At,wt]of Tt)yt(At),yt(wt);else{for(let At=0,wt=extensions.length;At<wt;At++){let It=extensionClasses[At];if(Tt instanceof It){let Bt=extensions[At],Ct=Bt.tag;Ct==null&&(Ct=Bt.getTag&&Bt.getTag.call(this,Tt)),Ct<24?target[position++]=192|Ct:Ct<256?(target[position++]=216,target[position++]=Ct):Ct<65536?(target[position++]=217,target[position++]=Ct>>8,target[position++]=Ct&255):Ct>-1&&(target[position++]=218,targetView.setUint32(position,Ct),position+=4),Bt.encode.call(this,Tt,yt,Pt);return}}if(Tt[Symbol.iterator]){if(throwOnIterable){let At=new Error("Iterable should be serialized as iterator");throw At.iteratorNotHandled=!0,At}target[position++]=159;for(let At of Tt)yt(At);target[position++]=255;return}if(Tt[Symbol.asyncIterator]||isBlob$1(Tt)){let At=new Error("Iterable/blob should be serialized as iterator");throw At.iteratorNotHandled=!0,At}vt(Tt,!Tt.hasOwnProperty)}}else if(Rt==="boolean")target[position++]=Tt?245:244;else if(Rt==="bigint"){if(Tt<BigInt(1)<<BigInt(64)&&Tt>=0)target[position++]=27,targetView.setBigUint64(position,Tt);else if(Tt>-(BigInt(1)<<BigInt(64))&&Tt<0)target[position++]=59,targetView.setBigUint64(position,-Tt-BigInt(1));else if(this.largeBigIntToFloat)target[position++]=251,targetView.setFloat64(position,Number(Tt));else throw new RangeError(Tt+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");position+=8}else if(Rt==="undefined")target[position++]=247;else throw new Error("Unknown type: "+Rt)},vt=this.useRecords===!1?this.variableMapSize?Tt=>{let Rt=Object.keys(Tt),kt=Object.values(Tt),Dt=Rt.length;if(Dt<24?target[position++]=160|Dt:Dt<256?(target[position++]=184,target[position++]=Dt):Dt<65536?(target[position++]=185,target[position++]=Dt>>8,target[position++]=Dt&255):(target[position++]=186,targetView.setUint32(position,Dt),position+=4),lt.keyMap)for(let At=0;At<Dt;At++)yt(encodeKey(Rt[At])),yt(kt[At]);else for(let At=0;At<Dt;At++)yt(Rt[At]),yt(kt[At])}:(Tt,Rt)=>{target[position++]=185;let kt=position-rt;position+=2;let Dt=0;if(lt.keyMap)for(let At in Tt)(Rt||Tt.hasOwnProperty(At))&&(yt(lt.encodeKey(At)),yt(Tt[At]),Dt++);else for(let At in Tt)(Rt||Tt.hasOwnProperty(At))&&(yt(At),yt(Tt[At]),Dt++);target[kt+++rt]=Dt>>8,target[kt+rt]=Dt&255}:(Tt,Rt)=>{let kt,Dt=st.transitions||(st.transitions=Object.create(null)),At=0,wt=0,It,Bt;if(this.keyMap){Bt=Object.keys(Tt).map(Ut=>this.encodeKey(Ut)),wt=Bt.length;for(let Ut=0;Ut<wt;Ut++){let jt=Bt[Ut];kt=Dt[jt],kt||(kt=Dt[jt]=Object.create(null),At++),Dt=kt}}else for(let Ut in Tt)(Rt||Tt.hasOwnProperty(Ut))&&(kt=Dt[Ut],kt||(Dt[RECORD_SYMBOL]&1048576&&(It=Dt[RECORD_SYMBOL]&65535),kt=Dt[Ut]=Object.create(null),At++),Dt=kt,wt++);let Ct=Dt[RECORD_SYMBOL];if(Ct!==void 0)Ct&=65535,target[position++]=217,target[position++]=Ct>>8|224,target[position++]=Ct&255;else if(Bt||(Bt=Dt.__keys__||(Dt.__keys__=Object.keys(Tt))),It===void 0?(Ct=st.nextId++,Ct||(Ct=0,st.nextId=1),Ct>=MAX_STRUCTURES&&(st.nextId=(Ct=ct)+1)):Ct=It,st[Ct]=Bt,Ct<ct){target[position++]=217,target[position++]=Ct>>8|224,target[position++]=Ct&255,Dt=st.transitions;for(let Ut=0;Ut<wt;Ut++)(Dt[RECORD_SYMBOL]===void 0||Dt[RECORD_SYMBOL]&1048576)&&(Dt[RECORD_SYMBOL]=Ct),Dt=Dt[Bt[Ut]];Dt[RECORD_SYMBOL]=Ct|1048576,it=!0}else{if(Dt[RECORD_SYMBOL]=Ct,targetView.setUint32(position,3655335680),position+=3,At&&(gt+=xt*At),bt.length>=MAX_STRUCTURES-ct&&(bt.shift()[RECORD_SYMBOL]=void 0),bt.push(Dt),writeArrayHeader(wt+2),yt(57344+Ct),yt(Bt),Rt===null)return;for(let Ut in Tt)(Rt||Tt.hasOwnProperty(Ut))&&yt(Tt[Ut]);return}if(wt<24?target[position++]=128|wt:writeArrayHeader(wt),Rt!==null)for(let Ut in Tt)(Rt||Tt.hasOwnProperty(Ut))&&yt(Tt[Ut])},Pt=Tt=>{let Rt;if(Tt>16777216){if(Tt-rt>MAX_BUFFER_SIZE)throw new Error("Encoded buffer would be larger than maximum buffer size");Rt=Math.min(MAX_BUFFER_SIZE,Math.round(Math.max((Tt-rt)*(Tt>67108864?1.25:2),4194304)/4096)*4096)}else Rt=(Math.max(Tt-rt<<2,target.length-1)>>12)+1<<12;let kt=new ByteArrayAllocate(Rt);return targetView=new DataView(kt.buffer,0,Rt),target.copy?target.copy(kt,0,rt,Tt):kt.set(target.slice(rt,Tt)),position-=rt,rt=0,safeEnd=kt.length-10,target=kt};let St=100,Ot=1e3;this.encodeAsIterable=function(Tt,Rt){return $t(Tt,Rt,Et)},this.encodeAsAsyncIterable=function(Tt,Rt){return $t(Tt,Rt,Mt)};function*Et(Tt,Rt,kt){let Dt=Tt.constructor;if(Dt===Object){let At=lt.useRecords!==!1;At?vt(Tt,null):writeEntityLength(Object.keys(Tt).length,160);for(let wt in Tt){let It=Tt[wt];At||yt(wt),It&&typeof It=="object"?Rt[wt]?yield*Et(It,Rt[wt]):yield*Lt(It,Rt,wt):yt(It)}}else if(Dt===Array){let At=Tt.length;writeArrayHeader(At);for(let wt=0;wt<At;wt++){let It=Tt[wt];It&&(typeof It=="object"||position-rt>St)?Rt.element?yield*Et(It,Rt.element):yield*Lt(It,Rt,"element"):yt(It)}}else if(Tt[Symbol.iterator]){target[position++]=159;for(let At of Tt)At&&(typeof At=="object"||position-rt>St)?Rt.element?yield*Et(At,Rt.element):yield*Lt(At,Rt,"element"):yt(At);target[position++]=255}else isBlob$1(Tt)?(writeEntityLength(Tt.size,64),yield target.subarray(rt,position),yield Tt,Nt()):Tt[Symbol.asyncIterator]?(target[position++]=159,yield target.subarray(rt,position),yield Tt,Nt(),target[position++]=255):yt(Tt);kt&&position>rt?yield target.subarray(rt,position):position-rt>St&&(yield target.subarray(rt,position),Nt())}function*Lt(Tt,Rt,kt){let Dt=position-rt;try{yt(Tt),position-rt>St&&(yield target.subarray(rt,position),Nt())}catch(At){if(At.iteratorNotHandled)Rt[kt]={},position=rt+Dt,yield*Et.call(this,Tt,Rt[kt]);else throw At}}function Nt(){St=Ot,lt.encode(null,THROW_ON_ITERABLE)}function $t(Tt,Rt,kt){return Rt&&Rt.chunkThreshold?St=Ot=Rt.chunkThreshold:St=100,Tt&&typeof Tt=="object"?(lt.encode(null,THROW_ON_ITERABLE),kt(Tt,lt.iterateProperties||(lt.iterateProperties={}),!0)):[lt.encode(Tt)]}async function*Mt(Tt,Rt){for(let kt of Et(Tt,Rt,!0)){let Dt=kt.constructor;if(Dt===ByteArray||Dt===Uint8Array)yield kt;else if(isBlob$1(kt)){let At=kt.stream().getReader(),wt;for(;!(wt=await At.read()).done;)yield wt.value}else if(kt[Symbol.asyncIterator])for await(let At of kt)Nt(),At?yield*Mt(At,Rt.async||(Rt.async={})):yield lt.encode(At);else yield kt}}}useBuffer(_e){target=_e,targetView=new DataView(target.buffer,target.byteOffset,target.byteLength),position=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let _e=this.sharedVersion||0;this.sharedVersion=_e+1;let rt=this.structures.slice(0),nt=new SharedData(rt,this.sharedValues,this.sharedVersion),it=this.saveShared(nt,st=>(st&&st.version||0)==_e);return it===!1?(nt=this.getShared()||{},this.structures=nt.structures||[],this.sharedValues=nt.packedValues,this.sharedVersion=nt.version,this.structures.nextId=this.structures.length):rt.forEach((st,ot)=>this.structures[ot]=st),it}}function writeEntityLength(et,_e){et<24?target[position++]=_e|et:et<256?(target[position++]=_e|24,target[position++]=et):et<65536?(target[position++]=_e|25,target[position++]=et>>8,target[position++]=et&255):(target[position++]=_e|26,targetView.setUint32(position,et),position+=4)}class SharedData{constructor(_e,rt,nt){this.structures=_e,this.packedValues=rt,this.version=nt}}function writeArrayHeader(et){et<24?target[position++]=128|et:et<256?(target[position++]=152,target[position++]=et):et<65536?(target[position++]=153,target[position++]=et>>8,target[position++]=et&255):(target[position++]=154,targetView.setUint32(position,et),position+=4)}const BlobConstructor=typeof Blob>"u"?function(){}:Blob;function isBlob$1(et){if(et instanceof BlobConstructor)return!0;let _e=et[Symbol.toStringTag];return _e==="Blob"||_e==="File"}function findRepetitiveStrings(et,_e){switch(typeof et){case"string":if(et.length>3){if(_e.objectMap[et]>-1||_e.values.length>=_e.maxValues)return;let nt=_e.get(et);if(nt)++nt.count==2&&_e.values.push(et);else if(_e.set(et,{count:1}),_e.samplingPackedValues){let it=_e.samplingPackedValues.get(et);it?it.count++:_e.samplingPackedValues.set(et,{count:1})}}break;case"object":if(et)if(et instanceof Array)for(let nt=0,it=et.length;nt<it;nt++)findRepetitiveStrings(et[nt],_e);else{let nt=!_e.encoder.useRecords;for(var rt in et)et.hasOwnProperty(rt)&&(nt&&findRepetitiveStrings(rt,_e),findRepetitiveStrings(et[rt],_e))}break;case"function":console.log(et)}}const isLittleEndianMachine=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;extensionClasses=[Date,Set,Error,RegExp,Tag,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,SharedData];extensions=[{tag:1,encode(et,_e){let rt=et.getTime()/1e3;(this.useTimestamp32||et.getMilliseconds()===0)&&rt>=0&&rt<4294967296?(target[position++]=26,targetView.setUint32(position,rt),position+=4):(target[position++]=251,targetView.setFloat64(position,rt),position+=8)}},{tag:258,encode(et,_e){let rt=Array.from(et);_e(rt)}},{tag:27,encode(et,_e){_e([et.name,et.message])}},{tag:27,encode(et,_e){_e(["RegExp",et.source,et.flags])}},{getTag(et){return et.tag},encode(et,_e){_e(et.value)}},{encode(et,_e,rt){writeBuffer(et,rt)}},{getTag(et){if(et.constructor===Uint8Array&&(this.tagUint8Array||hasNodeBuffer&&this.tagUint8Array!==!1))return 64},encode(et,_e,rt){writeBuffer(et,rt)}},typedArrayEncoder(68,1),typedArrayEncoder(69,2),typedArrayEncoder(70,4),typedArrayEncoder(71,8),typedArrayEncoder(72,1),typedArrayEncoder(77,2),typedArrayEncoder(78,4),typedArrayEncoder(79,8),typedArrayEncoder(85,4),typedArrayEncoder(86,8),{encode(et,_e){let rt=et.packedValues||[],nt=et.structures||[];if(rt.values.length>0){target[position++]=216,target[position++]=51,writeArrayHeader(4);let it=rt.values;_e(it),writeArrayHeader(0),writeArrayHeader(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let st=0,ot=it.length;st<ot;st++)packedObjectMap[it[st]]=st}if(nt){targetView.setUint32(position,3655335424),position+=3;let it=nt.slice(0);it.unshift(57344),it.push(new Tag(et.version,1399353956)),_e(it)}else _e(new Tag(et.version,1399353956))}}];function typedArrayEncoder(et,_e){return!isLittleEndianMachine&&_e>1&&(et-=4),{tag:et,encode:function(nt,it){let st=nt.byteLength,ot=nt.byteOffset||0,at=nt.buffer||nt;it(hasNodeBuffer?Buffer$1.from(at,ot,st):new Uint8Array(at,ot,st))}}}function writeBuffer(et,_e){let rt=et.byteLength;rt<24?target[position++]=64+rt:rt<256?(target[position++]=88,target[position++]=rt):rt<65536?(target[position++]=89,target[position++]=rt>>8,target[position++]=rt&255):(target[position++]=90,targetView.setUint32(position,rt),position+=4),position+rt>=target.length&&_e(position+rt),target.set(et.buffer?et:new Uint8Array(et),position),position+=rt}function insertIds(et,_e){let rt,nt=_e.length*2,it=et.length-nt;_e.sort((st,ot)=>st.offset>ot.offset?1:-1);for(let st=0;st<_e.length;st++){let ot=_e[st];ot.id=st;for(let at of ot.references)et[at++]=st>>8,et[at]=st&255}for(;rt=_e.pop();){let st=rt.offset;et.copyWithin(st+nt,st,it),nt-=2;let ot=st+nt;et[ot++]=216,et[ot++]=28,it=st}return et}function writeBundles(et,_e){targetView.setUint32(bundledStrings.position+et,position-bundledStrings.position-et+1);let rt=bundledStrings;bundledStrings=null,_e(rt[0]),_e(rt[1])}function addExtension(et){if(et.Class){if(!et.encode)throw new Error("Extension has no encode function");extensionClasses.unshift(et.Class),extensions.unshift(et)}addExtension$1(et)}let defaultEncoder=new Encoder({useRecords:!1});defaultEncoder.encode;defaultEncoder.encodeAsIterable;defaultEncoder.encodeAsAsyncIterable;const REUSE_BUFFER_MODE=512,RESET_BUFFER_MODE=1024,THROW_ON_ITERABLE=2048,detectLang=et=>new Promise((_e,rt)=>{let nt=et.replace(/\s/g,"");var it={jp:/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,kr:/[\u3131-\uD79D]/ugi,ar:/[\u0600-\u06FF]/,fa:/[\u0750-\u077F]/,en:/^[a-zA-Z]+$/};return Object.entries(it).forEach(([st,ot])=>{if(ot.test(nt)==!0)return _e(st)})}),newPosts="_newPosts_vz4jd_1",newAvatars="_newAvatars_vz4jd_28",newAvatar="_newAvatar_vz4jd_28",search="_search_vz4jd_54",styles$3={newPosts,newAvatars,newAvatar,search};addExtension({Class:CID,tag:42,encode:()=>{throw new Error("cannot encode cids")},decode:et=>{if(et[0]!==0)throw new Error("invalid cid for cbor tag 42");return CID.decode(et.subarray(1))}});function Firehose(et){reactExports.useRef(null),reactExports.useRef(null);const _e=reactExports.useRef(null);reactExports.useState([]);const[rt,nt]=useAtom(uiAtom),[it,st]=reactExports.useState([]),[ot,at]=reactExports.useState(""),lt=reactExports.useRef(""),[ut,ct]=reactExports.useState(""),dt=reactExports.useCallback(async ht=>{if(ht.data instanceof Blob){const mt=await ht.data.arrayBuffer(),[bt,gt]=decodeMultiple(new Uint8Array(mt));if(bt.op!==1)return;const xt=await CarReader.fromBytes(gt.blocks);for(const yt of gt.ops){if(!yt.cid)continue;const vt=await xt.get(yt.cid);if(!vt)return;const Pt=decode(vt.bytes);if(Pt.$type==="app.bsky.feed.post"&&typeof Pt.text=="string"&&Pt.text.length>0){const St=yt.path.split("/").at(-1);await ft(gt.repo,Pt,St)}}}},[it,ot,lt]),ft=reactExports.useCallback(async(ht,mt,bt)=>{if(lt.current&&lt.current.length&&await detectLang(mt.text)!=lt.current)return!1;const xt={author:await agent$1.getProfile({actor:ht}).then(yt=>yt.data),...mt,id:bt,record:mt};return st(yt=>[xt,...yt.splice(0,100)]),!0},[it,ot,lt.current]);return reactExports.useEffect(()=>{const ht=new WebSocket("wss://bsky.social/xrpc/com.atproto.sync.subscribeRepos");return ht.addEventListener("message",dt),()=>{ht.removeEventListener("message",dt),ht.close()}},[]),jsxs("div",{ref:_e,className:"skyline skycol",children:[jsxs("div",{className:"col-header",children:[jsx("h1",{children:"Happening Right Now!"}),jsx("button",{className:"icon-btn",onClick:ht=>{ht.preventDefault(),ht.stopPropagation(),nt(mt=>({...mt,firehose:!1})),localStorage.setItem(UI_STORAGE_KEY,JSON.stringify({...rt,firehose:!1}))},children:jsx("img",{src:CloseIcon,alt:"Close"})})]}),jsxs("div",{className:"d-flex align-items-center",children:[jsx("div",{className:styles$3.search,children:jsx("div",{className:"input-wrapper bordered",children:jsx("input",{type:"text",value:ot,onChange:ht=>at(ht.target.value),placeholder:"Search..."})})}),jsx("div",{className:styles$3.search,children:jsx("div",{className:"input-wrapper select-wrapper bordered",children:jsxs("select",{title:"Language",value:ut,onChange:ht=>{lt.current=ht.target.value,ct(ht.target.value)},children:[jsx("option",{value:"",children:"Any"}),jsx("option",{value:"en",children:"English"}),jsx("option",{value:"kr",children:"Korean"}),jsx("option",{value:"jp",children:"Japanese"}),jsx("option",{value:"ar",children:"Persian & Arabic"})]})})})]}),ot.length?it.filter(ht=>ht&&ht.author).filter(ht=>ht.text.toLowerCase().indexOf(ot)>-1).map(ht=>jsx(Blue,{firehose:!0,post:ht},ht.id)):it.filter(ht=>ht&&ht.author).map(ht=>jsx(Blue,{firehose:!0,post:ht},ht.id))]})}function PostsRenderer(et){const{isLoading:_e,feed:rt,isProfile:nt,hideReplies:it,onlyReplies:st}=et,ot=useAtomValue(settingsAtom),at=useAtomValue(userAtom),lt=reactExports.useCallback(()=>rt==null?void 0:rt.reduce((ut,ct)=>{const dt=ut.find(ft=>ft.post.cid==ct.post.cid);return ct.reply&&!ct.randomness&&(ct.randomness=Math.random()),dt||!nt&&ct.post.author.did!=(at==null?void 0:at.did)&&ct.reply&&ct.reply.parent.cid==ct.reply.root.cid&&ct.reply.parent.author.did==ct.reply.root.author.did||it&&ct.reply||st&&!ct.reply?[...ut]:[...ut,ct]},[]).filter(ut=>blacklist(ut,ot.blacklist)).filter((ut,ct,dt)=>ct===dt.findIndex(ft=>{var pt,ht,mt,bt,gt,xt;return ft.post.cid==ut.post.cid||((pt=ft.reply)==null?void 0:pt.root.cid)==ut.post.cid||((ht=ft.reply)==null?void 0:ht.parent.cid)==ut.post.cid||((mt=ft.reply)==null?void 0:mt.root.cid)==((bt=ut.reply)==null?void 0:bt.root.cid)&&((gt=ft.reply)==null?void 0:gt.parent.cid)!=((xt=ut.reply)==null?void 0:xt.parent.cid)})),[rt]);return _e||!rt?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):rt&&rt.length?lt().filter(ut=>!(ut!=null&&ut.blocked)).map((ut,ct)=>{var dt,ft,pt,ht,mt;return ut.reply&&!ut.reason?jsxs(React.Fragment,{children:[ut.reply.parent.cid!=ut.reply.root.cid&&ut.reply.parent.author.did==ut.reply.root.author.did?jsx(Blue,{post:ut.reply.root,isParent:!0,reason:ut.reason},ut.reply.root.cid):"",((ft=(dt=ut.reply.parent.record)==null?void 0:dt.reply)==null?void 0:ft.parent.cid)!=((ht=(pt=ut.reply.parent.record)==null?void 0:pt.reply)==null?void 0:ht.root.cid)?jsx("p",{className:"view-thread",children:jsx(Link$1,{to:linkFromPost(ut.reply.parent),title:"View Thread",children:"+ View Thread"})}):"",jsx(Blue,{post:ut.reply.parent,isReply:!0,isParent:!0,reason:ut.reason},ut.reply.parent.cid),jsx(Blue,{post:ut.post,isReply:!0,reason:ut.reason},ut.post.cid)]},ct):jsx(Blue,{post:ut==null?void 0:ut.post,isReply:!!ut.reply,reason:ut.reason},(mt=ut==null?void 0:ut.post)==null?void 0:mt.cid)}):jsx("p",{className:"d-flex align-items-center justify-content-center p-5 text-grey",children:"There are no posts here!"})}function SkyCol(et){var vt;const _e=reactExports.useRef(null),rt=reactExports.useRef(null),nt=reactExports.useRef(null),[it,st]=reactExports.useState([]),[ot,at]=useAtom(uiAtom),lt=async Pt=>{const St=await agent$1.api.app.bsky.unspecced.getPopular({cursor:Pt});return Pt&&(_e.current=St.data.cursor),St},{data:ut,isLoading:ct,hasNextPage:dt,fetchNextPage:ft,refetch:pt}=useInfiniteQuery(["hotcol"],({pageParam:Pt})=>lt(Pt),{refetchOnMount:!1,refetchOnWindowFocus:!1,cacheTime:1/0,onSuccess:Pt=>{const St=Pt.pages[Pt.pages.length-1];!ht.length||_e.current!=Pt.pages[Pt.pages.length-1].data.cursor||ht.length&&ht[0].post.uri==Pt.pages[0].data.feed[0].post.uri&&ht[ht.length-1].post.uri!=St.data.feed[St.data.feed.length-1].post.uri?mt([...ht,...Pt.pages[Pt.pages.length-1].data.feed]):bt(Pt.pages[0].data.feed)},getNextPageParam:(Pt,St)=>Pt.data.cursor?Pt.data.cursor:void 0}),[ht,mt]=reactExports.useState(((vt=ut==null?void 0:ut.pages[0])==null?void 0:vt.data.feed)||[]),bt=reactExports.useCallback(Pt=>{Pt[0].post.uri==ht[0].post.uri||st(Pt)},[ht]),gt=()=>{rt.current=setTimeout(()=>{pt({refetchPage:(Pt,St)=>St===0}),gt()},2e4)};reactExports.useEffect(()=>(gt(),()=>{clearTimeout(rt.current)}),[]),reactExports.useEffect(()=>{let Pt=!1;const St=async Ot=>{const{scrollHeight:Et,scrollTop:Lt,clientHeight:Nt}=nt.current;!Pt&&Et-Lt<=Nt*1.2&&(Pt=!0,dt&&await ft(),Pt=!1)};return nt.current&&nt.current.addEventListener("scroll",St),()=>{nt.current&&nt.current.removeEventListener("scroll",St)}},[ft,dt]);const xt=Pt=>{Pt.preventDefault(),Pt.stopPropagation();const St=[...it];mt(St),window.scrollTo({top:0,left:0,behavior:"smooth"}),st([])},yt=Pt=>{Pt.preventDefault(),Pt.stopPropagation(),at(St=>({...St,hot:!1})),localStorage.setItem(UI_STORAGE_KEY,JSON.stringify({...ot,hot:!1}))};return jsxs("div",{ref:nt,className:"skyline skycol",children:[it.length?jsx("button",{onClick:xt,className:cn("btn primary",styles$3.newPosts),children:"New Posts"}):"",jsxs("div",{className:"col-header",children:[jsx("h1",{children:"What's Hot?"}),jsx("button",{className:"icon-btn",onClick:yt,children:jsx("img",{src:CloseIcon,alt:"Close"})})]}),jsx(PostsRenderer,{isLoading:ct,feed:ht}),dt?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):""]})}const FirehoseIcon="/assets/firehose-56e8e55d.svg",HotIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAlCAYAAAAqXEs9AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhRSURBVHgB7VdbjFVXGf7X2mtfz/3MzJn7dKZDgYFSmmlTLDgG01IbUhVTg0I1xlglJg2htpY2aib1RYOmJH2owTYkmr7YxPRCH7RqtbFAQ4ytBi8jUEKZYTqFuZ/rvi2/tfcZnMDAwAy+dSX/WXv/e12+9f23dYg+bv/nJg8c0C9s3ryablDjtNx29GgiOXni9zN9DU/IwcHlr7fcJqXUap++5R/BF3vk9KbCi1M7d+ZoGW3ZJ2KMBWGtNMIzLZQspB7iJ18/NjHQfxstsd0QioNadYqqPvFsByXbWlfo3ok3pzavu5eW0G4IIM7Jo5qPB5NYtg2guhr0ysnfTtzZu4uus90QQKHGO8nEUgIvuk6UKZDTeTO39ZGfTdy+4qHrWWvZgGbuv3+V5nl3U7NDdDsjsrBkCshyObKaWpnJz/xifNWKz1zreosCOvPccwtGzcR99906sWnTgD/0p1eMgiNIB4gUAN2Kjxp6G++ZLDmNGU2TZ18obdnSRssFhJBmLYde3nupvrjjwduMD/78t6Qz8VZmzU2reUdHzEwoiRxIG0TDwDTMZ6XJzoYdtZETX6PlAqK71vxQNyp3Xqr2jr+9x2y3ub62hfG1PUT5RqICNg/AjA8w+RCAwhiUIk838Tj7dVoOIH9j/1dofeFxaWj/ma9HNna4mPqCaIclDYCQWCIPcZiiNGZJ9c0yBpdgxEJOsjzde3rPYJaWAki+9JLGWsRjVPFNOTz9xvxvU2+/vMOwgywlAQiRTils2hTGQObAKFF6GcbPwM3I52ZCz9BSANGRIyluGt3Bef/n2pF3X53HDmfl4W8ayQRm2tiIxUzMAaE5QHUghmIpxGNAknGpC8+jpQCatiwWjNRePdvWtwelQV5kZ2ioi4Uzd/BUiqKk06KcF6KG8DB+5vXhAXoL4gKM9CnUrVLjhg3jtBRAb/T3z0yv/8TuwvtDffP14tThLi58QYYdh3iyDkY5sGLDxCCTRSZCkVM/EXvSC4lx4xzburWm1ikNPtI2sXfvguYTCym3b98eFD9590a9OP0kXjdf/JA2WpmPTTRMa6ozIdDb0AkWM6TUNZyzApEIsxB6F9C4Nju3TPir11cKYW3B4/foWhgaGTzgsLFTPw3ylj5fH5haKjKgOoYZYBcwA3dSkUQJFWkAYEMMDGCQANNFArXOJlaaXVfZtq37j4ODgjXnPsvN4rdUnrsmQOnX9n1Vb5NredLrLe74XPOcnpUrLUyZwVaOHMY9KgYZLDZVTtUzABIAo6mUYOF7llhrD9nNGSM4/rt37vrl/r+bYna39McaZwcGNi4KSKEO/LHHtXZJek+mORx+7ztSDvLJbZuzVJ16QFent7TYPE4c0lG0ZXhU9mEb9MqE6AOM0w0AzZLedQsl+vqanb7OPlGeEqHEBWH4xIOLAqo9/HAvGaVexqvEGhjZPZknKvc8P2ReeO8dy/Y2iHwTmLFj0ygTaVpsMuVDYXSk/0WdjkQVItKDKtQV6OBGcgLkTiPdR2bfeun+lzm1d+LoPaRLJv0asZlzJFobSWQTK6g0GwUNObBRTkUZTq7X2VLA1EdejzjFmgEfawWgkvJoADIhGkAVqxFg5X5hcWoF/iQ4bNeu8hUBSb94R1QBkD/4NNKGrbROVJMiABqANKBP6vG7umpoPA5zlXsUK4oqxVqhztREEOvPQs7HSTPObr5WOnhQJbWrAKqWHWXIwA1JhDiRmCGaxYKGFfuFCvc8NnPwbIn4mqHVl1HHdilmKh3EdU6ZUcd7GRKEF7O4+qRIrY6MiKuaTOr2aFhSgBRbPq6kAJXQ4sULYKdDxknRrIe5YcYRxRWDcAwPuc9Tx/fjOSqyoyQJXUWhC5CaZOxuGGqtW+nT8PDF/S9zatHU8hsqYrlJyAymMSBToHrc2CdSdXOo+08CQEyHpJ2n0CqArTzG2jFrisEkJIOxaYprWxllhPuAJCM/Z9ysJAYGxq/KUOLQsTfdNc6oX660emOStBL+TdgAo0FML06IFkBZLHJwaTaSFHkQAVDhDDENF33l1DWMnapHnvKtqjKhRxK+6VVi67FE/hX29NP+/P0vY0gVU63Q9WMVCnAj8ooqjNU/CmygQUQQRxLMJe0cSaMZgNqh74C5OwGwC2DBlGnF0abylYY5XVjjJo+89oDcyILCd1tvfvLS/RfM1DP9W5/XnNQf1MHcadAbVXIsKADI8mJTpJsAAFdXAVPhTweBIeKt2KcNlR2gzEw9EgFGYK7pUrDeoypUfoCriNP0WPvhwx9cE6DO/fsr4epPfYNb9hlvDCy5dUCKIRvP6SyFRhv8AQCoBazm4A9p9OpCWEBNhV5HArXAkoE53I3ERfi75xRruZ/khkafXWjvBQGNPzuYFoVUWXSv3U2mWXHPgCWpzKYybzUqmJKBGWoAM0pQPJkZCRyDIi+OerBDlSgxBm6NakMSUzteLGx75Cm6QlsQUL5lbdU4+pcfmJMT/bquvR8gSftjygsRpwFymFLg8iMJDESinEXURYsXUdHpfUgq50m/TLV/IjhqyVHz8w88Q6Nv5a8LENu+3TW37Hy0NsMzZphfzVAsvQ9DgHIBAoCKfwVToypR1a/QrN7LSKdAsOAUTnEOUTVL7vEq+RfUdTZo4q8demoyt/KKV1lGi7QL93Z/mxrOPaN1uZbRxsnoE6StgnnS3eQnvo8VVsYOHS2lLoTjqBbHUEf3kfxoivx34TunkHvG7NOy2vnd7MF///pq+y0KSLXxL/d2skJxn2g6/yW9nTHRrpG2EmZq2ESB8ShY64YYWKyCZHGSRHkPyeELFPzLpfAj67RfbvmRs3fohfn38yu1/wIWCzhglD7zWwAAAABJRU5ErkJggg==",fleets="_fleets_67uno_1",inner="_inner_67uno_8",fleet="_fleet_67uno_1",styles$2={fleets,inner,fleet,new:"_new_67uno_37"};function Fleet(et){const{record:_e}=et,rt=useAtomValue(userAtom),[nt,it]=reactExports.useState(null),[st,ot]=reactExports.useState(!1),at=useSetAtom(lightboxAtom),lt=async()=>{ot(!0);let ut=[];await Promise.all(_e.data.map(async dt=>{var ht;if(!dt.value.kiteType||dt.value.kiteType!="fleet")return;if(dt.value.kiteImageUrl){ut.push({url:dt.value.kiteImageUrl,createdAt:dt.value.createdAt});return}if(dt.value.kiteImageString){ut.push({url:dt.value.kiteImageString,createdAt:dt.value.createdAt});return}const ft=(ht=dt.value.avatar)==null?void 0:ht.ref.toString();if(!ft)return;const pt=dt.uri.split("/");try{const mt=await agent$1.com.atproto.sync.getBlob({cid:ft,did:pt[2]}),bt=new Uint8Array(mt.data),gt=new Blob([bt]),xt=URL.createObjectURL(gt);ut.push({url:xt,createdAt:dt.value.createdAt})}catch{_t("Oops! Something is wrong with their fleet")}})),ut=ut.sort((dt,ft)=>new Date(dt.createdAt).valueOf()-new Date(ft.createdAt).valueOf()).filter(dt=>dt.url);let ct={..._e};ct.data=_e.data.sort((dt,ft)=>new Date(dt.value.createdAt).valueOf()-new Date(ft.value.createdAt).valueOf()),ot(!1),ut.length&&(it(ut),at({images:ut.map(dt=>dt.url),show:!0,isFleet:_e.user.did==(rt==null?void 0:rt.did),meta:ct}))};return jsxs("div",{className:cn(styles$2.fleet,{[styles$2.loading]:st}),onClick:lt,children:[jsx("img",{src:_e.user.avatar,alt:""}),st?jsx(Loading,{}):""]})}/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function ownKeys(et,_e){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread2(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(rt),!0).forEach(function(nt){_defineProperty(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(et,_e){for(var rt=0;rt<_e.length;rt++){var nt=_e[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey(nt.key),nt)}}function _createClass(et,_e,rt){return _e&&_defineProperties(et.prototype,_e),rt&&_defineProperties(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _defineProperty(et,_e,rt){return _e=_toPropertyKey(_e),_e in et?Object.defineProperty(et,_e,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=rt,et}function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var rt=arguments[_e];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends.apply(this,arguments)}function _toPrimitive(et,_e){if(typeof et!="object"||et===null)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,_e||"default");if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey(et){var _e=_toPrimitive(et,"string");return typeof _e=="symbol"?_e:String(_e)}var canvasToBlob={exports:{}};(function(et){typeof window>"u"||function(_e){var rt=_e.HTMLCanvasElement&&_e.HTMLCanvasElement.prototype,nt=_e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),it=nt&&_e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),st=_e.BlobBuilder||_e.WebKitBlobBuilder||_e.MozBlobBuilder||_e.MSBlobBuilder,ot=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,at=(nt||st)&&_e.atob&&_e.ArrayBuffer&&_e.Uint8Array&&function(lt){var ut,ct,dt,ft,pt,ht,mt,bt,gt;if(ut=lt.match(ot),!ut)throw new Error("invalid data URI");for(ct=ut[2]?ut[1]:"text/plain"+(ut[3]||";charset=US-ASCII"),dt=!!ut[4],ft=lt.slice(ut[0].length),dt?pt=atob(ft):pt=decodeURIComponent(ft),ht=new ArrayBuffer(pt.length),mt=new Uint8Array(ht),bt=0;bt<pt.length;bt+=1)mt[bt]=pt.charCodeAt(bt);return nt?new Blob([it?mt:ht],{type:ct}):(gt=new st,gt.append(ht),gt.getBlob(ct))};_e.HTMLCanvasElement&&!rt.toBlob&&(rt.mozGetAsFile?rt.toBlob=function(lt,ut,ct){var dt=this;setTimeout(function(){ct&&rt.toDataURL&&at?lt(at(dt.toDataURL(ut,ct))):lt(dt.mozGetAsFile("blob",ut))})}:rt.toDataURL&&at&&(rt.msToBlob?rt.toBlob=function(lt,ut,ct){var dt=this;setTimeout(function(){(ut&&ut!=="image/png"||ct)&&rt.toDataURL&&at?lt(at(dt.toDataURL(ut,ct))):lt(dt.msToBlob(ut))})}:rt.toBlob=function(lt,ut,ct){var dt=this;setTimeout(function(){lt(at(dt.toDataURL(ut,ct)))})})),et.exports?et.exports=at:_e.dataURLtoBlob=at}(window)})(canvasToBlob);var toBlob=canvasToBlob.exports,isBlob=function et(_e){return typeof Blob>"u"?!1:_e instanceof Blob||Object.prototype.toString.call(_e)==="[object Blob]"},DEFAULTS={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},IS_BROWSER=typeof window<"u"&&typeof window.document<"u",WINDOW=IS_BROWSER?window:{},isPositiveNumber=function et(_e){return _e>0&&_e<1/0},slice=Array.prototype.slice;function toArray(et){return Array.from?Array.from(et):slice.call(et)}var REGEXP_IMAGE_TYPE=/^image\/.+$/;function isImageType(et){return REGEXP_IMAGE_TYPE.test(et)}function imageTypeToExtension(et){var _e=isImageType(et)?et.substr(6):"";return _e==="jpeg"&&(_e="jpg"),".".concat(_e)}var fromCharCode=String.fromCharCode;function getStringFromCharCode(et,_e,rt){var nt="",it;for(rt+=_e,it=_e;it<rt;it+=1)nt+=fromCharCode(et.getUint8(it));return nt}var btoa=WINDOW.btoa;function arrayBufferToDataURL(et,_e){for(var rt=[],nt=8192,it=new Uint8Array(et);it.length>0;)rt.push(fromCharCode.apply(null,toArray(it.subarray(0,nt)))),it=it.subarray(nt);return"data:".concat(_e,";base64,").concat(btoa(rt.join("")))}function resetAndGetOrientation(et){var _e=new DataView(et),rt;try{var nt,it,st;if(_e.getUint8(0)===255&&_e.getUint8(1)===216)for(var ot=_e.byteLength,at=2;at+1<ot;){if(_e.getUint8(at)===255&&_e.getUint8(at+1)===225){it=at;break}at+=1}if(it){var lt=it+4,ut=it+10;if(getStringFromCharCode(_e,lt,4)==="Exif"){var ct=_e.getUint16(ut);if(nt=ct===18761,(nt||ct===19789)&&_e.getUint16(ut+2,nt)===42){var dt=_e.getUint32(ut+4,nt);dt>=8&&(st=ut+dt)}}}if(st){var ft=_e.getUint16(st,nt),pt,ht;for(ht=0;ht<ft;ht+=1)if(pt=st+ht*12+2,_e.getUint16(pt,nt)===274){pt+=8,rt=_e.getUint16(pt,nt),_e.setUint16(pt,1,nt);break}}}catch{rt=1}return rt}function parseOrientation(et){var _e=0,rt=1,nt=1;switch(et){case 2:rt=-1;break;case 3:_e=-180;break;case 4:nt=-1;break;case 5:_e=90,nt=-1;break;case 6:_e=90;break;case 7:_e=90,rt=-1;break;case 8:_e=-90;break}return{rotate:_e,scaleX:rt,scaleY:nt}}var REGEXP_DECIMALS=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(et){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return REGEXP_DECIMALS.test(et)?Math.round(et*_e)/_e:et}function getAdjustedSizes(et){var _e=et.aspectRatio,rt=et.height,nt=et.width,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",st=isPositiveNumber(nt),ot=isPositiveNumber(rt);if(st&&ot){var at=rt*_e;(it==="contain"||it==="none")&&at>nt||it==="cover"&&at<nt?rt=nt/_e:nt=rt*_e}else st?rt=nt/_e:ot&&(nt=rt*_e);return{width:nt,height:rt}}function getExif(et){for(var _e=toArray(new Uint8Array(et)),rt=_e.length,nt=[],it=0;it+3<rt;){var st=_e[it],ot=_e[it+1];if(st===255&&ot===218)break;if(st===255&&ot===216)it+=2;else{var at=_e[it+2]*256+_e[it+3],lt=it+at+2,ut=_e.slice(it,lt);nt.push(ut),it=lt}}return nt.reduce(function(ct,dt){return dt[0]===255&&dt[1]===225?ct.concat(dt):ct},[])}function insertExif(et,_e){var rt=toArray(new Uint8Array(et));if(rt[2]!==255||rt[3]!==224)return et;var nt=rt[4]*256+rt[5],it=[255,216].concat(_e,rt.slice(4+nt));return new Uint8Array(it)}var ArrayBuffer$1=WINDOW.ArrayBuffer,FileReader$1=WINDOW.FileReader,URL$1=WINDOW.URL||WINDOW.webkitURL,REGEXP_EXTENSION=/\.\w+$/,AnotherCompressor=WINDOW.Compressor,Compressor=function(){function et(_e,rt){_classCallCheck(this,et),this.file=_e,this.exif=[],this.image=new Image,this.options=_objectSpread2(_objectSpread2({},DEFAULTS),rt),this.aborted=!1,this.result=null,this.init()}return _createClass(et,[{key:"init",value:function(){var rt=this,nt=this.file,it=this.options;if(!isBlob(nt)){this.fail(new Error("The first argument must be a File or Blob object."));return}var st=nt.type;if(!isImageType(st)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!URL$1||!FileReader$1){this.fail(new Error("The current browser does not support image compression."));return}ArrayBuffer$1||(it.checkOrientation=!1,it.retainExif=!1);var ot=st==="image/jpeg",at=ot&&it.checkOrientation,lt=ot&&it.retainExif;if(URL$1&&!at&&!lt)this.load({url:URL$1.createObjectURL(nt)});else{var ut=new FileReader$1;this.reader=ut,ut.onload=function(ct){var dt=ct.target,ft=dt.result,pt={},ht=1;at&&(ht=resetAndGetOrientation(ft),ht>1&&_extends(pt,parseOrientation(ht))),lt&&(rt.exif=getExif(ft)),at||lt?!URL$1||ht>1?pt.url=arrayBufferToDataURL(ft,st):pt.url=URL$1.createObjectURL(nt):pt.url=ft,rt.load(pt)},ut.onabort=function(){rt.fail(new Error("Aborted to read the image with FileReader."))},ut.onerror=function(){rt.fail(new Error("Failed to read the image with FileReader."))},ut.onloadend=function(){rt.reader=null},at||lt?ut.readAsArrayBuffer(nt):ut.readAsDataURL(nt)}}},{key:"load",value:function(rt){var nt=this,it=this.file,st=this.image;st.onload=function(){nt.draw(_objectSpread2(_objectSpread2({},rt),{},{naturalWidth:st.naturalWidth,naturalHeight:st.naturalHeight}))},st.onabort=function(){nt.fail(new Error("Aborted to load the image."))},st.onerror=function(){nt.fail(new Error("Failed to load the image."))},WINDOW.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)&&(st.crossOrigin="anonymous"),st.alt=it.name,st.src=rt.url}},{key:"draw",value:function(rt){var nt=this,it=rt.naturalWidth,st=rt.naturalHeight,ot=rt.rotate,at=ot===void 0?0:ot,lt=rt.scaleX,ut=lt===void 0?1:lt,ct=rt.scaleY,dt=ct===void 0?1:ct,ft=this.file,pt=this.image,ht=this.options,mt=document.createElement("canvas"),bt=mt.getContext("2d"),gt=Math.abs(at)%180===90,xt=(ht.resize==="contain"||ht.resize==="cover")&&isPositiveNumber(ht.width)&&isPositiveNumber(ht.height),yt=Math.max(ht.maxWidth,0)||1/0,vt=Math.max(ht.maxHeight,0)||1/0,Pt=Math.max(ht.minWidth,0)||0,St=Math.max(ht.minHeight,0)||0,Ot=it/st,Et=ht.width,Lt=ht.height;if(gt){var Nt=[vt,yt];yt=Nt[0],vt=Nt[1];var $t=[St,Pt];Pt=$t[0],St=$t[1];var Mt=[Lt,Et];Et=Mt[0],Lt=Mt[1]}xt&&(Ot=Et/Lt);var Tt=getAdjustedSizes({aspectRatio:Ot,width:yt,height:vt},"contain");yt=Tt.width,vt=Tt.height;var Rt=getAdjustedSizes({aspectRatio:Ot,width:Pt,height:St},"cover");if(Pt=Rt.width,St=Rt.height,xt){var kt=getAdjustedSizes({aspectRatio:Ot,width:Et,height:Lt},ht.resize);Et=kt.width,Lt=kt.height}else{var Dt=getAdjustedSizes({aspectRatio:Ot,width:Et,height:Lt}),At=Dt.width;Et=At===void 0?it:At;var wt=Dt.height;Lt=wt===void 0?st:wt}Et=Math.floor(normalizeDecimalNumber(Math.min(Math.max(Et,Pt),yt))),Lt=Math.floor(normalizeDecimalNumber(Math.min(Math.max(Lt,St),vt)));var It=-Et/2,Bt=-Lt/2,Ct=Et,Ut=Lt,jt=[];if(xt){var Kt=0,Vt=0,qt=it,Wt=st,Gt=getAdjustedSizes({aspectRatio:Ot,width:it,height:st},{contain:"cover",cover:"contain"}[ht.resize]);qt=Gt.width,Wt=Gt.height,Kt=(it-qt)/2,Vt=(st-Wt)/2,jt.push(Kt,Vt,qt,Wt)}if(jt.push(It,Bt,Ct,Ut),gt){var rr=[Lt,Et];Et=rr[0],Lt=rr[1]}mt.width=Et,mt.height=Lt,isImageType(ht.mimeType)||(ht.mimeType=ft.type);var fr="transparent";ft.size>ht.convertSize&&ht.convertTypes.indexOf(ht.mimeType)>=0&&(ht.mimeType="image/jpeg");var ir=ht.mimeType==="image/jpeg";if(ir&&(fr="#fff"),bt.fillStyle=fr,bt.fillRect(0,0,Et,Lt),ht.beforeDraw&&ht.beforeDraw.call(this,bt,mt),!this.aborted&&(bt.save(),bt.translate(Et/2,Lt/2),bt.rotate(at*Math.PI/180),bt.scale(ut,dt),bt.drawImage.apply(bt,[pt].concat(jt)),bt.restore(),ht.drew&&ht.drew.call(this,bt,mt),!this.aborted)){var cr=function(lr){if(!nt.aborted){var _r=function(yr){return nt.done({naturalWidth:it,naturalHeight:st,result:yr})};if(lr&&ir&&ht.retainExif&&nt.exif&&nt.exif.length>0){var Sr=function(yr){return _r(toBlob(arrayBufferToDataURL(insertExif(yr,nt.exif),ht.mimeType)))};if(lr.arrayBuffer)lr.arrayBuffer().then(Sr).catch(function(){nt.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var ur=new FileReader$1;nt.reader=ur,ur.onload=function(Er){var yr=Er.target;Sr(yr.result)},ur.onabort=function(){nt.fail(new Error("Aborted to read the compressed image with FileReader."))},ur.onerror=function(){nt.fail(new Error("Failed to read the compressed image with FileReader."))},ur.onloadend=function(){nt.reader=null},ur.readAsArrayBuffer(lr)}}else _r(lr)}};mt.toBlob?mt.toBlob(cr,ht.mimeType,ht.quality):cr(toBlob(mt.toDataURL(ht.mimeType,ht.quality)))}}},{key:"done",value:function(rt){var nt=rt.naturalWidth,it=rt.naturalHeight,st=rt.result,ot=this.file,at=this.image,lt=this.options;if(URL$1&&at.src.indexOf("blob:")===0&&URL$1.revokeObjectURL(at.src),st)if(lt.strict&&!lt.retainExif&&st.size>ot.size&&lt.mimeType===ot.type&&!(lt.width>nt||lt.height>it||lt.minWidth>nt||lt.minHeight>it||lt.maxWidth<nt||lt.maxHeight<it))st=ot;else{var ut=new Date;st.lastModified=ut.getTime(),st.lastModifiedDate=ut,st.name=ot.name,st.name&&st.type!==ot.type&&(st.name=st.name.replace(REGEXP_EXTENSION,imageTypeToExtension(st.type)))}else st=ot;this.result=st,lt.success&&lt.success.call(this,st)}},{key:"fail",value:function(rt){var nt=this.options;if(nt.error)nt.error.call(this,rt);else throw rt}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=AnotherCompressor,et}},{key:"setDefaults",value:function(rt){_extends(DEFAULTS,rt)}}]),et}(),conversion={exports:{}};(function(et,_e){(function(rt,nt){et.exports=nt()})(commonjsGlobal,function(){return function(rt){var nt={};function it(st){if(nt[st])return nt[st].exports;var ot=nt[st]={i:st,l:!1,exports:{}};return rt[st].call(ot.exports,ot,ot.exports,it),ot.l=!0,ot.exports}return it.m=rt,it.c=nt,it.d=function(st,ot,at){it.o(st,ot)||Object.defineProperty(st,ot,{enumerable:!0,get:at})},it.r=function(st){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(st,"__esModule",{value:!0})},it.t=function(st,ot){if(1&ot&&(st=it(st)),8&ot||4&ot&&typeof st=="object"&&st&&st.__esModule)return st;var at=Object.create(null);if(it.r(at),Object.defineProperty(at,"default",{enumerable:!0,value:st}),2&ot&&typeof st!="string")for(var lt in st)it.d(at,lt,function(ut){return st[ut]}.bind(null,lt));return at},it.n=function(st){var ot=st&&st.__esModule?function(){return st.default}:function(){return st};return it.d(ot,"a",ot),ot},it.o=function(st,ot){return Object.prototype.hasOwnProperty.call(st,ot)},it.p="",it(it.s=0)}([function(rt,nt,it){var st;function ot(St){return["image/png","image/jpeg","image/gif"].some(Ot=>Ot===St)}it.r(nt),it.d(nt,"canvastoDataURL",function(){return lt}),it.d(nt,"canvastoFile",function(){return ut}),it.d(nt,"dataURLtoFile",function(){return dt}),it.d(nt,"dataURLtoImage",function(){return ft}),it.d(nt,"downloadFile",function(){return pt}),it.d(nt,"filetoDataURL",function(){return ht}),it.d(nt,"imagetoCanvas",function(){return bt}),it.d(nt,"urltoBlob",function(){return gt}),it.d(nt,"urltoImage",function(){return xt}),it.d(nt,"compress",function(){return vt}),it.d(nt,"compressAccurately",function(){return Pt}),it.d(nt,"EImageType",function(){return st}),function(St){St.PNG="image/png",St.JPEG="image/jpeg",St.GIF="image/gif"}(st||(st={}));var at=function(St,Ot,Et,Lt){return new(Et||(Et=Promise))(function(Nt,$t){function Mt(kt){try{Rt(Lt.next(kt))}catch(Dt){$t(Dt)}}function Tt(kt){try{Rt(Lt.throw(kt))}catch(Dt){$t(Dt)}}function Rt(kt){var Dt;kt.done?Nt(kt.value):(Dt=kt.value,Dt instanceof Et?Dt:new Et(function(At){At(Dt)})).then(Mt,Tt)}Rt((Lt=Lt.apply(St,Ot||[])).next())})};function lt(St,Ot=.92,Et=st.JPEG){return at(this,void 0,void 0,function*(){return ot(Et)||(Et=st.JPEG),St.toDataURL(Et,Ot)})}function ut(St,Ot=.92,Et=st.JPEG){return new Promise(Lt=>St.toBlob(Nt=>Lt(Nt),Et,Ot))}var ct=function(St,Ot,Et,Lt){return new(Et||(Et=Promise))(function(Nt,$t){function Mt(kt){try{Rt(Lt.next(kt))}catch(Dt){$t(Dt)}}function Tt(kt){try{Rt(Lt.throw(kt))}catch(Dt){$t(Dt)}}function Rt(kt){var Dt;kt.done?Nt(kt.value):(Dt=kt.value,Dt instanceof Et?Dt:new Et(function(At){At(Dt)})).then(Mt,Tt)}Rt((Lt=Lt.apply(St,Ot||[])).next())})};function dt(St,Ot){return ct(this,void 0,void 0,function*(){const Et=St.split(",");let Lt=Et[0].match(/:(.*?);/)[1];const Nt=atob(Et[1]);let $t=Nt.length;const Mt=new Uint8Array($t);for(;$t--;)Mt[$t]=Nt.charCodeAt($t);return ot(Ot)&&(Lt=Ot),new Blob([Mt],{type:Lt})})}function ft(St){return new Promise((Ot,Et)=>{const Lt=new Image;Lt.onload=()=>Ot(Lt),Lt.onerror=()=>Et(new Error("dataURLtoImage(): dataURL is illegal")),Lt.src=St})}function pt(St,Ot){const Et=document.createElement("a");Et.href=window.URL.createObjectURL(St),Et.download=Ot||Date.now().toString(36),document.body.appendChild(Et);const Lt=document.createEvent("MouseEvents");Lt.initEvent("click",!1,!1),Et.dispatchEvent(Lt),document.body.removeChild(Et)}function ht(St){return new Promise(Ot=>{const Et=new FileReader;Et.onloadend=Lt=>Ot(Lt.target.result),Et.readAsDataURL(St)})}var mt=function(St,Ot,Et,Lt){return new(Et||(Et=Promise))(function(Nt,$t){function Mt(kt){try{Rt(Lt.next(kt))}catch(Dt){$t(Dt)}}function Tt(kt){try{Rt(Lt.throw(kt))}catch(Dt){$t(Dt)}}function Rt(kt){var Dt;kt.done?Nt(kt.value):(Dt=kt.value,Dt instanceof Et?Dt:new Et(function(At){At(Dt)})).then(Mt,Tt)}Rt((Lt=Lt.apply(St,Ot||[])).next())})};function bt(St,Ot={}){return mt(this,void 0,void 0,function*(){const Et=Object.assign({},Ot),Lt=document.createElement("canvas"),Nt=Lt.getContext("2d");let $t,Mt;for(const Tt in Et)Object.prototype.hasOwnProperty.call(Et,Tt)&&(Et[Tt]=Number(Et[Tt]));if(Et.scale){const Tt=Et.scale>0&&Et.scale<10?Et.scale:1;Mt=St.width*Tt,$t=St.height*Tt}else Mt=Et.width||Et.height*St.width/St.height||St.width,$t=Et.height||Et.width*St.height/St.width||St.height;switch([5,6,7,8].some(Tt=>Tt===Et.orientation)?(Lt.height=Mt,Lt.width=$t):(Lt.height=$t,Lt.width=Mt),Et.orientation){case 3:Nt.rotate(180*Math.PI/180),Nt.drawImage(St,-Lt.width,-Lt.height,Lt.width,Lt.height);break;case 6:Nt.rotate(90*Math.PI/180),Nt.drawImage(St,0,-Lt.width,Lt.height,Lt.width);break;case 8:Nt.rotate(270*Math.PI/180),Nt.drawImage(St,-Lt.height,0,Lt.height,Lt.width);break;case 2:Nt.translate(Lt.width,0),Nt.scale(-1,1),Nt.drawImage(St,0,0,Lt.width,Lt.height);break;case 4:Nt.translate(Lt.width,0),Nt.scale(-1,1),Nt.rotate(180*Math.PI/180),Nt.drawImage(St,-Lt.width,-Lt.height,Lt.width,Lt.height);break;case 5:Nt.translate(Lt.width,0),Nt.scale(-1,1),Nt.rotate(90*Math.PI/180),Nt.drawImage(St,0,-Lt.width,Lt.height,Lt.width);break;case 7:Nt.translate(Lt.width,0),Nt.scale(-1,1),Nt.rotate(270*Math.PI/180),Nt.drawImage(St,-Lt.height,0,Lt.height,Lt.width);break;default:Nt.drawImage(St,0,0,Lt.width,Lt.height)}return Lt})}function gt(St){return fetch(St).then(Ot=>Ot.blob())}function xt(St){return new Promise((Ot,Et)=>{const Lt=new Image;Lt.onload=()=>Ot(Lt),Lt.onerror=()=>Et(new Error("urltoImage(): Image failed to load, please check the image URL")),Lt.src=St})}var yt=function(St,Ot,Et,Lt){return new(Et||(Et=Promise))(function(Nt,$t){function Mt(kt){try{Rt(Lt.next(kt))}catch(Dt){$t(Dt)}}function Tt(kt){try{Rt(Lt.throw(kt))}catch(Dt){$t(Dt)}}function Rt(kt){var Dt;kt.done?Nt(kt.value):(Dt=kt.value,Dt instanceof Et?Dt:new Et(function(At){At(Dt)})).then(Mt,Tt)}Rt((Lt=Lt.apply(St,Ot||[])).next())})};function vt(St,Ot={}){return yt(this,void 0,void 0,function*(){if(!(St instanceof Blob))throw new Error("compress(): First arg must be a Blob object or a File object.");if(typeof Ot!="object"&&(Ot=Object.assign({quality:Ot})),Ot.quality=Number(Ot.quality),Number.isNaN(Ot.quality))return St;const Et=yield ht(St);let Lt=Et.split(",")[0].match(/:(.*?);/)[1],Nt=st.JPEG;ot(Ot.type)&&(Nt=Ot.type,Lt=Ot.type);const $t=yield ft(Et),Mt=yield bt($t,Object.assign({},Ot)),Tt=yield lt(Mt,Ot.quality,Nt),Rt=yield dt(Tt,Lt);return Rt.size>St.size?St:Rt})}function Pt(St,Ot={}){return yt(this,void 0,void 0,function*(){if(!(St instanceof Blob))throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");if(typeof Ot!="object"&&(Ot=Object.assign({size:Ot})),Ot.size=Number(Ot.size),Number.isNaN(Ot.size)||1024*Ot.size>St.size)return St;Ot.accuracy=Number(Ot.accuracy),(!Ot.accuracy||Ot.accuracy<.8||Ot.accuracy>.99)&&(Ot.accuracy=.95);const Et=Ot.size*(2-Ot.accuracy)*1024,Lt=1024*Ot.size,Nt=Ot.size*Ot.accuracy*1024,$t=yield ht(St);let Mt=$t.split(",")[0].match(/:(.*?);/)[1],Tt=st.JPEG;ot(Ot.type)&&(Tt=Ot.type,Mt=Ot.type);const Rt=yield ft($t),kt=yield bt(Rt,Object.assign({},Ot));let Dt,At=.5;const wt=[null,null];for(let Bt=1;Bt<=7;Bt++){Dt=yield lt(kt,At,Tt);const Ct=.75*Dt.length;if(Bt===7){(Et<Ct||Nt>Ct)&&(Dt=[Dt,...wt].filter(Ut=>Ut).sort((Ut,jt)=>Math.abs(.75*Ut.length-Lt)-Math.abs(.75*jt.length-Lt))[0]);break}if(Et<Ct)wt[1]=Dt,At-=Math.pow(.5,Bt+1);else{if(!(Nt>Ct))break;wt[0]=Dt,At+=Math.pow(.5,Bt+1)}}const It=yield dt(Dt,Mt);return It.size>St.size?St:It})}}])})})(conversion);var conversionExports=conversion.exports,imageConversion=conversionExports;function New$1(et){const _e=useAtomValue(userAtom),[rt,nt]=reactExports.useState(!1),it=useQueryClient(),st=async at=>{const lt=at.target.files[0];nt(!0);const ut=await ot(lt);await imageConversion.filetoDataURL(ut);const ct=await agent$1.uploadBlob(ut,{encoding:"image/jpeg"});try{(await agent$1.api.com.atproto.repo.createRecord({repo:_e==null?void 0:_e.handle,collection:"app.bsky.actor.profile",record:{kiteType:"fleet",avatar:ct.data.blob,createdAt:new Date().toISOString()}})).success&&_t("Fleet uploaded!")}catch(dt){return console.error(dt),_t("Image size is too big!"),nt(!1)}it.invalidateQueries("fleets"),nt(!1)},ot=at=>new Promise((lt,ut)=>{new Compressor(at,{quality:.85,height:1500,success:ct=>lt(ct),error:ct=>ut(ct)})});return jsxs("div",{className:cn(styles$2.fleet,styles$2.new),children:[rt?jsx(Loading,{isColored:!0}):jsx("strong",{children:"+"}),jsx("input",{title:"Upload New Fleet",type:"file",accept:"image/jpeg,image/png",onChange:st})]})}function Fleets(et){const _e=useAtomValue(userAtom),{data:rt,isLoading:nt}=useQuery("fleets",()=>it(),{cacheTime:1/0,refetchOnWindowFocus:!1}),it=async()=>{let st=[];const ot=await agent$1.getFollows({actor:_e==null?void 0:_e.handle,limit:100});return await Promise.all([_e,...ot.data.follows.splice(0,300)].map(async at=>{const ut=(await agent$1.com.atproto.repo.listRecords({collection:"app.bsky.actor.profile",repo:at==null?void 0:at.did,limit:10})).data.records.filter(ct=>{if(!ct.value.createdAt)return;const dt=Math.abs(new Date(ct.value.createdAt).valueOf()-Date.now()),ft=Math.ceil(dt/(1e3*60*60));return ct.value.kiteType&&(ct.value.avatar||ct.value.kiteImageString)&&ct.value.kiteType=="fleet"&&ct.value.createdAt&&ft<=24});ut.length&&st.push({user:at,data:ut})})),st};return jsx("div",{className:styles$2.fleets,children:jsxs("div",{className:styles$2.inner,children:[jsx(New$1,{}),nt?jsx(Loading,{isColored:!0}):rt==null?void 0:rt.map(st=>jsx(Fleet,{record:st},st.user.did))]})})}function New(et){const _e=useAtomValue(userAtom),rt=useQueryClient(),[nt,it]=reactExports.useState("");useAtom(lightboxAtom);const{mutate:st,isLoading:ot}=useMutation(lt=>{var ut;return agent$1.api.app.bsky.feed.post.create({repo:(ut=agent$1.session)==null?void 0:ut.did},lt)},{onSuccess:lt=>{it("");const ut=new Event("publish-post");window.dispatchEvent(ut),rt.invalidateQueries(["skyline"])},onError:lt=>{console.error(lt),n("Something went wrong")}}),at=async(lt,ut,ct=null)=>{const dt=lt,ft=new dist.RichText({text:ut});await ft.detectFacets(agent$1);let pt={createdAt:new Date().toISOString(),text:ft.text,facets:ft.facets,$type:"app.bsky.feed.post"};if(dt.length&&(pt.embed={$type:"app.bsky.embed.images",images:dt.length?dt.map(ht=>({alt:"",image:ht.data.blob.original})):void 0}),ct){pt.kiteAudio=ct;const ht=new dist.RichText({text:`Unsupported audio message. To view this message you need to use Kite 🪁

https://kite.black`});await ht.detectFacets(agent$1),pt.text=ht.text,pt.facets=ht.facets,pt.kiteText=ft.text||`
`}st(pt)};return jsxs("div",{className:styles$7.wrapper,children:[jsx("div",{className:styles$7.left,children:jsx("div",{className:styles$7.avatar,children:jsx("img",{src:(_e==null?void 0:_e.avatar)||AvatarPlaceholder,alt:""})})}),jsx("div",{className:styles$7.right,children:jsx(Composer,{onSubmit:at,submitLoading:ot})})]})}function Skyline(et){var Nt;const _e=useAtomValue(userAtom),rt=reactExports.useRef(null),nt=reactExports.useRef(null),[it,st]=reactExports.useState([]),[ot,at]=useAtom(uiAtom),lt=reactExports.useRef(null),ut=reactExports.useRef(null),ct=async $t=>{const Mt=await agent$1.getTimeline({algorithm:"reverse-chronological",cursor:$t});return $t&&(rt.current=Mt.data.cursor),Mt},{data:dt,isLoading:ft,hasNextPage:pt,fetchNextPage:ht,refetch:mt}=useInfiniteQuery(["skyline"],({pageParam:$t})=>ct($t),{refetchOnMount:!1,refetchOnWindowFocus:!1,cacheTime:1/0,onSuccess:$t=>{const Mt=$t.pages[$t.pages.length-1];!bt.length||rt.current&&rt.current!=$t.pages[$t.pages.length-1].data.cursor||bt.length&&bt[0].post.uri==$t.pages[0].data.feed[0].post.uri&&bt[bt.length-1].post.uri!=Mt.data.feed[Mt.data.feed.length-1].post.uri?gt([...bt,...$t.pages[$t.pages.length-1].data.feed]):xt($t.pages[0].data.feed)},getNextPageParam:($t,Mt)=>$t.data.cursor?$t.data.cursor:void 0}),[bt,gt]=reactExports.useState(((Nt=dt==null?void 0:dt.pages[0])==null?void 0:Nt.data.feed)||[]),xt=reactExports.useCallback($t=>{$t[0].post.uri==bt[0].post.uri||st($t),yt($t)},[bt]),yt=$t=>{let Mt=[...bt];for(let Tt=0;Tt<$t.length;Tt++){const Rt=$t[Tt],kt=Mt.findIndex(Dt=>Dt.post.uri==Rt.post.uri);kt>-1&&(Rt.post&&(Mt[kt].post=Rt.post),Rt.reply&&(Mt[kt].reply=Rt.reply),Rt.reason&&(Mt[kt].reason=Rt.reason))}gt([...Mt])},vt=()=>{nt.current=setTimeout(()=>{mt({refetchPage:($t,Mt)=>Mt===0}),vt()},5e3)};reactExports.useEffect(()=>(vt(),()=>{clearTimeout(nt.current)}),[]),reactExports.useEffect(()=>{let $t=!1;const Mt=async Tt=>{const{scrollHeight:Rt,scrollTop:kt,clientHeight:Dt}=Tt.target.scrollingElement;!$t&&Rt-kt<=Dt*1.2&&($t=!0,pt&&await ht(),$t=!1)};return document.addEventListener("scroll",Mt),()=>{document.removeEventListener("scroll",Mt)}},[ht,pt]);const Pt=$t=>{$t.preventDefault(),$t.stopPropagation();const Mt=[...it];gt(Mt),window.scrollTo({top:0,left:0,behavior:"smooth"}),st([])};reactExports.useEffect(()=>{},[]);const St=$t=>{$t.preventDefault(),$t.stopPropagation(),at(Mt=>({...Mt,hot:!0})),localStorage.setItem(UI_STORAGE_KEY,JSON.stringify({...ot,hot:!0}))},Ot=$t=>{$t.preventDefault(),$t.stopPropagation(),at(Mt=>({...Mt,firehose:!0})),localStorage.setItem(UI_STORAGE_KEY,JSON.stringify({...ot,firehose:!0}))},Et=$t=>{$t.preventDefault(),$t.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"})},Lt=$t=>{ut.current&&document.documentElement.scrollTop>lt.current.nextSibling.clientHeight&&(ut.current-document.documentElement.scrollTop>=0?lt.current.animate({transform:"translateY(0)"},{duration:750,ease:"easeOut",fill:"forwards"}):lt.current.animate({transform:`translateY(-${lt.current.clientHeight}px)`},{duration:750,ease:"easeOut",fill:"forwards"})),ut.current=document.documentElement.scrollTop};return reactExports.useEffect(()=>(window.innerWidth<1024&&document.addEventListener("scroll",Lt),()=>{document.removeEventListener("scroll",Lt)}),[window.innerWidth]),jsxs("div",{className:"skyline",children:[jsx(Fleets,{}),it.length?jsxs("button",{onClick:Pt,className:cn("btn primary",styles$3.newPosts),children:[jsx("div",{className:styles$3.newAvatars,children:it.filter(($t,Mt)=>$t.post&&$t.post.author&&it.findIndex(Tt=>{var Rt,kt;return((Rt=Tt.post)==null?void 0:Rt.author.did)==((kt=$t.post)==null?void 0:kt.author.did)})==Mt).slice(0,3).map($t=>{var Mt,Tt,Rt;return jsx("div",{className:styles$3.newAvatar,children:jsx("img",{src:(Tt=(Mt=$t.post)==null?void 0:Mt.author)==null?void 0:Tt.avatar,alt:""})},(Rt=$t==null?void 0:$t.post)==null?void 0:Rt.author.did)})}),jsx("strong",{children:"New Posts"}),jsx("img",{src:ArrowIcon,alt:""})]}):"",jsxs("div",{className:"col-header",ref:lt,children:[window.innerWidth<1024?jsxs(Fragment$1,{children:[jsx("img",{src:KiteLogo,height:32,alt:""}),jsx("h1",{onClick:Et,children:"Kite"})]}):jsx("h1",{children:"Skyline"}),jsxs("div",{children:[ot.hot?"":jsxs("button",{className:"header-btn",onClick:St,children:[jsx("span",{children:"Hot"}),jsx("img",{src:HotIcon,alt:"Hot Column"})]}),ot.firehose?"":jsxs("button",{className:"header-btn",onClick:Ot,children:[jsx("span",{children:"RealTime"}),jsx("img",{src:FirehoseIcon,alt:"Firehose Column"})]})]})]}),jsx(New,{}),ft||bt.length?jsx(PostsRenderer,{isLoading:ft,feed:bt}):jsxs("div",{children:[jsxs("p",{className:"d-flex align-items-center justify-content-center p-5 text-grey text-center",children:["Nothing to see here!",jsx("br",{}),"Get in there and follow some people!"]}),_e!=null&&_e.followsCount?"":jsx("div",{children:jsx(Right,{isInSkyline:!0})})]}),pt?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):""]})}function Feed(et){const _e=useAtomValue(uiAtom);return reactExports.useEffect(()=>(_e.hot||_e.firehose?document.body.classList.add("hot-col"):document.body.classList.contains("hot-col")&&document.body.classList.remove("hot-col"),()=>{document.body.classList.remove("hot-col")}),[_e.hot]),jsxs(Layout,{className:"home",children:[jsx(Skyline,{}),_e.hot?jsx(SkyCol,{}):"",_e.firehose?jsx(Firehose,{}):""]})}const EyeOpen="/assets/eye-open-3024e508.svg",EyeClosed="/assets/eye-closed-6dca6935.svg";function Login(et){const[_e,rt]=reactExports.useState({identifier:"",password:"",loading:!1,error:null,service:""}),[nt,it]=reactExports.useState(!1),[st,ot]=reactExports.useState(!1),at=store.get("theme"),lt=useNavigate();reactExports.useEffect(()=>{at=="dark"&&document.body.classList.add("dark")},[]);const ut=async dt=>{if(dt.preventDefault(),!(!_e.identifier.length||!_e.password.length)){rt(ft=>({...ft,loading:!0}));try{if(_e.service.length){if(!_e.service.startsWith("https://")){rt(pt=>({...pt,error:"Service Url is not valid"}));return}agent$1.changeService(_e.service)}(await agent$1.login({identifier:_e.identifier.includes(".")?_e.identifier:`${_e.identifier}.bsky.social`,password:_e.password})).success&&lt("/")}catch(ft){console.error(ft.message),rt(pt=>({...pt,error:ft.message,loading:!1}))}}},ct=dt=>{rt(ft=>({...ft,service:dt.target.value}))};return jsxs("div",{className:"login-page",children:[jsx("img",{src:KiteLogo,alt:"Kite | A Better BlueSky Client"}),jsx("h1",{children:"Kite"}),jsx("h2",{children:"Better BlueSky Client"}),jsxs("form",{onSubmit:ut,children:[jsx("div",{className:"input-wrapper",children:jsx("input",{type:"text",placeholder:"Identifier ( ex: arta.bsky.social or arta )",value:_e.identifier,onChange:dt=>rt(ft=>({...ft,identifier:dt.target.value}))})}),jsxs("div",{className:"input-wrapper",children:[jsx("input",{type:st?"text":"password",placeholder:"Password",value:_e.password,onChange:dt=>rt(ft=>({...ft,password:dt.target.value}))}),jsx("img",{src:st?EyeOpen:EyeClosed,alt:"Toggle password visibility",onClick:()=>ot(!st)})]}),nt?jsx("div",{className:"input-wrapper",children:jsx("input",{type:"text",placeholder:"Service URL, Leave empty if you don't know what this is",value:_e.service,onChange:ct})}):jsx("strong",{style:{display:"block",marginBottom:"2rem"},className:"text-grey pointer",onClick:()=>it(!0),children:"+ Advanced"}),jsx(Button,{text:"Login",className:"btn",loading:_e.loading}),jsx(Button,{onClick:()=>lt("/register"),text:"Register",className:"btn outline"}),_e.error?jsx("p",{className:"error text-center",children:_e.error}):""]})]})}function Logout(et){const _e=useQueryClient(),rt=()=>{localStorage.removeItem(SESSION_LOCAL_STORAGE_KEY),localStorage.removeItem(SERVICE_LOCAL_STORAGE_KEY),_e.clear(),agent$1.changeService("https://bsky.social")};return reactExports.useEffect(()=>{rt()},[]),jsx(Navigate,{to:"/login"})}const notificationsAtom=atom([]),ArrowDownIcon="/assets/arrow-d3d4beb2.svg",ReplyFillIcon="/assets/reply-fill-07cc6b62.svg",notifications="_notifications_18zh0_1",notification="_notification_18zh0_1",left="_left_18zh0_18",info$1="_info_18zh0_35",right="_right_18zh0_41",type="_type_18zh0_47",text="_text_18zh0_57",arrow="_arrow_18zh0_64",isOpen="_isOpen_18zh0_80",openAvatars="_openAvatars_18zh0_84",user="_user_18zh0_84",headerText="_headerText_18zh0_92",avatars="_avatars_18zh0_98",avatar$1="_avatar_18zh0_98",hover="_hover_18zh0_144",styles$1={notifications,notification,left,info:info$1,right,type,text,arrow,isOpen,openAvatars,user,headerText,avatars,avatar:avatar$1,hover,new:"_new_18zh0_148"};function Notification(et){var ft,pt,ht,mt,bt,gt,xt,yt,vt,Pt,St;const{notif:_e}=et,[rt,nt]=reactExports.useState(!1),it=useNavigate(),st=_e.reason=="reply",[ot,at]=reactExports.useState(null),lt=Ot=>{if(Ot.preventDefault(),Ot.stopPropagation(),_e.reason=="follow")return it(`/user/${_e.datas[0].author.handle}`);if(_e.reason=="quote"||_e.reason=="mention")return it(linkFromPost(_e.datas[0]));if(_e.post||st)return it(linkFromPost(null,_e.subjectUri))},ut=Ot=>{Ot.preventDefault(),Ot.stopPropagation(),it(`/user/${_e.datas[0].author.handle}`)},ct=reactExports.useMemo(()=>{var Ot,Et,Lt,Nt;return _e.datas.length&&_e.datas.length-1>0?`${((Ot=_e.datas[0])==null?void 0:Ot.author.displayName)||((Et=_e.datas[0])==null?void 0:Et.author.handle)}${", "+_e.datas.slice(1,Math.min(3,_e.datas.length)).map($t=>$t.author.displayName||"@"+$t.author.handle).join(",")} and ${_e.datas.length>3?_e.datas.length-3:_e.datas.length-1} others`:((Lt=_e.datas[0])==null?void 0:Lt.author.displayName)||((Nt=_e.datas[0])==null?void 0:Nt.author.handle)},[_e.datas[0]]),dt=Ot=>{Ot.preventDefault(),Ot.stopPropagation(),nt(Et=>!Et)};return reactExports.useEffect(()=>{var Nt,$t,Mt,Tt;if(!(($t=(Nt=_e.post)==null?void 0:Nt.record)!=null&&$t.kiteAudio))return;let Ot=convertURIToBinary((Tt=(Mt=_e.post)==null?void 0:Mt.record)==null?void 0:Tt.kiteAudio),Et=new Blob([Ot],{type:"audio/ogg"}),Lt=URL.createObjectURL(Et);at(Lt)},[(pt=(ft=_e.post)==null?void 0:ft.record)==null?void 0:pt.kiteAudio]),jsxs("div",{className:cn(styles$1.notification,{pointer:!0,[styles$1.hover]:!0,[styles$1.new]:!((ht=_e.datas[0])!=null&&ht.isRead)}),onClick:lt,children:[jsxs("div",{className:styles$1.left,children:[jsxs("div",{className:styles$1.type,onClick:dt,children:[jsx("img",{src:{like:HeartFillIcon,repost:RepostFillIcon,follow:ProfileFillIcon,reply:ReplyFillIcon,quote:RepostIcon,mention:UserIcon}[_e.reason],alt:""}),_e.datas.length>1?jsx("span",{className:cn(styles$1.arrow,{[styles$1.isOpen]:rt}),onClick:dt,children:jsx("img",{src:ArrowDownIcon,alt:""})}):""]}),rt?jsx("div",{className:styles$1.openAvatars,children:_e.datas.map(Ot=>jsx(User$1,{className:styles$1.user,hideFollowIndicator:!0,user:Ot.author},Ot.author.did))}):jsxs("div",{className:styles$1.avatars,children:[[..._e.datas].slice(0,4).map(Ot=>jsx("div",{className:styles$1.avatar,onClick:Et=>_e.datas.length>1?dt(Et):ut(Et),children:jsx("img",{src:(Ot==null?void 0:Ot.author.avatar)||AvatarPlaceholder,alt:""})},Ot.author.did+"-closed")),_e.datas.length>4?jsx("div",{className:styles$1.avatar,onClick:dt,children:jsxs("span",{children:["+",_e.datas.length-4]})}):""]})]}),jsx("div",{className:styles$1.right}),jsxs("div",{className:styles$1.info,children:[_e.reason=="like"?jsxs("p",{className:styles$1.headerText,children:[jsx("strong",{children:ct})," liked your post"]}):"",_e.reason=="quote"?jsxs("p",{className:styles$1.headerText,children:[jsx("strong",{children:ct})," quoted your post"]}):"",_e.reason=="repost"?jsxs("p",{className:styles$1.headerText,children:[jsx("strong",{children:ct})," reposted your post"]}):"",_e.reason=="follow"?jsxs("p",{className:styles$1.headerText,children:[jsx("strong",{children:ct})," followed you"]}):"",_e.reason=="mention"?jsxs("p",{className:styles$1.headerText,children:[jsx("strong",{children:ct})," mentioned you in their post"]}):"",st?jsx(Fragment$1,{children:jsxs("p",{className:styles$1.headerText,children:[jsx("strong",{children:_e.datas[0].author.displayName||_e.datas[0].author.handle})," replied to your post"]})}):"",(bt=(mt=_e.post)==null?void 0:mt.record)!=null&&bt.text?jsx("p",{dir:"auto",className:styles$1.text,children:((xt=(gt=_e.post)==null?void 0:gt.record)==null?void 0:xt.kiteText)||((vt=(yt=_e.post)==null?void 0:yt.record)==null?void 0:vt.text)}):"",(St=(Pt=_e.post)==null?void 0:Pt.record)!=null&&St.kiteAudio&&ot?jsx(Wave,{audioUrl:ot}):"",_e.post&&_e.post.embed&&_e.reason!="quote"&&_e.reason!="mention"?jsx(Image$2,{embed:_e.post.embed}):"",_e.reason=="mention"||_e.reason=="quote"||_e.reason=="reply"?jsx(Record,{isNotif:!0,isQuote:!0,embed:_e.datas[0],post:_e.post}):""]})]})}function Notifications(et){const _e=useQueryClient(),{data:rt,isLoading:nt,isFetching:it}=useQuery(["notifications"],()=>agent$1.listNotifications({}),{refetchOnWindowFocus:!1,refetchInterval:5e3,onSuccess:async dt=>{var ht,mt,bt,gt;(mt=(ht=dt.data)==null?void 0:ht.notifications)!=null&&mt.filter(xt=>!xt.isRead).length&&ut();const ft=(bt=dt.data)==null?void 0:bt.notifications,pt=[...new Set((gt=ft==null?void 0:ft.filter(xt=>xt.reason=="mention"||xt.reason=="like"||xt.reason=="reply"||xt.reason=="repost").map(xt=>{var yt,vt;return(vt=(yt=xt==null?void 0:xt.record)==null?void 0:yt.subject)==null?void 0:vt.uri}))==null?void 0:gt.filter(xt=>xt&&typeof xt<"u"))];if(pt.length)for(let yt=0;yt<pt.length;yt+=25){const vt=pt.slice(yt,yt+25),Pt=await agent$1.api.app.bsky.feed.getPosts({uris:vt});let St=[...ft];for(let Ot=0;Ot<St.length;Ot++){const Et=St[Ot];let Lt=Pt.data.posts.findIndex(Nt=>Et.reasonSubject==Nt.uri);Lt>-1&&(St[Ot].post=Pt.data.posts[Lt])}lt(St),ot(!1)}else ot(!1),lt(ft)}}),[st,ot]=reactExports.useState(nt&&it),[at,lt]=useAtom(notificationsAtom),ut=async()=>{(await agent$1.updateSeenNotifications()).success&&_e.invalidateQueries(["notifications"])},ct=reactExports.useMemo(()=>{let dt=at.reduce((ft,pt)=>{var ht,mt;if((mt=(ht=pt.record)==null?void 0:ht.subject)!=null&&mt.uri){const bt=ft.findIndex(gt=>gt.reason==pt.reason&&gt.subjectUri==pt.record.subject.uri);if(bt>-1)return ft[bt].datas.push(pt),ft;{const gt={subjectUri:pt.record.subject.uri,reason:pt.reason,post:pt.post||pt.record,datas:[pt]};return[...ft,gt]}}else{if(pt.reason=="follow"){const bt=ft.findIndex(gt=>gt.reason=="follow");if(bt>-1)return ft[bt].datas.push(pt),ft}return[...ft,{subjectUri:pt.uri,reason:pt.reason,post:pt.post||pt.record,datas:[pt]}]}},[]);return!dt||dt.length||(dt=dt==null?void 0:dt.filter((ft,pt)=>ft.subjectUri&&dt.findIndex(ht=>ht.subjectUri&&ht.subjectUri==ft.subjectUri)==pt)),dt},[at]);return jsxs(Layout,{children:[jsx("h1",{children:"Notifications"}),st?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):jsx("div",{className:styles$1.notifications,children:ct.map(dt=>jsx(Notification,{notif:dt},dt.datas[0].cid))})]})}function Register(et){const[_e,rt]=reactExports.useState({email:"",password:"",handle:"",inviteCode:"",service:"",loading:!1,error:null}),nt=store.get("theme"),it=useNavigate(),[st,ot]=reactExports.useState(!1);return reactExports.useEffect(()=>{nt=="dark"&&document.body.classList.add("dark")},[]),jsxs("div",{className:"login-page",children:[jsx("div",{className:"d-flex w-100 justify-content-start text-left",children:jsx(BackButton,{})}),jsx("img",{src:KiteLogo,alt:"Kite | A Better BlueSky Client"}),jsx("h1",{children:"Kite"}),jsx("h2",{children:"Better BlueSky Client"}),jsxs("form",{onSubmit:async lt=>{if(lt.preventDefault(),!(!_e.email.length||!_e.password.length)){rt(ut=>({...ut,loading:!0}));try{if(_e.service.length){if(!_e.service.startsWith("https://")){rt(ct=>({...ct,error:"Service Url is not valid"}));return}agent$1.changeService(_e.service)}(await agent$1.createAccount({email:_e.email,password:_e.password,handle:_e.handle,inviteCode:_e.inviteCode})).success&&it("/")}catch(ut){console.error(ut.message),rt(ct=>({...ct,error:ut.message,loading:!1}))}}},children:[jsx("div",{className:"input-wrapper",children:jsx("input",{type:"text",placeholder:"Invite Code",value:_e.inviteCode,onChange:lt=>rt(ut=>({...ut,inviteCode:lt.target.value}))})}),_e.inviteCode.length?jsxs(Fragment$1,{children:[jsx("div",{className:"input-wrapper",children:jsx("input",{type:"text",placeholder:"Handle ( it's like username )",value:_e.handle,onChange:lt=>rt(ut=>({...ut,handle:lt.target.value}))})}),jsx("div",{className:"input-wrapper",children:jsx("input",{type:"email",placeholder:"Email address",value:_e.email,onChange:lt=>rt(ut=>({...ut,email:lt.target.value}))})}),jsx("div",{className:"input-wrapper",children:jsx("input",{type:"password",placeholder:"Password",value:_e.password,onChange:lt=>rt(ut=>({...ut,password:lt.target.value}))})}),st?jsx("div",{className:"input-wrapper",children:jsx("input",{type:"text",placeholder:"Service URL, Leave empty if you don't know what this is",value:_e.service,onChange:lt=>rt(ut=>({...ut,service:lt.target.value}))})}):jsx("strong",{style:{display:"block",marginBottom:"2rem"},className:"text-grey pointer",onClick:()=>ot(!0),children:"+ Advanced"}),jsx(Button,{text:"Create Account",className:"btn",loading:_e.loading}),_e.error?jsx("p",{className:"error text-center",children:_e.error}):""]}):""]})]})}function Settings(et){const[_e,rt]=useAtom(settingsAtom),nt=st=>{const ot=_e;rt(at=>({...at,suggested:st.target.value})),setSettingsLocalStorage({...ot,suggested:st.target.value})},it=st=>{const ot=_e;rt(at=>({...at,blacklist:st.target.value.split(",")})),setSettingsLocalStorage({...ot,blacklist:st.target.value.split(",")})};return jsxs(Layout,{className:"settings-page",children:[jsx("div",{className:"col-header",children:jsx("h1",{children:"Settings"})}),jsxs("section",{className:"section",children:[jsx("div",{className:"section-icon",children:jsx("img",{src:ProfileFillIcon,alt:""})}),jsx("h2",{children:"Suggested Follows:"}),jsxs("div",{className:"radio",children:[jsx("input",{title:"Global",type:"radio",name:"suggested-method",value:"global",onChange:nt,checked:_e.suggested=="global"}),jsx("label",{children:jsx("strong",{children:"Global"})})]}),jsxs("div",{className:"radio",children:[jsx("input",{title:"Personalized",type:"radio",name:"suggested-method",value:"personalized",onChange:nt,checked:_e.suggested=="personalized"}),jsx("label",{children:jsx("strong",{children:"Personalized"})})]})]}),jsxs("section",{className:"section",children:[jsx("div",{className:"section-icon",children:jsx("img",{src:ProfileFillIcon,alt:""})}),jsx("h2",{children:"Blacklist:"}),jsx("p",{children:"You won't see these anywhere, whether these keywords are in a post or in someones name. Separate them using comma (,) ."}),jsx("div",{className:"input-wrapper",children:jsx("textarea",{placeholder:"Seperate with , ex: abi,user",value:_e.blacklist.join(","),onChange:it})})]})]})}function SingleBlue(et){var ft;const _e=useParams(),{repo:rt,cid:nt}=_e,it=reactExports.useRef(!1);reactExports.useEffect(()=>{},[]);const st=async({uri:pt})=>{if(rt!=null&&rt.startsWith("did"))return await agent$1.getPostThread({uri:pt||`at://${rt}/app.bsky.feed.post/${nt}`});{const ht=await agent$1.resolveHandle({handle:rt});return await agent$1.getPostThread({uri:pt||`at://${ht.data.did}/app.bsky.feed.post/${nt}`})}},{data:ot,isLoading:at}=useQuery(["singlepost",nt,rt],()=>st({}),{onSuccess:pt=>{!ut.length&&!(ot!=null&&ot.data.thread.blocked)&&dt(pt.data.thread)}}),lt=(ft=ot==null?void 0:ot.data)==null?void 0:ft.thread,[ut,ct]=reactExports.useState([]),dt=reactExports.useCallback(pt=>{it.current=!0,pt.parent&&dt(pt.parent),ct(ht=>[...ht,jsx(Blue,{isParent:!0,post:pt.post},ht.length+1)])},[nt]);return jsx(Layout,{className:"single",backButton:!0,children:at?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):lt.blocked?jsx("p",{className:"p-5 d-flex align-items-center justify-content-center",children:"You've blocked this account"}):jsxs(Fragment$1,{children:[lt.parent?ut.length?ut.slice(0,ut.length-1):jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):"",jsx(Blue,{isSingle:!0,post:lt==null?void 0:lt.post},lt==null?void 0:lt.post.uri),lt==null?void 0:lt.replies.filter(blacklist).filter(pt=>!pt.blocked).map((pt,ht)=>jsx(Blue,{post:pt.post},pt.post.uri))]})},nt)}function Blocks(et){const _e=useParams(),{did:rt}=_e,{data:nt,isLoading:it,fetchNextPage:st,hasNextPage:ot}=useInfiniteQuery(["userBlocks",rt],({pageParam:dt})=>agent$1.api.com.atproto.repo.listRecords({collection:"app.bsky.graph.block",repo:rt,cursor:dt||void 0,limit:25}),{retryOnMount:!0,getNextPageParam:(dt,ft)=>{var pt;return(pt=dt==null?void 0:dt.data)!=null&&pt.cursor?dt.data.cursor:void 0},onSuccess:async dt=>{if(!dt.pages[dt.pages.length-1].data.records.map(mt=>mt.value.subject).length){lt(!1);return}const pt=await agent$1.api.app.bsky.actor.getProfiles({actors:dt.pages[dt.pages.length-1].data.records.map(mt=>mt.value.subject)});let ht=dt?[...dt==null?void 0:dt.pages[dt.pages.length-1].data.records]:[];for(let mt=0;mt<pt.data.profiles.length;mt++){const bt=pt.data.profiles[mt],gt=ht.findIndex(xt=>xt.value.subject==bt.did);gt>-1&&(ht[gt].profile=bt)}ht=ht.filter(mt=>mt.profile),lt(!1),ct([...ut,...ht])}}),[at,lt]=reactExports.useState(!0),[ut,ct]=reactExports.useState([]);return reactExports.useEffect(()=>{let dt=!1;const ft=async pt=>{const{scrollHeight:ht,scrollTop:mt,clientHeight:bt}=pt.target.scrollingElement;!dt&&ht-mt<=bt*1.2&&(dt=!0,ot&&await st(),dt=!1)};return document.addEventListener("scroll",ft),()=>{document.removeEventListener("scroll",ft)}},[st,ot]),it||at?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):jsxs(Fragment$1,{children:[jsx("div",{className:"blocks-page",children:ut.length?ut.map(dt=>jsx(User$1,{user:dt.profile})):jsx("p",{className:"text-center p-5 text-grey",children:"There are no blocked users!"})}),ot?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):""]})}const EditIcon="/assets/edit-88140560.svg";function EditProfile(et){const{user:_e,refetch:rt}=et,nt=useQueryClient(),{isOpen:it,setIsOpen:st}=et,{mutate:ot,isLoading:at}=useMutation(pt=>agent$1.upsertProfile(pt),{onSuccess:pt=>{nt.invalidateQueries([_e.did,_e.handle]),nt.invalidateQueries(["userPosts",_e.handle]),nt.invalidateQueries(["userPosts",_e.did]),nt.invalidateQueries(["profile"]),rt(),st(!1)}}),[lt,ut]=reactExports.useState({name:(_e==null?void 0:_e.displayName)||"",description:(_e==null?void 0:_e.description)||"",avatar:{file:null,preview:_e==null?void 0:_e.avatar},banner:{file:null,preview:_e==null?void 0:_e.banner}}),ct=async pt=>{pt.preventDefault(),pt.stopPropagation(),ot(async ht=>{if(ht=ht||{},ht.description=lt.description,ht.displayName=lt.name,lt.avatar.file){const mt=await agent$1.uploadBlob(new Uint8Array(await lt.avatar.file.arrayBuffer()),{encoding:lt.avatar.file.type});ht.avatar=mt.data.blob}if(lt.banner.file){const mt=await agent$1.uploadBlob(new Uint8Array(await lt.banner.file.arrayBuffer()),{encoding:lt.banner.file.type});ht.banner=mt.data.blob}return ht})},dt=pt=>{const ht=pt.target.files[0],mt=URL.createObjectURL(ht);ut(bt=>({...bt,banner:{file:ht,preview:mt}}))},ft=pt=>{const ht=pt.target.files[0],mt=URL.createObjectURL(ht);ut(bt=>({...bt,avatar:{file:ht,preview:mt}}))};return it?jsx(Portal$1,{children:jsxs("div",{className:"modal",children:[jsx("div",{className:"backdrop",onClick:()=>st(!1)}),jsx("div",{className:"content",children:jsxs("form",{onSubmit:ct,children:[jsx("h3",{children:"Edit Profile"}),jsxs("div",{className:"edit-image",children:[jsx("img",{src:lt.banner.preview,alt:""}),jsxs("span",{children:[jsx("input",{onChange:dt,type:"file"}),jsx("img",{src:EditIcon,alt:""})]})]}),jsxs("div",{className:"edit-image edit-avatar",children:[jsx("img",{src:lt.avatar.preview||AvatarPlaceholder,alt:""}),jsxs("span",{children:[jsx("input",{onChange:ft,type:"file"}),jsx("img",{src:EditIcon,alt:""})]})]}),jsxs("div",{className:"input-wrapper bordered",children:[jsx("label",{children:"Name:"}),jsx("input",{value:lt.name,onChange:pt=>ut(ht=>({...ht,name:pt.target.value})),type:"text",placeholder:"Your Name"})]}),jsxs("div",{className:"input-wrapper bordered",children:[jsx("label",{children:"Bio:"}),jsx("textarea",{value:lt.description,onChange:pt=>ut(ht=>({...ht,description:pt.target.value})),placeholder:"A short bio about you"})]}),jsx(Button,{className:"btn primary",text:"Change",loading:at,onClick:ct})]})})]})}):null}function Likes(et){const _e=useParams(),{did:rt}=_e,{data:nt,isLoading:it,fetchNextPage:st,hasNextPage:ot}=useInfiniteQuery(["userLikes",rt],({pageParam:ft})=>at(ft),{retryOnMount:!0,getNextPageParam:(ft,pt)=>{var ht;return(ht=ft==null?void 0:ft.data)!=null&&ht.cursor?ft.data.cursor:void 0},onSuccess:async ft=>{ft.pages[ft.pages.length-1].data.cursor!=(nt==null?void 0:nt.pages[nt.pages.length-1].data.cursor)?dt([...ct,...ft.pages[ft.pages.length-1].data.records]):dt([...ft.pages.map(pt=>pt.data.records).flat()]),ut(!1)}}),at=async ft=>{const pt=await agent$1.api.com.atproto.repo.listRecords({collection:"app.bsky.feed.like",repo:rt,cursor:ft||void 0,limit:25}),ht=await agent$1.api.app.bsky.feed.getPosts({uris:pt.data.records.map(bt=>bt.value.subject.uri)});let mt=pt?[...pt.data.records]:[];for(let bt=0;bt<ht.data.posts.length;bt++){const gt=ht.data.posts[bt],xt=mt.findIndex(yt=>yt.value.subject.uri==gt.uri);xt>-1&&(mt[xt].post=gt)}return mt=mt.filter(bt=>bt.post),{data:{records:mt,cursor:pt.data.cursor}}},[lt,ut]=reactExports.useState(!0),[ct,dt]=reactExports.useState((nt==null?void 0:nt.pages.map(ft=>ft.data.records).flat())||[]);return reactExports.useEffect(()=>{let ft=!1;const pt=async ht=>{const{scrollHeight:mt,scrollTop:bt,clientHeight:gt}=ht.target.scrollingElement;!ft&&mt-bt<=gt*1.2&&(ft=!0,ot&&await st(),ft=!1)};return document.addEventListener("scroll",pt),()=>{document.removeEventListener("scroll",pt)}},[st,ot]),it?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):jsxs(Fragment$1,{children:[ct.length?jsx(PostsRenderer,{isLoading:it,feed:ct}):jsx("p",{className:"text-center p-5 text-grey",children:"There are no likes!"}),ot?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):""]})}function useOnScreen(et){const[_e,rt]=reactExports.useState(!1),nt=reactExports.useMemo(()=>new IntersectionObserver(([it])=>rt(it.isIntersecting)),[et]);return reactExports.useEffect(()=>(nt.observe(et.current),()=>nt.disconnect()),[]),_e}function Image$1(et){const{cid:_e,user:rt}=et;reactExports.useState("");const nt=reactExports.useRef(null),it=useOnScreen(nt),{data:st,isLoading:ot}=useQuery(["getBlob",_e,rt.did],()=>at(),{enabled:it,refetchOnMount:!1,refetchOnWindowFocus:!1,cacheTime:1/0,staleTime:1/0}),at=async()=>{const ct=await agent$1.com.atproto.sync.getBlob({cid:_e,did:rt==null?void 0:rt.did}),dt=new Uint8Array(ct.data),ft=new Blob([dt]);return URL.createObjectURL(ft)},lt=useSetAtom(lightboxAtom);return jsx("div",{ref:nt,className:"media pointer",onClick:ct=>{ot||(ct.preventDefault(),ct.stopPropagation(),lt({images:[st],show:!0,isFleet:!1,meta:null}))},children:ot?jsx(Loading,{isColored:!0}):jsx("img",{src:st,alt:""})})}function Media(et){const{user:_e}=et,rt=useParams();useSetAtom(lightboxAtom);const{did:nt}=rt;reactExports.useState(!1);const{data:it,isLoading:st}=useQuery(["listBlobs",nt],()=>ot(),{cacheTime:1/0,staleTime:1/0,refetchOnWindowFocus:!1}),ot=async()=>(await agent$1.com.atproto.sync.listBlobs({did:_e==null?void 0:_e.did})).data.cids;return st?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):jsx(Fragment$1,{children:jsx("div",{className:"media-page",children:it!=null&&it.length?jsx("div",{className:"medias",children:it.map((at,lt)=>jsx(Image$1,{cid:at,user:_e},at))}):jsx("p",{className:"text-center p-5 text-grey",children:"There are no images!"})})})}const BlockIcon="/assets/block-2846eaf3.svg",header="_header_fxbz1_1",cover="_cover_fxbz1_10",avatar="_avatar_fxbz1_31",nameWrapper="_nameWrapper_fxbz1_53",info="_info_fxbz1_67",noCover="_noCover_fxbz1_79",followStats="_followStats_fxbz1_83",tabs="_tabs_fxbz1_102",tab="_tab_fxbz1_102",active="_active_fxbz1_117",more="_more_fxbz1_134",moreDropdown="_moreDropdown_fxbz1_157",infoRight="_infoRight_fxbz1_177",moreBackdrop="_moreBackdrop_fxbz1_183",styles={header,cover,avatar,nameWrapper,info,noCover,followStats,tabs,tab,active,more,moreDropdown,infoRight,moreBackdrop};function More(et){const{user:_e,me:rt,refetch:nt}=et,it=useQueryClient(),[st,ot]=reactExports.useState(!1),{mutate:at,isLoading:lt}=useMutation(()=>agent$1.app.bsky.graph.block.create({repo:rt.did},{subject:_e.did,createdAt:new Date().toISOString()}),{onSuccess:dt=>{it.invalidateQueries(["user",_e.did]),nt()}}),ut=dt=>{dt.preventDefault(),dt.stopPropagation(),ot(ft=>!ft)},ct=dt=>{dt.preventDefault(),dt.stopPropagation(),at()};return jsxs(Fragment$1,{children:[jsxs("div",{className:styles.more,children:[jsx("button",{title:"",type:"button",onClick:ut,children:jsx("img",{src:MoreIcon,alt:""})}),st?jsx("div",{className:styles.moreDropdown,children:jsxs("p",{className:"font-weight-bold",onClick:ct,children:[lt?jsx(Loading,{isColored:!0}):jsx("img",{src:BlockIcon,alt:""}),jsx("span",{children:"Block"})]})}):""]}),st?jsx(Portal$1,{children:jsx("div",{className:styles.moreBackdrop,onClick:()=>ot(dt=>!dt)})}):""]})}function Posts(et){var Pt;const{user:_e,hideReplies:rt,onlyReplies:nt}=et,it=useParams(),{did:st}=it,[ot,at]=reactExports.useState(!1),[lt,ut]=reactExports.useState(!1),{data:ct,isLoading:dt,hasNextPage:ft,fetchNextPage:pt}=useInfiniteQuery(["userPosts",st],({pageParam:St})=>agent$1.getAuthorFeed({actor:st,cursor:St||void 0}),{onSuccess:St=>{St.pages&&St.pages.length&&St.pages[0]&&mt(St.pages.map(Ot=>Ot==null?void 0:Ot.data.feed).flat())},getNextPageParam:(St,Ot)=>{var Et;return(Et=St==null?void 0:St.data)!=null&&Et.cursor?St.data.cursor:void 0}}),[ht,mt]=reactExports.useState((ct==null?void 0:ct.pages.map(St=>St==null?void 0:St.data.feed).flat())||[]),bt=async()=>{try{const St=await agent$1.com.atproto.repo.getRecord({collection:"app.bsky.actor.profile",repo:_e.handle,rkey:"self"});if(St.data.value.kitePinPost){const Ot=await agent$1.getPostThread({uri:St.data.value.kitePinPost});vt(Ot.data.thread)}else vt(null)}catch(St){console.error(St),n("Something went wrong")}},{data:gt,isLoading:xt}=useQuery(["pin-post",st],bt,{cacheTime:1/0}),[yt,vt]=reactExports.useState(((Pt=gt==null?void 0:gt.data)==null?void 0:Pt.thread)||null);return reactExports.useEffect(()=>{let St=!1;const Ot=async Et=>{const{scrollHeight:Lt,scrollTop:Nt,clientHeight:$t}=Et.target.scrollingElement;!St&&Lt-Nt<=$t*1.2&&(St=!0,ft&&await pt(),St=!1)};return document.addEventListener("scroll",Ot),()=>{document.removeEventListener("scroll",Ot)}},[pt,ft]),dt||xt?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):jsxs(Fragment$1,{children:[ot?jsx("p",{className:"p-5 d-flex align-items-center justify-content-center",children:"You've blocked this account"}):jsxs(Fragment$1,{children:[yt?jsx(Blue,{isPin:!0,post:yt.post}):"",jsx(PostsRenderer,{onlyReplies:nt,hideReplies:rt,isLoading:!1,feed:ht,isProfile:!0})]}),ft&&!lt?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):""]})}function Stats(et){const{user:_e}=et,[rt,nt]=reactExports.useState({show:!1,type:null}),{data:it,isLoading:st,fetchNextPage:ot,hasNextPage:at,isFetchingNextPage:lt}=useInfiniteQuery(["followers",_e.did],({pageParam:vt})=>ht(vt),{getNextPageParam:(vt,Pt)=>vt.data.cursor??void 0}),{data:ut,isLoading:ct,fetchNextPage:dt,hasNextPage:ft,isFetchingNextPage:pt}=useInfiniteQuery(["followings",_e.did],({pageParam:vt})=>mt(vt),{getNextPageParam:(vt,Pt)=>vt.data.cursor??void 0}),ht=async vt=>await agent$1.getFollowers({actor:_e.did,cursor:vt}),mt=async vt=>await agent$1.getFollows({actor:_e.did,cursor:vt}),bt=vt=>{vt.preventDefault(),vt.stopPropagation(),nt({show:!0,type:"followers"})},gt=vt=>{vt.preventDefault(),vt.stopPropagation(),nt({show:!0,type:"followings"})},xt=async()=>{if(at&&!lt)return await ot()},yt=async()=>{if(ft&&!pt)return await dt()};return jsxs(Fragment$1,{children:[jsxs("div",{className:styles.followStats,children:[jsxs("p",{className:"pointer",onClick:bt,children:[jsx("strong",{children:_e==null?void 0:_e.followersCount}),jsx("span",{children:"Followers"})]}),jsxs("p",{className:"pointer",onClick:gt,children:[jsx("strong",{children:_e==null?void 0:_e.followsCount}),jsx("span",{children:"Followings"})]}),jsxs("p",{children:[jsx("strong",{children:_e==null?void 0:_e.postsCount}),jsx("span",{children:"Posts"})]})]}),rt.show?jsx(Portal$1,{children:jsxs(Modal,{onScrollEnd:()=>rt.type=="followers"?xt():yt(),className:"follows-modal",onClose:()=>nt({show:!1,type:null}),children:[jsx("h1",{children:{followers:"Followers",followings:"Followings"}[rt.type]}),rt.type=="followings"?jsx(Fragment$1,{children:ct?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):ut==null?void 0:ut.pages.map(vt=>vt.data.follows).flat().map(vt=>jsx(User$1,{user:vt},vt.did))}):jsx(Fragment$1,{children:st?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):it==null?void 0:it.pages.map(vt=>vt.data.followers).flat().map(vt=>jsx(User$1,{user:vt},vt.did))})]})}):""]})}function User(et){var $t,Mt,Tt;const _e=useParams(),{did:rt}=_e,nt=useLocation(),[it,st]=reactExports.useState(!1),ot=nt.pathname,at=ot.split("/")[ot.split("/").length-1],[lt,ut]=useAtom(userAtom),[ct,dt]=useAtom(lightboxAtom),{data:ft,isLoading:pt,refetch:ht}=useQuery(["user",rt],()=>agent$1.getProfile({actor:rt}),{onSuccess:Rt=>{bt(Rt.data),rt==(lt==null?void 0:lt.did)&&ut(Rt.data)},onError:Rt=>{console.error(Rt)}}),[mt,bt]=reactExports.useState((ft==null?void 0:ft.data)||null);reactExports.useState();const{mutate:gt,isLoading:xt}=useMutation(()=>agent$1.follow(mt==null?void 0:mt.did),{onSuccess:Rt=>{bt(kt=>({...kt,viewer:{...kt==null?void 0:kt.viewer,following:Rt.uri}}))}}),{mutate:yt,isLoading:vt}=useMutation(()=>{var Rt;return agent$1.deleteFollow((Rt=mt==null?void 0:mt.viewer)==null?void 0:Rt.following)},{onSuccess:Rt=>{bt(kt=>({...kt,viewer:{...kt==null?void 0:kt.viewer,following:!1}}))}}),{mutate:Pt,isLoading:St}=useMutation(()=>{const Rt=lt==null?void 0:lt.did,kt=mt.viewer.blocking.split("/"),Dt=kt[kt.length-1];return agent$1.api.com.atproto.repo.deleteRecord({collection:"app.bsky.graph.block",repo:Rt,rkey:Dt})},{onSuccess:Rt=>{ht()}}),Ot=Rt=>{Rt.preventDefault(),gt(mt==null?void 0:mt.did)},Et=Rt=>{Rt.preventDefault(),yt(mt==null?void 0:mt.did)};reactExports.useEffect(()=>()=>{bt(null)},[]);const Lt=Rt=>{Rt.preventDefault(),Rt.stopPropagation(),Pt()},Nt=reactExports.useMemo(()=>{const Rt=new Date(mt==null?void 0:mt.indexedAt).toDateString().split(" ");return`${Rt[2]} ${Rt[1]} ${Rt[3]}`},[mt]);return jsxs(React.Fragment,{children:[jsxs(Layout,{children:[jsx("div",{className:"back-button-wrapper",children:jsx(BackButton,{})}),pt||!mt?jsx("div",{className:"d-flex align-items-center justify-content-center p-5",children:jsx(Loading,{isColored:!0})}):jsxs(Fragment$1,{children:[jsxs("div",{className:styles.header,children:[mt.banner?jsx("div",{className:styles.cover,onClick:()=>dt(()=>({show:!0,images:[mt.banner]})),children:jsx("img",{src:mt==null?void 0:mt.banner})}):"",jsxs("div",{className:cn(styles.info,{[styles.noCover]:!(mt!=null&&mt.banner)}),children:[jsx("div",{className:styles.avatar,onClick:()=>dt(()=>({show:!0,images:[mt==null?void 0:mt.avatar]})),children:jsx("img",{src:(mt==null?void 0:mt.avatar)||AvatarPlaceholder,alt:mt==null?void 0:mt.displayName})}),mt.did==(lt==null?void 0:lt.did)?jsx("div",{className:styles.infoRight,children:jsx(Button,{className:"btn",text:"Edit Profile",onClick:()=>st(!0)})}):jsxs("div",{className:styles.infoRight,children:[mt.viewer.blocking?jsx(Button,{className:"btn",text:"Unblock",loading:St,loadingColored:!0,onClick:Lt}):($t=mt==null?void 0:mt.viewer)!=null&&$t.following?jsx(Button,{className:"btn",text:"Unfollow",loading:vt,loadingColored:!0,onClick:Et}):jsx(Button,{className:"btn primary",text:"Follow",loading:xt,onClick:Ot}),mt.viewer.blocking?"":jsx(More,{refetch:ht,user:mt,me:lt})]})]}),jsxs("div",{children:[jsxs("div",{className:cn("d-flex align-items-center",styles.nameWrapper),children:[jsx("h1",{children:mt==null?void 0:mt.displayName}),(Mt=mt==null?void 0:mt.viewer)!=null&&Mt.followedBy?jsx("span",{className:"tag",children:"Follows You"}):""]}),jsxs("span",{className:"text-grey",children:["@",mt==null?void 0:mt.handle]}),jsx("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},children:[...(Tt=renderMarkdown(mt==null?void 0:mt.description))==null?void 0:Tt.map((Rt,kt)=>jsx(React.Fragment,{children:Rt},kt))]}),jsxs("p",{className:"text-grey",children:["Joined at ",Nt]}),jsx(Stats,{user:mt})]})]}),mt.viewer.blocking?jsx("p",{className:"d-flex align-items-center justify-content-center p-5",children:"You've blocked this account"}):jsxs(Fragment$1,{children:[jsxs("div",{className:styles.tabs,children:[jsx(Link$1,{to:`/user/${rt}/posts`,title:"",target:"_self",className:cn(styles.tab,{[styles.active]:at=="posts"||at==rt}),children:"Posts"}),jsx(Link$1,{to:`/user/${rt}/replies`,title:"",target:"_self",className:cn(styles.tab,{[styles.active]:at=="replies"}),children:"Replies"}),jsx(Link$1,{to:`/user/${rt}/likes`,title:"",target:"_self",className:cn(styles.tab,{[styles.active]:at=="likes"}),children:"Likes"}),jsx(Link$1,{to:`/user/${rt}/blocks`,title:"",target:"_self",className:cn(styles.tab,{[styles.active]:at=="blocks"}),children:"Blocks"}),jsx(Link$1,{to:`/user/${rt}/media`,title:"",target:"_self",className:cn(styles.tab,{[styles.active]:at=="media"}),children:"Media"})]}),jsx("div",{className:styles.posts,children:{posts:jsx(Posts,{hideReplies:!0,user:mt},`posts-${mt.did}`),replies:jsx(Posts,{onlyReplies:!0,user:mt},`replies-${mt.did}`),likes:jsx(Likes,{}),media:jsx(Media,{user:mt}),blocks:jsx(Blocks,{}),[rt]:jsx(Posts,{hideReplies:!0,user:mt},`posts-${mt.did}`)}[at]})]})]})]}),ct.show?jsx(Portal$1,{children:jsx(Lightbox,{})}):"",it?jsx(EditProfile,{refetch:ht,user:mt,isOpen:it,setIsOpen:st}):""]},mt==null?void 0:mt.did)}function Auth(et){const _e=useParams(),{children:rt}=et;return!!localStorage.getItem(SESSION_LOCAL_STORAGE_KEY)?jsx(React.Fragment,{children:rt},Object.keys(_e).length?_e[Object.keys(_e)[0]]:void 0):jsx(Navigate,{to:"/login"})}const Routes=[{path:"/login",element:jsx(Login,{})},{path:"/register",element:jsx(Register,{})},{},{path:"/",element:jsx(Auth,{children:jsx(Feed,{})})},{path:"/blue/:repo/:cid",element:jsx(Auth,{children:jsx(SingleBlue,{})})},{path:"/user/:did",element:jsx(Auth,{children:jsx(User,{})})},{},{path:"/user/:did/posts",element:jsx(Auth,{children:jsx(User,{})})},{},{path:"/user/:did/replies",element:jsx(Auth,{children:jsx(User,{})})},{},{path:"/user/:did/likes",element:jsx(Auth,{children:jsx(User,{})})},{},{path:"/user/:did/media",element:jsx(Auth,{children:jsx(User,{})})},{},{path:"/user/:did/blocks",element:jsx(Auth,{children:jsx(User,{})})},{path:"/notifications",element:jsx(Auth,{children:jsx(Notifications,{})})},{},{path:"/settings",element:jsx(Auth,{children:jsx(Settings,{})})},{path:"/logout",element:jsx(Logout,{})}];var lib={},Graphemer$1={},boundaries={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.EXTENDED_PICTOGRAPHIC=et.CLUSTER_BREAK=void 0,function(_e){_e[_e.CR=0]="CR",_e[_e.LF=1]="LF",_e[_e.CONTROL=2]="CONTROL",_e[_e.EXTEND=3]="EXTEND",_e[_e.REGIONAL_INDICATOR=4]="REGIONAL_INDICATOR",_e[_e.SPACINGMARK=5]="SPACINGMARK",_e[_e.L=6]="L",_e[_e.V=7]="V",_e[_e.T=8]="T",_e[_e.LV=9]="LV",_e[_e.LVT=10]="LVT",_e[_e.OTHER=11]="OTHER",_e[_e.PREPEND=12]="PREPEND",_e[_e.E_BASE=13]="E_BASE",_e[_e.E_MODIFIER=14]="E_MODIFIER",_e[_e.ZWJ=15]="ZWJ",_e[_e.GLUE_AFTER_ZWJ=16]="GLUE_AFTER_ZWJ",_e[_e.E_BASE_GAZ=17]="E_BASE_GAZ"}(et.CLUSTER_BREAK||(et.CLUSTER_BREAK={})),et.EXTENDED_PICTOGRAPHIC=101})(boundaries);var GraphemerHelper$1={};Object.defineProperty(GraphemerHelper$1,"__esModule",{value:!0});const boundaries_1$1=boundaries,NotBreak=0,BreakStart=1,Break=2,BreakLastRegional=3,BreakPenultimateRegional=4;class GraphemerHelper{static isSurrogate(_e,rt){return 55296<=_e.charCodeAt(rt)&&_e.charCodeAt(rt)<=56319&&56320<=_e.charCodeAt(rt+1)&&_e.charCodeAt(rt+1)<=57343}static codePointAt(_e,rt){rt===void 0&&(rt=0);const nt=_e.charCodeAt(rt);if(55296<=nt&&nt<=56319&&rt<_e.length-1){const it=nt,st=_e.charCodeAt(rt+1);return 56320<=st&&st<=57343?(it-55296)*1024+(st-56320)+65536:it}if(56320<=nt&&nt<=57343&&rt>=1){const it=_e.charCodeAt(rt-1),st=nt;return 55296<=it&&it<=56319?(it-55296)*1024+(st-56320)+65536:st}return nt}static shouldBreak(_e,rt,nt,it,st,ot){const at=[_e].concat(rt).concat([nt]),lt=[it].concat(st).concat([ot]),ut=at[at.length-2],ct=nt,dt=ot,ft=at.lastIndexOf(boundaries_1$1.CLUSTER_BREAK.REGIONAL_INDICATOR);if(ft>0&&at.slice(1,ft).every(function(ht){return ht===boundaries_1$1.CLUSTER_BREAK.REGIONAL_INDICATOR})&&[boundaries_1$1.CLUSTER_BREAK.PREPEND,boundaries_1$1.CLUSTER_BREAK.REGIONAL_INDICATOR].indexOf(ut)===-1)return at.filter(function(ht){return ht===boundaries_1$1.CLUSTER_BREAK.REGIONAL_INDICATOR}).length%2===1?BreakLastRegional:BreakPenultimateRegional;if(ut===boundaries_1$1.CLUSTER_BREAK.CR&&ct===boundaries_1$1.CLUSTER_BREAK.LF)return NotBreak;if(ut===boundaries_1$1.CLUSTER_BREAK.CONTROL||ut===boundaries_1$1.CLUSTER_BREAK.CR||ut===boundaries_1$1.CLUSTER_BREAK.LF)return BreakStart;if(ct===boundaries_1$1.CLUSTER_BREAK.CONTROL||ct===boundaries_1$1.CLUSTER_BREAK.CR||ct===boundaries_1$1.CLUSTER_BREAK.LF)return BreakStart;if(ut===boundaries_1$1.CLUSTER_BREAK.L&&(ct===boundaries_1$1.CLUSTER_BREAK.L||ct===boundaries_1$1.CLUSTER_BREAK.V||ct===boundaries_1$1.CLUSTER_BREAK.LV||ct===boundaries_1$1.CLUSTER_BREAK.LVT))return NotBreak;if((ut===boundaries_1$1.CLUSTER_BREAK.LV||ut===boundaries_1$1.CLUSTER_BREAK.V)&&(ct===boundaries_1$1.CLUSTER_BREAK.V||ct===boundaries_1$1.CLUSTER_BREAK.T))return NotBreak;if((ut===boundaries_1$1.CLUSTER_BREAK.LVT||ut===boundaries_1$1.CLUSTER_BREAK.T)&&ct===boundaries_1$1.CLUSTER_BREAK.T)return NotBreak;if(ct===boundaries_1$1.CLUSTER_BREAK.EXTEND||ct===boundaries_1$1.CLUSTER_BREAK.ZWJ)return NotBreak;if(ct===boundaries_1$1.CLUSTER_BREAK.SPACINGMARK)return NotBreak;if(ut===boundaries_1$1.CLUSTER_BREAK.PREPEND)return NotBreak;const pt=lt.slice(0,-1).lastIndexOf(boundaries_1$1.EXTENDED_PICTOGRAPHIC);return pt!==-1&&lt[pt]===boundaries_1$1.EXTENDED_PICTOGRAPHIC&&at.slice(pt+1,-2).every(function(ht){return ht===boundaries_1$1.CLUSTER_BREAK.EXTEND})&&ut===boundaries_1$1.CLUSTER_BREAK.ZWJ&&dt===boundaries_1$1.EXTENDED_PICTOGRAPHIC?NotBreak:rt.indexOf(boundaries_1$1.CLUSTER_BREAK.REGIONAL_INDICATOR)!==-1?Break:ut===boundaries_1$1.CLUSTER_BREAK.REGIONAL_INDICATOR&&ct===boundaries_1$1.CLUSTER_BREAK.REGIONAL_INDICATOR?NotBreak:BreakStart}}GraphemerHelper$1.default=GraphemerHelper;var GraphemerIterator$1={};Object.defineProperty(GraphemerIterator$1,"__esModule",{value:!0});class GraphemerIterator{constructor(_e,rt){this._index=0,this._str=_e,this._nextBreak=rt}[Symbol.iterator](){return this}next(){let _e;if((_e=this._nextBreak(this._str,this._index))<this._str.length){const rt=this._str.slice(this._index,_e);return this._index=_e,{value:rt,done:!1}}if(this._index<this._str.length){const rt=this._str.slice(this._index);return this._index=this._str.length,{value:rt,done:!1}}return{value:void 0,done:!0}}}GraphemerIterator$1.default=GraphemerIterator;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(Graphemer$1,"__esModule",{value:!0});const boundaries_1=boundaries,GraphemerHelper_1=__importDefault$1(GraphemerHelper$1),GraphemerIterator_1=__importDefault$1(GraphemerIterator$1);class Graphemer{static nextBreak(_e,rt){if(rt===void 0&&(rt=0),rt<0)return 0;if(rt>=_e.length-1)return _e.length;const nt=GraphemerHelper_1.default.codePointAt(_e,rt),it=Graphemer.getGraphemeBreakProperty(nt),st=Graphemer.getEmojiProperty(nt),ot=[],at=[];for(let lt=rt+1;lt<_e.length;lt++){if(GraphemerHelper_1.default.isSurrogate(_e,lt-1))continue;const ut=GraphemerHelper_1.default.codePointAt(_e,lt),ct=Graphemer.getGraphemeBreakProperty(ut),dt=Graphemer.getEmojiProperty(ut);if(GraphemerHelper_1.default.shouldBreak(it,ot,ct,st,at,dt))return lt;ot.push(ct),at.push(dt)}return _e.length}splitGraphemes(_e){const rt=[];let nt=0,it;for(;(it=Graphemer.nextBreak(_e,nt))<_e.length;)rt.push(_e.slice(nt,it)),nt=it;return nt<_e.length&&rt.push(_e.slice(nt)),rt}iterateGraphemes(_e){return new GraphemerIterator_1.default(_e,Graphemer.nextBreak)}countGraphemes(_e){let rt=0,nt=0,it;for(;(it=Graphemer.nextBreak(_e,nt))<_e.length;)nt=it,rt++;return nt<_e.length&&rt++,rt}static getGraphemeBreakProperty(_e){if(_e<48905){if(_e<44116){if(_e<4141){if(_e<2818){if(_e<2363)if(_e<1759){if(_e<1471){if(_e<127){if(_e<11){if(_e<10){if(0<=_e&&_e<=9)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e===10)return boundaries_1.CLUSTER_BREAK.LF}else if(_e<13){if(11<=_e&&_e<=12)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<14){if(_e===13)return boundaries_1.CLUSTER_BREAK.CR}else if(14<=_e&&_e<=31)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<768){if(_e<173){if(127<=_e&&_e<=159)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e===173)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<1155){if(768<=_e&&_e<=879)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<1425){if(1155<=_e&&_e<=1161)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(1425<=_e&&_e<=1469)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<1552){if(_e<1476){if(_e<1473){if(_e===1471)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(1473<=_e&&_e<=1474)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<1479){if(1476<=_e&&_e<=1477)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<1536){if(_e===1479)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(1536<=_e&&_e<=1541)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(_e<1648){if(_e<1564){if(1552<=_e&&_e<=1562)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<1611){if(_e===1564)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(1611<=_e&&_e<=1631)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<1750){if(_e===1648)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<1757){if(1750<=_e&&_e<=1756)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===1757)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(_e<2075){if(_e<1840)if(_e<1770){if(_e<1767){if(1759<=_e&&_e<=1764)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(1767<=_e&&_e<=1768)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<1807){if(1770<=_e&&_e<=1773)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===1807)return boundaries_1.CLUSTER_BREAK.PREPEND;if(_e===1809)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2027){if(_e<1958){if(1840<=_e&&_e<=1866)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(1958<=_e&&_e<=1968)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2045){if(2027<=_e&&_e<=2035)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2070){if(_e===2045)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(2070<=_e&&_e<=2073)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2200){if(_e<2089){if(_e<2085){if(2075<=_e&&_e<=2083)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(2085<=_e&&_e<=2087)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2137){if(2089<=_e&&_e<=2093)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2192){if(2137<=_e&&_e<=2139)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(2192<=_e&&_e<=2193)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(_e<2275){if(_e<2250){if(2200<=_e&&_e<=2207)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2274){if(2250<=_e&&_e<=2273)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===2274)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(_e<2307){if(2275<=_e&&_e<=2306)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===2307)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===2362)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2561){if(_e<2434){if(_e<2381){if(_e<2366){if(_e===2363)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===2364)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2369){if(2366<=_e&&_e<=2368)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<2377){if(2369<=_e&&_e<=2376)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(2377<=_e&&_e<=2380)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<2385){if(_e<2382){if(_e===2381)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(2382<=_e&&_e<=2383)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<2402){if(2385<=_e&&_e<=2391)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2433){if(2402<=_e&&_e<=2403)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===2433)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2503){if(_e<2494){if(_e<2492){if(2434<=_e&&_e<=2435)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===2492)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2495){if(_e===2494)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2497){if(2495<=_e&&_e<=2496)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(2497<=_e&&_e<=2500)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2519){if(_e<2507){if(2503<=_e&&_e<=2504)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<2509){if(2507<=_e&&_e<=2508)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===2509)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2530){if(_e===2519)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2558){if(2530<=_e&&_e<=2531)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===2558)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2691){if(_e<2631){if(_e<2620){if(_e<2563){if(2561<=_e&&_e<=2562)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===2563)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<2622){if(_e===2620)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2625){if(2622<=_e&&_e<=2624)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(2625<=_e&&_e<=2626)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2672){if(_e<2635){if(2631<=_e&&_e<=2632)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2641){if(2635<=_e&&_e<=2637)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===2641)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2677){if(2672<=_e&&_e<=2673)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2689){if(_e===2677)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(2689<=_e&&_e<=2690)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2761){if(_e<2750){if(_e===2691)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===2748)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2753){if(2750<=_e&&_e<=2752)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<2759){if(2753<=_e&&_e<=2757)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(2759<=_e&&_e<=2760)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2786){if(_e<2763){if(_e===2761)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<2765){if(2763<=_e&&_e<=2764)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===2765)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2810){if(2786<=_e&&_e<=2787)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2817){if(2810<=_e&&_e<=2815)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===2817)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3315){if(_e<3076){if(_e<2946){if(_e<2887){if(_e<2878){if(_e<2876){if(2818<=_e&&_e<=2819)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===2876)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2880){if(2878<=_e&&_e<=2879)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2881){if(_e===2880)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(2881<=_e&&_e<=2884)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2893){if(_e<2891){if(2887<=_e&&_e<=2888)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(2891<=_e&&_e<=2892)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<2901){if(_e===2893)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<2914){if(2901<=_e&&_e<=2903)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(2914<=_e&&_e<=2915)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3014){if(_e<3007){if(_e===2946||_e===3006)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3008){if(_e===3007)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3009){if(_e===3008)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3009<=_e&&_e<=3010)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3031){if(_e<3018){if(3014<=_e&&_e<=3016)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3021){if(3018<=_e&&_e<=3020)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===3021)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3072){if(_e===3031)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3073){if(_e===3072)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3073<=_e&&_e<=3075)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3262){if(_e<3146){if(_e<3134){if(_e===3076||_e===3132)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3137){if(3134<=_e&&_e<=3136)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3142){if(3137<=_e&&_e<=3140)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(3142<=_e&&_e<=3144)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3201){if(_e<3157){if(3146<=_e&&_e<=3149)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3170){if(3157<=_e&&_e<=3158)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3170<=_e&&_e<=3171)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3202){if(_e===3201)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3260){if(3202<=_e&&_e<=3203)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===3260)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3270){if(_e<3264){if(_e===3262)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===3263)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3266){if(3264<=_e&&_e<=3265)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3267){if(_e===3266)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3267<=_e&&_e<=3268)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3276){if(_e<3271){if(_e===3270)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3274){if(3271<=_e&&_e<=3272)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(3274<=_e&&_e<=3275)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3285){if(3276<=_e&&_e<=3277)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3298){if(3285<=_e&&_e<=3286)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3298<=_e&&_e<=3299)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3551){if(_e<3406){if(_e<3391){if(_e<3330){if(_e<3328){if(_e===3315)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(3328<=_e&&_e<=3329)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3387){if(3330<=_e&&_e<=3331)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3390){if(3387<=_e&&_e<=3388)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===3390)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3398){if(_e<3393){if(3391<=_e&&_e<=3392)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(3393<=_e&&_e<=3396)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3402){if(3398<=_e&&_e<=3400)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3405){if(3402<=_e&&_e<=3404)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===3405)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3530){if(_e<3426){if(_e===3406)return boundaries_1.CLUSTER_BREAK.PREPEND;if(_e===3415)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3457){if(3426<=_e&&_e<=3427)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3458){if(_e===3457)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3458<=_e&&_e<=3459)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3538){if(_e<3535){if(_e===3530)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3536){if(_e===3535)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3536<=_e&&_e<=3537)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3542){if(3538<=_e&&_e<=3540)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3544){if(_e===3542)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3544<=_e&&_e<=3550)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3893){if(_e<3655){if(_e<3633){if(_e<3570){if(_e===3551)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3570<=_e&&_e<=3571)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3635){if(_e===3633)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3636){if(_e===3635)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(3636<=_e&&_e<=3642)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3764)if(_e<3761){if(3655<=_e&&_e<=3662)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===3761)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===3763)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3784){if(3764<=_e&&_e<=3772)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3864){if(3784<=_e&&_e<=3790)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3864<=_e&&_e<=3865)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3967){if(_e<3897){if(_e===3893||_e===3895)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3902){if(_e===3897)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3953){if(3902<=_e&&_e<=3903)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(3953<=_e&&_e<=3966)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3981){if(_e<3968){if(_e===3967)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<3974){if(3968<=_e&&_e<=3972)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(3974<=_e&&_e<=3975)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<3993){if(3981<=_e&&_e<=3991)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<4038){if(3993<=_e&&_e<=4028)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===4038)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<7204){if(_e<6448){if(_e<5938){if(_e<4226){if(_e<4157){if(_e<4146){if(_e<4145){if(4141<=_e&&_e<=4144)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===4145)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<4153){if(4146<=_e&&_e<=4151)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<4155){if(4153<=_e&&_e<=4154)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(4155<=_e&&_e<=4156)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<4184){if(_e<4182){if(4157<=_e&&_e<=4158)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(4182<=_e&&_e<=4183)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<4190){if(4184<=_e&&_e<=4185)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<4209){if(4190<=_e&&_e<=4192)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(4209<=_e&&_e<=4212)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<4352){if(_e<4229){if(_e===4226)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===4228)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<4237){if(4229<=_e&&_e<=4230)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===4237||_e===4253)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<4957){if(_e<4448){if(4352<=_e&&_e<=4447)return boundaries_1.CLUSTER_BREAK.L}else if(_e<4520){if(4448<=_e&&_e<=4519)return boundaries_1.CLUSTER_BREAK.V}else if(4520<=_e&&_e<=4607)return boundaries_1.CLUSTER_BREAK.T}else if(_e<5906){if(4957<=_e&&_e<=4959)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<5909){if(5906<=_e&&_e<=5908)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===5909)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6089){if(_e<6070){if(_e<5970){if(_e<5940){if(5938<=_e&&_e<=5939)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===5940)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6002){if(5970<=_e&&_e<=5971)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6068){if(6002<=_e&&_e<=6003)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(6068<=_e&&_e<=6069)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6078){if(_e<6071){if(_e===6070)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(6071<=_e&&_e<=6077)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6086){if(6078<=_e&&_e<=6085)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6087){if(_e===6086)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(6087<=_e&&_e<=6088)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6277)if(_e<6155){if(_e<6109){if(6089<=_e&&_e<=6099)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===6109)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6158){if(6155<=_e&&_e<=6157)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===6158)return boundaries_1.CLUSTER_BREAK.CONTROL;if(_e===6159)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6435){if(_e<6313){if(6277<=_e&&_e<=6278)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6432){if(_e===6313)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(6432<=_e&&_e<=6434)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6439){if(6435<=_e&&_e<=6438)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6441){if(6439<=_e&&_e<=6440)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(6441<=_e&&_e<=6443)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6971){if(_e<6744)if(_e<6681){if(_e<6451){if(_e<6450){if(6448<=_e&&_e<=6449)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===6450)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6457){if(6451<=_e&&_e<=6456)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6679){if(6457<=_e&&_e<=6459)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(6679<=_e&&_e<=6680)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6741){if(_e<6683){if(6681<=_e&&_e<=6682)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===6683)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6742){if(_e===6741)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else{if(_e===6742)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===6743)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6771){if(_e<6754){if(_e<6752){if(6744<=_e&&_e<=6750)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===6752)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6757){if(_e===6754)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6765){if(6757<=_e&&_e<=6764)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(6765<=_e&&_e<=6770)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6912){if(_e<6783){if(6771<=_e&&_e<=6780)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6832){if(_e===6783)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(6832<=_e&&_e<=6862)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6916){if(6912<=_e&&_e<=6915)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6964){if(_e===6916)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(6964<=_e&&_e<=6970)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<7080){if(_e<7019){if(_e<6973){if(_e===6971)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===6972)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<6978){if(6973<=_e&&_e<=6977)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<6979){if(_e===6978)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(6979<=_e&&_e<=6980)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7073){if(_e<7040){if(7019<=_e&&_e<=7027)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<7042){if(7040<=_e&&_e<=7041)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===7042)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7074){if(_e===7073)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7078){if(7074<=_e&&_e<=7077)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(7078<=_e&&_e<=7079)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7144)if(_e<7083){if(_e<7082){if(7080<=_e&&_e<=7081)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===7082)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7142){if(7083<=_e&&_e<=7085)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===7142)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===7143)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7150){if(_e<7146){if(7144<=_e&&_e<=7145)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<7149){if(7146<=_e&&_e<=7148)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===7149)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<7151){if(_e===7150)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7154){if(7151<=_e&&_e<=7153)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(7154<=_e&&_e<=7155)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43346){if(_e<11647){if(_e<7415){if(_e<7380){if(_e<7220){if(_e<7212){if(7204<=_e&&_e<=7211)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(7212<=_e&&_e<=7219)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<7222){if(7220<=_e&&_e<=7221)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7376){if(7222<=_e&&_e<=7223)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(7376<=_e&&_e<=7378)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<7394){if(_e<7393){if(7380<=_e&&_e<=7392)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===7393)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<7405){if(7394<=_e&&_e<=7400)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===7405||_e===7412)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<8205)if(_e<7616){if(_e<7416){if(_e===7415)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(7416<=_e&&_e<=7417)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<8203){if(7616<=_e&&_e<=7679)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===8203)return boundaries_1.CLUSTER_BREAK.CONTROL;if(_e===8204)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<8288){if(_e<8206){if(_e===8205)return boundaries_1.CLUSTER_BREAK.ZWJ}else if(_e<8232){if(8206<=_e&&_e<=8207)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(8232<=_e&&_e<=8238)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<8400){if(8288<=_e&&_e<=8303)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<11503){if(8400<=_e&&_e<=8432)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(11503<=_e&&_e<=11505)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43043){if(_e<42612){if(_e<12330){if(_e<11744){if(_e===11647)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(11744<=_e&&_e<=11775)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<12441){if(12330<=_e&&_e<=12335)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<42607){if(12441<=_e&&_e<=12442)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(42607<=_e&&_e<=42610)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43010){if(_e<42654){if(42612<=_e&&_e<=42621)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<42736){if(42654<=_e&&_e<=42655)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(42736<=_e&&_e<=42737)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43014){if(_e===43010)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===43014||_e===43019)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43188){if(_e<43047){if(_e<43045){if(43043<=_e&&_e<=43044)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(43045<=_e&&_e<=43046)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43052){if(_e===43047)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43136){if(_e===43052)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(43136<=_e&&_e<=43137)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43263){if(_e<43204){if(43188<=_e&&_e<=43203)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43232){if(43204<=_e&&_e<=43205)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(43232<=_e&&_e<=43249)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43302){if(_e===43263)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43335){if(43302<=_e&&_e<=43309)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(43335<=_e&&_e<=43345)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43698){if(_e<43493){if(_e<43444)if(_e<43392){if(_e<43360){if(43346<=_e&&_e<=43347)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(43360<=_e&&_e<=43388)return boundaries_1.CLUSTER_BREAK.L}else if(_e<43395){if(43392<=_e&&_e<=43394)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===43395)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===43443)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43450){if(_e<43446){if(43444<=_e&&_e<=43445)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(43446<=_e&&_e<=43449)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43452){if(43450<=_e&&_e<=43451)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43454){if(43452<=_e&&_e<=43453)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(43454<=_e&&_e<=43456)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43573){if(_e<43567){if(_e<43561){if(_e===43493)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(43561<=_e&&_e<=43566)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43569){if(43567<=_e&&_e<=43568)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43571){if(43569<=_e&&_e<=43570)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(43571<=_e&&_e<=43572)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43597){if(_e<43587){if(43573<=_e&&_e<=43574)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===43587||_e===43596)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43644){if(_e===43597)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===43644||_e===43696)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<44006){if(_e<43756)if(_e<43710){if(_e<43703){if(43698<=_e&&_e<=43700)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(43703<=_e&&_e<=43704)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43713){if(43710<=_e&&_e<=43711)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===43713)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===43755)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<43766){if(_e<43758){if(43756<=_e&&_e<=43757)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<43765){if(43758<=_e&&_e<=43759)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===43765)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<44003){if(_e===43766)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<44005){if(44003<=_e&&_e<=44004)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===44005)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<44032)if(_e<44009){if(_e<44008){if(44006<=_e&&_e<=44007)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===44008)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<44012){if(44009<=_e&&_e<=44010)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else{if(_e===44012)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===44013)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<44061){if(_e<44033){if(_e===44032)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44060){if(44033<=_e&&_e<=44059)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44060)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44088){if(44061<=_e&&_e<=44087)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44089){if(_e===44088)return boundaries_1.CLUSTER_BREAK.LV}else if(44089<=_e&&_e<=44115)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46497){if(_e<45293){if(_e<44704){if(_e<44397){if(_e<44256){if(_e<44173){if(_e<44144){if(_e<44117){if(_e===44116)return boundaries_1.CLUSTER_BREAK.LV}else if(44117<=_e&&_e<=44143)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44145){if(_e===44144)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44172){if(44145<=_e&&_e<=44171)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44172)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44201){if(_e<44200){if(44173<=_e&&_e<=44199)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44200)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44228){if(44201<=_e&&_e<=44227)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44229){if(_e===44228)return boundaries_1.CLUSTER_BREAK.LV}else if(44229<=_e&&_e<=44255)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44313){if(_e<44284){if(_e<44257){if(_e===44256)return boundaries_1.CLUSTER_BREAK.LV}else if(44257<=_e&&_e<=44283)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44285){if(_e===44284)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44312){if(44285<=_e&&_e<=44311)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44312)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44368){if(_e<44340){if(44313<=_e&&_e<=44339)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44341){if(_e===44340)return boundaries_1.CLUSTER_BREAK.LV}else if(44341<=_e&&_e<=44367)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44369){if(_e===44368)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44396){if(44369<=_e&&_e<=44395)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44396)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44537){if(_e<44480){if(_e<44425){if(_e<44424){if(44397<=_e&&_e<=44423)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44424)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44452){if(44425<=_e&&_e<=44451)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44453){if(_e===44452)return boundaries_1.CLUSTER_BREAK.LV}else if(44453<=_e&&_e<=44479)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44508){if(_e<44481){if(_e===44480)return boundaries_1.CLUSTER_BREAK.LV}else if(44481<=_e&&_e<=44507)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44509){if(_e===44508)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44536){if(44509<=_e&&_e<=44535)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44536)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44620){if(_e<44565){if(_e<44564){if(44537<=_e&&_e<=44563)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44564)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44592){if(44565<=_e&&_e<=44591)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44593){if(_e===44592)return boundaries_1.CLUSTER_BREAK.LV}else if(44593<=_e&&_e<=44619)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44649){if(_e<44621){if(_e===44620)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44648){if(44621<=_e&&_e<=44647)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44648)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44676){if(44649<=_e&&_e<=44675)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44677){if(_e===44676)return boundaries_1.CLUSTER_BREAK.LV}else if(44677<=_e&&_e<=44703)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44985){if(_e<44844){if(_e<44761){if(_e<44732){if(_e<44705){if(_e===44704)return boundaries_1.CLUSTER_BREAK.LV}else if(44705<=_e&&_e<=44731)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44733){if(_e===44732)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44760){if(44733<=_e&&_e<=44759)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44760)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44789){if(_e<44788){if(44761<=_e&&_e<=44787)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44788)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44816){if(44789<=_e&&_e<=44815)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44817){if(_e===44816)return boundaries_1.CLUSTER_BREAK.LV}else if(44817<=_e&&_e<=44843)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44901){if(_e<44872){if(_e<44845){if(_e===44844)return boundaries_1.CLUSTER_BREAK.LV}else if(44845<=_e&&_e<=44871)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44873){if(_e===44872)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44900){if(44873<=_e&&_e<=44899)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44900)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44956){if(_e<44928){if(44901<=_e&&_e<=44927)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44929){if(_e===44928)return boundaries_1.CLUSTER_BREAK.LV}else if(44929<=_e&&_e<=44955)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<44957){if(_e===44956)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<44984){if(44957<=_e&&_e<=44983)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===44984)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45152){if(_e<45068){if(_e<45013){if(_e<45012){if(44985<=_e&&_e<=45011)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45012)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45040){if(45013<=_e&&_e<=45039)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45041){if(_e===45040)return boundaries_1.CLUSTER_BREAK.LV}else if(45041<=_e&&_e<=45067)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45097){if(_e<45069){if(_e===45068)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45096){if(45069<=_e&&_e<=45095)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45096)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45124){if(45097<=_e&&_e<=45123)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45125){if(_e===45124)return boundaries_1.CLUSTER_BREAK.LV}else if(45125<=_e&&_e<=45151)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45209){if(_e<45180){if(_e<45153){if(_e===45152)return boundaries_1.CLUSTER_BREAK.LV}else if(45153<=_e&&_e<=45179)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45181){if(_e===45180)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45208){if(45181<=_e&&_e<=45207)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45208)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45264){if(_e<45236){if(45209<=_e&&_e<=45235)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45237){if(_e===45236)return boundaries_1.CLUSTER_BREAK.LV}else if(45237<=_e&&_e<=45263)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45265){if(_e===45264)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45292){if(45265<=_e&&_e<=45291)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45292)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45908){if(_e<45600){if(_e<45433){if(_e<45376){if(_e<45321){if(_e<45320){if(45293<=_e&&_e<=45319)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45320)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45348){if(45321<=_e&&_e<=45347)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45349){if(_e===45348)return boundaries_1.CLUSTER_BREAK.LV}else if(45349<=_e&&_e<=45375)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45404){if(_e<45377){if(_e===45376)return boundaries_1.CLUSTER_BREAK.LV}else if(45377<=_e&&_e<=45403)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45405){if(_e===45404)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45432){if(45405<=_e&&_e<=45431)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45432)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45516){if(_e<45461){if(_e<45460){if(45433<=_e&&_e<=45459)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45460)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45488){if(45461<=_e&&_e<=45487)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45489){if(_e===45488)return boundaries_1.CLUSTER_BREAK.LV}else if(45489<=_e&&_e<=45515)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45545){if(_e<45517){if(_e===45516)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45544){if(45517<=_e&&_e<=45543)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45544)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45572){if(45545<=_e&&_e<=45571)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45573){if(_e===45572)return boundaries_1.CLUSTER_BREAK.LV}else if(45573<=_e&&_e<=45599)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45741){if(_e<45657){if(_e<45628){if(_e<45601){if(_e===45600)return boundaries_1.CLUSTER_BREAK.LV}else if(45601<=_e&&_e<=45627)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45629){if(_e===45628)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45656){if(45629<=_e&&_e<=45655)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45656)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45712){if(_e<45684){if(45657<=_e&&_e<=45683)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45685){if(_e===45684)return boundaries_1.CLUSTER_BREAK.LV}else if(45685<=_e&&_e<=45711)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45713){if(_e===45712)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45740){if(45713<=_e&&_e<=45739)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45740)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45824){if(_e<45769){if(_e<45768){if(45741<=_e&&_e<=45767)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45768)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45796){if(45769<=_e&&_e<=45795)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45797){if(_e===45796)return boundaries_1.CLUSTER_BREAK.LV}else if(45797<=_e&&_e<=45823)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45853){if(_e<45825){if(_e===45824)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45852){if(45825<=_e&&_e<=45851)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45852)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45880){if(45853<=_e&&_e<=45879)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45881){if(_e===45880)return boundaries_1.CLUSTER_BREAK.LV}else if(45881<=_e&&_e<=45907)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46189){if(_e<46048){if(_e<45965){if(_e<45936){if(_e<45909){if(_e===45908)return boundaries_1.CLUSTER_BREAK.LV}else if(45909<=_e&&_e<=45935)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<45937){if(_e===45936)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45964){if(45937<=_e&&_e<=45963)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45964)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<45993){if(_e<45992){if(45965<=_e&&_e<=45991)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===45992)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46020){if(45993<=_e&&_e<=46019)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46021){if(_e===46020)return boundaries_1.CLUSTER_BREAK.LV}else if(46021<=_e&&_e<=46047)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46105){if(_e<46076){if(_e<46049){if(_e===46048)return boundaries_1.CLUSTER_BREAK.LV}else if(46049<=_e&&_e<=46075)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46077){if(_e===46076)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46104){if(46077<=_e&&_e<=46103)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46104)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46160){if(_e<46132){if(46105<=_e&&_e<=46131)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46133){if(_e===46132)return boundaries_1.CLUSTER_BREAK.LV}else if(46133<=_e&&_e<=46159)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46161){if(_e===46160)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46188){if(46161<=_e&&_e<=46187)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46188)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46356){if(_e<46272){if(_e<46217){if(_e<46216){if(46189<=_e&&_e<=46215)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46216)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46244){if(46217<=_e&&_e<=46243)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46245){if(_e===46244)return boundaries_1.CLUSTER_BREAK.LV}else if(46245<=_e&&_e<=46271)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46301){if(_e<46273){if(_e===46272)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46300){if(46273<=_e&&_e<=46299)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46300)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46328){if(46301<=_e&&_e<=46327)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46329){if(_e===46328)return boundaries_1.CLUSTER_BREAK.LV}else if(46329<=_e&&_e<=46355)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46413){if(_e<46384){if(_e<46357){if(_e===46356)return boundaries_1.CLUSTER_BREAK.LV}else if(46357<=_e&&_e<=46383)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46385){if(_e===46384)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46412){if(46385<=_e&&_e<=46411)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46412)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46468){if(_e<46440){if(46413<=_e&&_e<=46439)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46441){if(_e===46440)return boundaries_1.CLUSTER_BREAK.LV}else if(46441<=_e&&_e<=46467)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46469){if(_e===46468)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46496){if(46469<=_e&&_e<=46495)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46496)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47701){if(_e<47112){if(_e<46804){if(_e<46637){if(_e<46580){if(_e<46525){if(_e<46524){if(46497<=_e&&_e<=46523)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46524)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46552){if(46525<=_e&&_e<=46551)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46553){if(_e===46552)return boundaries_1.CLUSTER_BREAK.LV}else if(46553<=_e&&_e<=46579)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46608){if(_e<46581){if(_e===46580)return boundaries_1.CLUSTER_BREAK.LV}else if(46581<=_e&&_e<=46607)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46609){if(_e===46608)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46636){if(46609<=_e&&_e<=46635)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46636)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46720){if(_e<46665){if(_e<46664){if(46637<=_e&&_e<=46663)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46664)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46692){if(46665<=_e&&_e<=46691)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46693){if(_e===46692)return boundaries_1.CLUSTER_BREAK.LV}else if(46693<=_e&&_e<=46719)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46749){if(_e<46721){if(_e===46720)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46748){if(46721<=_e&&_e<=46747)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46748)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46776){if(46749<=_e&&_e<=46775)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46777){if(_e===46776)return boundaries_1.CLUSTER_BREAK.LV}else if(46777<=_e&&_e<=46803)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46945){if(_e<46861){if(_e<46832){if(_e<46805){if(_e===46804)return boundaries_1.CLUSTER_BREAK.LV}else if(46805<=_e&&_e<=46831)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46833){if(_e===46832)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46860){if(46833<=_e&&_e<=46859)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46860)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46916){if(_e<46888){if(46861<=_e&&_e<=46887)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46889){if(_e===46888)return boundaries_1.CLUSTER_BREAK.LV}else if(46889<=_e&&_e<=46915)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<46917){if(_e===46916)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<46944){if(46917<=_e&&_e<=46943)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46944)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47028){if(_e<46973){if(_e<46972){if(46945<=_e&&_e<=46971)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===46972)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47e3){if(46973<=_e&&_e<=46999)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47001){if(_e===47e3)return boundaries_1.CLUSTER_BREAK.LV}else if(47001<=_e&&_e<=47027)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47057){if(_e<47029){if(_e===47028)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47056){if(47029<=_e&&_e<=47055)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47056)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47084){if(47057<=_e&&_e<=47083)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47085){if(_e===47084)return boundaries_1.CLUSTER_BREAK.LV}else if(47085<=_e&&_e<=47111)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47393){if(_e<47252){if(_e<47169){if(_e<47140){if(_e<47113){if(_e===47112)return boundaries_1.CLUSTER_BREAK.LV}else if(47113<=_e&&_e<=47139)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47141){if(_e===47140)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47168){if(47141<=_e&&_e<=47167)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47168)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47197){if(_e<47196){if(47169<=_e&&_e<=47195)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47196)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47224){if(47197<=_e&&_e<=47223)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47225){if(_e===47224)return boundaries_1.CLUSTER_BREAK.LV}else if(47225<=_e&&_e<=47251)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47309){if(_e<47280){if(_e<47253){if(_e===47252)return boundaries_1.CLUSTER_BREAK.LV}else if(47253<=_e&&_e<=47279)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47281){if(_e===47280)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47308){if(47281<=_e&&_e<=47307)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47308)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47364){if(_e<47336){if(47309<=_e&&_e<=47335)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47337){if(_e===47336)return boundaries_1.CLUSTER_BREAK.LV}else if(47337<=_e&&_e<=47363)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47365){if(_e===47364)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47392){if(47365<=_e&&_e<=47391)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47392)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47560){if(_e<47476){if(_e<47421){if(_e<47420){if(47393<=_e&&_e<=47419)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47420)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47448){if(47421<=_e&&_e<=47447)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47449){if(_e===47448)return boundaries_1.CLUSTER_BREAK.LV}else if(47449<=_e&&_e<=47475)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47505){if(_e<47477){if(_e===47476)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47504){if(47477<=_e&&_e<=47503)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47504)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47532){if(47505<=_e&&_e<=47531)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47533){if(_e===47532)return boundaries_1.CLUSTER_BREAK.LV}else if(47533<=_e&&_e<=47559)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47617){if(_e<47588){if(_e<47561){if(_e===47560)return boundaries_1.CLUSTER_BREAK.LV}else if(47561<=_e&&_e<=47587)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47589){if(_e===47588)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47616){if(47589<=_e&&_e<=47615)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47616)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47672){if(_e<47644){if(47617<=_e&&_e<=47643)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47645){if(_e===47644)return boundaries_1.CLUSTER_BREAK.LV}else if(47645<=_e&&_e<=47671)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47673){if(_e===47672)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47700){if(47673<=_e&&_e<=47699)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47700)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48316){if(_e<48008){if(_e<47841){if(_e<47784){if(_e<47729){if(_e<47728){if(47701<=_e&&_e<=47727)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47728)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47756){if(47729<=_e&&_e<=47755)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47757){if(_e===47756)return boundaries_1.CLUSTER_BREAK.LV}else if(47757<=_e&&_e<=47783)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47812){if(_e<47785){if(_e===47784)return boundaries_1.CLUSTER_BREAK.LV}else if(47785<=_e&&_e<=47811)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47813){if(_e===47812)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47840){if(47813<=_e&&_e<=47839)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47840)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47924){if(_e<47869){if(_e<47868){if(47841<=_e&&_e<=47867)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47868)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47896){if(47869<=_e&&_e<=47895)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47897){if(_e===47896)return boundaries_1.CLUSTER_BREAK.LV}else if(47897<=_e&&_e<=47923)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47953){if(_e<47925){if(_e===47924)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47952){if(47925<=_e&&_e<=47951)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===47952)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<47980){if(47953<=_e&&_e<=47979)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<47981){if(_e===47980)return boundaries_1.CLUSTER_BREAK.LV}else if(47981<=_e&&_e<=48007)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48149){if(_e<48065){if(_e<48036){if(_e<48009){if(_e===48008)return boundaries_1.CLUSTER_BREAK.LV}else if(48009<=_e&&_e<=48035)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48037){if(_e===48036)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48064){if(48037<=_e&&_e<=48063)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48064)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48120){if(_e<48092){if(48065<=_e&&_e<=48091)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48093){if(_e===48092)return boundaries_1.CLUSTER_BREAK.LV}else if(48093<=_e&&_e<=48119)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48121){if(_e===48120)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48148){if(48121<=_e&&_e<=48147)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48148)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48232){if(_e<48177){if(_e<48176){if(48149<=_e&&_e<=48175)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48176)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48204){if(48177<=_e&&_e<=48203)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48205){if(_e===48204)return boundaries_1.CLUSTER_BREAK.LV}else if(48205<=_e&&_e<=48231)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48261){if(_e<48233){if(_e===48232)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48260){if(48233<=_e&&_e<=48259)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48260)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48288){if(48261<=_e&&_e<=48287)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48289){if(_e===48288)return boundaries_1.CLUSTER_BREAK.LV}else if(48289<=_e&&_e<=48315)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48597){if(_e<48456){if(_e<48373){if(_e<48344){if(_e<48317){if(_e===48316)return boundaries_1.CLUSTER_BREAK.LV}else if(48317<=_e&&_e<=48343)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48345){if(_e===48344)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48372){if(48345<=_e&&_e<=48371)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48372)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48401){if(_e<48400){if(48373<=_e&&_e<=48399)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48400)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48428){if(48401<=_e&&_e<=48427)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48429){if(_e===48428)return boundaries_1.CLUSTER_BREAK.LV}else if(48429<=_e&&_e<=48455)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48513){if(_e<48484){if(_e<48457){if(_e===48456)return boundaries_1.CLUSTER_BREAK.LV}else if(48457<=_e&&_e<=48483)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48485){if(_e===48484)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48512){if(48485<=_e&&_e<=48511)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48512)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48568){if(_e<48540){if(48513<=_e&&_e<=48539)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48541){if(_e===48540)return boundaries_1.CLUSTER_BREAK.LV}else if(48541<=_e&&_e<=48567)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48569){if(_e===48568)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48596){if(48569<=_e&&_e<=48595)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48596)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48764){if(_e<48680){if(_e<48625){if(_e<48624){if(48597<=_e&&_e<=48623)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48624)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48652){if(48625<=_e&&_e<=48651)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48653){if(_e===48652)return boundaries_1.CLUSTER_BREAK.LV}else if(48653<=_e&&_e<=48679)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48709){if(_e<48681){if(_e===48680)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48708){if(48681<=_e&&_e<=48707)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48708)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48736){if(48709<=_e&&_e<=48735)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48737){if(_e===48736)return boundaries_1.CLUSTER_BREAK.LV}else if(48737<=_e&&_e<=48763)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48821){if(_e<48792){if(_e<48765){if(_e===48764)return boundaries_1.CLUSTER_BREAK.LV}else if(48765<=_e&&_e<=48791)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48793){if(_e===48792)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48820){if(48793<=_e&&_e<=48819)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48820)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48876){if(_e<48848){if(48821<=_e&&_e<=48847)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48849){if(_e===48848)return boundaries_1.CLUSTER_BREAK.LV}else if(48849<=_e&&_e<=48875)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48877){if(_e===48876)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48904){if(48877<=_e&&_e<=48903)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48904)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53720){if(_e<51312){if(_e<50108){if(_e<49493){if(_e<49212){if(_e<49045){if(_e<48988){if(_e<48933){if(_e<48932){if(48905<=_e&&_e<=48931)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===48932)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<48960){if(48933<=_e&&_e<=48959)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<48961){if(_e===48960)return boundaries_1.CLUSTER_BREAK.LV}else if(48961<=_e&&_e<=48987)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49016){if(_e<48989){if(_e===48988)return boundaries_1.CLUSTER_BREAK.LV}else if(48989<=_e&&_e<=49015)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49017){if(_e===49016)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49044){if(49017<=_e&&_e<=49043)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49044)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49128){if(_e<49073){if(_e<49072){if(49045<=_e&&_e<=49071)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49072)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49100){if(49073<=_e&&_e<=49099)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49101){if(_e===49100)return boundaries_1.CLUSTER_BREAK.LV}else if(49101<=_e&&_e<=49127)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49157){if(_e<49129){if(_e===49128)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49156){if(49129<=_e&&_e<=49155)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49156)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49184){if(49157<=_e&&_e<=49183)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49185){if(_e===49184)return boundaries_1.CLUSTER_BREAK.LV}else if(49185<=_e&&_e<=49211)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49352){if(_e<49269){if(_e<49240){if(_e<49213){if(_e===49212)return boundaries_1.CLUSTER_BREAK.LV}else if(49213<=_e&&_e<=49239)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49241){if(_e===49240)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49268){if(49241<=_e&&_e<=49267)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49268)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49297){if(_e<49296){if(49269<=_e&&_e<=49295)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49296)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49324){if(49297<=_e&&_e<=49323)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49325){if(_e===49324)return boundaries_1.CLUSTER_BREAK.LV}else if(49325<=_e&&_e<=49351)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49409){if(_e<49380){if(_e<49353){if(_e===49352)return boundaries_1.CLUSTER_BREAK.LV}else if(49353<=_e&&_e<=49379)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49381){if(_e===49380)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49408){if(49381<=_e&&_e<=49407)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49408)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49464){if(_e<49436){if(49409<=_e&&_e<=49435)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49437){if(_e===49436)return boundaries_1.CLUSTER_BREAK.LV}else if(49437<=_e&&_e<=49463)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49465){if(_e===49464)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49492){if(49465<=_e&&_e<=49491)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49492)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49800){if(_e<49633){if(_e<49576){if(_e<49521){if(_e<49520){if(49493<=_e&&_e<=49519)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49520)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49548){if(49521<=_e&&_e<=49547)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49549){if(_e===49548)return boundaries_1.CLUSTER_BREAK.LV}else if(49549<=_e&&_e<=49575)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49604){if(_e<49577){if(_e===49576)return boundaries_1.CLUSTER_BREAK.LV}else if(49577<=_e&&_e<=49603)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49605){if(_e===49604)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49632){if(49605<=_e&&_e<=49631)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49632)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49716){if(_e<49661){if(_e<49660){if(49633<=_e&&_e<=49659)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49660)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49688){if(49661<=_e&&_e<=49687)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49689){if(_e===49688)return boundaries_1.CLUSTER_BREAK.LV}else if(49689<=_e&&_e<=49715)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49745){if(_e<49717){if(_e===49716)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49744){if(49717<=_e&&_e<=49743)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49744)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49772){if(49745<=_e&&_e<=49771)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49773){if(_e===49772)return boundaries_1.CLUSTER_BREAK.LV}else if(49773<=_e&&_e<=49799)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49941){if(_e<49857){if(_e<49828){if(_e<49801){if(_e===49800)return boundaries_1.CLUSTER_BREAK.LV}else if(49801<=_e&&_e<=49827)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49829){if(_e===49828)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49856){if(49829<=_e&&_e<=49855)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49856)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49912){if(_e<49884){if(49857<=_e&&_e<=49883)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49885){if(_e===49884)return boundaries_1.CLUSTER_BREAK.LV}else if(49885<=_e&&_e<=49911)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49913){if(_e===49912)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49940){if(49913<=_e&&_e<=49939)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49940)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50024){if(_e<49969){if(_e<49968){if(49941<=_e&&_e<=49967)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===49968)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<49996){if(49969<=_e&&_e<=49995)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<49997){if(_e===49996)return boundaries_1.CLUSTER_BREAK.LV}else if(49997<=_e&&_e<=50023)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50053){if(_e<50025){if(_e===50024)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50052){if(50025<=_e&&_e<=50051)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50052)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50080){if(50053<=_e&&_e<=50079)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50081){if(_e===50080)return boundaries_1.CLUSTER_BREAK.LV}else if(50081<=_e&&_e<=50107)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50697){if(_e<50389){if(_e<50248){if(_e<50165){if(_e<50136){if(_e<50109){if(_e===50108)return boundaries_1.CLUSTER_BREAK.LV}else if(50109<=_e&&_e<=50135)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50137){if(_e===50136)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50164){if(50137<=_e&&_e<=50163)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50164)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50193){if(_e<50192){if(50165<=_e&&_e<=50191)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50192)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50220){if(50193<=_e&&_e<=50219)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50221){if(_e===50220)return boundaries_1.CLUSTER_BREAK.LV}else if(50221<=_e&&_e<=50247)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50305){if(_e<50276){if(_e<50249){if(_e===50248)return boundaries_1.CLUSTER_BREAK.LV}else if(50249<=_e&&_e<=50275)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50277){if(_e===50276)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50304){if(50277<=_e&&_e<=50303)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50304)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50360){if(_e<50332){if(50305<=_e&&_e<=50331)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50333){if(_e===50332)return boundaries_1.CLUSTER_BREAK.LV}else if(50333<=_e&&_e<=50359)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50361){if(_e===50360)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50388){if(50361<=_e&&_e<=50387)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50388)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50556){if(_e<50472){if(_e<50417){if(_e<50416){if(50389<=_e&&_e<=50415)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50416)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50444){if(50417<=_e&&_e<=50443)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50445){if(_e===50444)return boundaries_1.CLUSTER_BREAK.LV}else if(50445<=_e&&_e<=50471)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50501){if(_e<50473){if(_e===50472)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50500){if(50473<=_e&&_e<=50499)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50500)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50528){if(50501<=_e&&_e<=50527)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50529){if(_e===50528)return boundaries_1.CLUSTER_BREAK.LV}else if(50529<=_e&&_e<=50555)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50613){if(_e<50584){if(_e<50557){if(_e===50556)return boundaries_1.CLUSTER_BREAK.LV}else if(50557<=_e&&_e<=50583)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50585){if(_e===50584)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50612){if(50585<=_e&&_e<=50611)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50612)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50668){if(_e<50640){if(50613<=_e&&_e<=50639)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50641){if(_e===50640)return boundaries_1.CLUSTER_BREAK.LV}else if(50641<=_e&&_e<=50667)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50669){if(_e===50668)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50696){if(50669<=_e&&_e<=50695)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50696)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51004){if(_e<50837){if(_e<50780){if(_e<50725){if(_e<50724){if(50697<=_e&&_e<=50723)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50724)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50752){if(50725<=_e&&_e<=50751)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50753){if(_e===50752)return boundaries_1.CLUSTER_BREAK.LV}else if(50753<=_e&&_e<=50779)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50808){if(_e<50781){if(_e===50780)return boundaries_1.CLUSTER_BREAK.LV}else if(50781<=_e&&_e<=50807)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50809){if(_e===50808)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50836){if(50809<=_e&&_e<=50835)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50836)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50920){if(_e<50865){if(_e<50864){if(50837<=_e&&_e<=50863)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50864)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50892){if(50865<=_e&&_e<=50891)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50893){if(_e===50892)return boundaries_1.CLUSTER_BREAK.LV}else if(50893<=_e&&_e<=50919)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50949){if(_e<50921){if(_e===50920)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50948){if(50921<=_e&&_e<=50947)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===50948)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<50976){if(50949<=_e&&_e<=50975)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<50977){if(_e===50976)return boundaries_1.CLUSTER_BREAK.LV}else if(50977<=_e&&_e<=51003)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51145){if(_e<51061){if(_e<51032){if(_e<51005){if(_e===51004)return boundaries_1.CLUSTER_BREAK.LV}else if(51005<=_e&&_e<=51031)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51033){if(_e===51032)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51060){if(51033<=_e&&_e<=51059)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51060)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51116){if(_e<51088){if(51061<=_e&&_e<=51087)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51089){if(_e===51088)return boundaries_1.CLUSTER_BREAK.LV}else if(51089<=_e&&_e<=51115)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51117){if(_e===51116)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51144){if(51117<=_e&&_e<=51143)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51144)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51228){if(_e<51173){if(_e<51172){if(51145<=_e&&_e<=51171)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51172)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51200){if(51173<=_e&&_e<=51199)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51201){if(_e===51200)return boundaries_1.CLUSTER_BREAK.LV}else if(51201<=_e&&_e<=51227)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51257){if(_e<51229){if(_e===51228)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51256){if(51229<=_e&&_e<=51255)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51256)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51284){if(51257<=_e&&_e<=51283)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51285){if(_e===51284)return boundaries_1.CLUSTER_BREAK.LV}else if(51285<=_e&&_e<=51311)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52516){if(_e<51901){if(_e<51593){if(_e<51452){if(_e<51369){if(_e<51340){if(_e<51313){if(_e===51312)return boundaries_1.CLUSTER_BREAK.LV}else if(51313<=_e&&_e<=51339)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51341){if(_e===51340)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51368){if(51341<=_e&&_e<=51367)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51368)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51397){if(_e<51396){if(51369<=_e&&_e<=51395)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51396)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51424){if(51397<=_e&&_e<=51423)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51425){if(_e===51424)return boundaries_1.CLUSTER_BREAK.LV}else if(51425<=_e&&_e<=51451)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51509){if(_e<51480){if(_e<51453){if(_e===51452)return boundaries_1.CLUSTER_BREAK.LV}else if(51453<=_e&&_e<=51479)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51481){if(_e===51480)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51508){if(51481<=_e&&_e<=51507)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51508)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51564){if(_e<51536){if(51509<=_e&&_e<=51535)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51537){if(_e===51536)return boundaries_1.CLUSTER_BREAK.LV}else if(51537<=_e&&_e<=51563)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51565){if(_e===51564)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51592){if(51565<=_e&&_e<=51591)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51592)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51760){if(_e<51676){if(_e<51621){if(_e<51620){if(51593<=_e&&_e<=51619)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51620)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51648){if(51621<=_e&&_e<=51647)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51649){if(_e===51648)return boundaries_1.CLUSTER_BREAK.LV}else if(51649<=_e&&_e<=51675)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51705){if(_e<51677){if(_e===51676)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51704){if(51677<=_e&&_e<=51703)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51704)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51732){if(51705<=_e&&_e<=51731)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51733){if(_e===51732)return boundaries_1.CLUSTER_BREAK.LV}else if(51733<=_e&&_e<=51759)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51817){if(_e<51788){if(_e<51761){if(_e===51760)return boundaries_1.CLUSTER_BREAK.LV}else if(51761<=_e&&_e<=51787)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51789){if(_e===51788)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51816){if(51789<=_e&&_e<=51815)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51816)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51872){if(_e<51844){if(51817<=_e&&_e<=51843)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51845){if(_e===51844)return boundaries_1.CLUSTER_BREAK.LV}else if(51845<=_e&&_e<=51871)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51873){if(_e===51872)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51900){if(51873<=_e&&_e<=51899)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51900)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52208){if(_e<52041){if(_e<51984){if(_e<51929){if(_e<51928){if(51901<=_e&&_e<=51927)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===51928)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<51956){if(51929<=_e&&_e<=51955)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<51957){if(_e===51956)return boundaries_1.CLUSTER_BREAK.LV}else if(51957<=_e&&_e<=51983)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52012){if(_e<51985){if(_e===51984)return boundaries_1.CLUSTER_BREAK.LV}else if(51985<=_e&&_e<=52011)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52013){if(_e===52012)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52040){if(52013<=_e&&_e<=52039)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52040)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52124){if(_e<52069){if(_e<52068){if(52041<=_e&&_e<=52067)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52068)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52096){if(52069<=_e&&_e<=52095)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52097){if(_e===52096)return boundaries_1.CLUSTER_BREAK.LV}else if(52097<=_e&&_e<=52123)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52153){if(_e<52125){if(_e===52124)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52152){if(52125<=_e&&_e<=52151)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52152)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52180){if(52153<=_e&&_e<=52179)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52181){if(_e===52180)return boundaries_1.CLUSTER_BREAK.LV}else if(52181<=_e&&_e<=52207)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52349){if(_e<52265){if(_e<52236){if(_e<52209){if(_e===52208)return boundaries_1.CLUSTER_BREAK.LV}else if(52209<=_e&&_e<=52235)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52237){if(_e===52236)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52264){if(52237<=_e&&_e<=52263)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52264)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52320){if(_e<52292){if(52265<=_e&&_e<=52291)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52293){if(_e===52292)return boundaries_1.CLUSTER_BREAK.LV}else if(52293<=_e&&_e<=52319)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52321){if(_e===52320)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52348){if(52321<=_e&&_e<=52347)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52348)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52432){if(_e<52377){if(_e<52376){if(52349<=_e&&_e<=52375)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52376)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52404){if(52377<=_e&&_e<=52403)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52405){if(_e===52404)return boundaries_1.CLUSTER_BREAK.LV}else if(52405<=_e&&_e<=52431)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52461){if(_e<52433){if(_e===52432)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52460){if(52433<=_e&&_e<=52459)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52460)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52488){if(52461<=_e&&_e<=52487)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52489){if(_e===52488)return boundaries_1.CLUSTER_BREAK.LV}else if(52489<=_e&&_e<=52515)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53105){if(_e<52797){if(_e<52656){if(_e<52573){if(_e<52544){if(_e<52517){if(_e===52516)return boundaries_1.CLUSTER_BREAK.LV}else if(52517<=_e&&_e<=52543)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52545){if(_e===52544)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52572){if(52545<=_e&&_e<=52571)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52572)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52601){if(_e<52600){if(52573<=_e&&_e<=52599)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52600)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52628){if(52601<=_e&&_e<=52627)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52629){if(_e===52628)return boundaries_1.CLUSTER_BREAK.LV}else if(52629<=_e&&_e<=52655)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52713){if(_e<52684){if(_e<52657){if(_e===52656)return boundaries_1.CLUSTER_BREAK.LV}else if(52657<=_e&&_e<=52683)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52685){if(_e===52684)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52712){if(52685<=_e&&_e<=52711)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52712)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52768){if(_e<52740){if(52713<=_e&&_e<=52739)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52741){if(_e===52740)return boundaries_1.CLUSTER_BREAK.LV}else if(52741<=_e&&_e<=52767)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52769){if(_e===52768)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52796){if(52769<=_e&&_e<=52795)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52796)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52964){if(_e<52880){if(_e<52825){if(_e<52824){if(52797<=_e&&_e<=52823)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52824)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52852){if(52825<=_e&&_e<=52851)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52853){if(_e===52852)return boundaries_1.CLUSTER_BREAK.LV}else if(52853<=_e&&_e<=52879)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52909){if(_e<52881){if(_e===52880)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52908){if(52881<=_e&&_e<=52907)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===52908)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<52936){if(52909<=_e&&_e<=52935)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52937){if(_e===52936)return boundaries_1.CLUSTER_BREAK.LV}else if(52937<=_e&&_e<=52963)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53021){if(_e<52992){if(_e<52965){if(_e===52964)return boundaries_1.CLUSTER_BREAK.LV}else if(52965<=_e&&_e<=52991)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<52993){if(_e===52992)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53020){if(52993<=_e&&_e<=53019)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53020)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53076){if(_e<53048){if(53021<=_e&&_e<=53047)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53049){if(_e===53048)return boundaries_1.CLUSTER_BREAK.LV}else if(53049<=_e&&_e<=53075)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53077){if(_e===53076)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53104){if(53077<=_e&&_e<=53103)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53104)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53412){if(_e<53245){if(_e<53188){if(_e<53133){if(_e<53132){if(53105<=_e&&_e<=53131)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53132)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53160){if(53133<=_e&&_e<=53159)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53161){if(_e===53160)return boundaries_1.CLUSTER_BREAK.LV}else if(53161<=_e&&_e<=53187)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53216){if(_e<53189){if(_e===53188)return boundaries_1.CLUSTER_BREAK.LV}else if(53189<=_e&&_e<=53215)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53217){if(_e===53216)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53244){if(53217<=_e&&_e<=53243)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53244)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53328){if(_e<53273){if(_e<53272){if(53245<=_e&&_e<=53271)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53272)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53300){if(53273<=_e&&_e<=53299)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53301){if(_e===53300)return boundaries_1.CLUSTER_BREAK.LV}else if(53301<=_e&&_e<=53327)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53357){if(_e<53329){if(_e===53328)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53356){if(53329<=_e&&_e<=53355)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53356)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53384){if(53357<=_e&&_e<=53383)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53385){if(_e===53384)return boundaries_1.CLUSTER_BREAK.LV}else if(53385<=_e&&_e<=53411)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53553){if(_e<53469){if(_e<53440){if(_e<53413){if(_e===53412)return boundaries_1.CLUSTER_BREAK.LV}else if(53413<=_e&&_e<=53439)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53441){if(_e===53440)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53468){if(53441<=_e&&_e<=53467)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53468)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53524){if(_e<53496){if(53469<=_e&&_e<=53495)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53497){if(_e===53496)return boundaries_1.CLUSTER_BREAK.LV}else if(53497<=_e&&_e<=53523)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53525){if(_e===53524)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53552){if(53525<=_e&&_e<=53551)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53552)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53636){if(_e<53581){if(_e<53580){if(53553<=_e&&_e<=53579)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53580)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53608){if(53581<=_e&&_e<=53607)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53609){if(_e===53608)return boundaries_1.CLUSTER_BREAK.LV}else if(53609<=_e&&_e<=53635)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53665){if(_e<53637){if(_e===53636)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53664){if(53637<=_e&&_e<=53663)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53664)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53692){if(53665<=_e&&_e<=53691)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53693){if(_e===53692)return boundaries_1.CLUSTER_BREAK.LV}else if(53693<=_e&&_e<=53719)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<70459){if(_e<54897){if(_e<54308){if(_e<54001){if(_e<53860){if(_e<53777){if(_e<53748){if(_e<53721){if(_e===53720)return boundaries_1.CLUSTER_BREAK.LV}else if(53721<=_e&&_e<=53747)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53749){if(_e===53748)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53776){if(53749<=_e&&_e<=53775)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53776)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53805){if(_e<53804){if(53777<=_e&&_e<=53803)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53804)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53832){if(53805<=_e&&_e<=53831)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53833){if(_e===53832)return boundaries_1.CLUSTER_BREAK.LV}else if(53833<=_e&&_e<=53859)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53917){if(_e<53888){if(_e<53861){if(_e===53860)return boundaries_1.CLUSTER_BREAK.LV}else if(53861<=_e&&_e<=53887)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53889){if(_e===53888)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53916){if(53889<=_e&&_e<=53915)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===53916)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<53972){if(_e<53944){if(53917<=_e&&_e<=53943)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53945){if(_e===53944)return boundaries_1.CLUSTER_BREAK.LV}else if(53945<=_e&&_e<=53971)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<53973){if(_e===53972)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54e3){if(53973<=_e&&_e<=53999)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54e3)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54141){if(_e<54084){if(_e<54029){if(_e<54028){if(54001<=_e&&_e<=54027)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54028)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54056){if(54029<=_e&&_e<=54055)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54057){if(_e===54056)return boundaries_1.CLUSTER_BREAK.LV}else if(54057<=_e&&_e<=54083)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54112){if(_e<54085){if(_e===54084)return boundaries_1.CLUSTER_BREAK.LV}else if(54085<=_e&&_e<=54111)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54113){if(_e===54112)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54140){if(54113<=_e&&_e<=54139)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54140)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54224){if(_e<54169){if(_e<54168){if(54141<=_e&&_e<=54167)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54168)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54196){if(54169<=_e&&_e<=54195)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54197){if(_e===54196)return boundaries_1.CLUSTER_BREAK.LV}else if(54197<=_e&&_e<=54223)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54253){if(_e<54225){if(_e===54224)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54252){if(54225<=_e&&_e<=54251)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54252)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54280){if(54253<=_e&&_e<=54279)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54281){if(_e===54280)return boundaries_1.CLUSTER_BREAK.LV}else if(54281<=_e&&_e<=54307)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54589){if(_e<54448){if(_e<54365){if(_e<54336){if(_e<54309){if(_e===54308)return boundaries_1.CLUSTER_BREAK.LV}else if(54309<=_e&&_e<=54335)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54337){if(_e===54336)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54364){if(54337<=_e&&_e<=54363)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54364)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54393){if(_e<54392){if(54365<=_e&&_e<=54391)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54392)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54420){if(54393<=_e&&_e<=54419)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54421){if(_e===54420)return boundaries_1.CLUSTER_BREAK.LV}else if(54421<=_e&&_e<=54447)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54505){if(_e<54476){if(_e<54449){if(_e===54448)return boundaries_1.CLUSTER_BREAK.LV}else if(54449<=_e&&_e<=54475)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54477){if(_e===54476)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54504){if(54477<=_e&&_e<=54503)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54504)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54560){if(_e<54532){if(54505<=_e&&_e<=54531)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54533){if(_e===54532)return boundaries_1.CLUSTER_BREAK.LV}else if(54533<=_e&&_e<=54559)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54561){if(_e===54560)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54588){if(54561<=_e&&_e<=54587)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54588)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54756){if(_e<54672){if(_e<54617){if(_e<54616){if(54589<=_e&&_e<=54615)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54616)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54644){if(54617<=_e&&_e<=54643)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54645){if(_e===54644)return boundaries_1.CLUSTER_BREAK.LV}else if(54645<=_e&&_e<=54671)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54701){if(_e<54673){if(_e===54672)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54700){if(54673<=_e&&_e<=54699)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54700)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54728){if(54701<=_e&&_e<=54727)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54729){if(_e===54728)return boundaries_1.CLUSTER_BREAK.LV}else if(54729<=_e&&_e<=54755)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54813){if(_e<54784){if(_e<54757){if(_e===54756)return boundaries_1.CLUSTER_BREAK.LV}else if(54757<=_e&&_e<=54783)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54785){if(_e===54784)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54812){if(54785<=_e&&_e<=54811)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54812)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54868){if(_e<54840){if(54813<=_e&&_e<=54839)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54841){if(_e===54840)return boundaries_1.CLUSTER_BREAK.LV}else if(54841<=_e&&_e<=54867)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54869){if(_e===54868)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54896){if(54869<=_e&&_e<=54895)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54896)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<69632){if(_e<55216){if(_e<55037){if(_e<54980){if(_e<54925){if(_e<54924){if(54897<=_e&&_e<=54923)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===54924)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<54952){if(54925<=_e&&_e<=54951)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<54953){if(_e===54952)return boundaries_1.CLUSTER_BREAK.LV}else if(54953<=_e&&_e<=54979)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<55008){if(_e<54981){if(_e===54980)return boundaries_1.CLUSTER_BREAK.LV}else if(54981<=_e&&_e<=55007)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<55009){if(_e===55008)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<55036){if(55009<=_e&&_e<=55035)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===55036)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<55120){if(_e<55065){if(_e<55064){if(55037<=_e&&_e<=55063)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===55064)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<55092){if(55065<=_e&&_e<=55091)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<55093){if(_e===55092)return boundaries_1.CLUSTER_BREAK.LV}else if(55093<=_e&&_e<=55119)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<55149){if(_e<55121){if(_e===55120)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<55148){if(55121<=_e&&_e<=55147)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e===55148)return boundaries_1.CLUSTER_BREAK.LV}else if(_e<55176){if(55149<=_e&&_e<=55175)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<55177){if(_e===55176)return boundaries_1.CLUSTER_BREAK.LV}else if(55177<=_e&&_e<=55203)return boundaries_1.CLUSTER_BREAK.LVT}else if(_e<68097){if(_e<65279){if(_e<64286){if(_e<55243){if(55216<=_e&&_e<=55238)return boundaries_1.CLUSTER_BREAK.V}else if(55243<=_e&&_e<=55291)return boundaries_1.CLUSTER_BREAK.T}else if(_e<65024){if(_e===64286)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<65056){if(65024<=_e&&_e<=65039)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(65056<=_e&&_e<=65071)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<66045){if(_e<65438){if(_e===65279)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<65520){if(65438<=_e&&_e<=65439)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(65520<=_e&&_e<=65531)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<66272){if(_e===66045)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<66422){if(_e===66272)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(66422<=_e&&_e<=66426)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<68325){if(_e<68108){if(_e<68101){if(68097<=_e&&_e<=68099)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(68101<=_e&&_e<=68102)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<68152){if(68108<=_e&&_e<=68111)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<68159){if(68152<=_e&&_e<=68154)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===68159)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69373){if(_e<68900){if(68325<=_e&&_e<=68326)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69291){if(68900<=_e&&_e<=68903)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(69291<=_e&&_e<=69292)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69446){if(69373<=_e&&_e<=69375)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69506){if(69446<=_e&&_e<=69456)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(69506<=_e&&_e<=69509)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70016){if(_e<69815){if(_e<69747){if(_e<69634){if(_e===69632)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===69633)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69688){if(_e===69634)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<69744){if(69688<=_e&&_e<=69702)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===69744)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69762){if(_e<69759){if(69747<=_e&&_e<=69748)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(69759<=_e&&_e<=69761)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69808){if(_e===69762)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<69811){if(69808<=_e&&_e<=69810)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(69811<=_e&&_e<=69814)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69888)if(_e<69821){if(_e<69817){if(69815<=_e&&_e<=69816)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(69817<=_e&&_e<=69818)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69826){if(_e===69821)return boundaries_1.CLUSTER_BREAK.PREPEND}else{if(_e===69826)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===69837)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(_e<69933){if(_e<69927){if(69888<=_e&&_e<=69890)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<69932){if(69927<=_e&&_e<=69931)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===69932)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<69957){if(69933<=_e&&_e<=69940)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70003){if(69957<=_e&&_e<=69958)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===70003)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70194){if(_e<70082){if(_e<70067){if(_e<70018){if(70016<=_e&&_e<=70017)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===70018)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70070){if(70067<=_e&&_e<=70069)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70079){if(70070<=_e&&_e<=70078)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(70079<=_e&&_e<=70080)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70095){if(_e<70089){if(70082<=_e&&_e<=70083)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(_e<70094){if(70089<=_e&&_e<=70092)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===70094)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70188){if(_e===70095)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70191){if(70188<=_e&&_e<=70190)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(70191<=_e&&_e<=70193)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70209){if(_e<70197){if(_e<70196){if(70194<=_e&&_e<=70195)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===70196)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70198){if(_e===70197)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70206){if(70198<=_e&&_e<=70199)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===70206)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70371){if(_e<70367){if(_e===70209)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70368){if(_e===70367)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(70368<=_e&&_e<=70370)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70400){if(70371<=_e&&_e<=70378)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70402){if(70400<=_e&&_e<=70401)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(70402<=_e&&_e<=70403)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<72343){if(_e<71339){if(_e<70841){if(_e<70512){if(_e<70471){if(_e<70463){if(_e<70462){if(70459<=_e&&_e<=70460)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===70462)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70464){if(_e===70463)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70465){if(_e===70464)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(70465<=_e&&_e<=70468)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70487){if(_e<70475){if(70471<=_e&&_e<=70472)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(70475<=_e&&_e<=70477)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70498){if(_e===70487)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70502){if(70498<=_e&&_e<=70499)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(70502<=_e&&_e<=70508)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70725){if(_e<70712){if(_e<70709){if(70512<=_e&&_e<=70516)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(70709<=_e&&_e<=70711)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<70720){if(70712<=_e&&_e<=70719)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70722){if(70720<=_e&&_e<=70721)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(70722<=_e&&_e<=70724)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70832){if(_e<70726){if(_e===70725)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e===70726||_e===70750)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70833){if(_e===70832)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70835){if(70833<=_e&&_e<=70834)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(70835<=_e&&_e<=70840)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71096){if(_e<70847)if(_e<70843){if(_e===70841)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===70842)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70845){if(70843<=_e&&_e<=70844)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else{if(_e===70845)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===70846)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<71087){if(_e<70849){if(70847<=_e&&_e<=70848)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<70850){if(_e===70849)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(70850<=_e&&_e<=70851)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71088){if(_e===71087)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71090){if(71088<=_e&&_e<=71089)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(71090<=_e&&_e<=71093)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71216){if(_e<71102){if(_e<71100){if(71096<=_e&&_e<=71099)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(71100<=_e&&_e<=71101)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71103){if(_e===71102)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<71132){if(71103<=_e&&_e<=71104)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(71132<=_e&&_e<=71133)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71229){if(_e<71219){if(71216<=_e&&_e<=71218)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<71227){if(71219<=_e&&_e<=71226)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(71227<=_e&&_e<=71228)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<71230){if(_e===71229)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71231){if(_e===71230)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(71231<=_e&&_e<=71232)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71999)if(_e<71463){if(_e<71350){if(_e<71341){if(_e===71339)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===71340)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<71342){if(_e===71341)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71344){if(71342<=_e&&_e<=71343)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(71344<=_e&&_e<=71349)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71453){if(_e===71350)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===71351)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71458){if(71453<=_e&&_e<=71455)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71462){if(71458<=_e&&_e<=71461)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===71462)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<71984){if(_e<71727){if(_e<71724){if(71463<=_e&&_e<=71467)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(71724<=_e&&_e<=71726)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<71736){if(71727<=_e&&_e<=71735)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71737){if(_e===71736)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(71737<=_e&&_e<=71738)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71995){if(_e<71985){if(_e===71984)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<71991){if(71985<=_e&&_e<=71989)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(71991<=_e&&_e<=71992)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<71997){if(71995<=_e&&_e<=71996)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===71997)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===71998)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72193)if(_e<72145)if(_e<72001){if(_e===71999)return boundaries_1.CLUSTER_BREAK.PREPEND;if(_e===72e3)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<72002){if(_e===72001)return boundaries_1.CLUSTER_BREAK.PREPEND}else{if(_e===72002)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===72003)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72156){if(_e<72148){if(72145<=_e&&_e<=72147)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<72154){if(72148<=_e&&_e<=72151)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(72154<=_e&&_e<=72155)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72160){if(72156<=_e&&_e<=72159)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else{if(_e===72160)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===72164)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<72263){if(_e<72249){if(_e<72243){if(72193<=_e&&_e<=72202)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(72243<=_e&&_e<=72248)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72250){if(_e===72249)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<72251){if(_e===72250)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(72251<=_e&&_e<=72254)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72281){if(_e<72273){if(_e===72263)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72279){if(72273<=_e&&_e<=72278)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(72279<=_e&&_e<=72280)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<72324){if(72281<=_e&&_e<=72283)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72330){if(72324<=_e&&_e<=72329)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(72330<=_e&&_e<=72342)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<94033){if(_e<73104){if(_e<72881){if(_e<72766){if(_e<72751){if(_e<72344){if(_e===72343)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(72344<=_e&&_e<=72345)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72752){if(_e===72751)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<72760){if(72752<=_e&&_e<=72758)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(72760<=_e&&_e<=72765)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72850){if(_e===72766)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===72767)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72873){if(72850<=_e&&_e<=72871)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72874){if(_e===72873)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(72874<=_e&&_e<=72880)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<73018){if(_e<72884){if(_e<72882){if(_e===72881)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(72882<=_e&&_e<=72883)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<72885){if(_e===72884)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<73009){if(72885<=_e&&_e<=72886)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(73009<=_e&&_e<=73014)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<73030){if(_e<73020){if(_e===73018)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<73023){if(73020<=_e&&_e<=73021)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(73023<=_e&&_e<=73029)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<73031){if(_e===73030)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(_e<73098){if(_e===73031)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(73098<=_e&&_e<=73102)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<73526){if(_e<73459)if(_e<73109){if(_e<73107){if(73104<=_e&&_e<=73105)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(73107<=_e&&_e<=73108)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<73110){if(_e===73109)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===73110)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===73111)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<73474){if(_e<73461){if(73459<=_e&&_e<=73460)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<73472){if(73461<=_e&&_e<=73462)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(73472<=_e&&_e<=73473)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<73475){if(_e===73474)return boundaries_1.CLUSTER_BREAK.PREPEND}else if(_e<73524){if(_e===73475)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(73524<=_e&&_e<=73525)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<78896)if(_e<73536){if(_e<73534){if(73526<=_e&&_e<=73530)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(73534<=_e&&_e<=73535)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<73537){if(_e===73536)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===73537)return boundaries_1.CLUSTER_BREAK.SPACINGMARK;if(_e===73538)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<92912){if(_e<78912){if(78896<=_e&&_e<=78911)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<78919){if(_e===78912)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(78919<=_e&&_e<=78933)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<92976){if(92912<=_e&&_e<=92916)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<94031){if(92976<=_e&&_e<=92982)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===94031)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<121476){if(_e<119143)if(_e<113824){if(_e<94180){if(_e<94095){if(94033<=_e&&_e<=94087)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(94095<=_e&&_e<=94098)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<94192){if(_e===94180)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<113821){if(94192<=_e&&_e<=94193)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(113821<=_e&&_e<=113822)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<118576){if(_e<118528){if(113824<=_e&&_e<=113827)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(118528<=_e&&_e<=118573)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<119141){if(118576<=_e&&_e<=118598)return boundaries_1.CLUSTER_BREAK.EXTEND}else{if(_e===119141)return boundaries_1.CLUSTER_BREAK.EXTEND;if(_e===119142)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<119173){if(_e<119150){if(_e<119149){if(119143<=_e&&_e<=119145)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===119149)return boundaries_1.CLUSTER_BREAK.SPACINGMARK}else if(_e<119155){if(119150<=_e&&_e<=119154)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<119163){if(119155<=_e&&_e<=119162)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(119163<=_e&&_e<=119170)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<121344){if(_e<119210){if(119173<=_e&&_e<=119179)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<119362){if(119210<=_e&&_e<=119213)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(119362<=_e&&_e<=119364)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<121403){if(121344<=_e&&_e<=121398)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<121461){if(121403<=_e&&_e<=121452)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===121461)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<123628){if(_e<122907){if(_e<121505){if(_e<121499){if(_e===121476)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(121499<=_e&&_e<=121503)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<122880){if(121505<=_e&&_e<=121519)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<122888){if(122880<=_e&&_e<=122886)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(122888<=_e&&_e<=122904)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<123023){if(_e<122915){if(122907<=_e&&_e<=122913)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<122918){if(122915<=_e&&_e<=122916)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(122918<=_e&&_e<=122922)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<123184){if(_e===123023)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<123566){if(123184<=_e&&_e<=123190)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e===123566)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<127995){if(_e<125136){if(_e<124140){if(123628<=_e&&_e<=123631)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(124140<=_e&&_e<=124143)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<125252){if(125136<=_e&&_e<=125142)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<127462){if(125252<=_e&&_e<=125258)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(127462<=_e&&_e<=127487)return boundaries_1.CLUSTER_BREAK.REGIONAL_INDICATOR}else if(_e<917632){if(_e<917504){if(127995<=_e&&_e<=127999)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<917536){if(917504<=_e&&_e<=917535)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(917536<=_e&&_e<=917631)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(_e<917760){if(917632<=_e&&_e<=917759)return boundaries_1.CLUSTER_BREAK.CONTROL}else if(_e<918e3){if(917760<=_e&&_e<=917999)return boundaries_1.CLUSTER_BREAK.EXTEND}else if(918e3<=_e&&_e<=921599)return boundaries_1.CLUSTER_BREAK.CONTROL;return boundaries_1.CLUSTER_BREAK.OTHER}static getEmojiProperty(_e){if(_e<10160){if(_e<9728){if(_e<9e3){if(_e<8482){if(_e<8252){if(_e===169||_e===174)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===8252||_e===8265)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<8596){if(_e===8482||_e===8505)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<8617){if(8596<=_e&&_e<=8601)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<8986){if(8617<=_e&&_e<=8618)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(8986<=_e&&_e<=8987)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<9410){if(_e<9167){if(_e===9e3||_e===9096)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<9193){if(_e===9167)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<9208){if(9193<=_e&&_e<=9203)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(9208<=_e&&_e<=9210)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<9654){if(_e<9642){if(_e===9410)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(9642<=_e&&_e<=9643)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<9664){if(_e===9654)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<9723){if(_e===9664)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(9723<=_e&&_e<=9726)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<10035){if(_e<10004){if(_e<9748){if(_e<9735){if(9728<=_e&&_e<=9733)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(9735<=_e&&_e<=9746)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<9872){if(9748<=_e&&_e<=9861)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<9992){if(9872<=_e&&_e<=9989)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(9992<=_e&&_e<=10002)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<10013){if(_e===10004||_e===10006)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<10017){if(_e===10013)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===10017||_e===10024)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<10067){if(_e<10055){if(_e<10052){if(10035<=_e&&_e<=10036)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===10052)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<10060){if(_e===10055)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===10060||_e===10062)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<10083){if(_e<10071){if(10067<=_e&&_e<=10069)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===10071)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<10133){if(10083<=_e&&_e<=10087)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<10145){if(10133<=_e&&_e<=10135)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===10145)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127489){if(_e<12951){if(_e<11035){if(_e<10548){if(_e===10160||_e===10175)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<11013){if(10548<=_e&&_e<=10549)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(11013<=_e&&_e<=11015)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<11093){if(_e<11088){if(11035<=_e&&_e<=11036)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===11088)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<12336){if(_e===11093)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===12336||_e===12349)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127340){if(_e<126976){if(_e===12951||_e===12953)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127245){if(126976<=_e&&_e<=127231)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127279){if(127245<=_e&&_e<=127247)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===127279)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127374){if(_e<127358){if(127340<=_e&&_e<=127345)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(127358<=_e&&_e<=127359)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127377){if(_e===127374)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127405){if(127377<=_e&&_e<=127386)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(127405<=_e&&_e<=127461)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<128981){if(_e<127561){if(_e<127535){if(_e<127514){if(127489<=_e&&_e<=127503)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e===127514)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127538){if(_e===127535)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<127548){if(127538<=_e&&_e<=127546)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(127548<=_e&&_e<=127551)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<128326){if(_e<128e3){if(127561<=_e&&_e<=127994)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(128e3<=_e&&_e<=128317)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<128640){if(128326<=_e&&_e<=128591)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<128884){if(128640<=_e&&_e<=128767)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(128884<=_e&&_e<=128895)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<129198){if(_e<129096){if(_e<129036){if(128981<=_e&&_e<=129023)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(129036<=_e&&_e<=129039)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<129114){if(129096<=_e&&_e<=129103)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<129160){if(129114<=_e&&_e<=129119)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(129160<=_e&&_e<=129167)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<129340){if(_e<129292){if(129198<=_e&&_e<=129279)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(129292<=_e&&_e<=129338)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<129351){if(129340<=_e&&_e<=129349)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(_e<130048){if(129351<=_e&&_e<=129791)return boundaries_1.EXTENDED_PICTOGRAPHIC}else if(130048<=_e&&_e<=131069)return boundaries_1.EXTENDED_PICTOGRAPHIC;return boundaries_1.CLUSTER_BREAK.OTHER}}Graphemer$1.default=Graphemer;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(lib,"__esModule",{value:!0});const Graphemer_1=__importDefault(Graphemer$1);var _default=lib.default=Graphemer_1.default;const scriptRel="modulepreload",assetsURL=function(et){return"/"+et},seen={},__vitePreload=function et(_e,rt,nt){if(!rt||rt.length===0)return _e();const it=document.getElementsByTagName("link");return Promise.all(rt.map(st=>{if(st=assetsURL(st),st in seen)return;seen[st]=!0;const ot=st.endsWith(".css"),at=ot?'[rel="stylesheet"]':"";if(!!nt)for(let ct=it.length-1;ct>=0;ct--){const dt=it[ct];if(dt.href===st&&(!ot||dt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${st}"]${at}`))return;const ut=document.createElement("link");if(ut.rel=ot?"stylesheet":scriptRel,ot||(ut.as="script",ut.crossOrigin=""),ut.href=st,document.head.appendChild(ut),ot)return new Promise((ct,dt)=>{ut.addEventListener("load",ct),ut.addEventListener("error",()=>dt(new Error(`Unable to preload CSS for ${st}`)))})})).then(()=>_e())};function registerSW(et={}){const{immediate:_e=!1,onNeedRefresh:rt,onOfflineReady:nt,onRegistered:it,onRegisteredSW:st,onRegisterError:ot}=et;let at,lt,ut;const ct=async(ft=!0)=>{await lt,await(ut==null?void 0:ut())};async function dt(){if("serviceWorker"in navigator){const{Workbox:ft}=await __vitePreload(()=>import("./workbox-window.prod.es5-dc90f814.js"),[]);at=new ft("/sw.js",{scope:"/",type:"classic"}),ut=async()=>{await(at==null?void 0:at.messageSkipWaiting())};{let pt=!1;const ht=()=>{pt=!0,at==null||at.addEventListener("controlling",mt=>{mt.isUpdate&&window.location.reload()}),rt==null||rt()};at.addEventListener("installed",mt=>{typeof mt.isUpdate>"u"?typeof mt.isExternal<"u"?mt.isExternal?ht():!pt&&(nt==null||nt()):mt.isExternal?window.location.reload():!pt&&(nt==null||nt()):mt.isUpdate||nt==null||nt()}),at.addEventListener("waiting",ht),at.addEventListener("externalwaiting",ht)}at.register({immediate:_e}).then(pt=>{st?st("/sw.js",pt):it==null||it(pt)}).catch(pt=>{ot==null||ot(pt)})}}return lt=dt(),ct}function useRegisterSW(et={}){const{immediate:_e=!0,onNeedRefresh:rt,onOfflineReady:nt,onRegistered:it,onRegisteredSW:st,onRegisterError:ot}=et,[at,lt]=reactExports.useState(!1),[ut,ct]=reactExports.useState(!1),[dt]=reactExports.useState(()=>registerSW({immediate:_e,onOfflineReady(){ct(!0),nt==null||nt()},onNeedRefresh(){lt(!0),rt==null||rt()},onRegistered:it,onRegisteredSW:st,onRegisterError:ot}));return{needRefresh:[at,lt],offlineReady:[ut,ct],updateServiceWorker:dt}}function ReloadPrompt(et){return useRegisterSW({onRegisteredSW(_e,rt){},onRegisterError(_e){}}),null}const splitter=new _default;window.Intl=window.Intl||{};window.Intl.Segmenter=window.Intl.Segmenter||class{constructor(){Hr(this,"segment",splitter.iterateGraphemes)}};const queryClient=new QueryClient,Router=createHashRouter(Routes,{});function App(){return reactExports.useEffect(()=>{handleSession()},[]),jsxs(QueryClientProvider,{client:queryClient,children:[jsx(Ie,{}),jsx("div",{className:"App",children:jsx(RouterProvider,{router:Router})}),jsx(ReloadPrompt,{})]})}const index="";client.createRoot(document.getElementById("root")).render(jsx(App,{}));
